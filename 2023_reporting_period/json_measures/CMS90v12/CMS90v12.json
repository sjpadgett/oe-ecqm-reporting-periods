{"_id":"68926905e8da6d1c0d518b34","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS90v12","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"68926901e8da6d1c0d51897f","cql":"library FunctionalStatusAssessmentsforHeartFailure version '12.1.000'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude MATGlobalCommonFunctions version '7.0.000' called Global\r\ninclude Hospice version '4.0.000' called Hospice\r\n\r\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1'\r\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96'\r\n\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"Heart Failure\": 'urn:oid:2.16.840.1.113883.3.526.3.376'\r\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Online Assessments\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'\r\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\nvalueset \"Telephone Visits\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'\r\n\r\ncode \"Emotional score [MLHFQ]\": '85609-6' from \"LOINC\" display 'Emotional score [MLHFQ]'\r\ncode \"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]\": '86923-0' from \"LOINC\" display 'Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]'\r\ncode \"Overall summary score [KCCQ-12]\": '86924-8' from \"LOINC\" display 'Overall summary score [KCCQ-12]'\r\ncode \"Overall summary score [KCCQ]\": '71940-1' from \"LOINC\" display 'Overall summary score [KCCQ]'\r\ncode \"Physical limitation score [KCCQ]\": '72195-1' from \"LOINC\" display 'Physical limitation score [KCCQ]'\r\ncode \"Physical score [MLHFQ]\": '85618-7' from \"LOINC\" display 'Physical score [MLHFQ]'\r\ncode \"PROMIS-10 Global Mental Health (GMH) score T-score\": '71969-0' from \"LOINC\" display 'PROMIS-10 Global Mental Health (GMH) score T-score'\r\ncode \"PROMIS-10 Global Physical Health (GPH) score T-score\": '71971-6' from \"LOINC\" display 'PROMIS-10 Global Physical Health (GPH) score T-score'\r\ncode \"PROMIS-29 Anxiety score T-score\": '71967-4' from \"LOINC\" display 'PROMIS-29 Anxiety score T-score'\r\ncode \"PROMIS-29 Depression score T-score\": '71965-8' from \"LOINC\" display 'PROMIS-29 Depression score T-score'\r\ncode \"PROMIS-29 Fatigue score T-score\": '71963-3' from \"LOINC\" display 'PROMIS-29 Fatigue score T-score'\r\ncode \"PROMIS-29 Pain interference score T-score\": '71961-7' from \"LOINC\" display 'PROMIS-29 Pain interference score T-score'\r\ncode \"PROMIS-29 Physical function score T-score\": '71959-1' from \"LOINC\" display 'PROMIS-29 Physical function score T-score'\r\ncode \"PROMIS-29 Satisfaction with participation in social roles score T-score\": '71957-5' from \"LOINC\" display 'PROMIS-29 Satisfaction with participation in social roles score T-score'\r\ncode \"PROMIS-29 Sleep disturbance score T-score\": '71955-9' from \"LOINC\" display 'PROMIS-29 Sleep disturbance score T-score'\r\ncode \"Quality of life score [KCCQ]\": '72189-4' from \"LOINC\" display 'Quality of life score [KCCQ]'\r\ncode \"Self-efficacy score [KCCQ]\": '72190-2' from \"LOINC\" display 'Self-efficacy score [KCCQ]'\r\ncode \"Severe dementia (disorder)\": '428351000124105' from \"SNOMEDCT\" display 'Severe dementia (disorder)'\r\ncode \"Social limitation score [KCCQ]\": '72196-9' from \"LOINC\" display 'Social limitation score [KCCQ]'\r\ncode \"Symptom stability score [KCCQ]\": '72194-4' from \"LOINC\" display 'Symptom stability score [KCCQ]'\r\ncode \"Total symptom score [KCCQ]\": '72191-0' from \"LOINC\" display 'Total symptom score [KCCQ]'\r\ncode \"VR-12 Mental component summary (MCS) score - oblique method T-score\": '72026-8' from \"LOINC\" display 'VR-12 Mental component summary (MCS) score - oblique method T-score'\r\ncode \"VR-12 Mental component summary (MCS) score - orthogonal method T-score\": '72028-4' from \"LOINC\" display 'VR-12 Mental component summary (MCS) score - orthogonal method T-score'\r\ncode \"VR-12 Physical component summary (PCS) score - oblique method T-score\": '72025-0' from \"LOINC\" display 'VR-12 Physical component summary (PCS) score - oblique method T-score'\r\ncode \"VR-12 Physical component summary (PCS) score - orthogonal method T-score\": '72027-6' from \"LOINC\" display 'VR-12 Physical component summary (PCS) score - orthogonal method T-score'\r\ncode \"VR-36 Mental component summary (MCS) score - oblique method T-score\": '71990-6' from \"LOINC\" display 'VR-36 Mental component summary (MCS) score - oblique method T-score'\r\ncode \"VR-36 Mental component summary (MCS) score - orthogonal method T-score\": '72008-6' from \"LOINC\" display 'VR-36 Mental component summary (MCS) score - orthogonal method T-score'\r\ncode \"VR-36 Physical component summary (PCS) score - oblique method T-score\": '71989-8' from \"LOINC\" display 'VR-36 Physical component summary (PCS) score - oblique method T-score'\r\ncode \"VR-36 Physical component summary (PCS) score - orthogonal method T-score\": '72007-8' from \"LOINC\" display 'VR-36 Physical component summary (PCS) score - orthogonal method T-score'\r\n\r\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\r\n\r\ncontext Patient\r\n\r\ndefine \"Denominator\":\r\n  \"Initial Population\"\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"Numerator\":\r\n  ( \"Has Encounter with Initial and Follow Up PROMIS10 Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up PROMIS29 Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up VR12 Oblique Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up VR36 Oblique Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up MLHFQ Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up KCCQ12 Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments\" )\r\n    or ( \"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments\" )\r\n\r\ndefine \"Time KCCQ Domain Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"Quality of life score [KCCQ]\"] KCCQLifeQuality,\r\n    [\"Assessment, Performed\": \"Symptom stability score [KCCQ]\"] KCCQSymptomStability,\r\n    [\"Assessment, Performed\": \"Self-efficacy score [KCCQ]\"] KCCQSelfEfficacy,\r\n    [\"Assessment, Performed\": \"Total symptom score [KCCQ]\"] KCCQSymptoms,\r\n    [\"Assessment, Performed\": \"Physical limitation score [KCCQ]\"] KCCQPhysicalLimits,\r\n    [\"Assessment, Performed\": \"Social limitation score [KCCQ]\"] KCCQSocialLimits\r\n    let KCCQLifeQualityTime: start of Global.\"NormalizeInterval\" ( KCCQLifeQuality.relevantDatetime, KCCQLifeQuality.relevantPeriod ),\r\n    KCCQSymptomStabilityTime: start of Global.\"NormalizeInterval\" ( KCCQSymptomStability.relevantDatetime, KCCQSymptomStability.relevantPeriod ),\r\n    KCCQSelfEfficacyTime: start of Global.\"NormalizeInterval\" ( KCCQSelfEfficacy.relevantDatetime, KCCQSelfEfficacy.relevantPeriod ),\r\n    KCCQSymptomsTime: start of Global.\"NormalizeInterval\" ( KCCQSymptoms.relevantDatetime, KCCQSymptoms.relevantPeriod ),\r\n    KCCQPhysicalLimitsTime: start of Global.\"NormalizeInterval\" ( KCCQPhysicalLimits.relevantDatetime, KCCQPhysicalLimits.relevantPeriod ),\r\n    KCCQSocialLimitsTime: start of Global.\"NormalizeInterval\" ( KCCQSocialLimits.relevantDatetime, KCCQSocialLimits.relevantPeriod )\r\n    where KCCQLifeQualityTime same day as KCCQSymptomStabilityTime\r\n      and KCCQSymptomStability.result is not null\r\n      and KCCQLifeQualityTime same day as KCCQSelfEfficacyTime\r\n      and KCCQSelfEfficacy.result is not null\r\n      and KCCQLifeQualityTime same day as KCCQSymptomsTime\r\n      and KCCQSymptoms.result is not null\r\n      and KCCQLifeQualityTime same day as KCCQPhysicalLimitsTime\r\n      and KCCQPhysicalLimits.result is not null\r\n      and KCCQLifeQualityTime same day as KCCQSocialLimitsTime\r\n      and KCCQSocialLimits.result is not null\r\n      and KCCQLifeQuality.result is not null\r\n    return Max({ KCCQLifeQualityTime, KCCQSymptomStabilityTime, KCCQSelfEfficacyTime, KCCQSymptomsTime, KCCQPhysicalLimitsTime, KCCQSocialLimitsTime })\r\n\r\ndefine \"Time KCCQ Total Assessment Completed\":\r\n  [\"Assessment, Performed\": \"Overall summary score [KCCQ]\"] KCCQSummaryScore\r\n    let KCCQSummaryScoreTime: start of Global.\"NormalizeInterval\" ( KCCQSummaryScore.relevantDatetime, KCCQSummaryScore.relevantPeriod )\r\n    where KCCQSummaryScore.result is not null\r\n    return Max({ KCCQSummaryScoreTime })\r\n\r\ndefine \"Time KCCQ12 Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]\"] KCCQ12Item,\r\n    [\"Assessment, Performed\": \"Overall summary score [KCCQ-12]\"] KCCQ12Summary\r\n    let KCCQ12ItemTime: date from start of Global.\"NormalizeInterval\" ( KCCQ12Item.relevantDatetime, KCCQ12Item.relevantPeriod ),\r\n    KCCQ12SummaryTime: date from start of Global.\"NormalizeInterval\" ( KCCQ12Summary.relevantDatetime, KCCQ12Summary.relevantPeriod )\r\n    where KCCQ12ItemTime same day as KCCQ12SummaryTime\r\n      and KCCQ12Summary.result is not null\r\n      and KCCQ12Item.result is not null\r\n    return Max({ KCCQ12ItemTime, KCCQ12SummaryTime })\r\n\r\ndefine \"Time MLHFQ Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"Physical score [MLHFQ]\"] MLHFQPhysical,\r\n    [\"Assessment, Performed\": \"Emotional score [MLHFQ]\"] MLHFQEmotional\r\n    let MLHFQPhysicalTime: date from start of Global.\"NormalizeInterval\" ( MLHFQPhysical.relevantDatetime, MLHFQPhysical.relevantPeriod ),\r\n    MLHFQEmotionalTime: date from start of Global.\"NormalizeInterval\" ( MLHFQEmotional.relevantDatetime, MLHFQEmotional.relevantPeriod )\r\n    where MLHFQPhysicalTime same day as MLHFQEmotionalTime\r\n      and MLHFQEmotional.result is not null\r\n      and MLHFQPhysical.result is not null\r\n    return Max({ MLHFQPhysicalTime, MLHFQEmotionalTime })\r\n\r\ndefine \"Time PROMIS10 Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"PROMIS-10 Global Mental Health (GMH) score T-score\"] PROMIS10MentalScore,\r\n    [\"Assessment, Performed\": \"PROMIS-10 Global Physical Health (GPH) score T-score\"] PROMIS10PhysicalScore\r\n    let PROMIS10MentalScoreTime: date from start of Global.\"NormalizeInterval\" ( PROMIS10MentalScore.relevantDatetime, PROMIS10MentalScore.relevantPeriod ),\r\n    PROMIS10PhysicalScoreTime: date from start of Global.\"NormalizeInterval\" ( PROMIS10PhysicalScore.relevantDatetime, PROMIS10PhysicalScore.relevantPeriod )\r\n    where PROMIS10MentalScoreTime same day as PROMIS10PhysicalScoreTime\r\n      and PROMIS10PhysicalScore.result is not null\r\n      and PROMIS10MentalScore.result is not null\r\n    return Max({ PROMIS10MentalScoreTime, PROMIS10PhysicalScoreTime })\r\n\r\ndefine \"Time PROMIS29 Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"PROMIS-29 Sleep disturbance score T-score\"] Promis29Sleep,\r\n    [\"Assessment, Performed\": \"PROMIS-29 Satisfaction with participation in social roles score T-score\"] Promis29SocialRoles,\r\n    [\"Assessment, Performed\": \"PROMIS-29 Physical function score T-score\"] Promis29Physical,\r\n    [\"Assessment, Performed\": \"PROMIS-29 Pain interference score T-score\"] Promis29Pain,\r\n    [\"Assessment, Performed\": \"PROMIS-29 Fatigue score T-score\"] Promis29Fatigue,\r\n    [\"Assessment, Performed\": \"PROMIS-29 Depression score T-score\"] Promis29Depression,\r\n    [\"Assessment, Performed\": \"PROMIS-29 Anxiety score T-score\"] Promis29Anxiety\r\n    let Promis29SleepTime: date from start of Global.\"NormalizeInterval\" ( Promis29Sleep.relevantDatetime, Promis29Sleep.relevantPeriod ),\r\n    Promis29SocialRolesTime: date from start of Global.\"NormalizeInterval\" ( Promis29SocialRoles.relevantDatetime, Promis29SocialRoles.relevantPeriod ),\r\n    Promis29PhysicalTime: date from start of Global.\"NormalizeInterval\" ( Promis29Physical.relevantDatetime, Promis29Physical.relevantPeriod ),\r\n    Promis29PainTime: date from start of Global.\"NormalizeInterval\" ( Promis29Pain.relevantDatetime, Promis29Pain.relevantPeriod ),\r\n    Promis29FatigueTime: date from start of Global.\"NormalizeInterval\" ( Promis29Fatigue.relevantDatetime, Promis29Fatigue.relevantPeriod ),\r\n    Promis29DepressionTime: date from start of Global.\"NormalizeInterval\" ( Promis29Depression.relevantDatetime, Promis29Depression.relevantPeriod ),\r\n    Promis29AnxietyTime: date from start of Global.\"NormalizeInterval\" ( Promis29Anxiety.relevantDatetime, Promis29Anxiety.relevantPeriod )\r\n    where Promis29SleepTime same day as Promis29SocialRolesTime\r\n      and Promis29SocialRoles.result is not null\r\n      and Promis29SleepTime same day as Promis29PhysicalTime\r\n      and Promis29Physical.result is not null\r\n      and Promis29SleepTime same day as Promis29PainTime\r\n      and Promis29Pain.result is not null\r\n      and Promis29SleepTime same day as Promis29FatigueTime\r\n      and Promis29Fatigue.result is not null\r\n      and Promis29SleepTime same day as Promis29DepressionTime\r\n      and Promis29Depression.result is not null\r\n      and Promis29SleepTime same day as Promis29AnxietyTime\r\n      and Promis29Anxiety.result is not null\r\n      and Promis29Sleep.result is not null\r\n    return Max({ Promis29SleepTime, Promis29SocialRolesTime, Promis29PhysicalTime, Promis29PainTime, Promis29FatigueTime, Promis29DepressionTime, Promis29AnxietyTime })\r\n\r\ndefine \"Time VR12 Oblique Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"VR-12 Mental component summary (MCS) score - oblique method T-score\"] VR12MentalAssessment,\r\n    [\"Assessment, Performed\": \"VR-12 Physical component summary (PCS) score - oblique method T-score\"] VR12PhysicalAssessment\r\n    let VR12MentalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR12MentalAssessment.relevantDatetime, VR12MentalAssessment.relevantPeriod ),\r\n    VR12PhysicalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR12PhysicalAssessment.relevantDatetime, VR12PhysicalAssessment.relevantPeriod )\r\n    where VR12MentalAssessmentTime same day as VR12PhysicalAssessmentTime\r\n      and VR12MentalAssessment.result is not null\r\n      and VR12PhysicalAssessment.result is not null\r\n    return Max({ VR12MentalAssessmentTime, VR12PhysicalAssessmentTime })\r\n\r\ndefine \"Time VR12 Orthogonal Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"VR-12 Mental component summary (MCS) score - orthogonal method T-score\"] VR12MentalAssessment,\r\n    [\"Assessment, Performed\": \"VR-12 Physical component summary (PCS) score - orthogonal method T-score\"] VR12PhysicalAssessment\r\n    let VR12MentalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR12MentalAssessment.relevantDatetime, VR12MentalAssessment.relevantPeriod ),\r\n    VR12PhysicalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR12PhysicalAssessment.relevantDatetime, VR12PhysicalAssessment.relevantPeriod )\r\n    where VR12MentalAssessmentTime same day as VR12PhysicalAssessmentTime\r\n      and VR12MentalAssessment.result is not null\r\n      and VR12PhysicalAssessment.result is not null\r\n    return Max({ VR12MentalAssessmentTime, VR12PhysicalAssessmentTime })\r\n\r\ndefine \"Time VR36 Oblique Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"VR-36 Mental component summary (MCS) score - oblique method T-score\"] VR36MentalAssessment,\r\n    [\"Assessment, Performed\": \"VR-36 Physical component summary (PCS) score - oblique method T-score\"] VR36PhysicalAssessment\r\n    let VR36MentalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR36MentalAssessment.relevantDatetime, VR36MentalAssessment.relevantPeriod ),\r\n    VR36PhysicalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR36PhysicalAssessment.relevantDatetime, VR36PhysicalAssessment.relevantPeriod )\r\n    where VR36MentalAssessmentTime same day as VR36PhysicalAssessmentTime\r\n      and VR36MentalAssessment.result is not null\r\n      and VR36PhysicalAssessment.result is not null\r\n    return Max({ VR36MentalAssessmentTime, VR36PhysicalAssessmentTime })\r\n\r\ndefine \"Time VR36 Orthogonal Total Assessment Completed\":\r\n  from\r\n    [\"Assessment, Performed\": \"VR-36 Mental component summary (MCS) score - orthogonal method T-score\"] VR36MentalAssessment,\r\n    [\"Assessment, Performed\": \"VR-36 Physical component summary (PCS) score - orthogonal method T-score\"] VR36PhysicalAssessment\r\n    let VR36MentalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR36MentalAssessment.relevantDatetime, VR36MentalAssessment.relevantPeriod ),\r\n    VR36PhysicalAssessmentTime: date from start of Global.\"NormalizeInterval\" ( VR36PhysicalAssessment.relevantDatetime, VR36PhysicalAssessment.relevantPeriod )\r\n    where VR36MentalAssessmentTime same day as VR36PhysicalAssessmentTime\r\n      and VR36MentalAssessment.result is not null\r\n      and VR36PhysicalAssessment.result is not null\r\n    return Max({ VR36MentalAssessmentTime, VR36PhysicalAssessmentTime })\r\n\r\ndefine \"Denominator Exclusions\":\r\n  Hospice.\"Has Hospice Services\"\r\n    or exists ( [\"Diagnosis\": \"Severe dementia (disorder)\"] Dementia\r\n        where Dementia.prevalencePeriod overlaps \"Measurement Period\"\r\n    )\r\n\r\ndefine \"Two Outpatient Encounters during Measurement Period\":\r\n  from\r\n    \"Qualifying Encounters\" OfficeVisit1,\r\n    \"Qualifying Encounters\" OfficeVisit2\r\n    where OfficeVisit2.relevantPeriod starts 1 day or more after day of \r\n    end of OfficeVisit1.relevantPeriod\r\n    return OfficeVisit1\r\n\r\ndefine \"Initial Population\":\r\n  AgeInYearsAt(date from start of \"Measurement Period\")\u003e= 18\r\n    and exists ( [\"Diagnosis\": \"Heart Failure\"] HeartFailure\r\n        where HeartFailure.prevalencePeriod overlaps before \"Measurement Period\"\r\n    )\r\n    and exists ( \"Two Outpatient Encounters during Measurement Period\" )\r\n\r\ndefine \"Qualifying Encounters\":\r\n  ( [\"Encounter, Performed\": \"Office Visit\"]\r\n    union [\"Encounter, Performed\": \"Telephone Visits\"]\r\n    union [\"Encounter, Performed\": \"Online Assessments\"] ) ValidEncounters\r\n    where ValidEncounters.relevantPeriod during day of \"Measurement Period\"\r\n\r\ndefine \"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time KCCQ Domain Assessment Completed\" InitialKCCQAssessmentTime,\r\n      \"Time KCCQ Domain Assessment Completed\" FollowUpKCCQAssessmentTime\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialKCCQAssessmentTime 14 days or less on or before \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpKCCQAssessmentTime during day of Interval[date from InitialKCCQAssessmentTime + 30 days, date from InitialKCCQAssessmentTime + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time KCCQ Total Assessment Completed\" InitialKCCQTotalScore,\r\n      \"Time KCCQ Total Assessment Completed\" FollowUpKCCQTotalScore\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialKCCQTotalScore 14 days or less on or before \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpKCCQTotalScore during day of Interval[date from InitialKCCQTotalScore + 30 days, date from InitialKCCQTotalScore + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up KCCQ12 Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time KCCQ12 Total Assessment Completed\" InitialKCCQ12Time,\r\n      \"Time KCCQ12 Total Assessment Completed\" FollowUpKCCQ12Time\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialKCCQ12Time 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpKCCQ12Time during day of Interval[date from InitialKCCQ12Time + 30 days, date from InitialKCCQ12Time + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up MLHFQ Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time MLHFQ Total Assessment Completed\" InitialMLHFQTime,\r\n      \"Time MLHFQ Total Assessment Completed\" FollowUpMLHFQTime\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialMLHFQTime 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpMLHFQTime during day of Interval[date from InitialMLHFQTime + 30 days, date from InitialMLHFQTime + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up PROMIS10 Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time PROMIS10 Total Assessment Completed\" InitialPROMIS10Time,\r\n      \"Time PROMIS10 Total Assessment Completed\" FollowUpPROMIS10Time\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialPROMIS10Time 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpPROMIS10Time during day of Interval[date from InitialPROMIS10Time + 30 days, date from InitialPROMIS10Time + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up PROMIS29 Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time PROMIS29 Total Assessment Completed\" InitialPROMIS29Time,\r\n      \"Time PROMIS29 Total Assessment Completed\" FollowUpPROMIS29Time\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialPROMIS29Time 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpPROMIS29Time during day of Interval[date from InitialPROMIS29Time + 30 days, date from InitialPROMIS29Time + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up VR12 Oblique Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time VR12 Oblique Total Assessment Completed\" InitialVR12ObliqueTime,\r\n      \"Time VR12 Oblique Total Assessment Completed\" FollowUpVR12ObliqueTime\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialVR12ObliqueTime 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpVR12ObliqueTime during day of Interval[date from InitialVR12ObliqueTime + 30 days, date from InitialVR12ObliqueTime + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time VR12 Orthogonal Total Assessment Completed\" InitialVR12OrthogonalTime,\r\n      \"Time VR12 Orthogonal Total Assessment Completed\" FollowUpVR12OrthogonalTime\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialVR12OrthogonalTime 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpVR12OrthogonalTime during day of Interval[date from InitialVR12OrthogonalTime + 30 days, date from InitialVR12OrthogonalTime + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time VR36 Orthogonal Total Assessment Completed\" InitialVR36OrthogonalTime,\r\n      \"Time VR36 Orthogonal Total Assessment Completed\" FollowUpVR36OrthogonalTime\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialVR36OrthogonalTime 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpVR36OrthogonalTime during day of Interval[date from InitialVR36OrthogonalTime + 30 days, date from InitialVR36OrthogonalTime + 180 days]\r\n      return ValidEncounters\r\n  )\r\n\r\ndefine \"Has Encounter with Initial and Follow Up VR36 Oblique Assessments\":\r\n  exists ( from\r\n      \"Qualifying Encounters\" ValidEncounters,\r\n      \"Time VR36 Oblique Total Assessment Completed\" InitialVR36ObliqueTime,\r\n      \"Time VR36 Oblique Total Assessment Completed\" FollowUpVR36ObliqueTime\r\n      where ValidEncounters.relevantPeriod ends 180 days or more before \r\n      end of \"Measurement Period\"\r\n        and InitialVR36ObliqueTime 14 days or less on or before day of \r\n        end of ValidEncounters.relevantPeriod\r\n        and date from FollowUpVR36ObliqueTime during day of Interval[date from InitialVR36ObliqueTime + 30 days, date from InitialVR36ObliqueTime + 180 days]\r\n      return ValidEncounters\r\n  )","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"622","s":[{"value":["","library FunctionalStatusAssessmentsforHeartFailure version '12.1.000'"]}]}}],"identifier":{"id":"FunctionalStatusAssessmentsforHeartFailure","version":"12.1.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:64","localIdentifier":"Global","path":"MATGlobalCommonFunctions","version":"7.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctions"]}]},{"value":[" version ","'7.0.000'"," called ","Global"]}]}}]},{"localId":"3","locator":"6:1-6:48","localIdentifier":"Hospice","path":"Hospice","version":"4.0.000","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","include "]},{"s":[{"value":["Hospice"]}]},{"value":[" version ","'4.0.000'"," called ","Hospice"]}]}}]}]},"parameters":{"def":[{"localId":"74","locator":"50:1-50:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"74","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"73","s":[{"value":["Interval\u003c"]},{"r":"72","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"73","locator":"50:32-50:49","type":"IntervalTypeSpecifier","pointType":{"localId":"72","locator":"50:41-50:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"4","locator":"8:1-8:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]},{"localId":"5","locator":"9:1-9:55","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'"]}]}}]}]},"valueSets":{"def":[{"localId":"6","locator":"11:1-11:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}]},{"localId":"7","locator":"12:1-12:65","name":"Heart Failure","id":"2.16.840.1.113883.3.526.3.376","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Heart Failure\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.376'"]}]}}]},{"localId":"8","locator":"13:1-13:75","name":"Office Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Office Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'"]}]}}]},{"localId":"9","locator":"14:1-14:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","valueset ","\"ONC Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1'"]}]}}]},{"localId":"10","locator":"15:1-15:81","name":"Online Assessments","id":"2.16.840.1.113883.3.464.1003.101.12.1089","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","valueset ","\"Online Assessments\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'"]}]}}]},{"localId":"11","locator":"16:1-16:55","name":"Payer","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","valueset ","\"Payer\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}]},{"localId":"12","locator":"17:1-17:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}]},{"localId":"13","locator":"18:1-18:79","name":"Telephone Visits","id":"2.16.840.1.113883.3.464.1003.101.12.1080","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","valueset ","\"Telephone Visits\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'"]}]}}]}]},"codes":{"def":[{"localId":"15","locator":"20:1-20:88","name":"Emotional score [MLHFQ]","id":"85609-6","display":"Emotional score [MLHFQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"15","s":[{"value":["","code ","\"Emotional score [MLHFQ]\"",": ","'85609-6'"," from "]},{"r":"14","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Emotional score [MLHFQ]'"]}]}}],"codeSystem":{"localId":"14","locator":"20:48-20:54","name":"LOINC"}},{"localId":"17","locator":"21:1-21:162","name":"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]","id":"86923-0","display":"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"17","s":[{"value":["","code ","\"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]\"",": ","'86923-0'"," from "]},{"r":"16","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]'"]}]}}],"codeSystem":{"localId":"16","locator":"21:85-21:91","name":"LOINC"}},{"localId":"19","locator":"22:1-22:104","name":"Overall summary score [KCCQ-12]","id":"86924-8","display":"Overall summary score [KCCQ-12]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","code ","\"Overall summary score [KCCQ-12]\"",": ","'86924-8'"," from "]},{"r":"18","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Overall summary score [KCCQ-12]'"]}]}}],"codeSystem":{"localId":"18","locator":"22:56-22:62","name":"LOINC"}},{"localId":"21","locator":"23:1-23:98","name":"Overall summary score [KCCQ]","id":"71940-1","display":"Overall summary score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"21","s":[{"value":["","code ","\"Overall summary score [KCCQ]\"",": ","'71940-1'"," from "]},{"r":"20","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Overall summary score [KCCQ]'"]}]}}],"codeSystem":{"localId":"20","locator":"23:53-23:59","name":"LOINC"}},{"localId":"23","locator":"24:1-24:106","name":"Physical limitation score [KCCQ]","id":"72195-1","display":"Physical limitation score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"23","s":[{"value":["","code ","\"Physical limitation score [KCCQ]\"",": ","'72195-1'"," from "]},{"r":"22","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Physical limitation score [KCCQ]'"]}]}}],"codeSystem":{"localId":"22","locator":"24:57-24:63","name":"LOINC"}},{"localId":"25","locator":"25:1-25:86","name":"Physical score [MLHFQ]","id":"85618-7","display":"Physical score [MLHFQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"25","s":[{"value":["","code ","\"Physical score [MLHFQ]\"",": ","'85618-7'"," from "]},{"r":"24","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Physical score [MLHFQ]'"]}]}}],"codeSystem":{"localId":"24","locator":"25:47-25:53","name":"LOINC"}},{"localId":"27","locator":"26:1-26:142","name":"PROMIS-10 Global Mental Health (GMH) score T-score","id":"71969-0","display":"PROMIS-10 Global Mental Health (GMH) score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"27","s":[{"value":["","code ","\"PROMIS-10 Global Mental Health (GMH) score T-score\"",": ","'71969-0'"," from "]},{"r":"26","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-10 Global Mental Health (GMH) score T-score'"]}]}}],"codeSystem":{"localId":"26","locator":"26:75-26:81","name":"LOINC"}},{"localId":"29","locator":"27:1-27:146","name":"PROMIS-10 Global Physical Health (GPH) score T-score","id":"71971-6","display":"PROMIS-10 Global Physical Health (GPH) score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"29","s":[{"value":["","code ","\"PROMIS-10 Global Physical Health (GPH) score T-score\"",": ","'71971-6'"," from "]},{"r":"28","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-10 Global Physical Health (GPH) score T-score'"]}]}}],"codeSystem":{"localId":"28","locator":"27:77-27:83","name":"LOINC"}},{"localId":"31","locator":"28:1-28:104","name":"PROMIS-29 Anxiety score T-score","id":"71967-4","display":"PROMIS-29 Anxiety score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"31","s":[{"value":["","code ","\"PROMIS-29 Anxiety score T-score\"",": ","'71967-4'"," from "]},{"r":"30","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Anxiety score T-score'"]}]}}],"codeSystem":{"localId":"30","locator":"28:56-28:62","name":"LOINC"}},{"localId":"33","locator":"29:1-29:110","name":"PROMIS-29 Depression score T-score","id":"71965-8","display":"PROMIS-29 Depression score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"33","s":[{"value":["","code ","\"PROMIS-29 Depression score T-score\"",": ","'71965-8'"," from "]},{"r":"32","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Depression score T-score'"]}]}}],"codeSystem":{"localId":"32","locator":"29:59-29:65","name":"LOINC"}},{"localId":"35","locator":"30:1-30:104","name":"PROMIS-29 Fatigue score T-score","id":"71963-3","display":"PROMIS-29 Fatigue score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"35","s":[{"value":["","code ","\"PROMIS-29 Fatigue score T-score\"",": ","'71963-3'"," from "]},{"r":"34","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Fatigue score T-score'"]}]}}],"codeSystem":{"localId":"34","locator":"30:56-30:62","name":"LOINC"}},{"localId":"37","locator":"31:1-31:124","name":"PROMIS-29 Pain interference score T-score","id":"71961-7","display":"PROMIS-29 Pain interference score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"37","s":[{"value":["","code ","\"PROMIS-29 Pain interference score T-score\"",": ","'71961-7'"," from "]},{"r":"36","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Pain interference score T-score'"]}]}}],"codeSystem":{"localId":"36","locator":"31:66-31:72","name":"LOINC"}},{"localId":"39","locator":"32:1-32:124","name":"PROMIS-29 Physical function score T-score","id":"71959-1","display":"PROMIS-29 Physical function score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"39","s":[{"value":["","code ","\"PROMIS-29 Physical function score T-score\"",": ","'71959-1'"," from "]},{"r":"38","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Physical function score T-score'"]}]}}],"codeSystem":{"localId":"38","locator":"32:66-32:72","name":"LOINC"}},{"localId":"41","locator":"33:1-33:184","name":"PROMIS-29 Satisfaction with participation in social roles score T-score","id":"71957-5","display":"PROMIS-29 Satisfaction with participation in social roles score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"41","s":[{"value":["","code ","\"PROMIS-29 Satisfaction with participation in social roles score T-score\"",": ","'71957-5'"," from "]},{"r":"40","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Satisfaction with participation in social roles score T-score'"]}]}}],"codeSystem":{"localId":"40","locator":"33:96-33:102","name":"LOINC"}},{"localId":"43","locator":"34:1-34:124","name":"PROMIS-29 Sleep disturbance score T-score","id":"71955-9","display":"PROMIS-29 Sleep disturbance score T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"43","s":[{"value":["","code ","\"PROMIS-29 Sleep disturbance score T-score\"",": ","'71955-9'"," from "]},{"r":"42","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'PROMIS-29 Sleep disturbance score T-score'"]}]}}],"codeSystem":{"localId":"42","locator":"34:66-34:72","name":"LOINC"}},{"localId":"45","locator":"35:1-35:98","name":"Quality of life score [KCCQ]","id":"72189-4","display":"Quality of life score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"45","s":[{"value":["","code ","\"Quality of life score [KCCQ]\"",": ","'72189-4'"," from "]},{"r":"44","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Quality of life score [KCCQ]'"]}]}}],"codeSystem":{"localId":"44","locator":"35:53-35:59","name":"LOINC"}},{"localId":"47","locator":"36:1-36:94","name":"Self-efficacy score [KCCQ]","id":"72190-2","display":"Self-efficacy score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"47","s":[{"value":["","code ","\"Self-efficacy score [KCCQ]\"",": ","'72190-2'"," from "]},{"r":"46","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Self-efficacy score [KCCQ]'"]}]}}],"codeSystem":{"localId":"46","locator":"36:51-36:57","name":"LOINC"}},{"localId":"49","locator":"37:1-37:105","name":"Severe dementia (disorder)","id":"428351000124105","display":"Severe dementia (disorder)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"49","s":[{"value":["","code ","\"Severe dementia (disorder)\"",": ","'428351000124105'"," from "]},{"r":"48","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Severe dementia (disorder)'"]}]}}],"codeSystem":{"localId":"48","locator":"37:59-37:68","name":"SNOMEDCT"}},{"localId":"51","locator":"38:1-38:102","name":"Social limitation score [KCCQ]","id":"72196-9","display":"Social limitation score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"51","s":[{"value":["","code ","\"Social limitation score [KCCQ]\"",": ","'72196-9'"," from "]},{"r":"50","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Social limitation score [KCCQ]'"]}]}}],"codeSystem":{"localId":"50","locator":"38:55-38:61","name":"LOINC"}},{"localId":"53","locator":"39:1-39:102","name":"Symptom stability score [KCCQ]","id":"72194-4","display":"Symptom stability score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"53","s":[{"value":["","code ","\"Symptom stability score [KCCQ]\"",": ","'72194-4'"," from "]},{"r":"52","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Symptom stability score [KCCQ]'"]}]}}],"codeSystem":{"localId":"52","locator":"39:55-39:61","name":"LOINC"}},{"localId":"55","locator":"40:1-40:94","name":"Total symptom score [KCCQ]","id":"72191-0","display":"Total symptom score [KCCQ]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"55","s":[{"value":["","code ","\"Total symptom score [KCCQ]\"",": ","'72191-0'"," from "]},{"r":"54","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Total symptom score [KCCQ]'"]}]}}],"codeSystem":{"localId":"54","locator":"40:51-40:57","name":"LOINC"}},{"localId":"57","locator":"41:1-41:176","name":"VR-12 Mental component summary (MCS) score - oblique method T-score","id":"72026-8","display":"VR-12 Mental component summary (MCS) score - oblique method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"57","s":[{"value":["","code ","\"VR-12 Mental component summary (MCS) score - oblique method T-score\"",": ","'72026-8'"," from "]},{"r":"56","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-12 Mental component summary (MCS) score - oblique method T-score'"]}]}}],"codeSystem":{"localId":"56","locator":"41:92-41:98","name":"LOINC"}},{"localId":"59","locator":"42:1-42:182","name":"VR-12 Mental component summary (MCS) score - orthogonal method T-score","id":"72028-4","display":"VR-12 Mental component summary (MCS) score - orthogonal method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"59","s":[{"value":["","code ","\"VR-12 Mental component summary (MCS) score - orthogonal method T-score\"",": ","'72028-4'"," from "]},{"r":"58","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-12 Mental component summary (MCS) score - orthogonal method T-score'"]}]}}],"codeSystem":{"localId":"58","locator":"42:95-42:101","name":"LOINC"}},{"localId":"61","locator":"43:1-43:180","name":"VR-12 Physical component summary (PCS) score - oblique method T-score","id":"72025-0","display":"VR-12 Physical component summary (PCS) score - oblique method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"61","s":[{"value":["","code ","\"VR-12 Physical component summary (PCS) score - oblique method T-score\"",": ","'72025-0'"," from "]},{"r":"60","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-12 Physical component summary (PCS) score - oblique method T-score'"]}]}}],"codeSystem":{"localId":"60","locator":"43:94-43:100","name":"LOINC"}},{"localId":"63","locator":"44:1-44:186","name":"VR-12 Physical component summary (PCS) score - orthogonal method T-score","id":"72027-6","display":"VR-12 Physical component summary (PCS) score - orthogonal method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"63","s":[{"value":["","code ","\"VR-12 Physical component summary (PCS) score - orthogonal method T-score\"",": ","'72027-6'"," from "]},{"r":"62","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-12 Physical component summary (PCS) score - orthogonal method T-score'"]}]}}],"codeSystem":{"localId":"62","locator":"44:97-44:103","name":"LOINC"}},{"localId":"65","locator":"45:1-45:176","name":"VR-36 Mental component summary (MCS) score - oblique method T-score","id":"71990-6","display":"VR-36 Mental component summary (MCS) score - oblique method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"65","s":[{"value":["","code ","\"VR-36 Mental component summary (MCS) score - oblique method T-score\"",": ","'71990-6'"," from "]},{"r":"64","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-36 Mental component summary (MCS) score - oblique method T-score'"]}]}}],"codeSystem":{"localId":"64","locator":"45:92-45:98","name":"LOINC"}},{"localId":"67","locator":"46:1-46:182","name":"VR-36 Mental component summary (MCS) score - orthogonal method T-score","id":"72008-6","display":"VR-36 Mental component summary (MCS) score - orthogonal method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"67","s":[{"value":["","code ","\"VR-36 Mental component summary (MCS) score - orthogonal method T-score\"",": ","'72008-6'"," from "]},{"r":"66","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-36 Mental component summary (MCS) score - orthogonal method T-score'"]}]}}],"codeSystem":{"localId":"66","locator":"46:95-46:101","name":"LOINC"}},{"localId":"69","locator":"47:1-47:180","name":"VR-36 Physical component summary (PCS) score - oblique method T-score","id":"71989-8","display":"VR-36 Physical component summary (PCS) score - oblique method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"69","s":[{"value":["","code ","\"VR-36 Physical component summary (PCS) score - oblique method T-score\"",": ","'71989-8'"," from "]},{"r":"68","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-36 Physical component summary (PCS) score - oblique method T-score'"]}]}}],"codeSystem":{"localId":"68","locator":"47:94-47:100","name":"LOINC"}},{"localId":"71","locator":"48:1-48:186","name":"VR-36 Physical component summary (PCS) score - orthogonal method T-score","id":"72007-8","display":"VR-36 Physical component summary (PCS) score - orthogonal method T-score","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"71","s":[{"value":["","code ","\"VR-36 Physical component summary (PCS) score - orthogonal method T-score\"",": ","'72007-8'"," from "]},{"r":"70","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'VR-36 Physical component summary (PCS) score - orthogonal method T-score'"]}]}}],"codeSystem":{"localId":"70","locator":"48:97-48:103","name":"LOINC"}}]},"contexts":{"def":[{"locator":"52:1-52:15","name":"Patient"}]},"statements":{"def":[{"locator":"52:1-52:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"52:1-52:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"101","locator":"243:1-247:75","name":"Qualifying Encounters","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"101","s":[{"value":["","define ","\"Qualifying Encounters\"",":\n  "]},{"r":"100","s":[{"s":[{"r":"95","s":[{"r":"94","s":[{"value":["( "]},{"r":"94","s":[{"r":"92","s":[{"r":"90","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"91","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Telephone Visits\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"93","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Online Assessments\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","ValidEncounters"]}]}]},{"value":["\n    "]},{"r":"99","s":[{"value":["where "]},{"r":"99","s":[{"r":"97","s":[{"r":"96","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"97","s":[{"value":["relevantPeriod"]}]}]},{"r":"99","value":[" ","during day of"," "]},{"r":"98","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"100","locator":"244:3-247:75","type":"Query","source":[{"localId":"95","locator":"244:3-246:74","alias":"ValidEncounters","expression":{"localId":"94","locator":"244:3-246:58","type":"Union","operand":[{"localId":"92","locator":"244:5-245:54","type":"Union","operand":[{"localId":"90","locator":"244:5-244:44","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"244:30-244:43","name":"Office Visit","type":"ValueSetRef"}},{"localId":"91","locator":"245:11-245:54","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"245:36-245:53","name":"Telephone Visits","type":"ValueSetRef"}}]},{"localId":"93","locator":"246:11-246:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"246:36-246:55","name":"Online Assessments","type":"ValueSetRef"}}]}}],"relationship":[],"where":{"localId":"99","locator":"247:5-247:75","precision":"Day","type":"IncludedIn","operand":[{"localId":"97","locator":"247:11-247:40","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"},{"localId":"98","locator":"247:56-247:75","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"116","locator":"228:1-234:23","name":"Two Outpatient Encounters during Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"116","s":[{"value":["","define ","\"Two Outpatient Encounters during Measurement Period\"",":\n  "]},{"r":"115","s":[{"s":[{"value":["from\n    "]},{"r":"103","s":[{"r":"102","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","OfficeVisit1"]}]},{"value":[",\n    "]},{"r":"105","s":[{"r":"104","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","OfficeVisit2"]}]}]},{"value":["\n    "]},{"r":"112","s":[{"value":["where "]},{"r":"112","s":[{"r":"107","s":[{"r":"106","s":[{"value":["OfficeVisit2"]}]},{"value":["."]},{"r":"107","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"112","s":[{"value":["starts "]},{"r":"111","s":[{"value":["1 ","day"]}]},{"value":[" or more after day of"]}]},{"value":[" \n    "]},{"r":"110","s":[{"value":["end of "]},{"r":"109","s":[{"r":"108","s":[{"value":["OfficeVisit1"]}]},{"value":["."]},{"r":"109","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n    "]},{"r":"114","s":[{"value":["return "]},{"r":"113","s":[{"value":["OfficeVisit1"]}]}]}]}]}}],"expression":{"localId":"115","locator":"229:3-234:23","type":"Query","source":[{"localId":"103","locator":"230:5-230:40","alias":"OfficeVisit1","expression":{"localId":"102","locator":"230:5-230:27","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"105","locator":"231:5-231:40","alias":"OfficeVisit2","expression":{"localId":"104","locator":"231:5-231:27","name":"Qualifying Encounters","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"112","locator":"232:5-233:38","precision":"Day","type":"SameOrAfter","operand":[{"locator":"232:39-232:44","type":"Start","operand":{"localId":"107","locator":"232:11-232:37","path":"relevantPeriod","scope":"OfficeVisit2","type":"Property"}},{"locator":"233:5-233:38","type":"Add","operand":[{"localId":"110","locator":"233:5-233:38","type":"End","operand":{"localId":"109","locator":"233:12-233:38","path":"relevantPeriod","scope":"OfficeVisit1","type":"Property"}},{"localId":"111","locator":"232:46-232:50","value":1,"unit":"day","type":"Quantity"}]}]},"return":{"localId":"114","locator":"234:5-234:23","expression":{"localId":"113","locator":"234:12-234:23","name":"OfficeVisit1","type":"AliasRef"}}}},{"localId":"120","locator":"236:1-241:72","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"120","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"119","s":[{"r":"89","s":[{"r":"80","s":[{"r":"78","s":[{"value":["AgeInYearsAt","("]},{"r":"77","s":[{"value":["date from "]},{"r":"76","s":[{"value":["start of "]},{"r":"75","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"r":"79","value":["\u003e="," ","18"]}]},{"value":["\n    and "]},{"r":"88","s":[{"value":["exists "]},{"r":"87","s":[{"value":["( "]},{"r":"87","s":[{"s":[{"r":"82","s":[{"r":"81","s":[{"r":"81","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Heart Failure\""]}]},{"value":["]"]}]}]},{"value":[" ","HeartFailure"]}]}]},{"value":["\n        "]},{"r":"86","s":[{"value":["where "]},{"r":"86","s":[{"r":"84","s":[{"r":"83","s":[{"value":["HeartFailure"]}]},{"value":["."]},{"r":"84","s":[{"value":["prevalencePeriod"]}]}]},{"r":"86","value":[" ","overlaps before"," "]},{"r":"85","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    and "]},{"r":"118","s":[{"value":["exists "]},{"r":"117","s":[{"value":["( "]},{"r":"117","s":[{"value":["\"Two Outpatient Encounters during Measurement Period\""]}]},{"value":[" )"]}]}]}]}]}}],"expression":{"localId":"119","locator":"237:3-241:72","type":"And","operand":[{"localId":"89","locator":"237:3-240:5","type":"And","operand":[{"localId":"80","locator":"237:3-237:60","type":"GreaterOrEqual","operand":[{"localId":"78","locator":"237:3-237:55","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"77","locator":"237:16-237:54","type":"DateFrom","operand":{"localId":"76","locator":"237:26-237:54","type":"Start","operand":{"localId":"75","locator":"237:35-237:54","name":"Measurement Period","type":"ParameterRef"}}}]},{"localId":"79","locator":"237:59-237:60","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"18","type":"Literal"}]},{"localId":"88","locator":"238:9-240:5","type":"Exists","operand":{"localId":"87","locator":"238:16-240:5","type":"Query","source":[{"localId":"82","locator":"238:18-238:60","alias":"HeartFailure","expression":{"localId":"81","locator":"238:18-238:47","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"238:32-238:46","name":"Heart Failure","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"86","locator":"239:9-239:80","type":"OverlapsBefore","operand":[{"localId":"84","locator":"239:15-239:43","path":"prevalencePeriod","scope":"HeartFailure","type":"Property"},{"localId":"85","locator":"239:61-239:80","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"118","locator":"241:9-241:72","type":"Exists","operand":{"localId":"117","locator":"241:16-241:72","name":"Two Outpatient Encounters during Measurement Period","type":"ExpressionRef"}}]}},{"localId":"122","locator":"54:1-55:22","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"122","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"121","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"121","locator":"55:3-55:22","name":"Initial Population","type":"ExpressionRef"}},{"localId":"124","locator":"57:1-58:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"124","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"123","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"123","locator":"58:3-58:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"58:40-58:50","name":"Ethnicity","type":"ValueSetRef"}}},{"localId":"126","locator":"60:1-61:43","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"126","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"125","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"125","locator":"61:3-61:43","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"61:36-61:42","name":"Payer","type":"ValueSetRef"}}},{"localId":"128","locator":"63:1-64:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"128","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"127","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"127","locator":"64:3-64:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"64:35-64:40","name":"Race","type":"ValueSetRef"}}},{"localId":"130","locator":"66:1-67:58","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"130","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"129","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"129","locator":"67:3-67:58","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"67:34-67:57","name":"ONC Administrative Sex","type":"ValueSetRef"}}},{"localId":"172","locator":"136:1-145:70","name":"Time PROMIS10 Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"172","s":[{"value":["","define ","\"Time PROMIS10 Total Assessment Completed\"",":\n  "]},{"r":"171","s":[{"s":[{"value":["from\n    "]},{"r":"134","s":[{"r":"133","s":[{"r":"133","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-10 Global Mental Health (GMH) score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","PROMIS10MentalScore"]}]},{"value":[",\n    "]},{"r":"136","s":[{"r":"135","s":[{"r":"135","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-10 Global Physical Health (GPH) score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","PROMIS10PhysicalScore"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"145","s":[{"value":["PROMIS10MentalScoreTime",": "]},{"r":"144","s":[{"value":["date from "]},{"r":"143","s":[{"value":["start of "]},{"r":"142","s":[{"r":"137","s":[{"value":["Global"]}]},{"value":["."]},{"r":"142","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"139","s":[{"r":"138","s":[{"value":["PROMIS10MentalScore"]}]},{"value":["."]},{"r":"139","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"141","s":[{"r":"140","s":[{"value":["PROMIS10MentalScore"]}]},{"value":["."]},{"r":"141","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"154","s":[{"value":["PROMIS10PhysicalScoreTime",": "]},{"r":"153","s":[{"value":["date from "]},{"r":"152","s":[{"value":["start of "]},{"r":"151","s":[{"r":"146","s":[{"value":["Global"]}]},{"value":["."]},{"r":"151","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"148","s":[{"r":"147","s":[{"value":["PROMIS10PhysicalScore"]}]},{"value":["."]},{"r":"148","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"150","s":[{"r":"149","s":[{"value":["PROMIS10PhysicalScore"]}]},{"value":["."]},{"r":"150","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"165","s":[{"value":["where "]},{"r":"165","s":[{"r":"161","s":[{"r":"157","s":[{"r":"155","s":[{"value":["PROMIS10MentalScoreTime"]}]},{"r":"157","value":[" ","same day as"," "]},{"r":"156","s":[{"value":["PROMIS10PhysicalScoreTime"]}]}]},{"value":["\n      and "]},{"r":"160","s":[{"r":"159","s":[{"r":"158","s":[{"value":["PROMIS10PhysicalScore"]}]},{"value":["."]},{"r":"159","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"164","s":[{"r":"163","s":[{"r":"162","s":[{"value":["PROMIS10MentalScore"]}]},{"value":["."]},{"r":"163","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"170","s":[{"value":["return "]},{"r":"169","s":[{"value":["Max","("]},{"r":"168","s":[{"value":["{ "]},{"r":"166","s":[{"value":["PROMIS10MentalScoreTime"]}]},{"value":[", "]},{"r":"167","s":[{"value":["PROMIS10PhysicalScoreTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"171","locator":"137:3-145:70","type":"Query","source":[{"localId":"134","locator":"138:5-138:103","alias":"PROMIS10MentalScore","expression":{"localId":"133","locator":"138:5-138:83","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"138:31-138:82","name":"PROMIS-10 Global Mental Health (GMH) score T-score","type":"CodeRef"}}}},{"localId":"136","locator":"139:5-139:107","alias":"PROMIS10PhysicalScore","expression":{"localId":"135","locator":"139:5-139:85","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"139:31-139:84","name":"PROMIS-10 Global Physical Health (GPH) score T-score","type":"CodeRef"}}}}],"let":[{"localId":"145","locator":"140:9-140:155","identifier":"PROMIS10MentalScoreTime","expression":{"localId":"144","locator":"140:34-140:155","type":"DateFrom","operand":{"localId":"143","locator":"140:44-140:155","type":"Start","operand":{"localId":"142","locator":"140:53-140:155","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"139","locator":"140:82-140:117","path":"relevantDatetime","scope":"PROMIS10MentalScore","type":"Property"},{"localId":"141","locator":"140:120-140:153","path":"relevantPeriod","scope":"PROMIS10MentalScore","type":"Property"}]}}}},{"localId":"154","locator":"141:5-141:157","identifier":"PROMIS10PhysicalScoreTime","expression":{"localId":"153","locator":"141:32-141:157","type":"DateFrom","operand":{"localId":"152","locator":"141:42-141:157","type":"Start","operand":{"localId":"151","locator":"141:51-141:157","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"148","locator":"141:80-141:117","path":"relevantDatetime","scope":"PROMIS10PhysicalScore","type":"Property"},{"localId":"150","locator":"141:120-141:155","path":"relevantPeriod","scope":"PROMIS10PhysicalScore","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"165","locator":"142:5-144:48","type":"And","operand":[{"localId":"161","locator":"142:11-143:50","type":"And","operand":[{"localId":"157","locator":"142:11-142:71","precision":"Day","type":"SameAs","operand":[{"localId":"155","locator":"142:11-142:33","name":"PROMIS10MentalScoreTime","type":"QueryLetRef"},{"localId":"156","locator":"142:47-142:71","name":"PROMIS10PhysicalScoreTime","type":"QueryLetRef"}]},{"localId":"160","locator":"143:11-143:50","type":"Not","operand":{"locator":"143:11-143:50","type":"IsNull","operand":{"localId":"159","locator":"143:11-143:38","path":"result","scope":"PROMIS10PhysicalScore","type":"Property"}}}]},{"localId":"164","locator":"144:11-144:48","type":"Not","operand":{"locator":"144:11-144:48","type":"IsNull","operand":{"localId":"163","locator":"144:11-144:36","path":"result","scope":"PROMIS10MentalScore","type":"Property"}}}]},"return":{"localId":"170","locator":"145:5-145:70","expression":{"localId":"169","locator":"145:12-145:70","type":"Max","source":{"localId":"168","locator":"145:16-145:69","type":"List","element":[{"localId":"166","locator":"145:18-145:40","name":"PROMIS10MentalScoreTime","type":"QueryLetRef"},{"localId":"167","locator":"145:43-145:67","name":"PROMIS10PhysicalScoreTime","type":"QueryLetRef"}]}}}}},{"localId":"207","locator":"301:1-312:3","name":"Has Encounter with Initial and Follow Up PROMIS10 Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up PROMIS10 Assessments\"",":\n  "]},{"r":"206","s":[{"value":["exists "]},{"r":"205","s":[{"value":["( "]},{"r":"205","s":[{"s":[{"value":["from\n      "]},{"r":"132","s":[{"r":"131","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"174","s":[{"r":"173","s":[{"s":[{"value":["\"Time PROMIS10 Total Assessment Completed\""]}]}]},{"value":[" ","InitialPROMIS10Time"]}]},{"value":[",\n      "]},{"r":"176","s":[{"r":"175","s":[{"s":[{"value":["\"Time PROMIS10 Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpPROMIS10Time"]}]}]},{"value":["\n      "]},{"r":"202","s":[{"value":["where "]},{"r":"202","s":[{"r":"189","s":[{"r":"182","s":[{"r":"178","s":[{"r":"177","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"178","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"182","s":[{"value":["ends "]},{"r":"181","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"180","s":[{"value":["end of "]},{"r":"179","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"188","s":[{"r":"183","s":[{"value":["InitialPROMIS10Time"]}]},{"value":[" "]},{"r":"188","s":[{"r":"187","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"186","s":[{"value":["end of "]},{"r":"185","s":[{"r":"184","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"185","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"201","s":[{"r":"191","s":[{"value":["date from "]},{"r":"190","s":[{"value":["FollowUpPROMIS10Time"]}]}]},{"r":"201","value":[" ","during day of"," "]},{"r":"200","s":[{"value":["Interval["]},{"r":"195","s":[{"r":"193","s":[{"value":["date from "]},{"r":"192","s":[{"value":["InitialPROMIS10Time"]}]}]},{"value":[" + "]},{"r":"194","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"199","s":[{"r":"197","s":[{"value":["date from "]},{"r":"196","s":[{"value":["InitialPROMIS10Time"]}]}]},{"value":[" + "]},{"r":"198","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"204","s":[{"value":["return "]},{"r":"203","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"206","locator":"302:3-312:3","type":"Exists","operand":{"localId":"205","locator":"302:10-312:3","type":"Query","source":[{"localId":"132","locator":"303:7-303:45","alias":"ValidEncounters","expression":{"localId":"131","locator":"303:7-303:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"174","locator":"304:7-304:68","alias":"InitialPROMIS10Time","expression":{"localId":"173","locator":"304:7-304:48","name":"Time PROMIS10 Total Assessment Completed","type":"ExpressionRef"}},{"localId":"176","locator":"305:7-305:69","alias":"FollowUpPROMIS10Time","expression":{"localId":"175","locator":"305:7-305:48","name":"Time PROMIS10 Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"202","locator":"306:7-310:148","type":"And","operand":[{"localId":"189","locator":"306:13-309:45","type":"And","operand":[{"localId":"182","locator":"306:13-307:33","type":"SameOrBefore","operand":[{"locator":"306:44-306:47","type":"End","operand":{"localId":"178","locator":"306:13-306:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"307:7-307:33","type":"Subtract","operand":[{"localId":"180","locator":"307:7-307:33","type":"End","operand":{"localId":"179","locator":"307:14-307:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"181","locator":"306:49-306:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"188","locator":"308:13-309:45","type":"And","operand":[{"locator":"308:33-308:47","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"183","locator":"308:13-308:31","name":"InitialPROMIS10Time","type":"AliasRef"}},{"locator":"308:33-308:47","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"309:9-309:45","type":"Subtract","operand":[{"localId":"186","locator":"309:9-309:45","type":"End","operand":{"localId":"185","locator":"309:16-309:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"187","locator":"308:33-308:39","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"186","locator":"309:9-309:45","type":"End","operand":{"localId":"185","locator":"309:16-309:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"308:33-308:47","type":"Not","operand":{"locator":"308:33-308:47","type":"IsNull","operand":{"localId":"186","locator":"309:9-309:45","type":"End","operand":{"localId":"185","locator":"309:16-309:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"201","locator":"310:13-310:148","precision":"Day","type":"In","operand":[{"localId":"191","locator":"310:13-310:42","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"190","locator":"310:23-310:42","name":"FollowUpPROMIS10Time","type":"AliasRef"}}},{"localId":"200","locator":"310:58-310:148","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"195","locator":"310:67-310:105","type":"Add","operand":[{"localId":"193","locator":"310:67-310:95","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"192","locator":"310:77-310:95","name":"InitialPROMIS10Time","type":"AliasRef"}}},{"localId":"194","locator":"310:99-310:105","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"199","locator":"310:108-310:147","type":"Add","operand":[{"localId":"197","locator":"310:108-310:136","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"196","locator":"310:118-310:136","name":"InitialPROMIS10Time","type":"AliasRef"}}},{"localId":"198","locator":"310:140-310:147","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"204","locator":"311:7-311:28","expression":{"localId":"203","locator":"311:14-311:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"350","locator":"147:1-176:168","name":"Time PROMIS29 Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"350","s":[{"value":["","define ","\"Time PROMIS29 Total Assessment Completed\"",":\n  "]},{"r":"349","s":[{"s":[{"value":["from\n    "]},{"r":"212","s":[{"r":"211","s":[{"r":"211","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Sleep disturbance score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29Sleep"]}]},{"value":[",\n    "]},{"r":"214","s":[{"r":"213","s":[{"r":"213","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Satisfaction with participation in social roles score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29SocialRoles"]}]},{"value":[",\n    "]},{"r":"216","s":[{"r":"215","s":[{"r":"215","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Physical function score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29Physical"]}]},{"value":[",\n    "]},{"r":"218","s":[{"r":"217","s":[{"r":"217","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Pain interference score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29Pain"]}]},{"value":[",\n    "]},{"r":"220","s":[{"r":"219","s":[{"r":"219","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Fatigue score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29Fatigue"]}]},{"value":[",\n    "]},{"r":"222","s":[{"r":"221","s":[{"r":"221","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Depression score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29Depression"]}]},{"value":[",\n    "]},{"r":"224","s":[{"r":"223","s":[{"r":"223","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"PROMIS-29 Anxiety score T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","Promis29Anxiety"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"233","s":[{"value":["Promis29SleepTime",": "]},{"r":"232","s":[{"value":["date from "]},{"r":"231","s":[{"value":["start of "]},{"r":"230","s":[{"r":"225","s":[{"value":["Global"]}]},{"value":["."]},{"r":"230","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"227","s":[{"r":"226","s":[{"value":["Promis29Sleep"]}]},{"value":["."]},{"r":"227","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"229","s":[{"r":"228","s":[{"value":["Promis29Sleep"]}]},{"value":["."]},{"r":"229","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"242","s":[{"value":["Promis29SocialRolesTime",": "]},{"r":"241","s":[{"value":["date from "]},{"r":"240","s":[{"value":["start of "]},{"r":"239","s":[{"r":"234","s":[{"value":["Global"]}]},{"value":["."]},{"r":"239","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"236","s":[{"r":"235","s":[{"value":["Promis29SocialRoles"]}]},{"value":["."]},{"r":"236","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"238","s":[{"r":"237","s":[{"value":["Promis29SocialRoles"]}]},{"value":["."]},{"r":"238","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"251","s":[{"value":["Promis29PhysicalTime",": "]},{"r":"250","s":[{"value":["date from "]},{"r":"249","s":[{"value":["start of "]},{"r":"248","s":[{"r":"243","s":[{"value":["Global"]}]},{"value":["."]},{"r":"248","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"245","s":[{"r":"244","s":[{"value":["Promis29Physical"]}]},{"value":["."]},{"r":"245","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"247","s":[{"r":"246","s":[{"value":["Promis29Physical"]}]},{"value":["."]},{"r":"247","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"260","s":[{"value":["Promis29PainTime",": "]},{"r":"259","s":[{"value":["date from "]},{"r":"258","s":[{"value":["start of "]},{"r":"257","s":[{"r":"252","s":[{"value":["Global"]}]},{"value":["."]},{"r":"257","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"254","s":[{"r":"253","s":[{"value":["Promis29Pain"]}]},{"value":["."]},{"r":"254","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"256","s":[{"r":"255","s":[{"value":["Promis29Pain"]}]},{"value":["."]},{"r":"256","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"269","s":[{"value":["Promis29FatigueTime",": "]},{"r":"268","s":[{"value":["date from "]},{"r":"267","s":[{"value":["start of "]},{"r":"266","s":[{"r":"261","s":[{"value":["Global"]}]},{"value":["."]},{"r":"266","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"263","s":[{"r":"262","s":[{"value":["Promis29Fatigue"]}]},{"value":["."]},{"r":"263","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"265","s":[{"r":"264","s":[{"value":["Promis29Fatigue"]}]},{"value":["."]},{"r":"265","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"278","s":[{"value":["Promis29DepressionTime",": "]},{"r":"277","s":[{"value":["date from "]},{"r":"276","s":[{"value":["start of "]},{"r":"275","s":[{"r":"270","s":[{"value":["Global"]}]},{"value":["."]},{"r":"275","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"272","s":[{"r":"271","s":[{"value":["Promis29Depression"]}]},{"value":["."]},{"r":"272","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"274","s":[{"r":"273","s":[{"value":["Promis29Depression"]}]},{"value":["."]},{"r":"274","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"287","s":[{"value":["Promis29AnxietyTime",": "]},{"r":"286","s":[{"value":["date from "]},{"r":"285","s":[{"value":["start of "]},{"r":"284","s":[{"r":"279","s":[{"value":["Global"]}]},{"value":["."]},{"r":"284","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"281","s":[{"r":"280","s":[{"value":["Promis29Anxiety"]}]},{"value":["."]},{"r":"281","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"283","s":[{"r":"282","s":[{"value":["Promis29Anxiety"]}]},{"value":["."]},{"r":"283","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"338","s":[{"value":["where "]},{"r":"338","s":[{"r":"334","s":[{"r":"330","s":[{"r":"326","s":[{"r":"322","s":[{"r":"318","s":[{"r":"314","s":[{"r":"310","s":[{"r":"306","s":[{"r":"302","s":[{"r":"298","s":[{"r":"294","s":[{"r":"290","s":[{"r":"288","s":[{"value":["Promis29SleepTime"]}]},{"r":"290","value":[" ","same day as"," "]},{"r":"289","s":[{"value":["Promis29SocialRolesTime"]}]}]},{"value":["\n      and "]},{"r":"293","s":[{"r":"292","s":[{"r":"291","s":[{"value":["Promis29SocialRoles"]}]},{"value":["."]},{"r":"292","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"297","s":[{"r":"295","s":[{"value":["Promis29SleepTime"]}]},{"r":"297","value":[" ","same day as"," "]},{"r":"296","s":[{"value":["Promis29PhysicalTime"]}]}]}]},{"value":["\n      and "]},{"r":"301","s":[{"r":"300","s":[{"r":"299","s":[{"value":["Promis29Physical"]}]},{"value":["."]},{"r":"300","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"305","s":[{"r":"303","s":[{"value":["Promis29SleepTime"]}]},{"r":"305","value":[" ","same day as"," "]},{"r":"304","s":[{"value":["Promis29PainTime"]}]}]}]},{"value":["\n      and "]},{"r":"309","s":[{"r":"308","s":[{"r":"307","s":[{"value":["Promis29Pain"]}]},{"value":["."]},{"r":"308","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"313","s":[{"r":"311","s":[{"value":["Promis29SleepTime"]}]},{"r":"313","value":[" ","same day as"," "]},{"r":"312","s":[{"value":["Promis29FatigueTime"]}]}]}]},{"value":["\n      and "]},{"r":"317","s":[{"r":"316","s":[{"r":"315","s":[{"value":["Promis29Fatigue"]}]},{"value":["."]},{"r":"316","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"321","s":[{"r":"319","s":[{"value":["Promis29SleepTime"]}]},{"r":"321","value":[" ","same day as"," "]},{"r":"320","s":[{"value":["Promis29DepressionTime"]}]}]}]},{"value":["\n      and "]},{"r":"325","s":[{"r":"324","s":[{"r":"323","s":[{"value":["Promis29Depression"]}]},{"value":["."]},{"r":"324","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"329","s":[{"r":"327","s":[{"value":["Promis29SleepTime"]}]},{"r":"329","value":[" ","same day as"," "]},{"r":"328","s":[{"value":["Promis29AnxietyTime"]}]}]}]},{"value":["\n      and "]},{"r":"333","s":[{"r":"332","s":[{"r":"331","s":[{"value":["Promis29Anxiety"]}]},{"value":["."]},{"r":"332","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"337","s":[{"r":"336","s":[{"r":"335","s":[{"value":["Promis29Sleep"]}]},{"value":["."]},{"r":"336","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"348","s":[{"value":["return "]},{"r":"347","s":[{"value":["Max","("]},{"r":"346","s":[{"value":["{ "]},{"r":"339","s":[{"value":["Promis29SleepTime"]}]},{"value":[", "]},{"r":"340","s":[{"value":["Promis29SocialRolesTime"]}]},{"value":[", "]},{"r":"341","s":[{"value":["Promis29PhysicalTime"]}]},{"value":[", "]},{"r":"342","s":[{"value":["Promis29PainTime"]}]},{"value":[", "]},{"r":"343","s":[{"value":["Promis29FatigueTime"]}]},{"value":[", "]},{"r":"344","s":[{"value":["Promis29DepressionTime"]}]},{"value":[", "]},{"r":"345","s":[{"value":["Promis29AnxietyTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"349","locator":"148:3-176:168","type":"Query","source":[{"localId":"212","locator":"149:5-149:88","alias":"Promis29Sleep","expression":{"localId":"211","locator":"149:5-149:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"149:31-149:73","name":"PROMIS-29 Sleep disturbance score T-score","type":"CodeRef"}}}},{"localId":"214","locator":"150:5-150:124","alias":"Promis29SocialRoles","expression":{"localId":"213","locator":"150:5-150:104","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"150:31-150:103","name":"PROMIS-29 Satisfaction with participation in social roles score T-score","type":"CodeRef"}}}},{"localId":"216","locator":"151:5-151:91","alias":"Promis29Physical","expression":{"localId":"215","locator":"151:5-151:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"151:31-151:73","name":"PROMIS-29 Physical function score T-score","type":"CodeRef"}}}},{"localId":"218","locator":"152:5-152:87","alias":"Promis29Pain","expression":{"localId":"217","locator":"152:5-152:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"152:31-152:73","name":"PROMIS-29 Pain interference score T-score","type":"CodeRef"}}}},{"localId":"220","locator":"153:5-153:80","alias":"Promis29Fatigue","expression":{"localId":"219","locator":"153:5-153:64","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"153:31-153:63","name":"PROMIS-29 Fatigue score T-score","type":"CodeRef"}}}},{"localId":"222","locator":"154:5-154:86","alias":"Promis29Depression","expression":{"localId":"221","locator":"154:5-154:67","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"154:31-154:66","name":"PROMIS-29 Depression score T-score","type":"CodeRef"}}}},{"localId":"224","locator":"155:5-155:80","alias":"Promis29Anxiety","expression":{"localId":"223","locator":"155:5-155:64","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"155:31-155:63","name":"PROMIS-29 Anxiety score T-score","type":"CodeRef"}}}}],"let":[{"localId":"233","locator":"156:9-156:137","identifier":"Promis29SleepTime","expression":{"localId":"232","locator":"156:28-156:137","type":"DateFrom","operand":{"localId":"231","locator":"156:38-156:137","type":"Start","operand":{"localId":"230","locator":"156:47-156:137","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"227","locator":"156:76-156:105","path":"relevantDatetime","scope":"Promis29Sleep","type":"Property"},{"localId":"229","locator":"156:108-156:135","path":"relevantPeriod","scope":"Promis29Sleep","type":"Property"}]}}}},{"localId":"242","locator":"157:5-157:151","identifier":"Promis29SocialRolesTime","expression":{"localId":"241","locator":"157:30-157:151","type":"DateFrom","operand":{"localId":"240","locator":"157:40-157:151","type":"Start","operand":{"localId":"239","locator":"157:49-157:151","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"236","locator":"157:78-157:113","path":"relevantDatetime","scope":"Promis29SocialRoles","type":"Property"},{"localId":"238","locator":"157:116-157:149","path":"relevantPeriod","scope":"Promis29SocialRoles","type":"Property"}]}}}},{"localId":"251","locator":"158:5-158:142","identifier":"Promis29PhysicalTime","expression":{"localId":"250","locator":"158:27-158:142","type":"DateFrom","operand":{"localId":"249","locator":"158:37-158:142","type":"Start","operand":{"localId":"248","locator":"158:46-158:142","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"245","locator":"158:75-158:107","path":"relevantDatetime","scope":"Promis29Physical","type":"Property"},{"localId":"247","locator":"158:110-158:140","path":"relevantPeriod","scope":"Promis29Physical","type":"Property"}]}}}},{"localId":"260","locator":"159:5-159:130","identifier":"Promis29PainTime","expression":{"localId":"259","locator":"159:23-159:130","type":"DateFrom","operand":{"localId":"258","locator":"159:33-159:130","type":"Start","operand":{"localId":"257","locator":"159:42-159:130","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"254","locator":"159:71-159:99","path":"relevantDatetime","scope":"Promis29Pain","type":"Property"},{"localId":"256","locator":"159:102-159:128","path":"relevantPeriod","scope":"Promis29Pain","type":"Property"}]}}}},{"localId":"269","locator":"160:5-160:139","identifier":"Promis29FatigueTime","expression":{"localId":"268","locator":"160:26-160:139","type":"DateFrom","operand":{"localId":"267","locator":"160:36-160:139","type":"Start","operand":{"localId":"266","locator":"160:45-160:139","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"263","locator":"160:74-160:105","path":"relevantDatetime","scope":"Promis29Fatigue","type":"Property"},{"localId":"265","locator":"160:108-160:137","path":"relevantPeriod","scope":"Promis29Fatigue","type":"Property"}]}}}},{"localId":"278","locator":"161:5-161:148","identifier":"Promis29DepressionTime","expression":{"localId":"277","locator":"161:29-161:148","type":"DateFrom","operand":{"localId":"276","locator":"161:39-161:148","type":"Start","operand":{"localId":"275","locator":"161:48-161:148","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"272","locator":"161:77-161:111","path":"relevantDatetime","scope":"Promis29Depression","type":"Property"},{"localId":"274","locator":"161:114-161:146","path":"relevantPeriod","scope":"Promis29Depression","type":"Property"}]}}}},{"localId":"287","locator":"162:5-162:139","identifier":"Promis29AnxietyTime","expression":{"localId":"286","locator":"162:26-162:139","type":"DateFrom","operand":{"localId":"285","locator":"162:36-162:139","type":"Start","operand":{"localId":"284","locator":"162:45-162:139","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"281","locator":"162:74-162:105","path":"relevantDatetime","scope":"Promis29Anxiety","type":"Property"},{"localId":"283","locator":"162:108-162:137","path":"relevantPeriod","scope":"Promis29Anxiety","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"338","locator":"163:5-175:42","type":"And","operand":[{"localId":"334","locator":"163:11-174:44","type":"And","operand":[{"localId":"330","locator":"163:11-173:59","type":"And","operand":[{"localId":"326","locator":"163:11-172:47","type":"And","operand":[{"localId":"322","locator":"163:11-171:62","type":"And","operand":[{"localId":"318","locator":"163:11-170:44","type":"And","operand":[{"localId":"314","locator":"163:11-169:59","type":"And","operand":[{"localId":"310","locator":"163:11-168:41","type":"And","operand":[{"localId":"306","locator":"163:11-167:56","type":"And","operand":[{"localId":"302","locator":"163:11-166:45","type":"And","operand":[{"localId":"298","locator":"163:11-165:60","type":"And","operand":[{"localId":"294","locator":"163:11-164:48","type":"And","operand":[{"localId":"290","locator":"163:11-163:63","precision":"Day","type":"SameAs","operand":[{"localId":"288","locator":"163:11-163:27","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"289","locator":"163:41-163:63","name":"Promis29SocialRolesTime","type":"QueryLetRef"}]},{"localId":"293","locator":"164:11-164:48","type":"Not","operand":{"locator":"164:11-164:48","type":"IsNull","operand":{"localId":"292","locator":"164:11-164:36","path":"result","scope":"Promis29SocialRoles","type":"Property"}}}]},{"localId":"297","locator":"165:11-165:60","precision":"Day","type":"SameAs","operand":[{"localId":"295","locator":"165:11-165:27","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"296","locator":"165:41-165:60","name":"Promis29PhysicalTime","type":"QueryLetRef"}]}]},{"localId":"301","locator":"166:11-166:45","type":"Not","operand":{"locator":"166:11-166:45","type":"IsNull","operand":{"localId":"300","locator":"166:11-166:33","path":"result","scope":"Promis29Physical","type":"Property"}}}]},{"localId":"305","locator":"167:11-167:56","precision":"Day","type":"SameAs","operand":[{"localId":"303","locator":"167:11-167:27","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"304","locator":"167:41-167:56","name":"Promis29PainTime","type":"QueryLetRef"}]}]},{"localId":"309","locator":"168:11-168:41","type":"Not","operand":{"locator":"168:11-168:41","type":"IsNull","operand":{"localId":"308","locator":"168:11-168:29","path":"result","scope":"Promis29Pain","type":"Property"}}}]},{"localId":"313","locator":"169:11-169:59","precision":"Day","type":"SameAs","operand":[{"localId":"311","locator":"169:11-169:27","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"312","locator":"169:41-169:59","name":"Promis29FatigueTime","type":"QueryLetRef"}]}]},{"localId":"317","locator":"170:11-170:44","type":"Not","operand":{"locator":"170:11-170:44","type":"IsNull","operand":{"localId":"316","locator":"170:11-170:32","path":"result","scope":"Promis29Fatigue","type":"Property"}}}]},{"localId":"321","locator":"171:11-171:62","precision":"Day","type":"SameAs","operand":[{"localId":"319","locator":"171:11-171:27","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"320","locator":"171:41-171:62","name":"Promis29DepressionTime","type":"QueryLetRef"}]}]},{"localId":"325","locator":"172:11-172:47","type":"Not","operand":{"locator":"172:11-172:47","type":"IsNull","operand":{"localId":"324","locator":"172:11-172:35","path":"result","scope":"Promis29Depression","type":"Property"}}}]},{"localId":"329","locator":"173:11-173:59","precision":"Day","type":"SameAs","operand":[{"localId":"327","locator":"173:11-173:27","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"328","locator":"173:41-173:59","name":"Promis29AnxietyTime","type":"QueryLetRef"}]}]},{"localId":"333","locator":"174:11-174:44","type":"Not","operand":{"locator":"174:11-174:44","type":"IsNull","operand":{"localId":"332","locator":"174:11-174:32","path":"result","scope":"Promis29Anxiety","type":"Property"}}}]},{"localId":"337","locator":"175:11-175:42","type":"Not","operand":{"locator":"175:11-175:42","type":"IsNull","operand":{"localId":"336","locator":"175:11-175:30","path":"result","scope":"Promis29Sleep","type":"Property"}}}]},"return":{"localId":"348","locator":"176:5-176:168","expression":{"localId":"347","locator":"176:12-176:168","type":"Max","source":{"localId":"346","locator":"176:16-176:167","type":"List","element":[{"localId":"339","locator":"176:18-176:34","name":"Promis29SleepTime","type":"QueryLetRef"},{"localId":"340","locator":"176:37-176:59","name":"Promis29SocialRolesTime","type":"QueryLetRef"},{"localId":"341","locator":"176:62-176:81","name":"Promis29PhysicalTime","type":"QueryLetRef"},{"localId":"342","locator":"176:84-176:99","name":"Promis29PainTime","type":"QueryLetRef"},{"localId":"343","locator":"176:102-176:120","name":"Promis29FatigueTime","type":"QueryLetRef"},{"localId":"344","locator":"176:123-176:144","name":"Promis29DepressionTime","type":"QueryLetRef"},{"localId":"345","locator":"176:147-176:165","name":"Promis29AnxietyTime","type":"QueryLetRef"}]}}}}},{"localId":"385","locator":"314:1-325:3","name":"Has Encounter with Initial and Follow Up PROMIS29 Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"385","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up PROMIS29 Assessments\"",":\n  "]},{"r":"384","s":[{"value":["exists "]},{"r":"383","s":[{"value":["( "]},{"r":"383","s":[{"s":[{"value":["from\n      "]},{"r":"210","s":[{"r":"209","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"352","s":[{"r":"351","s":[{"s":[{"value":["\"Time PROMIS29 Total Assessment Completed\""]}]}]},{"value":[" ","InitialPROMIS29Time"]}]},{"value":[",\n      "]},{"r":"354","s":[{"r":"353","s":[{"s":[{"value":["\"Time PROMIS29 Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpPROMIS29Time"]}]}]},{"value":["\n      "]},{"r":"380","s":[{"value":["where "]},{"r":"380","s":[{"r":"367","s":[{"r":"360","s":[{"r":"356","s":[{"r":"355","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"356","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"360","s":[{"value":["ends "]},{"r":"359","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"358","s":[{"value":["end of "]},{"r":"357","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"366","s":[{"r":"361","s":[{"value":["InitialPROMIS29Time"]}]},{"value":[" "]},{"r":"366","s":[{"r":"365","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"364","s":[{"value":["end of "]},{"r":"363","s":[{"r":"362","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"363","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"379","s":[{"r":"369","s":[{"value":["date from "]},{"r":"368","s":[{"value":["FollowUpPROMIS29Time"]}]}]},{"r":"379","value":[" ","during day of"," "]},{"r":"378","s":[{"value":["Interval["]},{"r":"373","s":[{"r":"371","s":[{"value":["date from "]},{"r":"370","s":[{"value":["InitialPROMIS29Time"]}]}]},{"value":[" + "]},{"r":"372","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"377","s":[{"r":"375","s":[{"value":["date from "]},{"r":"374","s":[{"value":["InitialPROMIS29Time"]}]}]},{"value":[" + "]},{"r":"376","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"382","s":[{"value":["return "]},{"r":"381","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"384","locator":"315:3-325:3","type":"Exists","operand":{"localId":"383","locator":"315:10-325:3","type":"Query","source":[{"localId":"210","locator":"316:7-316:45","alias":"ValidEncounters","expression":{"localId":"209","locator":"316:7-316:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"352","locator":"317:7-317:68","alias":"InitialPROMIS29Time","expression":{"localId":"351","locator":"317:7-317:48","name":"Time PROMIS29 Total Assessment Completed","type":"ExpressionRef"}},{"localId":"354","locator":"318:7-318:69","alias":"FollowUpPROMIS29Time","expression":{"localId":"353","locator":"318:7-318:48","name":"Time PROMIS29 Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"380","locator":"319:7-323:148","type":"And","operand":[{"localId":"367","locator":"319:13-322:45","type":"And","operand":[{"localId":"360","locator":"319:13-320:33","type":"SameOrBefore","operand":[{"locator":"319:44-319:47","type":"End","operand":{"localId":"356","locator":"319:13-319:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"320:7-320:33","type":"Subtract","operand":[{"localId":"358","locator":"320:7-320:33","type":"End","operand":{"localId":"357","locator":"320:14-320:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"359","locator":"319:49-319:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"366","locator":"321:13-322:45","type":"And","operand":[{"locator":"321:33-321:47","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"361","locator":"321:13-321:31","name":"InitialPROMIS29Time","type":"AliasRef"}},{"locator":"321:33-321:47","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"322:9-322:45","type":"Subtract","operand":[{"localId":"364","locator":"322:9-322:45","type":"End","operand":{"localId":"363","locator":"322:16-322:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"365","locator":"321:33-321:39","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"364","locator":"322:9-322:45","type":"End","operand":{"localId":"363","locator":"322:16-322:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"321:33-321:47","type":"Not","operand":{"locator":"321:33-321:47","type":"IsNull","operand":{"localId":"364","locator":"322:9-322:45","type":"End","operand":{"localId":"363","locator":"322:16-322:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"379","locator":"323:13-323:148","precision":"Day","type":"In","operand":[{"localId":"369","locator":"323:13-323:42","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"368","locator":"323:23-323:42","name":"FollowUpPROMIS29Time","type":"AliasRef"}}},{"localId":"378","locator":"323:58-323:148","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"373","locator":"323:67-323:105","type":"Add","operand":[{"localId":"371","locator":"323:67-323:95","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"370","locator":"323:77-323:95","name":"InitialPROMIS29Time","type":"AliasRef"}}},{"localId":"372","locator":"323:99-323:105","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"377","locator":"323:108-323:147","type":"Add","operand":[{"localId":"375","locator":"323:108-323:136","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"374","locator":"323:118-323:136","name":"InitialPROMIS29Time","type":"AliasRef"}}},{"localId":"376","locator":"323:140-323:147","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"382","locator":"324:7-324:28","expression":{"localId":"381","locator":"324:14-324:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"429","locator":"178:1-187:72","name":"Time VR12 Oblique Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"429","s":[{"value":["","define ","\"Time VR12 Oblique Total Assessment Completed\"",":\n  "]},{"r":"428","s":[{"s":[{"value":["from\n    "]},{"r":"391","s":[{"r":"390","s":[{"r":"390","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-12 Mental component summary (MCS) score - oblique method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR12MentalAssessment"]}]},{"value":[",\n    "]},{"r":"393","s":[{"r":"392","s":[{"r":"392","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-12 Physical component summary (PCS) score - oblique method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR12PhysicalAssessment"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"402","s":[{"value":["VR12MentalAssessmentTime",": "]},{"r":"401","s":[{"value":["date from "]},{"r":"400","s":[{"value":["start of "]},{"r":"399","s":[{"r":"394","s":[{"value":["Global"]}]},{"value":["."]},{"r":"399","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"396","s":[{"r":"395","s":[{"value":["VR12MentalAssessment"]}]},{"value":["."]},{"r":"396","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"398","s":[{"r":"397","s":[{"value":["VR12MentalAssessment"]}]},{"value":["."]},{"r":"398","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"411","s":[{"value":["VR12PhysicalAssessmentTime",": "]},{"r":"410","s":[{"value":["date from "]},{"r":"409","s":[{"value":["start of "]},{"r":"408","s":[{"r":"403","s":[{"value":["Global"]}]},{"value":["."]},{"r":"408","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"405","s":[{"r":"404","s":[{"value":["VR12PhysicalAssessment"]}]},{"value":["."]},{"r":"405","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"407","s":[{"r":"406","s":[{"value":["VR12PhysicalAssessment"]}]},{"value":["."]},{"r":"407","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"422","s":[{"value":["where "]},{"r":"422","s":[{"r":"418","s":[{"r":"414","s":[{"r":"412","s":[{"value":["VR12MentalAssessmentTime"]}]},{"r":"414","value":[" ","same day as"," "]},{"r":"413","s":[{"value":["VR12PhysicalAssessmentTime"]}]}]},{"value":["\n      and "]},{"r":"417","s":[{"r":"416","s":[{"r":"415","s":[{"value":["VR12MentalAssessment"]}]},{"value":["."]},{"r":"416","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"421","s":[{"r":"420","s":[{"r":"419","s":[{"value":["VR12PhysicalAssessment"]}]},{"value":["."]},{"r":"420","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"427","s":[{"value":["return "]},{"r":"426","s":[{"value":["Max","("]},{"r":"425","s":[{"value":["{ "]},{"r":"423","s":[{"value":["VR12MentalAssessmentTime"]}]},{"value":[", "]},{"r":"424","s":[{"value":["VR12PhysicalAssessmentTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"428","locator":"179:3-187:72","type":"Query","source":[{"localId":"391","locator":"180:5-180:121","alias":"VR12MentalAssessment","expression":{"localId":"390","locator":"180:5-180:100","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"180:31-180:99","name":"VR-12 Mental component summary (MCS) score - oblique method T-score","type":"CodeRef"}}}},{"localId":"393","locator":"181:5-181:125","alias":"VR12PhysicalAssessment","expression":{"localId":"392","locator":"181:5-181:102","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"181:31-181:101","name":"VR-12 Physical component summary (PCS) score - oblique method T-score","type":"CodeRef"}}}}],"let":[{"localId":"402","locator":"182:9-182:158","identifier":"VR12MentalAssessmentTime","expression":{"localId":"401","locator":"182:35-182:158","type":"DateFrom","operand":{"localId":"400","locator":"182:45-182:158","type":"Start","operand":{"localId":"399","locator":"182:54-182:158","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"396","locator":"182:83-182:119","path":"relevantDatetime","scope":"VR12MentalAssessment","type":"Property"},{"localId":"398","locator":"182:122-182:156","path":"relevantPeriod","scope":"VR12MentalAssessment","type":"Property"}]}}}},{"localId":"411","locator":"183:5-183:160","identifier":"VR12PhysicalAssessmentTime","expression":{"localId":"410","locator":"183:33-183:160","type":"DateFrom","operand":{"localId":"409","locator":"183:43-183:160","type":"Start","operand":{"localId":"408","locator":"183:52-183:160","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"405","locator":"183:81-183:119","path":"relevantDatetime","scope":"VR12PhysicalAssessment","type":"Property"},{"localId":"407","locator":"183:122-183:158","path":"relevantPeriod","scope":"VR12PhysicalAssessment","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"422","locator":"184:5-186:51","type":"And","operand":[{"localId":"418","locator":"184:11-185:49","type":"And","operand":[{"localId":"414","locator":"184:11-184:73","precision":"Day","type":"SameAs","operand":[{"localId":"412","locator":"184:11-184:34","name":"VR12MentalAssessmentTime","type":"QueryLetRef"},{"localId":"413","locator":"184:48-184:73","name":"VR12PhysicalAssessmentTime","type":"QueryLetRef"}]},{"localId":"417","locator":"185:11-185:49","type":"Not","operand":{"locator":"185:11-185:49","type":"IsNull","operand":{"localId":"416","locator":"185:11-185:37","path":"result","scope":"VR12MentalAssessment","type":"Property"}}}]},{"localId":"421","locator":"186:11-186:51","type":"Not","operand":{"locator":"186:11-186:51","type":"IsNull","operand":{"localId":"420","locator":"186:11-186:39","path":"result","scope":"VR12PhysicalAssessment","type":"Property"}}}]},"return":{"localId":"427","locator":"187:5-187:72","expression":{"localId":"426","locator":"187:12-187:72","type":"Max","source":{"localId":"425","locator":"187:16-187:71","type":"List","element":[{"localId":"423","locator":"187:18-187:41","name":"VR12MentalAssessmentTime","type":"QueryLetRef"},{"localId":"424","locator":"187:44-187:69","name":"VR12PhysicalAssessmentTime","type":"QueryLetRef"}]}}}}},{"localId":"464","locator":"327:1-338:3","name":"Has Encounter with Initial and Follow Up VR12 Oblique Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"464","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up VR12 Oblique Assessments\"",":\n  "]},{"r":"463","s":[{"value":["exists "]},{"r":"462","s":[{"value":["( "]},{"r":"462","s":[{"s":[{"value":["from\n      "]},{"r":"389","s":[{"r":"388","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"431","s":[{"r":"430","s":[{"s":[{"value":["\"Time VR12 Oblique Total Assessment Completed\""]}]}]},{"value":[" ","InitialVR12ObliqueTime"]}]},{"value":[",\n      "]},{"r":"433","s":[{"r":"432","s":[{"s":[{"value":["\"Time VR12 Oblique Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpVR12ObliqueTime"]}]}]},{"value":["\n      "]},{"r":"459","s":[{"value":["where "]},{"r":"459","s":[{"r":"446","s":[{"r":"439","s":[{"r":"435","s":[{"r":"434","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"435","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"439","s":[{"value":["ends "]},{"r":"438","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"437","s":[{"value":["end of "]},{"r":"436","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"445","s":[{"r":"440","s":[{"value":["InitialVR12ObliqueTime"]}]},{"value":[" "]},{"r":"445","s":[{"r":"444","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"443","s":[{"value":["end of "]},{"r":"442","s":[{"r":"441","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"442","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"458","s":[{"r":"448","s":[{"value":["date from "]},{"r":"447","s":[{"value":["FollowUpVR12ObliqueTime"]}]}]},{"r":"458","value":[" ","during day of"," "]},{"r":"457","s":[{"value":["Interval["]},{"r":"452","s":[{"r":"450","s":[{"value":["date from "]},{"r":"449","s":[{"value":["InitialVR12ObliqueTime"]}]}]},{"value":[" + "]},{"r":"451","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"456","s":[{"r":"454","s":[{"value":["date from "]},{"r":"453","s":[{"value":["InitialVR12ObliqueTime"]}]}]},{"value":[" + "]},{"r":"455","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"461","s":[{"value":["return "]},{"r":"460","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"463","locator":"328:3-338:3","type":"Exists","operand":{"localId":"462","locator":"328:10-338:3","type":"Query","source":[{"localId":"389","locator":"329:7-329:45","alias":"ValidEncounters","expression":{"localId":"388","locator":"329:7-329:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"431","locator":"330:7-330:75","alias":"InitialVR12ObliqueTime","expression":{"localId":"430","locator":"330:7-330:52","name":"Time VR12 Oblique Total Assessment Completed","type":"ExpressionRef"}},{"localId":"433","locator":"331:7-331:76","alias":"FollowUpVR12ObliqueTime","expression":{"localId":"432","locator":"331:7-331:52","name":"Time VR12 Oblique Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"459","locator":"332:7-336:157","type":"And","operand":[{"localId":"446","locator":"332:13-335:45","type":"And","operand":[{"localId":"439","locator":"332:13-333:33","type":"SameOrBefore","operand":[{"locator":"332:44-332:47","type":"End","operand":{"localId":"435","locator":"332:13-332:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"333:7-333:33","type":"Subtract","operand":[{"localId":"437","locator":"333:7-333:33","type":"End","operand":{"localId":"436","locator":"333:14-333:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"438","locator":"332:49-332:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"445","locator":"334:13-335:45","type":"And","operand":[{"locator":"334:36-334:50","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"440","locator":"334:13-334:34","name":"InitialVR12ObliqueTime","type":"AliasRef"}},{"locator":"334:36-334:50","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"335:9-335:45","type":"Subtract","operand":[{"localId":"443","locator":"335:9-335:45","type":"End","operand":{"localId":"442","locator":"335:16-335:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"444","locator":"334:36-334:42","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"443","locator":"335:9-335:45","type":"End","operand":{"localId":"442","locator":"335:16-335:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"334:36-334:50","type":"Not","operand":{"locator":"334:36-334:50","type":"IsNull","operand":{"localId":"443","locator":"335:9-335:45","type":"End","operand":{"localId":"442","locator":"335:16-335:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"458","locator":"336:13-336:157","precision":"Day","type":"In","operand":[{"localId":"448","locator":"336:13-336:45","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"447","locator":"336:23-336:45","name":"FollowUpVR12ObliqueTime","type":"AliasRef"}}},{"localId":"457","locator":"336:61-336:157","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"452","locator":"336:70-336:111","type":"Add","operand":[{"localId":"450","locator":"336:70-336:101","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"449","locator":"336:80-336:101","name":"InitialVR12ObliqueTime","type":"AliasRef"}}},{"localId":"451","locator":"336:105-336:111","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"456","locator":"336:114-336:156","type":"Add","operand":[{"localId":"454","locator":"336:114-336:145","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"453","locator":"336:124-336:145","name":"InitialVR12ObliqueTime","type":"AliasRef"}}},{"localId":"455","locator":"336:149-336:156","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"461","locator":"337:7-337:28","expression":{"localId":"460","locator":"337:14-337:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"508","locator":"189:1-198:72","name":"Time VR12 Orthogonal Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"508","s":[{"value":["","define ","\"Time VR12 Orthogonal Total Assessment Completed\"",":\n  "]},{"r":"507","s":[{"s":[{"value":["from\n    "]},{"r":"470","s":[{"r":"469","s":[{"r":"469","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-12 Mental component summary (MCS) score - orthogonal method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR12MentalAssessment"]}]},{"value":[",\n    "]},{"r":"472","s":[{"r":"471","s":[{"r":"471","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-12 Physical component summary (PCS) score - orthogonal method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR12PhysicalAssessment"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"481","s":[{"value":["VR12MentalAssessmentTime",": "]},{"r":"480","s":[{"value":["date from "]},{"r":"479","s":[{"value":["start of "]},{"r":"478","s":[{"r":"473","s":[{"value":["Global"]}]},{"value":["."]},{"r":"478","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"475","s":[{"r":"474","s":[{"value":["VR12MentalAssessment"]}]},{"value":["."]},{"r":"475","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"477","s":[{"r":"476","s":[{"value":["VR12MentalAssessment"]}]},{"value":["."]},{"r":"477","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"490","s":[{"value":["VR12PhysicalAssessmentTime",": "]},{"r":"489","s":[{"value":["date from "]},{"r":"488","s":[{"value":["start of "]},{"r":"487","s":[{"r":"482","s":[{"value":["Global"]}]},{"value":["."]},{"r":"487","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"484","s":[{"r":"483","s":[{"value":["VR12PhysicalAssessment"]}]},{"value":["."]},{"r":"484","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"486","s":[{"r":"485","s":[{"value":["VR12PhysicalAssessment"]}]},{"value":["."]},{"r":"486","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"501","s":[{"value":["where "]},{"r":"501","s":[{"r":"497","s":[{"r":"493","s":[{"r":"491","s":[{"value":["VR12MentalAssessmentTime"]}]},{"r":"493","value":[" ","same day as"," "]},{"r":"492","s":[{"value":["VR12PhysicalAssessmentTime"]}]}]},{"value":["\n      and "]},{"r":"496","s":[{"r":"495","s":[{"r":"494","s":[{"value":["VR12MentalAssessment"]}]},{"value":["."]},{"r":"495","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"500","s":[{"r":"499","s":[{"r":"498","s":[{"value":["VR12PhysicalAssessment"]}]},{"value":["."]},{"r":"499","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"506","s":[{"value":["return "]},{"r":"505","s":[{"value":["Max","("]},{"r":"504","s":[{"value":["{ "]},{"r":"502","s":[{"value":["VR12MentalAssessmentTime"]}]},{"value":[", "]},{"r":"503","s":[{"value":["VR12PhysicalAssessmentTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"507","locator":"190:3-198:72","type":"Query","source":[{"localId":"470","locator":"191:5-191:124","alias":"VR12MentalAssessment","expression":{"localId":"469","locator":"191:5-191:103","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"191:31-191:102","name":"VR-12 Mental component summary (MCS) score - orthogonal method T-score","type":"CodeRef"}}}},{"localId":"472","locator":"192:5-192:128","alias":"VR12PhysicalAssessment","expression":{"localId":"471","locator":"192:5-192:105","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"192:31-192:104","name":"VR-12 Physical component summary (PCS) score - orthogonal method T-score","type":"CodeRef"}}}}],"let":[{"localId":"481","locator":"193:9-193:158","identifier":"VR12MentalAssessmentTime","expression":{"localId":"480","locator":"193:35-193:158","type":"DateFrom","operand":{"localId":"479","locator":"193:45-193:158","type":"Start","operand":{"localId":"478","locator":"193:54-193:158","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"475","locator":"193:83-193:119","path":"relevantDatetime","scope":"VR12MentalAssessment","type":"Property"},{"localId":"477","locator":"193:122-193:156","path":"relevantPeriod","scope":"VR12MentalAssessment","type":"Property"}]}}}},{"localId":"490","locator":"194:5-194:160","identifier":"VR12PhysicalAssessmentTime","expression":{"localId":"489","locator":"194:33-194:160","type":"DateFrom","operand":{"localId":"488","locator":"194:43-194:160","type":"Start","operand":{"localId":"487","locator":"194:52-194:160","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"484","locator":"194:81-194:119","path":"relevantDatetime","scope":"VR12PhysicalAssessment","type":"Property"},{"localId":"486","locator":"194:122-194:158","path":"relevantPeriod","scope":"VR12PhysicalAssessment","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"501","locator":"195:5-197:51","type":"And","operand":[{"localId":"497","locator":"195:11-196:49","type":"And","operand":[{"localId":"493","locator":"195:11-195:73","precision":"Day","type":"SameAs","operand":[{"localId":"491","locator":"195:11-195:34","name":"VR12MentalAssessmentTime","type":"QueryLetRef"},{"localId":"492","locator":"195:48-195:73","name":"VR12PhysicalAssessmentTime","type":"QueryLetRef"}]},{"localId":"496","locator":"196:11-196:49","type":"Not","operand":{"locator":"196:11-196:49","type":"IsNull","operand":{"localId":"495","locator":"196:11-196:37","path":"result","scope":"VR12MentalAssessment","type":"Property"}}}]},{"localId":"500","locator":"197:11-197:51","type":"Not","operand":{"locator":"197:11-197:51","type":"IsNull","operand":{"localId":"499","locator":"197:11-197:39","path":"result","scope":"VR12PhysicalAssessment","type":"Property"}}}]},"return":{"localId":"506","locator":"198:5-198:72","expression":{"localId":"505","locator":"198:12-198:72","type":"Max","source":{"localId":"504","locator":"198:16-198:71","type":"List","element":[{"localId":"502","locator":"198:18-198:41","name":"VR12MentalAssessmentTime","type":"QueryLetRef"},{"localId":"503","locator":"198:44-198:69","name":"VR12PhysicalAssessmentTime","type":"QueryLetRef"}]}}}}},{"localId":"543","locator":"340:1-351:3","name":"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"543","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments\"",":\n  "]},{"r":"542","s":[{"value":["exists "]},{"r":"541","s":[{"value":["( "]},{"r":"541","s":[{"s":[{"value":["from\n      "]},{"r":"468","s":[{"r":"467","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"510","s":[{"r":"509","s":[{"s":[{"value":["\"Time VR12 Orthogonal Total Assessment Completed\""]}]}]},{"value":[" ","InitialVR12OrthogonalTime"]}]},{"value":[",\n      "]},{"r":"512","s":[{"r":"511","s":[{"s":[{"value":["\"Time VR12 Orthogonal Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpVR12OrthogonalTime"]}]}]},{"value":["\n      "]},{"r":"538","s":[{"value":["where "]},{"r":"538","s":[{"r":"525","s":[{"r":"518","s":[{"r":"514","s":[{"r":"513","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"514","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"518","s":[{"value":["ends "]},{"r":"517","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"516","s":[{"value":["end of "]},{"r":"515","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"524","s":[{"r":"519","s":[{"value":["InitialVR12OrthogonalTime"]}]},{"value":[" "]},{"r":"524","s":[{"r":"523","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"522","s":[{"value":["end of "]},{"r":"521","s":[{"r":"520","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"521","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"537","s":[{"r":"527","s":[{"value":["date from "]},{"r":"526","s":[{"value":["FollowUpVR12OrthogonalTime"]}]}]},{"r":"537","value":[" ","during day of"," "]},{"r":"536","s":[{"value":["Interval["]},{"r":"531","s":[{"r":"529","s":[{"value":["date from "]},{"r":"528","s":[{"value":["InitialVR12OrthogonalTime"]}]}]},{"value":[" + "]},{"r":"530","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"535","s":[{"r":"533","s":[{"value":["date from "]},{"r":"532","s":[{"value":["InitialVR12OrthogonalTime"]}]}]},{"value":[" + "]},{"r":"534","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"540","s":[{"value":["return "]},{"r":"539","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"542","locator":"341:3-351:3","type":"Exists","operand":{"localId":"541","locator":"341:10-351:3","type":"Query","source":[{"localId":"468","locator":"342:7-342:45","alias":"ValidEncounters","expression":{"localId":"467","locator":"342:7-342:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"510","locator":"343:7-343:81","alias":"InitialVR12OrthogonalTime","expression":{"localId":"509","locator":"343:7-343:55","name":"Time VR12 Orthogonal Total Assessment Completed","type":"ExpressionRef"}},{"localId":"512","locator":"344:7-344:82","alias":"FollowUpVR12OrthogonalTime","expression":{"localId":"511","locator":"344:7-344:55","name":"Time VR12 Orthogonal Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"538","locator":"345:7-349:166","type":"And","operand":[{"localId":"525","locator":"345:13-348:45","type":"And","operand":[{"localId":"518","locator":"345:13-346:33","type":"SameOrBefore","operand":[{"locator":"345:44-345:47","type":"End","operand":{"localId":"514","locator":"345:13-345:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"346:7-346:33","type":"Subtract","operand":[{"localId":"516","locator":"346:7-346:33","type":"End","operand":{"localId":"515","locator":"346:14-346:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"517","locator":"345:49-345:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"524","locator":"347:13-348:45","type":"And","operand":[{"locator":"347:39-347:53","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"519","locator":"347:13-347:37","name":"InitialVR12OrthogonalTime","type":"AliasRef"}},{"locator":"347:39-347:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"348:9-348:45","type":"Subtract","operand":[{"localId":"522","locator":"348:9-348:45","type":"End","operand":{"localId":"521","locator":"348:16-348:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"523","locator":"347:39-347:45","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"522","locator":"348:9-348:45","type":"End","operand":{"localId":"521","locator":"348:16-348:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"347:39-347:53","type":"Not","operand":{"locator":"347:39-347:53","type":"IsNull","operand":{"localId":"522","locator":"348:9-348:45","type":"End","operand":{"localId":"521","locator":"348:16-348:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"537","locator":"349:13-349:166","precision":"Day","type":"In","operand":[{"localId":"527","locator":"349:13-349:48","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"526","locator":"349:23-349:48","name":"FollowUpVR12OrthogonalTime","type":"AliasRef"}}},{"localId":"536","locator":"349:64-349:166","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"531","locator":"349:73-349:117","type":"Add","operand":[{"localId":"529","locator":"349:73-349:107","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"528","locator":"349:83-349:107","name":"InitialVR12OrthogonalTime","type":"AliasRef"}}},{"localId":"530","locator":"349:111-349:117","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"535","locator":"349:120-349:165","type":"Add","operand":[{"localId":"533","locator":"349:120-349:154","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"532","locator":"349:130-349:154","name":"InitialVR12OrthogonalTime","type":"AliasRef"}}},{"localId":"534","locator":"349:158-349:165","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"540","locator":"350:7-350:28","expression":{"localId":"539","locator":"350:14-350:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"587","locator":"200:1-209:72","name":"Time VR36 Oblique Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"587","s":[{"value":["","define ","\"Time VR36 Oblique Total Assessment Completed\"",":\n  "]},{"r":"586","s":[{"s":[{"value":["from\n    "]},{"r":"549","s":[{"r":"548","s":[{"r":"548","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-36 Mental component summary (MCS) score - oblique method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR36MentalAssessment"]}]},{"value":[",\n    "]},{"r":"551","s":[{"r":"550","s":[{"r":"550","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-36 Physical component summary (PCS) score - oblique method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR36PhysicalAssessment"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"560","s":[{"value":["VR36MentalAssessmentTime",": "]},{"r":"559","s":[{"value":["date from "]},{"r":"558","s":[{"value":["start of "]},{"r":"557","s":[{"r":"552","s":[{"value":["Global"]}]},{"value":["."]},{"r":"557","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"554","s":[{"r":"553","s":[{"value":["VR36MentalAssessment"]}]},{"value":["."]},{"r":"554","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"556","s":[{"r":"555","s":[{"value":["VR36MentalAssessment"]}]},{"value":["."]},{"r":"556","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"569","s":[{"value":["VR36PhysicalAssessmentTime",": "]},{"r":"568","s":[{"value":["date from "]},{"r":"567","s":[{"value":["start of "]},{"r":"566","s":[{"r":"561","s":[{"value":["Global"]}]},{"value":["."]},{"r":"566","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"563","s":[{"r":"562","s":[{"value":["VR36PhysicalAssessment"]}]},{"value":["."]},{"r":"563","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"565","s":[{"r":"564","s":[{"value":["VR36PhysicalAssessment"]}]},{"value":["."]},{"r":"565","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"580","s":[{"value":["where "]},{"r":"580","s":[{"r":"576","s":[{"r":"572","s":[{"r":"570","s":[{"value":["VR36MentalAssessmentTime"]}]},{"r":"572","value":[" ","same day as"," "]},{"r":"571","s":[{"value":["VR36PhysicalAssessmentTime"]}]}]},{"value":["\n      and "]},{"r":"575","s":[{"r":"574","s":[{"r":"573","s":[{"value":["VR36MentalAssessment"]}]},{"value":["."]},{"r":"574","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"579","s":[{"r":"578","s":[{"r":"577","s":[{"value":["VR36PhysicalAssessment"]}]},{"value":["."]},{"r":"578","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"585","s":[{"value":["return "]},{"r":"584","s":[{"value":["Max","("]},{"r":"583","s":[{"value":["{ "]},{"r":"581","s":[{"value":["VR36MentalAssessmentTime"]}]},{"value":[", "]},{"r":"582","s":[{"value":["VR36PhysicalAssessmentTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"586","locator":"201:3-209:72","type":"Query","source":[{"localId":"549","locator":"202:5-202:121","alias":"VR36MentalAssessment","expression":{"localId":"548","locator":"202:5-202:100","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"202:31-202:99","name":"VR-36 Mental component summary (MCS) score - oblique method T-score","type":"CodeRef"}}}},{"localId":"551","locator":"203:5-203:125","alias":"VR36PhysicalAssessment","expression":{"localId":"550","locator":"203:5-203:102","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"203:31-203:101","name":"VR-36 Physical component summary (PCS) score - oblique method T-score","type":"CodeRef"}}}}],"let":[{"localId":"560","locator":"204:9-204:158","identifier":"VR36MentalAssessmentTime","expression":{"localId":"559","locator":"204:35-204:158","type":"DateFrom","operand":{"localId":"558","locator":"204:45-204:158","type":"Start","operand":{"localId":"557","locator":"204:54-204:158","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"554","locator":"204:83-204:119","path":"relevantDatetime","scope":"VR36MentalAssessment","type":"Property"},{"localId":"556","locator":"204:122-204:156","path":"relevantPeriod","scope":"VR36MentalAssessment","type":"Property"}]}}}},{"localId":"569","locator":"205:5-205:160","identifier":"VR36PhysicalAssessmentTime","expression":{"localId":"568","locator":"205:33-205:160","type":"DateFrom","operand":{"localId":"567","locator":"205:43-205:160","type":"Start","operand":{"localId":"566","locator":"205:52-205:160","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"563","locator":"205:81-205:119","path":"relevantDatetime","scope":"VR36PhysicalAssessment","type":"Property"},{"localId":"565","locator":"205:122-205:158","path":"relevantPeriod","scope":"VR36PhysicalAssessment","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"580","locator":"206:5-208:51","type":"And","operand":[{"localId":"576","locator":"206:11-207:49","type":"And","operand":[{"localId":"572","locator":"206:11-206:73","precision":"Day","type":"SameAs","operand":[{"localId":"570","locator":"206:11-206:34","name":"VR36MentalAssessmentTime","type":"QueryLetRef"},{"localId":"571","locator":"206:48-206:73","name":"VR36PhysicalAssessmentTime","type":"QueryLetRef"}]},{"localId":"575","locator":"207:11-207:49","type":"Not","operand":{"locator":"207:11-207:49","type":"IsNull","operand":{"localId":"574","locator":"207:11-207:37","path":"result","scope":"VR36MentalAssessment","type":"Property"}}}]},{"localId":"579","locator":"208:11-208:51","type":"Not","operand":{"locator":"208:11-208:51","type":"IsNull","operand":{"localId":"578","locator":"208:11-208:39","path":"result","scope":"VR36PhysicalAssessment","type":"Property"}}}]},"return":{"localId":"585","locator":"209:5-209:72","expression":{"localId":"584","locator":"209:12-209:72","type":"Max","source":{"localId":"583","locator":"209:16-209:71","type":"List","element":[{"localId":"581","locator":"209:18-209:41","name":"VR36MentalAssessmentTime","type":"QueryLetRef"},{"localId":"582","locator":"209:44-209:69","name":"VR36PhysicalAssessmentTime","type":"QueryLetRef"}]}}}}},{"localId":"622","locator":"366:1-377:3","name":"Has Encounter with Initial and Follow Up VR36 Oblique Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"622","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up VR36 Oblique Assessments\"",":\n  "]},{"r":"621","s":[{"value":["exists "]},{"r":"620","s":[{"value":["( "]},{"r":"620","s":[{"s":[{"value":["from\n      "]},{"r":"547","s":[{"r":"546","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"589","s":[{"r":"588","s":[{"s":[{"value":["\"Time VR36 Oblique Total Assessment Completed\""]}]}]},{"value":[" ","InitialVR36ObliqueTime"]}]},{"value":[",\n      "]},{"r":"591","s":[{"r":"590","s":[{"s":[{"value":["\"Time VR36 Oblique Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpVR36ObliqueTime"]}]}]},{"value":["\n      "]},{"r":"617","s":[{"value":["where "]},{"r":"617","s":[{"r":"604","s":[{"r":"597","s":[{"r":"593","s":[{"r":"592","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"593","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"597","s":[{"value":["ends "]},{"r":"596","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"595","s":[{"value":["end of "]},{"r":"594","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"603","s":[{"r":"598","s":[{"value":["InitialVR36ObliqueTime"]}]},{"value":[" "]},{"r":"603","s":[{"r":"602","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"601","s":[{"value":["end of "]},{"r":"600","s":[{"r":"599","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"600","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"616","s":[{"r":"606","s":[{"value":["date from "]},{"r":"605","s":[{"value":["FollowUpVR36ObliqueTime"]}]}]},{"r":"616","value":[" ","during day of"," "]},{"r":"615","s":[{"value":["Interval["]},{"r":"610","s":[{"r":"608","s":[{"value":["date from "]},{"r":"607","s":[{"value":["InitialVR36ObliqueTime"]}]}]},{"value":[" + "]},{"r":"609","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"614","s":[{"r":"612","s":[{"value":["date from "]},{"r":"611","s":[{"value":["InitialVR36ObliqueTime"]}]}]},{"value":[" + "]},{"r":"613","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"619","s":[{"value":["return "]},{"r":"618","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"621","locator":"367:3-377:3","type":"Exists","operand":{"localId":"620","locator":"367:10-377:3","type":"Query","source":[{"localId":"547","locator":"368:7-368:45","alias":"ValidEncounters","expression":{"localId":"546","locator":"368:7-368:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"589","locator":"369:7-369:75","alias":"InitialVR36ObliqueTime","expression":{"localId":"588","locator":"369:7-369:52","name":"Time VR36 Oblique Total Assessment Completed","type":"ExpressionRef"}},{"localId":"591","locator":"370:7-370:76","alias":"FollowUpVR36ObliqueTime","expression":{"localId":"590","locator":"370:7-370:52","name":"Time VR36 Oblique Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"617","locator":"371:7-375:157","type":"And","operand":[{"localId":"604","locator":"371:13-374:45","type":"And","operand":[{"localId":"597","locator":"371:13-372:33","type":"SameOrBefore","operand":[{"locator":"371:44-371:47","type":"End","operand":{"localId":"593","locator":"371:13-371:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"372:7-372:33","type":"Subtract","operand":[{"localId":"595","locator":"372:7-372:33","type":"End","operand":{"localId":"594","locator":"372:14-372:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"596","locator":"371:49-371:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"603","locator":"373:13-374:45","type":"And","operand":[{"locator":"373:36-373:50","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"598","locator":"373:13-373:34","name":"InitialVR36ObliqueTime","type":"AliasRef"}},{"locator":"373:36-373:50","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"374:9-374:45","type":"Subtract","operand":[{"localId":"601","locator":"374:9-374:45","type":"End","operand":{"localId":"600","locator":"374:16-374:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"602","locator":"373:36-373:42","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"601","locator":"374:9-374:45","type":"End","operand":{"localId":"600","locator":"374:16-374:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"373:36-373:50","type":"Not","operand":{"locator":"373:36-373:50","type":"IsNull","operand":{"localId":"601","locator":"374:9-374:45","type":"End","operand":{"localId":"600","locator":"374:16-374:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"616","locator":"375:13-375:157","precision":"Day","type":"In","operand":[{"localId":"606","locator":"375:13-375:45","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"605","locator":"375:23-375:45","name":"FollowUpVR36ObliqueTime","type":"AliasRef"}}},{"localId":"615","locator":"375:61-375:157","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"610","locator":"375:70-375:111","type":"Add","operand":[{"localId":"608","locator":"375:70-375:101","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"607","locator":"375:80-375:101","name":"InitialVR36ObliqueTime","type":"AliasRef"}}},{"localId":"609","locator":"375:105-375:111","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"614","locator":"375:114-375:156","type":"Add","operand":[{"localId":"612","locator":"375:114-375:145","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"611","locator":"375:124-375:145","name":"InitialVR36ObliqueTime","type":"AliasRef"}}},{"localId":"613","locator":"375:149-375:156","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"619","locator":"376:7-376:28","expression":{"localId":"618","locator":"376:14-376:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"666","locator":"211:1-220:72","name":"Time VR36 Orthogonal Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"666","s":[{"value":["","define ","\"Time VR36 Orthogonal Total Assessment Completed\"",":\n  "]},{"r":"665","s":[{"s":[{"value":["from\n    "]},{"r":"628","s":[{"r":"627","s":[{"r":"627","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-36 Mental component summary (MCS) score - orthogonal method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR36MentalAssessment"]}]},{"value":[",\n    "]},{"r":"630","s":[{"r":"629","s":[{"r":"629","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"VR-36 Physical component summary (PCS) score - orthogonal method T-score\""]}]},{"value":["]"]}]}]},{"value":[" ","VR36PhysicalAssessment"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"639","s":[{"value":["VR36MentalAssessmentTime",": "]},{"r":"638","s":[{"value":["date from "]},{"r":"637","s":[{"value":["start of "]},{"r":"636","s":[{"r":"631","s":[{"value":["Global"]}]},{"value":["."]},{"r":"636","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"633","s":[{"r":"632","s":[{"value":["VR36MentalAssessment"]}]},{"value":["."]},{"r":"633","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"635","s":[{"r":"634","s":[{"value":["VR36MentalAssessment"]}]},{"value":["."]},{"r":"635","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"648","s":[{"value":["VR36PhysicalAssessmentTime",": "]},{"r":"647","s":[{"value":["date from "]},{"r":"646","s":[{"value":["start of "]},{"r":"645","s":[{"r":"640","s":[{"value":["Global"]}]},{"value":["."]},{"r":"645","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"642","s":[{"r":"641","s":[{"value":["VR36PhysicalAssessment"]}]},{"value":["."]},{"r":"642","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"644","s":[{"r":"643","s":[{"value":["VR36PhysicalAssessment"]}]},{"value":["."]},{"r":"644","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"659","s":[{"value":["where "]},{"r":"659","s":[{"r":"655","s":[{"r":"651","s":[{"r":"649","s":[{"value":["VR36MentalAssessmentTime"]}]},{"r":"651","value":[" ","same day as"," "]},{"r":"650","s":[{"value":["VR36PhysicalAssessmentTime"]}]}]},{"value":["\n      and "]},{"r":"654","s":[{"r":"653","s":[{"r":"652","s":[{"value":["VR36MentalAssessment"]}]},{"value":["."]},{"r":"653","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"658","s":[{"r":"657","s":[{"r":"656","s":[{"value":["VR36PhysicalAssessment"]}]},{"value":["."]},{"r":"657","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"664","s":[{"value":["return "]},{"r":"663","s":[{"value":["Max","("]},{"r":"662","s":[{"value":["{ "]},{"r":"660","s":[{"value":["VR36MentalAssessmentTime"]}]},{"value":[", "]},{"r":"661","s":[{"value":["VR36PhysicalAssessmentTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"665","locator":"212:3-220:72","type":"Query","source":[{"localId":"628","locator":"213:5-213:124","alias":"VR36MentalAssessment","expression":{"localId":"627","locator":"213:5-213:103","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"213:31-213:102","name":"VR-36 Mental component summary (MCS) score - orthogonal method T-score","type":"CodeRef"}}}},{"localId":"630","locator":"214:5-214:128","alias":"VR36PhysicalAssessment","expression":{"localId":"629","locator":"214:5-214:105","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"214:31-214:104","name":"VR-36 Physical component summary (PCS) score - orthogonal method T-score","type":"CodeRef"}}}}],"let":[{"localId":"639","locator":"215:9-215:158","identifier":"VR36MentalAssessmentTime","expression":{"localId":"638","locator":"215:35-215:158","type":"DateFrom","operand":{"localId":"637","locator":"215:45-215:158","type":"Start","operand":{"localId":"636","locator":"215:54-215:158","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"633","locator":"215:83-215:119","path":"relevantDatetime","scope":"VR36MentalAssessment","type":"Property"},{"localId":"635","locator":"215:122-215:156","path":"relevantPeriod","scope":"VR36MentalAssessment","type":"Property"}]}}}},{"localId":"648","locator":"216:5-216:160","identifier":"VR36PhysicalAssessmentTime","expression":{"localId":"647","locator":"216:33-216:160","type":"DateFrom","operand":{"localId":"646","locator":"216:43-216:160","type":"Start","operand":{"localId":"645","locator":"216:52-216:160","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"642","locator":"216:81-216:119","path":"relevantDatetime","scope":"VR36PhysicalAssessment","type":"Property"},{"localId":"644","locator":"216:122-216:158","path":"relevantPeriod","scope":"VR36PhysicalAssessment","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"659","locator":"217:5-219:51","type":"And","operand":[{"localId":"655","locator":"217:11-218:49","type":"And","operand":[{"localId":"651","locator":"217:11-217:73","precision":"Day","type":"SameAs","operand":[{"localId":"649","locator":"217:11-217:34","name":"VR36MentalAssessmentTime","type":"QueryLetRef"},{"localId":"650","locator":"217:48-217:73","name":"VR36PhysicalAssessmentTime","type":"QueryLetRef"}]},{"localId":"654","locator":"218:11-218:49","type":"Not","operand":{"locator":"218:11-218:49","type":"IsNull","operand":{"localId":"653","locator":"218:11-218:37","path":"result","scope":"VR36MentalAssessment","type":"Property"}}}]},{"localId":"658","locator":"219:11-219:51","type":"Not","operand":{"locator":"219:11-219:51","type":"IsNull","operand":{"localId":"657","locator":"219:11-219:39","path":"result","scope":"VR36PhysicalAssessment","type":"Property"}}}]},"return":{"localId":"664","locator":"220:5-220:72","expression":{"localId":"663","locator":"220:12-220:72","type":"Max","source":{"localId":"662","locator":"220:16-220:71","type":"List","element":[{"localId":"660","locator":"220:18-220:41","name":"VR36MentalAssessmentTime","type":"QueryLetRef"},{"localId":"661","locator":"220:44-220:69","name":"VR36PhysicalAssessmentTime","type":"QueryLetRef"}]}}}}},{"localId":"701","locator":"353:1-364:3","name":"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"701","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments\"",":\n  "]},{"r":"700","s":[{"value":["exists "]},{"r":"699","s":[{"value":["( "]},{"r":"699","s":[{"s":[{"value":["from\n      "]},{"r":"626","s":[{"r":"625","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"668","s":[{"r":"667","s":[{"s":[{"value":["\"Time VR36 Orthogonal Total Assessment Completed\""]}]}]},{"value":[" ","InitialVR36OrthogonalTime"]}]},{"value":[",\n      "]},{"r":"670","s":[{"r":"669","s":[{"s":[{"value":["\"Time VR36 Orthogonal Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpVR36OrthogonalTime"]}]}]},{"value":["\n      "]},{"r":"696","s":[{"value":["where "]},{"r":"696","s":[{"r":"683","s":[{"r":"676","s":[{"r":"672","s":[{"r":"671","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"672","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"676","s":[{"value":["ends "]},{"r":"675","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"674","s":[{"value":["end of "]},{"r":"673","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"682","s":[{"r":"677","s":[{"value":["InitialVR36OrthogonalTime"]}]},{"value":[" "]},{"r":"682","s":[{"r":"681","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"680","s":[{"value":["end of "]},{"r":"679","s":[{"r":"678","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"679","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"695","s":[{"r":"685","s":[{"value":["date from "]},{"r":"684","s":[{"value":["FollowUpVR36OrthogonalTime"]}]}]},{"r":"695","value":[" ","during day of"," "]},{"r":"694","s":[{"value":["Interval["]},{"r":"689","s":[{"r":"687","s":[{"value":["date from "]},{"r":"686","s":[{"value":["InitialVR36OrthogonalTime"]}]}]},{"value":[" + "]},{"r":"688","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"693","s":[{"r":"691","s":[{"value":["date from "]},{"r":"690","s":[{"value":["InitialVR36OrthogonalTime"]}]}]},{"value":[" + "]},{"r":"692","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"698","s":[{"value":["return "]},{"r":"697","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"700","locator":"354:3-364:3","type":"Exists","operand":{"localId":"699","locator":"354:10-364:3","type":"Query","source":[{"localId":"626","locator":"355:7-355:45","alias":"ValidEncounters","expression":{"localId":"625","locator":"355:7-355:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"668","locator":"356:7-356:81","alias":"InitialVR36OrthogonalTime","expression":{"localId":"667","locator":"356:7-356:55","name":"Time VR36 Orthogonal Total Assessment Completed","type":"ExpressionRef"}},{"localId":"670","locator":"357:7-357:82","alias":"FollowUpVR36OrthogonalTime","expression":{"localId":"669","locator":"357:7-357:55","name":"Time VR36 Orthogonal Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"696","locator":"358:7-362:166","type":"And","operand":[{"localId":"683","locator":"358:13-361:45","type":"And","operand":[{"localId":"676","locator":"358:13-359:33","type":"SameOrBefore","operand":[{"locator":"358:44-358:47","type":"End","operand":{"localId":"672","locator":"358:13-358:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"359:7-359:33","type":"Subtract","operand":[{"localId":"674","locator":"359:7-359:33","type":"End","operand":{"localId":"673","locator":"359:14-359:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"675","locator":"358:49-358:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"682","locator":"360:13-361:45","type":"And","operand":[{"locator":"360:39-360:53","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"677","locator":"360:13-360:37","name":"InitialVR36OrthogonalTime","type":"AliasRef"}},{"locator":"360:39-360:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"361:9-361:45","type":"Subtract","operand":[{"localId":"680","locator":"361:9-361:45","type":"End","operand":{"localId":"679","locator":"361:16-361:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"681","locator":"360:39-360:45","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"680","locator":"361:9-361:45","type":"End","operand":{"localId":"679","locator":"361:16-361:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"360:39-360:53","type":"Not","operand":{"locator":"360:39-360:53","type":"IsNull","operand":{"localId":"680","locator":"361:9-361:45","type":"End","operand":{"localId":"679","locator":"361:16-361:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"695","locator":"362:13-362:166","precision":"Day","type":"In","operand":[{"localId":"685","locator":"362:13-362:48","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"684","locator":"362:23-362:48","name":"FollowUpVR36OrthogonalTime","type":"AliasRef"}}},{"localId":"694","locator":"362:64-362:166","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"689","locator":"362:73-362:117","type":"Add","operand":[{"localId":"687","locator":"362:73-362:107","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"686","locator":"362:83-362:107","name":"InitialVR36OrthogonalTime","type":"AliasRef"}}},{"localId":"688","locator":"362:111-362:117","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"693","locator":"362:120-362:165","type":"Add","operand":[{"localId":"691","locator":"362:120-362:154","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"690","locator":"362:130-362:154","name":"InitialVR36OrthogonalTime","type":"AliasRef"}}},{"localId":"692","locator":"362:158-362:165","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"698","locator":"363:7-363:28","expression":{"localId":"697","locator":"363:14-363:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"745","locator":"125:1-134:57","name":"Time MLHFQ Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"745","s":[{"value":["","define ","\"Time MLHFQ Total Assessment Completed\"",":\n  "]},{"r":"744","s":[{"s":[{"value":["from\n    "]},{"r":"707","s":[{"r":"706","s":[{"r":"706","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Physical score [MLHFQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","MLHFQPhysical"]}]},{"value":[",\n    "]},{"r":"709","s":[{"r":"708","s":[{"r":"708","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Emotional score [MLHFQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","MLHFQEmotional"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"718","s":[{"value":["MLHFQPhysicalTime",": "]},{"r":"717","s":[{"value":["date from "]},{"r":"716","s":[{"value":["start of "]},{"r":"715","s":[{"r":"710","s":[{"value":["Global"]}]},{"value":["."]},{"r":"715","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"712","s":[{"r":"711","s":[{"value":["MLHFQPhysical"]}]},{"value":["."]},{"r":"712","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"714","s":[{"r":"713","s":[{"value":["MLHFQPhysical"]}]},{"value":["."]},{"r":"714","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"727","s":[{"value":["MLHFQEmotionalTime",": "]},{"r":"726","s":[{"value":["date from "]},{"r":"725","s":[{"value":["start of "]},{"r":"724","s":[{"r":"719","s":[{"value":["Global"]}]},{"value":["."]},{"r":"724","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"721","s":[{"r":"720","s":[{"value":["MLHFQEmotional"]}]},{"value":["."]},{"r":"721","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"723","s":[{"r":"722","s":[{"value":["MLHFQEmotional"]}]},{"value":["."]},{"r":"723","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"738","s":[{"value":["where "]},{"r":"738","s":[{"r":"734","s":[{"r":"730","s":[{"r":"728","s":[{"value":["MLHFQPhysicalTime"]}]},{"r":"730","value":[" ","same day as"," "]},{"r":"729","s":[{"value":["MLHFQEmotionalTime"]}]}]},{"value":["\n      and "]},{"r":"733","s":[{"r":"732","s":[{"r":"731","s":[{"value":["MLHFQEmotional"]}]},{"value":["."]},{"r":"732","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"737","s":[{"r":"736","s":[{"r":"735","s":[{"value":["MLHFQPhysical"]}]},{"value":["."]},{"r":"736","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"743","s":[{"value":["return "]},{"r":"742","s":[{"value":["Max","("]},{"r":"741","s":[{"value":["{ "]},{"r":"739","s":[{"value":["MLHFQPhysicalTime"]}]},{"value":[", "]},{"r":"740","s":[{"value":["MLHFQEmotionalTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"744","locator":"126:3-134:57","type":"Query","source":[{"localId":"707","locator":"127:5-127:69","alias":"MLHFQPhysical","expression":{"localId":"706","locator":"127:5-127:55","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"127:31-127:54","name":"Physical score [MLHFQ]","type":"CodeRef"}}}},{"localId":"709","locator":"128:5-128:71","alias":"MLHFQEmotional","expression":{"localId":"708","locator":"128:5-128:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"128:31-128:55","name":"Emotional score [MLHFQ]","type":"CodeRef"}}}}],"let":[{"localId":"718","locator":"129:9-129:137","identifier":"MLHFQPhysicalTime","expression":{"localId":"717","locator":"129:28-129:137","type":"DateFrom","operand":{"localId":"716","locator":"129:38-129:137","type":"Start","operand":{"localId":"715","locator":"129:47-129:137","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"712","locator":"129:76-129:105","path":"relevantDatetime","scope":"MLHFQPhysical","type":"Property"},{"localId":"714","locator":"129:108-129:135","path":"relevantPeriod","scope":"MLHFQPhysical","type":"Property"}]}}}},{"localId":"727","locator":"130:5-130:136","identifier":"MLHFQEmotionalTime","expression":{"localId":"726","locator":"130:25-130:136","type":"DateFrom","operand":{"localId":"725","locator":"130:35-130:136","type":"Start","operand":{"localId":"724","locator":"130:44-130:136","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"721","locator":"130:73-130:103","path":"relevantDatetime","scope":"MLHFQEmotional","type":"Property"},{"localId":"723","locator":"130:106-130:134","path":"relevantPeriod","scope":"MLHFQEmotional","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"738","locator":"131:5-133:42","type":"And","operand":[{"localId":"734","locator":"131:11-132:43","type":"And","operand":[{"localId":"730","locator":"131:11-131:58","precision":"Day","type":"SameAs","operand":[{"localId":"728","locator":"131:11-131:27","name":"MLHFQPhysicalTime","type":"QueryLetRef"},{"localId":"729","locator":"131:41-131:58","name":"MLHFQEmotionalTime","type":"QueryLetRef"}]},{"localId":"733","locator":"132:11-132:43","type":"Not","operand":{"locator":"132:11-132:43","type":"IsNull","operand":{"localId":"732","locator":"132:11-132:31","path":"result","scope":"MLHFQEmotional","type":"Property"}}}]},{"localId":"737","locator":"133:11-133:42","type":"Not","operand":{"locator":"133:11-133:42","type":"IsNull","operand":{"localId":"736","locator":"133:11-133:30","path":"result","scope":"MLHFQPhysical","type":"Property"}}}]},"return":{"localId":"743","locator":"134:5-134:57","expression":{"localId":"742","locator":"134:12-134:57","type":"Max","source":{"localId":"741","locator":"134:16-134:56","type":"List","element":[{"localId":"739","locator":"134:18-134:34","name":"MLHFQPhysicalTime","type":"QueryLetRef"},{"localId":"740","locator":"134:37-134:54","name":"MLHFQEmotionalTime","type":"QueryLetRef"}]}}}}},{"localId":"780","locator":"288:1-299:3","name":"Has Encounter with Initial and Follow Up MLHFQ Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"780","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up MLHFQ Assessments\"",":\n  "]},{"r":"779","s":[{"value":["exists "]},{"r":"778","s":[{"value":["( "]},{"r":"778","s":[{"s":[{"value":["from\n      "]},{"r":"705","s":[{"r":"704","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"747","s":[{"r":"746","s":[{"s":[{"value":["\"Time MLHFQ Total Assessment Completed\""]}]}]},{"value":[" ","InitialMLHFQTime"]}]},{"value":[",\n      "]},{"r":"749","s":[{"r":"748","s":[{"s":[{"value":["\"Time MLHFQ Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpMLHFQTime"]}]}]},{"value":["\n      "]},{"r":"775","s":[{"value":["where "]},{"r":"775","s":[{"r":"762","s":[{"r":"755","s":[{"r":"751","s":[{"r":"750","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"751","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"755","s":[{"value":["ends "]},{"r":"754","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"753","s":[{"value":["end of "]},{"r":"752","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"761","s":[{"r":"756","s":[{"value":["InitialMLHFQTime"]}]},{"value":[" "]},{"r":"761","s":[{"r":"760","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"759","s":[{"value":["end of "]},{"r":"758","s":[{"r":"757","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"758","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"774","s":[{"r":"764","s":[{"value":["date from "]},{"r":"763","s":[{"value":["FollowUpMLHFQTime"]}]}]},{"r":"774","value":[" ","during day of"," "]},{"r":"773","s":[{"value":["Interval["]},{"r":"768","s":[{"r":"766","s":[{"value":["date from "]},{"r":"765","s":[{"value":["InitialMLHFQTime"]}]}]},{"value":[" + "]},{"r":"767","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"772","s":[{"r":"770","s":[{"value":["date from "]},{"r":"769","s":[{"value":["InitialMLHFQTime"]}]}]},{"value":[" + "]},{"r":"771","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"777","s":[{"value":["return "]},{"r":"776","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"779","locator":"289:3-299:3","type":"Exists","operand":{"localId":"778","locator":"289:10-299:3","type":"Query","source":[{"localId":"705","locator":"290:7-290:45","alias":"ValidEncounters","expression":{"localId":"704","locator":"290:7-290:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"747","locator":"291:7-291:62","alias":"InitialMLHFQTime","expression":{"localId":"746","locator":"291:7-291:45","name":"Time MLHFQ Total Assessment Completed","type":"ExpressionRef"}},{"localId":"749","locator":"292:7-292:63","alias":"FollowUpMLHFQTime","expression":{"localId":"748","locator":"292:7-292:45","name":"Time MLHFQ Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"775","locator":"293:7-297:139","type":"And","operand":[{"localId":"762","locator":"293:13-296:45","type":"And","operand":[{"localId":"755","locator":"293:13-294:33","type":"SameOrBefore","operand":[{"locator":"293:44-293:47","type":"End","operand":{"localId":"751","locator":"293:13-293:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"294:7-294:33","type":"Subtract","operand":[{"localId":"753","locator":"294:7-294:33","type":"End","operand":{"localId":"752","locator":"294:14-294:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"754","locator":"293:49-293:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"761","locator":"295:13-296:45","type":"And","operand":[{"locator":"295:30-295:44","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"756","locator":"295:13-295:28","name":"InitialMLHFQTime","type":"AliasRef"}},{"locator":"295:30-295:44","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"296:9-296:45","type":"Subtract","operand":[{"localId":"759","locator":"296:9-296:45","type":"End","operand":{"localId":"758","locator":"296:16-296:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"760","locator":"295:30-295:36","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"759","locator":"296:9-296:45","type":"End","operand":{"localId":"758","locator":"296:16-296:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"295:30-295:44","type":"Not","operand":{"locator":"295:30-295:44","type":"IsNull","operand":{"localId":"759","locator":"296:9-296:45","type":"End","operand":{"localId":"758","locator":"296:16-296:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"774","locator":"297:13-297:139","precision":"Day","type":"In","operand":[{"localId":"764","locator":"297:13-297:39","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"763","locator":"297:23-297:39","name":"FollowUpMLHFQTime","type":"AliasRef"}}},{"localId":"773","locator":"297:55-297:139","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"768","locator":"297:64-297:99","type":"Add","operand":[{"localId":"766","locator":"297:64-297:89","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"765","locator":"297:74-297:89","name":"InitialMLHFQTime","type":"AliasRef"}}},{"localId":"767","locator":"297:93-297:99","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"772","locator":"297:102-297:138","type":"Add","operand":[{"localId":"770","locator":"297:102-297:127","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"769","locator":"297:112-297:127","name":"InitialMLHFQTime","type":"AliasRef"}}},{"localId":"771","locator":"297:131-297:138","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"777","locator":"298:7-298:28","expression":{"localId":"776","locator":"298:14-298:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"824","locator":"114:1-123:53","name":"Time KCCQ12 Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"824","s":[{"value":["","define ","\"Time KCCQ12 Total Assessment Completed\"",":\n  "]},{"r":"823","s":[{"s":[{"value":["from\n    "]},{"r":"786","s":[{"r":"785","s":[{"r":"785","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQ12Item"]}]},{"value":[",\n    "]},{"r":"788","s":[{"r":"787","s":[{"r":"787","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Overall summary score [KCCQ-12]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQ12Summary"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"797","s":[{"value":["KCCQ12ItemTime",": "]},{"r":"796","s":[{"value":["date from "]},{"r":"795","s":[{"value":["start of "]},{"r":"794","s":[{"r":"789","s":[{"value":["Global"]}]},{"value":["."]},{"r":"794","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"791","s":[{"r":"790","s":[{"value":["KCCQ12Item"]}]},{"value":["."]},{"r":"791","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"793","s":[{"r":"792","s":[{"value":["KCCQ12Item"]}]},{"value":["."]},{"r":"793","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":[",\n    "]},{"r":"806","s":[{"value":["KCCQ12SummaryTime",": "]},{"r":"805","s":[{"value":["date from "]},{"r":"804","s":[{"value":["start of "]},{"r":"803","s":[{"r":"798","s":[{"value":["Global"]}]},{"value":["."]},{"r":"803","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"800","s":[{"r":"799","s":[{"value":["KCCQ12Summary"]}]},{"value":["."]},{"r":"800","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"802","s":[{"r":"801","s":[{"value":["KCCQ12Summary"]}]},{"value":["."]},{"r":"802","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"817","s":[{"value":["where "]},{"r":"817","s":[{"r":"813","s":[{"r":"809","s":[{"r":"807","s":[{"value":["KCCQ12ItemTime"]}]},{"r":"809","value":[" ","same day as"," "]},{"r":"808","s":[{"value":["KCCQ12SummaryTime"]}]}]},{"value":["\n      and "]},{"r":"812","s":[{"r":"811","s":[{"r":"810","s":[{"value":["KCCQ12Summary"]}]},{"value":["."]},{"r":"811","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"816","s":[{"r":"815","s":[{"r":"814","s":[{"value":["KCCQ12Item"]}]},{"value":["."]},{"r":"815","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"822","s":[{"value":["return "]},{"r":"821","s":[{"value":["Max","("]},{"r":"820","s":[{"value":["{ "]},{"r":"818","s":[{"value":["KCCQ12ItemTime"]}]},{"value":[", "]},{"r":"819","s":[{"value":["KCCQ12SummaryTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"823","locator":"115:3-123:53","type":"Query","source":[{"localId":"786","locator":"116:5-116:104","alias":"KCCQ12Item","expression":{"localId":"785","locator":"116:5-116:93","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"116:31-116:92","name":"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]","type":"CodeRef"}}}},{"localId":"788","locator":"117:5-117:78","alias":"KCCQ12Summary","expression":{"localId":"787","locator":"117:5-117:64","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"117:31-117:63","name":"Overall summary score [KCCQ-12]","type":"CodeRef"}}}}],"let":[{"localId":"797","locator":"118:9-118:128","identifier":"KCCQ12ItemTime","expression":{"localId":"796","locator":"118:25-118:128","type":"DateFrom","operand":{"localId":"795","locator":"118:35-118:128","type":"Start","operand":{"localId":"794","locator":"118:44-118:128","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"791","locator":"118:73-118:99","path":"relevantDatetime","scope":"KCCQ12Item","type":"Property"},{"localId":"793","locator":"118:102-118:126","path":"relevantPeriod","scope":"KCCQ12Item","type":"Property"}]}}}},{"localId":"806","locator":"119:5-119:133","identifier":"KCCQ12SummaryTime","expression":{"localId":"805","locator":"119:24-119:133","type":"DateFrom","operand":{"localId":"804","locator":"119:34-119:133","type":"Start","operand":{"localId":"803","locator":"119:43-119:133","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"800","locator":"119:72-119:101","path":"relevantDatetime","scope":"KCCQ12Summary","type":"Property"},{"localId":"802","locator":"119:104-119:131","path":"relevantPeriod","scope":"KCCQ12Summary","type":"Property"}]}}}}],"relationship":[],"where":{"localId":"817","locator":"120:5-122:39","type":"And","operand":[{"localId":"813","locator":"120:11-121:42","type":"And","operand":[{"localId":"809","locator":"120:11-120:54","precision":"Day","type":"SameAs","operand":[{"localId":"807","locator":"120:11-120:24","name":"KCCQ12ItemTime","type":"QueryLetRef"},{"localId":"808","locator":"120:38-120:54","name":"KCCQ12SummaryTime","type":"QueryLetRef"}]},{"localId":"812","locator":"121:11-121:42","type":"Not","operand":{"locator":"121:11-121:42","type":"IsNull","operand":{"localId":"811","locator":"121:11-121:30","path":"result","scope":"KCCQ12Summary","type":"Property"}}}]},{"localId":"816","locator":"122:11-122:39","type":"Not","operand":{"locator":"122:11-122:39","type":"IsNull","operand":{"localId":"815","locator":"122:11-122:27","path":"result","scope":"KCCQ12Item","type":"Property"}}}]},"return":{"localId":"822","locator":"123:5-123:53","expression":{"localId":"821","locator":"123:12-123:53","type":"Max","source":{"localId":"820","locator":"123:16-123:52","type":"List","element":[{"localId":"818","locator":"123:18-123:31","name":"KCCQ12ItemTime","type":"QueryLetRef"},{"localId":"819","locator":"123:34-123:50","name":"KCCQ12SummaryTime","type":"QueryLetRef"}]}}}}},{"localId":"859","locator":"275:1-286:3","name":"Has Encounter with Initial and Follow Up KCCQ12 Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"859","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up KCCQ12 Assessments\"",":\n  "]},{"r":"858","s":[{"value":["exists "]},{"r":"857","s":[{"value":["( "]},{"r":"857","s":[{"s":[{"value":["from\n      "]},{"r":"784","s":[{"r":"783","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"826","s":[{"r":"825","s":[{"s":[{"value":["\"Time KCCQ12 Total Assessment Completed\""]}]}]},{"value":[" ","InitialKCCQ12Time"]}]},{"value":[",\n      "]},{"r":"828","s":[{"r":"827","s":[{"s":[{"value":["\"Time KCCQ12 Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpKCCQ12Time"]}]}]},{"value":["\n      "]},{"r":"854","s":[{"value":["where "]},{"r":"854","s":[{"r":"841","s":[{"r":"834","s":[{"r":"830","s":[{"r":"829","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"830","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"834","s":[{"value":["ends "]},{"r":"833","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"832","s":[{"value":["end of "]},{"r":"831","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"840","s":[{"r":"835","s":[{"value":["InitialKCCQ12Time"]}]},{"value":[" "]},{"r":"840","s":[{"r":"839","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" \n        "]},{"r":"838","s":[{"value":["end of "]},{"r":"837","s":[{"r":"836","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"837","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"853","s":[{"r":"843","s":[{"value":["date from "]},{"r":"842","s":[{"value":["FollowUpKCCQ12Time"]}]}]},{"r":"853","value":[" ","during day of"," "]},{"r":"852","s":[{"value":["Interval["]},{"r":"847","s":[{"r":"845","s":[{"value":["date from "]},{"r":"844","s":[{"value":["InitialKCCQ12Time"]}]}]},{"value":[" + "]},{"r":"846","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"851","s":[{"r":"849","s":[{"value":["date from "]},{"r":"848","s":[{"value":["InitialKCCQ12Time"]}]}]},{"value":[" + "]},{"r":"850","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"856","s":[{"value":["return "]},{"r":"855","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"858","locator":"276:3-286:3","type":"Exists","operand":{"localId":"857","locator":"276:10-286:3","type":"Query","source":[{"localId":"784","locator":"277:7-277:45","alias":"ValidEncounters","expression":{"localId":"783","locator":"277:7-277:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"826","locator":"278:7-278:64","alias":"InitialKCCQ12Time","expression":{"localId":"825","locator":"278:7-278:46","name":"Time KCCQ12 Total Assessment Completed","type":"ExpressionRef"}},{"localId":"828","locator":"279:7-279:65","alias":"FollowUpKCCQ12Time","expression":{"localId":"827","locator":"279:7-279:46","name":"Time KCCQ12 Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"854","locator":"280:7-284:142","type":"And","operand":[{"localId":"841","locator":"280:13-283:45","type":"And","operand":[{"localId":"834","locator":"280:13-281:33","type":"SameOrBefore","operand":[{"locator":"280:44-280:47","type":"End","operand":{"localId":"830","locator":"280:13-280:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"281:7-281:33","type":"Subtract","operand":[{"localId":"832","locator":"281:7-281:33","type":"End","operand":{"localId":"831","locator":"281:14-281:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"833","locator":"280:49-280:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"840","locator":"282:13-283:45","type":"And","operand":[{"locator":"282:31-282:45","precision":"Day","type":"In","operand":[{"type":"ToDateTime","operand":{"localId":"835","locator":"282:13-282:29","name":"InitialKCCQ12Time","type":"AliasRef"}},{"locator":"282:31-282:45","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"283:9-283:45","type":"Subtract","operand":[{"localId":"838","locator":"283:9-283:45","type":"End","operand":{"localId":"837","locator":"283:16-283:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"839","locator":"282:31-282:37","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"838","locator":"283:9-283:45","type":"End","operand":{"localId":"837","locator":"283:16-283:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"282:31-282:45","type":"Not","operand":{"locator":"282:31-282:45","type":"IsNull","operand":{"localId":"838","locator":"283:9-283:45","type":"End","operand":{"localId":"837","locator":"283:16-283:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"853","locator":"284:13-284:142","precision":"Day","type":"In","operand":[{"localId":"843","locator":"284:13-284:40","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"842","locator":"284:23-284:40","name":"FollowUpKCCQ12Time","type":"AliasRef"}}},{"localId":"852","locator":"284:56-284:142","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"847","locator":"284:65-284:101","type":"Add","operand":[{"localId":"845","locator":"284:65-284:91","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"844","locator":"284:75-284:91","name":"InitialKCCQ12Time","type":"AliasRef"}}},{"localId":"846","locator":"284:95-284:101","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"851","locator":"284:104-284:141","type":"Add","operand":[{"localId":"849","locator":"284:104-284:130","type":"DateFrom","operand":{"type":"ToDateTime","operand":{"localId":"848","locator":"284:114-284:130","name":"InitialKCCQ12Time","type":"AliasRef"}}},{"localId":"850","locator":"284:134-284:141","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"856","locator":"285:7-285:28","expression":{"localId":"855","locator":"285:14-285:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"977","locator":"81:1-106:151","name":"Time KCCQ Domain Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"977","s":[{"value":["","define ","\"Time KCCQ Domain Assessment Completed\"",":\n  "]},{"r":"976","s":[{"s":[{"value":["from\n    "]},{"r":"865","s":[{"r":"864","s":[{"r":"864","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Quality of life score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQLifeQuality"]}]},{"value":[",\n    "]},{"r":"867","s":[{"r":"866","s":[{"r":"866","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Symptom stability score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQSymptomStability"]}]},{"value":[",\n    "]},{"r":"869","s":[{"r":"868","s":[{"r":"868","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Self-efficacy score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQSelfEfficacy"]}]},{"value":[",\n    "]},{"r":"871","s":[{"r":"870","s":[{"r":"870","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Total symptom score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQSymptoms"]}]},{"value":[",\n    "]},{"r":"873","s":[{"r":"872","s":[{"r":"872","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Physical limitation score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQPhysicalLimits"]}]},{"value":[",\n    "]},{"r":"875","s":[{"r":"874","s":[{"r":"874","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Social limitation score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQSocialLimits"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"883","s":[{"value":["KCCQLifeQualityTime",": "]},{"r":"882","s":[{"value":["start of "]},{"r":"881","s":[{"r":"876","s":[{"value":["Global"]}]},{"value":["."]},{"r":"881","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"878","s":[{"r":"877","s":[{"value":["KCCQLifeQuality"]}]},{"value":["."]},{"r":"878","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"880","s":[{"r":"879","s":[{"value":["KCCQLifeQuality"]}]},{"value":["."]},{"r":"880","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]},{"value":[",\n    "]},{"r":"891","s":[{"value":["KCCQSymptomStabilityTime",": "]},{"r":"890","s":[{"value":["start of "]},{"r":"889","s":[{"r":"884","s":[{"value":["Global"]}]},{"value":["."]},{"r":"889","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"886","s":[{"r":"885","s":[{"value":["KCCQSymptomStability"]}]},{"value":["."]},{"r":"886","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"888","s":[{"r":"887","s":[{"value":["KCCQSymptomStability"]}]},{"value":["."]},{"r":"888","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]},{"value":[",\n    "]},{"r":"899","s":[{"value":["KCCQSelfEfficacyTime",": "]},{"r":"898","s":[{"value":["start of "]},{"r":"897","s":[{"r":"892","s":[{"value":["Global"]}]},{"value":["."]},{"r":"897","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"894","s":[{"r":"893","s":[{"value":["KCCQSelfEfficacy"]}]},{"value":["."]},{"r":"894","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"896","s":[{"r":"895","s":[{"value":["KCCQSelfEfficacy"]}]},{"value":["."]},{"r":"896","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]},{"value":[",\n    "]},{"r":"907","s":[{"value":["KCCQSymptomsTime",": "]},{"r":"906","s":[{"value":["start of "]},{"r":"905","s":[{"r":"900","s":[{"value":["Global"]}]},{"value":["."]},{"r":"905","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"902","s":[{"r":"901","s":[{"value":["KCCQSymptoms"]}]},{"value":["."]},{"r":"902","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"904","s":[{"r":"903","s":[{"value":["KCCQSymptoms"]}]},{"value":["."]},{"r":"904","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]},{"value":[",\n    "]},{"r":"915","s":[{"value":["KCCQPhysicalLimitsTime",": "]},{"r":"914","s":[{"value":["start of "]},{"r":"913","s":[{"r":"908","s":[{"value":["Global"]}]},{"value":["."]},{"r":"913","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"910","s":[{"r":"909","s":[{"value":["KCCQPhysicalLimits"]}]},{"value":["."]},{"r":"910","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"912","s":[{"r":"911","s":[{"value":["KCCQPhysicalLimits"]}]},{"value":["."]},{"r":"912","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]},{"value":[",\n    "]},{"r":"923","s":[{"value":["KCCQSocialLimitsTime",": "]},{"r":"922","s":[{"value":["start of "]},{"r":"921","s":[{"r":"916","s":[{"value":["Global"]}]},{"value":["."]},{"r":"921","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"918","s":[{"r":"917","s":[{"value":["KCCQSocialLimits"]}]},{"value":["."]},{"r":"918","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"920","s":[{"r":"919","s":[{"value":["KCCQSocialLimits"]}]},{"value":["."]},{"r":"920","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":["\n    "]},{"r":"966","s":[{"value":["where "]},{"r":"966","s":[{"r":"962","s":[{"r":"958","s":[{"r":"954","s":[{"r":"950","s":[{"r":"946","s":[{"r":"942","s":[{"r":"938","s":[{"r":"934","s":[{"r":"930","s":[{"r":"926","s":[{"r":"924","s":[{"value":["KCCQLifeQualityTime"]}]},{"r":"926","value":[" ","same day as"," "]},{"r":"925","s":[{"value":["KCCQSymptomStabilityTime"]}]}]},{"value":["\n      and "]},{"r":"929","s":[{"r":"928","s":[{"r":"927","s":[{"value":["KCCQSymptomStability"]}]},{"value":["."]},{"r":"928","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"933","s":[{"r":"931","s":[{"value":["KCCQLifeQualityTime"]}]},{"r":"933","value":[" ","same day as"," "]},{"r":"932","s":[{"value":["KCCQSelfEfficacyTime"]}]}]}]},{"value":["\n      and "]},{"r":"937","s":[{"r":"936","s":[{"r":"935","s":[{"value":["KCCQSelfEfficacy"]}]},{"value":["."]},{"r":"936","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"941","s":[{"r":"939","s":[{"value":["KCCQLifeQualityTime"]}]},{"r":"941","value":[" ","same day as"," "]},{"r":"940","s":[{"value":["KCCQSymptomsTime"]}]}]}]},{"value":["\n      and "]},{"r":"945","s":[{"r":"944","s":[{"r":"943","s":[{"value":["KCCQSymptoms"]}]},{"value":["."]},{"r":"944","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"949","s":[{"r":"947","s":[{"value":["KCCQLifeQualityTime"]}]},{"r":"949","value":[" ","same day as"," "]},{"r":"948","s":[{"value":["KCCQPhysicalLimitsTime"]}]}]}]},{"value":["\n      and "]},{"r":"953","s":[{"r":"952","s":[{"r":"951","s":[{"value":["KCCQPhysicalLimits"]}]},{"value":["."]},{"r":"952","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"957","s":[{"r":"955","s":[{"value":["KCCQLifeQualityTime"]}]},{"r":"957","value":[" ","same day as"," "]},{"r":"956","s":[{"value":["KCCQSocialLimitsTime"]}]}]}]},{"value":["\n      and "]},{"r":"961","s":[{"r":"960","s":[{"r":"959","s":[{"value":["KCCQSocialLimits"]}]},{"value":["."]},{"r":"960","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"965","s":[{"r":"964","s":[{"r":"963","s":[{"value":["KCCQLifeQuality"]}]},{"value":["."]},{"r":"964","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n    "]},{"r":"975","s":[{"value":["return "]},{"r":"974","s":[{"value":["Max","("]},{"r":"973","s":[{"value":["{ "]},{"r":"967","s":[{"value":["KCCQLifeQualityTime"]}]},{"value":[", "]},{"r":"968","s":[{"value":["KCCQSymptomStabilityTime"]}]},{"value":[", "]},{"r":"969","s":[{"value":["KCCQSelfEfficacyTime"]}]},{"value":[", "]},{"r":"970","s":[{"value":["KCCQSymptomsTime"]}]},{"value":[", "]},{"r":"971","s":[{"value":["KCCQPhysicalLimitsTime"]}]},{"value":[", "]},{"r":"972","s":[{"value":["KCCQSocialLimitsTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"976","locator":"82:3-106:151","type":"Query","source":[{"localId":"865","locator":"83:5-83:77","alias":"KCCQLifeQuality","expression":{"localId":"864","locator":"83:5-83:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"83:31-83:60","name":"Quality of life score [KCCQ]","type":"CodeRef"}}}},{"localId":"867","locator":"84:5-84:84","alias":"KCCQSymptomStability","expression":{"localId":"866","locator":"84:5-84:63","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"84:31-84:62","name":"Symptom stability score [KCCQ]","type":"CodeRef"}}}},{"localId":"869","locator":"85:5-85:76","alias":"KCCQSelfEfficacy","expression":{"localId":"868","locator":"85:5-85:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"85:31-85:58","name":"Self-efficacy score [KCCQ]","type":"CodeRef"}}}},{"localId":"871","locator":"86:5-86:72","alias":"KCCQSymptoms","expression":{"localId":"870","locator":"86:5-86:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"86:31-86:58","name":"Total symptom score [KCCQ]","type":"CodeRef"}}}},{"localId":"873","locator":"87:5-87:84","alias":"KCCQPhysicalLimits","expression":{"localId":"872","locator":"87:5-87:65","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"87:31-87:64","name":"Physical limitation score [KCCQ]","type":"CodeRef"}}}},{"localId":"875","locator":"88:5-88:80","alias":"KCCQSocialLimits","expression":{"localId":"874","locator":"88:5-88:63","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"88:31-88:62","name":"Social limitation score [KCCQ]","type":"CodeRef"}}}}],"let":[{"localId":"883","locator":"89:9-89:133","identifier":"KCCQLifeQualityTime","expression":{"localId":"882","locator":"89:30-89:133","type":"Start","operand":{"localId":"881","locator":"89:39-89:133","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"878","locator":"89:68-89:99","path":"relevantDatetime","scope":"KCCQLifeQuality","type":"Property"},{"localId":"880","locator":"89:102-89:131","path":"relevantPeriod","scope":"KCCQLifeQuality","type":"Property"}]}}},{"localId":"891","locator":"90:5-90:144","identifier":"KCCQSymptomStabilityTime","expression":{"localId":"890","locator":"90:31-90:144","type":"Start","operand":{"localId":"889","locator":"90:40-90:144","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"886","locator":"90:69-90:105","path":"relevantDatetime","scope":"KCCQSymptomStability","type":"Property"},{"localId":"888","locator":"90:108-90:142","path":"relevantPeriod","scope":"KCCQSymptomStability","type":"Property"}]}}},{"localId":"899","locator":"91:5-91:132","identifier":"KCCQSelfEfficacyTime","expression":{"localId":"898","locator":"91:27-91:132","type":"Start","operand":{"localId":"897","locator":"91:36-91:132","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"894","locator":"91:65-91:97","path":"relevantDatetime","scope":"KCCQSelfEfficacy","type":"Property"},{"localId":"896","locator":"91:100-91:130","path":"relevantPeriod","scope":"KCCQSelfEfficacy","type":"Property"}]}}},{"localId":"907","locator":"92:5-92:120","identifier":"KCCQSymptomsTime","expression":{"localId":"906","locator":"92:23-92:120","type":"Start","operand":{"localId":"905","locator":"92:32-92:120","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"902","locator":"92:61-92:89","path":"relevantDatetime","scope":"KCCQSymptoms","type":"Property"},{"localId":"904","locator":"92:92-92:118","path":"relevantPeriod","scope":"KCCQSymptoms","type":"Property"}]}}},{"localId":"915","locator":"93:5-93:138","identifier":"KCCQPhysicalLimitsTime","expression":{"localId":"914","locator":"93:29-93:138","type":"Start","operand":{"localId":"913","locator":"93:38-93:138","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"910","locator":"93:67-93:101","path":"relevantDatetime","scope":"KCCQPhysicalLimits","type":"Property"},{"localId":"912","locator":"93:104-93:136","path":"relevantPeriod","scope":"KCCQPhysicalLimits","type":"Property"}]}}},{"localId":"923","locator":"94:5-94:132","identifier":"KCCQSocialLimitsTime","expression":{"localId":"922","locator":"94:27-94:132","type":"Start","operand":{"localId":"921","locator":"94:36-94:132","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"918","locator":"94:65-94:97","path":"relevantDatetime","scope":"KCCQSocialLimits","type":"Property"},{"localId":"920","locator":"94:100-94:130","path":"relevantPeriod","scope":"KCCQSocialLimits","type":"Property"}]}}}],"relationship":[],"where":{"localId":"966","locator":"95:5-105:44","type":"And","operand":[{"localId":"962","locator":"95:11-104:45","type":"And","operand":[{"localId":"958","locator":"95:11-103:62","type":"And","operand":[{"localId":"954","locator":"95:11-102:47","type":"And","operand":[{"localId":"950","locator":"95:11-101:64","type":"And","operand":[{"localId":"946","locator":"95:11-100:41","type":"And","operand":[{"localId":"942","locator":"95:11-99:58","type":"And","operand":[{"localId":"938","locator":"95:11-98:45","type":"And","operand":[{"localId":"934","locator":"95:11-97:62","type":"And","operand":[{"localId":"930","locator":"95:11-96:49","type":"And","operand":[{"localId":"926","locator":"95:11-95:66","precision":"Day","type":"SameAs","operand":[{"localId":"924","locator":"95:11-95:29","name":"KCCQLifeQualityTime","type":"QueryLetRef"},{"localId":"925","locator":"95:43-95:66","name":"KCCQSymptomStabilityTime","type":"QueryLetRef"}]},{"localId":"929","locator":"96:11-96:49","type":"Not","operand":{"locator":"96:11-96:49","type":"IsNull","operand":{"localId":"928","locator":"96:11-96:37","path":"result","scope":"KCCQSymptomStability","type":"Property"}}}]},{"localId":"933","locator":"97:11-97:62","precision":"Day","type":"SameAs","operand":[{"localId":"931","locator":"97:11-97:29","name":"KCCQLifeQualityTime","type":"QueryLetRef"},{"localId":"932","locator":"97:43-97:62","name":"KCCQSelfEfficacyTime","type":"QueryLetRef"}]}]},{"localId":"937","locator":"98:11-98:45","type":"Not","operand":{"locator":"98:11-98:45","type":"IsNull","operand":{"localId":"936","locator":"98:11-98:33","path":"result","scope":"KCCQSelfEfficacy","type":"Property"}}}]},{"localId":"941","locator":"99:11-99:58","precision":"Day","type":"SameAs","operand":[{"localId":"939","locator":"99:11-99:29","name":"KCCQLifeQualityTime","type":"QueryLetRef"},{"localId":"940","locator":"99:43-99:58","name":"KCCQSymptomsTime","type":"QueryLetRef"}]}]},{"localId":"945","locator":"100:11-100:41","type":"Not","operand":{"locator":"100:11-100:41","type":"IsNull","operand":{"localId":"944","locator":"100:11-100:29","path":"result","scope":"KCCQSymptoms","type":"Property"}}}]},{"localId":"949","locator":"101:11-101:64","precision":"Day","type":"SameAs","operand":[{"localId":"947","locator":"101:11-101:29","name":"KCCQLifeQualityTime","type":"QueryLetRef"},{"localId":"948","locator":"101:43-101:64","name":"KCCQPhysicalLimitsTime","type":"QueryLetRef"}]}]},{"localId":"953","locator":"102:11-102:47","type":"Not","operand":{"locator":"102:11-102:47","type":"IsNull","operand":{"localId":"952","locator":"102:11-102:35","path":"result","scope":"KCCQPhysicalLimits","type":"Property"}}}]},{"localId":"957","locator":"103:11-103:62","precision":"Day","type":"SameAs","operand":[{"localId":"955","locator":"103:11-103:29","name":"KCCQLifeQualityTime","type":"QueryLetRef"},{"localId":"956","locator":"103:43-103:62","name":"KCCQSocialLimitsTime","type":"QueryLetRef"}]}]},{"localId":"961","locator":"104:11-104:45","type":"Not","operand":{"locator":"104:11-104:45","type":"IsNull","operand":{"localId":"960","locator":"104:11-104:33","path":"result","scope":"KCCQSocialLimits","type":"Property"}}}]},{"localId":"965","locator":"105:11-105:44","type":"Not","operand":{"locator":"105:11-105:44","type":"IsNull","operand":{"localId":"964","locator":"105:11-105:32","path":"result","scope":"KCCQLifeQuality","type":"Property"}}}]},"return":{"localId":"975","locator":"106:5-106:151","expression":{"localId":"974","locator":"106:12-106:151","type":"Max","source":{"localId":"973","locator":"106:16-106:150","type":"List","element":[{"localId":"967","locator":"106:18-106:36","name":"KCCQLifeQualityTime","type":"QueryLetRef"},{"localId":"968","locator":"106:39-106:62","name":"KCCQSymptomStabilityTime","type":"QueryLetRef"},{"localId":"969","locator":"106:65-106:84","name":"KCCQSelfEfficacyTime","type":"QueryLetRef"},{"localId":"970","locator":"106:87-106:102","name":"KCCQSymptomsTime","type":"QueryLetRef"},{"localId":"971","locator":"106:105-106:126","name":"KCCQPhysicalLimitsTime","type":"QueryLetRef"},{"localId":"972","locator":"106:129-106:148","name":"KCCQSocialLimitsTime","type":"QueryLetRef"}]}}}}},{"localId":"1012","locator":"249:1-260:3","name":"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1012","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments\"",":\n  "]},{"r":"1011","s":[{"value":["exists "]},{"r":"1010","s":[{"value":["( "]},{"r":"1010","s":[{"s":[{"value":["from\n      "]},{"r":"863","s":[{"r":"862","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"979","s":[{"r":"978","s":[{"s":[{"value":["\"Time KCCQ Domain Assessment Completed\""]}]}]},{"value":[" ","InitialKCCQAssessmentTime"]}]},{"value":[",\n      "]},{"r":"981","s":[{"r":"980","s":[{"s":[{"value":["\"Time KCCQ Domain Assessment Completed\""]}]}]},{"value":[" ","FollowUpKCCQAssessmentTime"]}]}]},{"value":["\n      "]},{"r":"1007","s":[{"value":["where "]},{"r":"1007","s":[{"r":"994","s":[{"r":"987","s":[{"r":"983","s":[{"r":"982","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"983","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"987","s":[{"value":["ends "]},{"r":"986","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"985","s":[{"value":["end of "]},{"r":"984","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"993","s":[{"r":"988","s":[{"value":["InitialKCCQAssessmentTime"]}]},{"value":[" "]},{"r":"993","s":[{"r":"992","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before"]}]},{"value":[" \n        "]},{"r":"991","s":[{"value":["end of "]},{"r":"990","s":[{"r":"989","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"990","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"1006","s":[{"r":"996","s":[{"value":["date from "]},{"r":"995","s":[{"value":["FollowUpKCCQAssessmentTime"]}]}]},{"r":"1006","value":[" ","during day of"," "]},{"r":"1005","s":[{"value":["Interval["]},{"r":"1000","s":[{"r":"998","s":[{"value":["date from "]},{"r":"997","s":[{"value":["InitialKCCQAssessmentTime"]}]}]},{"value":[" + "]},{"r":"999","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"1004","s":[{"r":"1002","s":[{"value":["date from "]},{"r":"1001","s":[{"value":["InitialKCCQAssessmentTime"]}]}]},{"value":[" + "]},{"r":"1003","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"1009","s":[{"value":["return "]},{"r":"1008","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"1011","locator":"250:3-260:3","type":"Exists","operand":{"localId":"1010","locator":"250:10-260:3","type":"Query","source":[{"localId":"863","locator":"251:7-251:45","alias":"ValidEncounters","expression":{"localId":"862","locator":"251:7-251:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"979","locator":"252:7-252:71","alias":"InitialKCCQAssessmentTime","expression":{"localId":"978","locator":"252:7-252:45","name":"Time KCCQ Domain Assessment Completed","type":"ExpressionRef"}},{"localId":"981","locator":"253:7-253:72","alias":"FollowUpKCCQAssessmentTime","expression":{"localId":"980","locator":"253:7-253:45","name":"Time KCCQ Domain Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"1007","locator":"254:7-258:166","type":"And","operand":[{"localId":"994","locator":"254:13-257:45","type":"And","operand":[{"localId":"987","locator":"254:13-255:33","type":"SameOrBefore","operand":[{"locator":"254:44-254:47","type":"End","operand":{"localId":"983","locator":"254:13-254:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"255:7-255:33","type":"Subtract","operand":[{"localId":"985","locator":"255:7-255:33","type":"End","operand":{"localId":"984","locator":"255:14-255:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"986","locator":"254:49-254:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"993","locator":"256:13-257:45","type":"And","operand":[{"locator":"256:39-256:53","type":"In","operand":[{"localId":"988","locator":"256:13-256:37","name":"InitialKCCQAssessmentTime","type":"AliasRef"},{"locator":"256:39-256:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"257:9-257:45","type":"Subtract","operand":[{"localId":"991","locator":"257:9-257:45","type":"End","operand":{"localId":"990","locator":"257:16-257:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"992","locator":"256:39-256:45","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"991","locator":"257:9-257:45","type":"End","operand":{"localId":"990","locator":"257:16-257:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"256:39-256:53","type":"Not","operand":{"locator":"256:39-256:53","type":"IsNull","operand":{"localId":"991","locator":"257:9-257:45","type":"End","operand":{"localId":"990","locator":"257:16-257:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"1006","locator":"258:13-258:166","precision":"Day","type":"In","operand":[{"localId":"996","locator":"258:13-258:48","type":"DateFrom","operand":{"localId":"995","locator":"258:23-258:48","name":"FollowUpKCCQAssessmentTime","type":"AliasRef"}},{"localId":"1005","locator":"258:64-258:166","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"1000","locator":"258:73-258:117","type":"Add","operand":[{"localId":"998","locator":"258:73-258:107","type":"DateFrom","operand":{"localId":"997","locator":"258:83-258:107","name":"InitialKCCQAssessmentTime","type":"AliasRef"}},{"localId":"999","locator":"258:111-258:117","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"1004","locator":"258:120-258:165","type":"Add","operand":[{"localId":"1002","locator":"258:120-258:154","type":"DateFrom","operand":{"localId":"1001","locator":"258:130-258:154","name":"InitialKCCQAssessmentTime","type":"AliasRef"}},{"localId":"1003","locator":"258:158-258:165","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"1009","locator":"259:7-259:28","expression":{"localId":"1008","locator":"259:14-259:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"1035","locator":"108:1-112:40","name":"Time KCCQ Total Assessment Completed","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1035","s":[{"value":["","define ","\"Time KCCQ Total Assessment Completed\"",":\n  "]},{"r":"1034","s":[{"s":[{"r":"1018","s":[{"r":"1017","s":[{"r":"1017","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Overall summary score [KCCQ]\""]}]},{"value":["]"]}]}]},{"value":[" ","KCCQSummaryScore"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"1026","s":[{"value":["KCCQSummaryScoreTime",": "]},{"r":"1025","s":[{"value":["start of "]},{"r":"1024","s":[{"r":"1019","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1024","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"1021","s":[{"r":"1020","s":[{"value":["KCCQSummaryScore"]}]},{"value":["."]},{"r":"1021","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"1023","s":[{"r":"1022","s":[{"value":["KCCQSummaryScore"]}]},{"value":["."]},{"r":"1023","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":["\n    "]},{"r":"1029","s":[{"value":["where "]},{"r":"1029","s":[{"r":"1028","s":[{"r":"1027","s":[{"value":["KCCQSummaryScore"]}]},{"value":["."]},{"r":"1028","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n    "]},{"r":"1033","s":[{"value":["return "]},{"r":"1032","s":[{"value":["Max","("]},{"r":"1031","s":[{"value":["{ "]},{"r":"1030","s":[{"value":["KCCQSummaryScoreTime"]}]},{"value":[" }"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"1034","locator":"109:3-112:40","type":"Query","source":[{"localId":"1018","locator":"109:3-109:76","alias":"KCCQSummaryScore","expression":{"localId":"1017","locator":"109:3-109:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"109:29-109:58","name":"Overall summary score [KCCQ]","type":"CodeRef"}}}}],"let":[{"localId":"1026","locator":"110:9-110:136","identifier":"KCCQSummaryScoreTime","expression":{"localId":"1025","locator":"110:31-110:136","type":"Start","operand":{"localId":"1024","locator":"110:40-110:136","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"1021","locator":"110:69-110:101","path":"relevantDatetime","scope":"KCCQSummaryScore","type":"Property"},{"localId":"1023","locator":"110:104-110:134","path":"relevantPeriod","scope":"KCCQSummaryScore","type":"Property"}]}}}],"relationship":[],"where":{"localId":"1029","locator":"111:5-111:45","type":"Not","operand":{"locator":"111:11-111:45","type":"IsNull","operand":{"localId":"1028","locator":"111:11-111:33","path":"result","scope":"KCCQSummaryScore","type":"Property"}}},"return":{"localId":"1033","locator":"112:5-112:40","expression":{"localId":"1032","locator":"112:12-112:40","type":"Max","source":{"localId":"1031","locator":"112:16-112:39","type":"List","element":[{"localId":"1030","locator":"112:18-112:37","name":"KCCQSummaryScoreTime","type":"QueryLetRef"}]}}}}},{"localId":"1070","locator":"262:1-273:3","name":"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1070","s":[{"value":["","define ","\"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments\"",":\n  "]},{"r":"1069","s":[{"value":["exists "]},{"r":"1068","s":[{"value":["( "]},{"r":"1068","s":[{"s":[{"value":["from\n      "]},{"r":"1016","s":[{"r":"1015","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","ValidEncounters"]}]},{"value":[",\n      "]},{"r":"1037","s":[{"r":"1036","s":[{"s":[{"value":["\"Time KCCQ Total Assessment Completed\""]}]}]},{"value":[" ","InitialKCCQTotalScore"]}]},{"value":[",\n      "]},{"r":"1039","s":[{"r":"1038","s":[{"s":[{"value":["\"Time KCCQ Total Assessment Completed\""]}]}]},{"value":[" ","FollowUpKCCQTotalScore"]}]}]},{"value":["\n      "]},{"r":"1065","s":[{"value":["where "]},{"r":"1065","s":[{"r":"1052","s":[{"r":"1045","s":[{"r":"1041","s":[{"r":"1040","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"1041","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"1045","s":[{"value":["ends "]},{"r":"1044","s":[{"value":["180 ","days"]}]},{"value":[" or more before"]}]},{"value":[" \n      "]},{"r":"1043","s":[{"value":["end of "]},{"r":"1042","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n        and "]},{"r":"1051","s":[{"r":"1046","s":[{"value":["InitialKCCQTotalScore"]}]},{"value":[" "]},{"r":"1051","s":[{"r":"1050","s":[{"value":["14 ","days"]}]},{"value":[" or less on or before"]}]},{"value":[" \n        "]},{"r":"1049","s":[{"value":["end of "]},{"r":"1048","s":[{"r":"1047","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"1048","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        and "]},{"r":"1064","s":[{"r":"1054","s":[{"value":["date from "]},{"r":"1053","s":[{"value":["FollowUpKCCQTotalScore"]}]}]},{"r":"1064","value":[" ","during day of"," "]},{"r":"1063","s":[{"value":["Interval["]},{"r":"1058","s":[{"r":"1056","s":[{"value":["date from "]},{"r":"1055","s":[{"value":["InitialKCCQTotalScore"]}]}]},{"value":[" + "]},{"r":"1057","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"1062","s":[{"r":"1060","s":[{"value":["date from "]},{"r":"1059","s":[{"value":["InitialKCCQTotalScore"]}]}]},{"value":[" + "]},{"r":"1061","s":[{"value":["180 ","days"]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n      "]},{"r":"1067","s":[{"value":["return "]},{"r":"1066","s":[{"value":["ValidEncounters"]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"1069","locator":"263:3-273:3","type":"Exists","operand":{"localId":"1068","locator":"263:10-273:3","type":"Query","source":[{"localId":"1016","locator":"264:7-264:45","alias":"ValidEncounters","expression":{"localId":"1015","locator":"264:7-264:29","name":"Qualifying Encounters","type":"ExpressionRef"}},{"localId":"1037","locator":"265:7-265:66","alias":"InitialKCCQTotalScore","expression":{"localId":"1036","locator":"265:7-265:44","name":"Time KCCQ Total Assessment Completed","type":"ExpressionRef"}},{"localId":"1039","locator":"266:7-266:67","alias":"FollowUpKCCQTotalScore","expression":{"localId":"1038","locator":"266:7-266:44","name":"Time KCCQ Total Assessment Completed","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"1065","locator":"267:7-271:154","type":"And","operand":[{"localId":"1052","locator":"267:13-270:45","type":"And","operand":[{"localId":"1045","locator":"267:13-268:33","type":"SameOrBefore","operand":[{"locator":"267:44-267:47","type":"End","operand":{"localId":"1041","locator":"267:13-267:42","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"locator":"268:7-268:33","type":"Subtract","operand":[{"localId":"1043","locator":"268:7-268:33","type":"End","operand":{"localId":"1042","locator":"268:14-268:33","name":"Measurement Period","type":"ParameterRef"}},{"localId":"1044","locator":"267:49-267:56","value":180,"unit":"days","type":"Quantity"}]}]},{"localId":"1051","locator":"269:13-270:45","type":"And","operand":[{"locator":"269:35-269:49","type":"In","operand":[{"localId":"1046","locator":"269:13-269:33","name":"InitialKCCQTotalScore","type":"AliasRef"},{"locator":"269:35-269:49","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"270:9-270:45","type":"Subtract","operand":[{"localId":"1049","locator":"270:9-270:45","type":"End","operand":{"localId":"1048","locator":"270:16-270:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"1050","locator":"269:35-269:41","value":14,"unit":"days","type":"Quantity"}]},"high":{"localId":"1049","locator":"270:9-270:45","type":"End","operand":{"localId":"1048","locator":"270:16-270:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}]},{"locator":"269:35-269:49","type":"Not","operand":{"locator":"269:35-269:49","type":"IsNull","operand":{"localId":"1049","locator":"270:9-270:45","type":"End","operand":{"localId":"1048","locator":"270:16-270:45","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}}}}]}]},{"localId":"1064","locator":"271:13-271:154","precision":"Day","type":"In","operand":[{"localId":"1054","locator":"271:13-271:44","type":"DateFrom","operand":{"localId":"1053","locator":"271:23-271:44","name":"FollowUpKCCQTotalScore","type":"AliasRef"}},{"localId":"1063","locator":"271:60-271:154","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"1058","locator":"271:69-271:109","type":"Add","operand":[{"localId":"1056","locator":"271:69-271:99","type":"DateFrom","operand":{"localId":"1055","locator":"271:79-271:99","name":"InitialKCCQTotalScore","type":"AliasRef"}},{"localId":"1057","locator":"271:103-271:109","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"1062","locator":"271:112-271:153","type":"Add","operand":[{"localId":"1060","locator":"271:112-271:142","type":"DateFrom","operand":{"localId":"1059","locator":"271:122-271:142","name":"InitialKCCQTotalScore","type":"AliasRef"}},{"localId":"1061","locator":"271:146-271:153","value":180,"unit":"days","type":"Quantity"}]}}]}]},"return":{"localId":"1067","locator":"272:7-272:28","expression":{"localId":"1066","locator":"272:14-272:28","name":"ValidEncounters","type":"AliasRef"}}}}},{"localId":"1073","locator":"69:1-79:82","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1073","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"1072","s":[{"r":"1014","s":[{"r":"861","s":[{"r":"782","s":[{"r":"703","s":[{"r":"624","s":[{"r":"545","s":[{"r":"466","s":[{"r":"387","s":[{"r":"208","s":[{"value":["( "]},{"r":"208","s":[{"value":["\"Has Encounter with Initial and Follow Up PROMIS10 Assessments\""]}]},{"value":[" )"]}]},{"value":["\n    or "]},{"r":"386","s":[{"value":["( "]},{"r":"386","s":[{"value":["\"Has Encounter with Initial and Follow Up PROMIS29 Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"465","s":[{"value":["( "]},{"r":"465","s":[{"value":["\"Has Encounter with Initial and Follow Up VR12 Oblique Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"544","s":[{"value":["( "]},{"r":"544","s":[{"value":["\"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"623","s":[{"value":["( "]},{"r":"623","s":[{"value":["\"Has Encounter with Initial and Follow Up VR36 Oblique Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"702","s":[{"value":["( "]},{"r":"702","s":[{"value":["\"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"781","s":[{"value":["( "]},{"r":"781","s":[{"value":["\"Has Encounter with Initial and Follow Up MLHFQ Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"860","s":[{"value":["( "]},{"r":"860","s":[{"value":["\"Has Encounter with Initial and Follow Up KCCQ12 Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"1013","s":[{"value":["( "]},{"r":"1013","s":[{"value":["\"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments\""]}]},{"value":[" )"]}]}]},{"value":["\n    or "]},{"r":"1071","s":[{"value":["( "]},{"r":"1071","s":[{"value":["\"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments\""]}]},{"value":[" )"]}]}]}]}}],"expression":{"localId":"1072","locator":"70:3-79:82","type":"Or","operand":[{"localId":"1014","locator":"70:3-78:83","type":"Or","operand":[{"localId":"861","locator":"70:3-77:72","type":"Or","operand":[{"localId":"782","locator":"70:3-76:71","type":"Or","operand":[{"localId":"703","locator":"70:3-75:81","type":"Or","operand":[{"localId":"624","locator":"70:3-74:78","type":"Or","operand":[{"localId":"545","locator":"70:3-73:81","type":"Or","operand":[{"localId":"466","locator":"70:3-72:78","type":"Or","operand":[{"localId":"387","locator":"70:3-71:74","type":"Or","operand":[{"localId":"208","locator":"70:3-70:69","name":"Has Encounter with Initial and Follow Up PROMIS10 Assessments","type":"ExpressionRef"},{"localId":"386","locator":"71:8-71:74","name":"Has Encounter with Initial and Follow Up PROMIS29 Assessments","type":"ExpressionRef"}]},{"localId":"465","locator":"72:8-72:78","name":"Has Encounter with Initial and Follow Up VR12 Oblique Assessments","type":"ExpressionRef"}]},{"localId":"544","locator":"73:8-73:81","name":"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments","type":"ExpressionRef"}]},{"localId":"623","locator":"74:8-74:78","name":"Has Encounter with Initial and Follow Up VR36 Oblique Assessments","type":"ExpressionRef"}]},{"localId":"702","locator":"75:8-75:81","name":"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments","type":"ExpressionRef"}]},{"localId":"781","locator":"76:8-76:71","name":"Has Encounter with Initial and Follow Up MLHFQ Assessments","type":"ExpressionRef"}]},{"localId":"860","locator":"77:8-77:72","name":"Has Encounter with Initial and Follow Up KCCQ12 Assessments","type":"ExpressionRef"}]},{"localId":"1013","locator":"78:8-78:83","name":"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments","type":"ExpressionRef"}]},{"localId":"1071","locator":"79:8-79:82","name":"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments","type":"ExpressionRef"}]}},{"localId":"1085","locator":"222:1-226:5","name":"Denominator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1085","s":[{"value":["","define ","\"Denominator Exclusions\"",":\n  "]},{"r":"1084","s":[{"r":"1075","s":[{"r":"1074","s":[{"value":["Hospice"]}]},{"value":["."]},{"r":"1075","s":[{"value":["\"Has Hospice Services\""]}]}]},{"value":["\n    or "]},{"r":"1083","s":[{"value":["exists "]},{"r":"1082","s":[{"value":["( "]},{"r":"1082","s":[{"s":[{"r":"1077","s":[{"r":"1076","s":[{"r":"1076","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Severe dementia (disorder)\""]}]},{"value":["]"]}]}]},{"value":[" ","Dementia"]}]}]},{"value":["\n        "]},{"r":"1081","s":[{"value":["where "]},{"r":"1081","s":[{"r":"1079","s":[{"r":"1078","s":[{"value":["Dementia"]}]},{"value":["."]},{"r":"1079","s":[{"value":["prevalencePeriod"]}]}]},{"r":"1081","value":[" ","overlaps"," "]},{"r":"1080","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"1084","locator":"223:3-226:5","type":"Or","operand":[{"localId":"1075","locator":"223:3-223:32","name":"Has Hospice Services","libraryName":"Hospice","type":"ExpressionRef"},{"localId":"1083","locator":"224:8-226:5","type":"Exists","operand":{"localId":"1082","locator":"224:15-226:5","type":"Query","source":[{"localId":"1077","locator":"224:17-224:68","alias":"Dementia","expression":{"localId":"1076","locator":"224:17-224:59","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"224:31-224:58","name":"Severe dementia (disorder)","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"1081","locator":"225:9-225:69","type":"Overlaps","operand":[{"localId":"1079","locator":"225:15-225:39","path":"prevalencePeriod","scope":"Dementia","type":"Property"},{"localId":"1080","locator":"225:50-225:69","name":"Measurement Period","type":"ParameterRef"}]}}}]}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Qualifying Encounters\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"90"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Telephone Visits\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"91"}],"node_type":"Union","ref_id":"92"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Online Assessments\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"93"}],"node_type":"Union","ref_id":"94"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"94"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"95"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"96"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"97"}],"node_type":"Property","ref_id":"97"},{"children":[{"text":" during day of "}],"ref_id":"99"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"98"}],"ref_id":"99"}],"ref_id":"99"}],"node_type":"Query","ref_id":"100"}],"ref_id":"101"}],"define_name":"Qualifying Encounters"},{"children":[{"children":[{"children":[{"text":"define \"Two Outpatient Encounters during Measurement Period\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"102"},{"children":[{"text":" OfficeVisit1"}]}],"ref_id":"103"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"104"},{"children":[{"text":" OfficeVisit2"}]}],"ref_id":"105"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"OfficeVisit2"}]}],"ref_id":"106"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"107"}],"node_type":"Property","ref_id":"107"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"starts "}]},{"children":[{"children":[{"text":"1 day"}]}],"node_type":"Quantity","ref_id":"111"},{"children":[{"text":" or more after day of"}]}],"ref_id":"112"},{"children":[{"text":" \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"OfficeVisit1"}]}],"ref_id":"108"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"109"}],"node_type":"Property","ref_id":"109"}],"node_type":"End","ref_id":"110"}],"ref_id":"112"}],"ref_id":"112"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"OfficeVisit1"}]}],"node_type":"AliasRef","ref_id":"113"}],"ref_id":"114"}],"node_type":"Query","ref_id":"115"}],"ref_id":"116"}],"define_name":"Two Outpatient Encounters during Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"75"}],"node_type":"Start","ref_id":"76"}],"node_type":"DateFrom","ref_id":"77"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"78"},{"children":[{"text":"\u003e= 18"}],"node_type":"Literal","ref_id":"79"}],"node_type":"GreaterOrEqual","ref_id":"80"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Heart Failure\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"81"}],"node_type":"Retrieve","ref_id":"81"},{"children":[{"text":" HeartFailure"}]}],"ref_id":"82"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HeartFailure"}]}],"ref_id":"83"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"84"}],"node_type":"Property","ref_id":"84"},{"children":[{"text":" overlaps before "}],"ref_id":"86"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"85"}],"ref_id":"86"}],"ref_id":"86"}],"node_type":"Query","ref_id":"87"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"87"}],"node_type":"Exists","ref_id":"88"}],"node_type":"And","ref_id":"89"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Two Outpatient Encounters during Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"117"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"117"}],"node_type":"Exists","ref_id":"118"}],"node_type":"And","ref_id":"119"}],"ref_id":"120"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"121"}],"ref_id":"122"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"123"}],"ref_id":"124"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"125"}],"ref_id":"126"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"127"}],"ref_id":"128"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"129"}],"ref_id":"130"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Time PROMIS10 Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-10 Global Mental Health (GMH) score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"133"}],"node_type":"Retrieve","ref_id":"133"},{"children":[{"text":" PROMIS10MentalScore"}]}],"ref_id":"134"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-10 Global Physical Health (GPH) score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"135"}],"node_type":"Retrieve","ref_id":"135"},{"children":[{"text":" PROMIS10PhysicalScore"}]}],"ref_id":"136"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"PROMIS10MentalScoreTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"137"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"PROMIS10MentalScore"}]}],"ref_id":"138"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"139"}],"node_type":"Property","ref_id":"139"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"PROMIS10MentalScore"}]}],"ref_id":"140"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"141"}],"node_type":"Property","ref_id":"141"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"142"}],"node_type":"FunctionRef","ref_id":"142"}],"node_type":"Start","ref_id":"143"}],"node_type":"DateFrom","ref_id":"144"}],"ref_id":"145"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"PROMIS10PhysicalScoreTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"146"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"PROMIS10PhysicalScore"}]}],"ref_id":"147"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"148"}],"node_type":"Property","ref_id":"148"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"PROMIS10PhysicalScore"}]}],"ref_id":"149"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"150"}],"node_type":"Property","ref_id":"150"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"151"}],"node_type":"FunctionRef","ref_id":"151"}],"node_type":"Start","ref_id":"152"}],"node_type":"DateFrom","ref_id":"153"}],"ref_id":"154"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PROMIS10MentalScoreTime"}]}],"node_type":"QueryLetRef","ref_id":"155"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"157"},{"children":[{"children":[{"text":"PROMIS10PhysicalScoreTime"}]}],"node_type":"QueryLetRef","ref_id":"156"}],"node_type":"SameAs","ref_id":"157"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PROMIS10PhysicalScore"}]}],"ref_id":"158"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"159"}],"node_type":"Property","ref_id":"159"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"160"}],"node_type":"And","ref_id":"161"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PROMIS10MentalScore"}]}],"ref_id":"162"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"163"}],"node_type":"Property","ref_id":"163"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"164"}],"ref_id":"165"}],"ref_id":"165"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"PROMIS10MentalScoreTime"}]}],"ref_id":"166"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"PROMIS10PhysicalScoreTime"}]}],"ref_id":"167"},{"children":[{"text":" }"}]}],"ref_id":"168"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"169"}],"ref_id":"170"}],"node_type":"Query","ref_id":"171"}],"ref_id":"172"}],"define_name":"Time PROMIS10 Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up PROMIS10 Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"131"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"132"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time PROMIS10 Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"173"},{"children":[{"text":" InitialPROMIS10Time"}]}],"ref_id":"174"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time PROMIS10 Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"175"},{"children":[{"text":" FollowUpPROMIS10Time"}]}],"ref_id":"176"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"177"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"178"}],"node_type":"Property","ref_id":"178"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"181"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"182"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"179"}],"node_type":"End","ref_id":"180"}],"node_type":"SameOrBefore","ref_id":"182"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialPROMIS10Time"}]}],"node_type":"AliasRef","ref_id":"183"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"187"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"188"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"184"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"185"}],"node_type":"Property","ref_id":"185"}],"node_type":"End","ref_id":"186"}],"node_type":"And","ref_id":"188"}],"node_type":"And","ref_id":"189"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpPROMIS10Time"}]}],"node_type":"AliasRef","ref_id":"190"}],"node_type":"DateFrom","ref_id":"191"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"201"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialPROMIS10Time"}]}],"node_type":"AliasRef","ref_id":"192"}],"node_type":"DateFrom","ref_id":"193"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"194"}],"ref_id":"195"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialPROMIS10Time"}]}],"node_type":"AliasRef","ref_id":"196"}],"node_type":"DateFrom","ref_id":"197"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"198"}],"ref_id":"199"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"200"}],"node_type":"In","ref_id":"201"}],"ref_id":"202"}],"ref_id":"202"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"203"}],"ref_id":"204"}],"node_type":"Query","ref_id":"205"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"205"}],"node_type":"Exists","ref_id":"206"}],"ref_id":"207"}],"define_name":"Has Encounter with Initial and Follow Up PROMIS10 Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time PROMIS29 Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Sleep disturbance score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"211"}],"node_type":"Retrieve","ref_id":"211"},{"children":[{"text":" Promis29Sleep"}]}],"ref_id":"212"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Satisfaction with participation in social roles score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"213"}],"node_type":"Retrieve","ref_id":"213"},{"children":[{"text":" Promis29SocialRoles"}]}],"ref_id":"214"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Physical function score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"215"}],"node_type":"Retrieve","ref_id":"215"},{"children":[{"text":" Promis29Physical"}]}],"ref_id":"216"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Pain interference score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"217"}],"node_type":"Retrieve","ref_id":"217"},{"children":[{"text":" Promis29Pain"}]}],"ref_id":"218"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Fatigue score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"219"}],"node_type":"Retrieve","ref_id":"219"},{"children":[{"text":" Promis29Fatigue"}]}],"ref_id":"220"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Depression score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"221"}],"node_type":"Retrieve","ref_id":"221"},{"children":[{"text":" Promis29Depression"}]}],"ref_id":"222"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"PROMIS-29 Anxiety score T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"223"}],"node_type":"Retrieve","ref_id":"223"},{"children":[{"text":" Promis29Anxiety"}]}],"ref_id":"224"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"Promis29SleepTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"225"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29Sleep"}]}],"ref_id":"226"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"227"}],"node_type":"Property","ref_id":"227"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29Sleep"}]}],"ref_id":"228"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"229"}],"node_type":"Property","ref_id":"229"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"230"}],"node_type":"FunctionRef","ref_id":"230"}],"node_type":"Start","ref_id":"231"}],"node_type":"DateFrom","ref_id":"232"}],"ref_id":"233"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"Promis29SocialRolesTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"234"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29SocialRoles"}]}],"ref_id":"235"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"236"}],"node_type":"Property","ref_id":"236"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29SocialRoles"}]}],"ref_id":"237"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"238"}],"node_type":"Property","ref_id":"238"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"239"}],"node_type":"FunctionRef","ref_id":"239"}],"node_type":"Start","ref_id":"240"}],"node_type":"DateFrom","ref_id":"241"}],"ref_id":"242"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"Promis29PhysicalTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"243"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29Physical"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"245"}],"node_type":"Property","ref_id":"245"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29Physical"}]}],"ref_id":"246"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"247"}],"node_type":"Property","ref_id":"247"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"248"}],"node_type":"FunctionRef","ref_id":"248"}],"node_type":"Start","ref_id":"249"}],"node_type":"DateFrom","ref_id":"250"}],"ref_id":"251"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"Promis29PainTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"252"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29Pain"}]}],"ref_id":"253"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"254"}],"node_type":"Property","ref_id":"254"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29Pain"}]}],"ref_id":"255"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"256"}],"node_type":"Property","ref_id":"256"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"257"}],"node_type":"FunctionRef","ref_id":"257"}],"node_type":"Start","ref_id":"258"}],"node_type":"DateFrom","ref_id":"259"}],"ref_id":"260"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"Promis29FatigueTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"261"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29Fatigue"}]}],"ref_id":"262"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"263"}],"node_type":"Property","ref_id":"263"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29Fatigue"}]}],"ref_id":"264"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"265"}],"node_type":"Property","ref_id":"265"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"266"}],"node_type":"FunctionRef","ref_id":"266"}],"node_type":"Start","ref_id":"267"}],"node_type":"DateFrom","ref_id":"268"}],"ref_id":"269"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"Promis29DepressionTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"270"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29Depression"}]}],"ref_id":"271"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"272"}],"node_type":"Property","ref_id":"272"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29Depression"}]}],"ref_id":"273"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"274"}],"node_type":"Property","ref_id":"274"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"275"}],"node_type":"FunctionRef","ref_id":"275"}],"node_type":"Start","ref_id":"276"}],"node_type":"DateFrom","ref_id":"277"}],"ref_id":"278"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"Promis29AnxietyTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"279"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Promis29Anxiety"}]}],"ref_id":"280"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"281"}],"node_type":"Property","ref_id":"281"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Promis29Anxiety"}]}],"ref_id":"282"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"283"}],"node_type":"Property","ref_id":"283"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"284"}],"node_type":"FunctionRef","ref_id":"284"}],"node_type":"Start","ref_id":"285"}],"node_type":"DateFrom","ref_id":"286"}],"ref_id":"287"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"node_type":"QueryLetRef","ref_id":"288"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"290"},{"children":[{"children":[{"text":"Promis29SocialRolesTime"}]}],"node_type":"QueryLetRef","ref_id":"289"}],"node_type":"SameAs","ref_id":"290"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29SocialRoles"}]}],"ref_id":"291"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"292"}],"node_type":"Property","ref_id":"292"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"293"}],"node_type":"And","ref_id":"294"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"node_type":"QueryLetRef","ref_id":"295"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"297"},{"children":[{"children":[{"text":"Promis29PhysicalTime"}]}],"node_type":"QueryLetRef","ref_id":"296"}],"node_type":"SameAs","ref_id":"297"}],"node_type":"And","ref_id":"298"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29Physical"}]}],"ref_id":"299"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"300"}],"node_type":"Property","ref_id":"300"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"301"}],"node_type":"And","ref_id":"302"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"node_type":"QueryLetRef","ref_id":"303"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"305"},{"children":[{"children":[{"text":"Promis29PainTime"}]}],"node_type":"QueryLetRef","ref_id":"304"}],"node_type":"SameAs","ref_id":"305"}],"node_type":"And","ref_id":"306"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29Pain"}]}],"ref_id":"307"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"308"}],"node_type":"Property","ref_id":"308"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"309"}],"node_type":"And","ref_id":"310"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"node_type":"QueryLetRef","ref_id":"311"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"313"},{"children":[{"children":[{"text":"Promis29FatigueTime"}]}],"node_type":"QueryLetRef","ref_id":"312"}],"node_type":"SameAs","ref_id":"313"}],"node_type":"And","ref_id":"314"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29Fatigue"}]}],"ref_id":"315"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"316"}],"node_type":"Property","ref_id":"316"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"317"}],"node_type":"And","ref_id":"318"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"node_type":"QueryLetRef","ref_id":"319"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"321"},{"children":[{"children":[{"text":"Promis29DepressionTime"}]}],"node_type":"QueryLetRef","ref_id":"320"}],"node_type":"SameAs","ref_id":"321"}],"node_type":"And","ref_id":"322"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29Depression"}]}],"ref_id":"323"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"324"}],"node_type":"Property","ref_id":"324"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"325"}],"node_type":"And","ref_id":"326"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"node_type":"QueryLetRef","ref_id":"327"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"329"},{"children":[{"children":[{"text":"Promis29AnxietyTime"}]}],"node_type":"QueryLetRef","ref_id":"328"}],"node_type":"SameAs","ref_id":"329"}],"node_type":"And","ref_id":"330"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29Anxiety"}]}],"ref_id":"331"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"332"}],"node_type":"Property","ref_id":"332"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"333"}],"node_type":"And","ref_id":"334"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Promis29Sleep"}]}],"ref_id":"335"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"336"}],"node_type":"Property","ref_id":"336"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"337"}],"ref_id":"338"}],"ref_id":"338"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"Promis29SleepTime"}]}],"ref_id":"339"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Promis29SocialRolesTime"}]}],"ref_id":"340"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Promis29PhysicalTime"}]}],"ref_id":"341"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Promis29PainTime"}]}],"ref_id":"342"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Promis29FatigueTime"}]}],"ref_id":"343"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Promis29DepressionTime"}]}],"ref_id":"344"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Promis29AnxietyTime"}]}],"ref_id":"345"},{"children":[{"text":" }"}]}],"ref_id":"346"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"347"}],"ref_id":"348"}],"node_type":"Query","ref_id":"349"}],"ref_id":"350"}],"define_name":"Time PROMIS29 Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up PROMIS29 Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"209"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"210"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time PROMIS29 Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"351"},{"children":[{"text":" InitialPROMIS29Time"}]}],"ref_id":"352"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time PROMIS29 Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"353"},{"children":[{"text":" FollowUpPROMIS29Time"}]}],"ref_id":"354"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"355"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"356"}],"node_type":"Property","ref_id":"356"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"359"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"360"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"357"}],"node_type":"End","ref_id":"358"}],"node_type":"SameOrBefore","ref_id":"360"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialPROMIS29Time"}]}],"node_type":"AliasRef","ref_id":"361"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"365"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"366"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"362"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"363"}],"node_type":"Property","ref_id":"363"}],"node_type":"End","ref_id":"364"}],"node_type":"And","ref_id":"366"}],"node_type":"And","ref_id":"367"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpPROMIS29Time"}]}],"node_type":"AliasRef","ref_id":"368"}],"node_type":"DateFrom","ref_id":"369"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"379"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialPROMIS29Time"}]}],"node_type":"AliasRef","ref_id":"370"}],"node_type":"DateFrom","ref_id":"371"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"372"}],"ref_id":"373"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialPROMIS29Time"}]}],"node_type":"AliasRef","ref_id":"374"}],"node_type":"DateFrom","ref_id":"375"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"376"}],"ref_id":"377"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"378"}],"node_type":"In","ref_id":"379"}],"ref_id":"380"}],"ref_id":"380"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"381"}],"ref_id":"382"}],"node_type":"Query","ref_id":"383"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"383"}],"node_type":"Exists","ref_id":"384"}],"ref_id":"385"}],"define_name":"Has Encounter with Initial and Follow Up PROMIS29 Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time VR12 Oblique Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-12 Mental component summary (MCS) score - oblique method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"390"}],"node_type":"Retrieve","ref_id":"390"},{"children":[{"text":" VR12MentalAssessment"}]}],"ref_id":"391"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-12 Physical component summary (PCS) score - oblique method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"392"}],"node_type":"Retrieve","ref_id":"392"},{"children":[{"text":" VR12PhysicalAssessment"}]}],"ref_id":"393"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"VR12MentalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"394"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR12MentalAssessment"}]}],"ref_id":"395"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"396"}],"node_type":"Property","ref_id":"396"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR12MentalAssessment"}]}],"ref_id":"397"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"398"}],"node_type":"Property","ref_id":"398"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"399"}],"node_type":"FunctionRef","ref_id":"399"}],"node_type":"Start","ref_id":"400"}],"node_type":"DateFrom","ref_id":"401"}],"ref_id":"402"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VR12PhysicalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"403"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR12PhysicalAssessment"}]}],"ref_id":"404"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"405"}],"node_type":"Property","ref_id":"405"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR12PhysicalAssessment"}]}],"ref_id":"406"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"407"}],"node_type":"Property","ref_id":"407"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"408"}],"node_type":"FunctionRef","ref_id":"408"}],"node_type":"Start","ref_id":"409"}],"node_type":"DateFrom","ref_id":"410"}],"ref_id":"411"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"VR12MentalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"412"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"414"},{"children":[{"children":[{"text":"VR12PhysicalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"413"}],"node_type":"SameAs","ref_id":"414"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR12MentalAssessment"}]}],"ref_id":"415"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"416"}],"node_type":"Property","ref_id":"416"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"417"}],"node_type":"And","ref_id":"418"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR12PhysicalAssessment"}]}],"ref_id":"419"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"420"}],"node_type":"Property","ref_id":"420"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"421"}],"ref_id":"422"}],"ref_id":"422"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"VR12MentalAssessmentTime"}]}],"ref_id":"423"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VR12PhysicalAssessmentTime"}]}],"ref_id":"424"},{"children":[{"text":" }"}]}],"ref_id":"425"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"426"}],"ref_id":"427"}],"node_type":"Query","ref_id":"428"}],"ref_id":"429"}],"define_name":"Time VR12 Oblique Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up VR12 Oblique Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"388"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"389"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR12 Oblique Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"430"},{"children":[{"text":" InitialVR12ObliqueTime"}]}],"ref_id":"431"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR12 Oblique Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"432"},{"children":[{"text":" FollowUpVR12ObliqueTime"}]}],"ref_id":"433"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"434"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"435"}],"node_type":"Property","ref_id":"435"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"438"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"439"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"436"}],"node_type":"End","ref_id":"437"}],"node_type":"SameOrBefore","ref_id":"439"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialVR12ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"440"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"444"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"445"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"441"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"442"}],"node_type":"Property","ref_id":"442"}],"node_type":"End","ref_id":"443"}],"node_type":"And","ref_id":"445"}],"node_type":"And","ref_id":"446"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpVR12ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"447"}],"node_type":"DateFrom","ref_id":"448"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"458"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR12ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"449"}],"node_type":"DateFrom","ref_id":"450"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"451"}],"ref_id":"452"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR12ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"453"}],"node_type":"DateFrom","ref_id":"454"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"455"}],"ref_id":"456"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"457"}],"node_type":"In","ref_id":"458"}],"ref_id":"459"}],"ref_id":"459"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"460"}],"ref_id":"461"}],"node_type":"Query","ref_id":"462"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"462"}],"node_type":"Exists","ref_id":"463"}],"ref_id":"464"}],"define_name":"Has Encounter with Initial and Follow Up VR12 Oblique Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time VR12 Orthogonal Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-12 Mental component summary (MCS) score - orthogonal method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"469"}],"node_type":"Retrieve","ref_id":"469"},{"children":[{"text":" VR12MentalAssessment"}]}],"ref_id":"470"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-12 Physical component summary (PCS) score - orthogonal method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"471"}],"node_type":"Retrieve","ref_id":"471"},{"children":[{"text":" VR12PhysicalAssessment"}]}],"ref_id":"472"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"VR12MentalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"473"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR12MentalAssessment"}]}],"ref_id":"474"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"475"}],"node_type":"Property","ref_id":"475"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR12MentalAssessment"}]}],"ref_id":"476"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"477"}],"node_type":"Property","ref_id":"477"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"478"}],"node_type":"FunctionRef","ref_id":"478"}],"node_type":"Start","ref_id":"479"}],"node_type":"DateFrom","ref_id":"480"}],"ref_id":"481"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VR12PhysicalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"482"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR12PhysicalAssessment"}]}],"ref_id":"483"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"484"}],"node_type":"Property","ref_id":"484"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR12PhysicalAssessment"}]}],"ref_id":"485"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"486"}],"node_type":"Property","ref_id":"486"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"487"}],"node_type":"FunctionRef","ref_id":"487"}],"node_type":"Start","ref_id":"488"}],"node_type":"DateFrom","ref_id":"489"}],"ref_id":"490"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"VR12MentalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"491"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"493"},{"children":[{"children":[{"text":"VR12PhysicalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"492"}],"node_type":"SameAs","ref_id":"493"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR12MentalAssessment"}]}],"ref_id":"494"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"495"}],"node_type":"Property","ref_id":"495"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"496"}],"node_type":"And","ref_id":"497"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR12PhysicalAssessment"}]}],"ref_id":"498"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"499"}],"node_type":"Property","ref_id":"499"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"500"}],"ref_id":"501"}],"ref_id":"501"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"VR12MentalAssessmentTime"}]}],"ref_id":"502"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VR12PhysicalAssessmentTime"}]}],"ref_id":"503"},{"children":[{"text":" }"}]}],"ref_id":"504"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"505"}],"ref_id":"506"}],"node_type":"Query","ref_id":"507"}],"ref_id":"508"}],"define_name":"Time VR12 Orthogonal Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"467"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"468"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR12 Orthogonal Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"509"},{"children":[{"text":" InitialVR12OrthogonalTime"}]}],"ref_id":"510"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR12 Orthogonal Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"511"},{"children":[{"text":" FollowUpVR12OrthogonalTime"}]}],"ref_id":"512"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"513"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"514"}],"node_type":"Property","ref_id":"514"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"517"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"518"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"515"}],"node_type":"End","ref_id":"516"}],"node_type":"SameOrBefore","ref_id":"518"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialVR12OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"519"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"523"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"524"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"520"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"521"}],"node_type":"Property","ref_id":"521"}],"node_type":"End","ref_id":"522"}],"node_type":"And","ref_id":"524"}],"node_type":"And","ref_id":"525"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpVR12OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"526"}],"node_type":"DateFrom","ref_id":"527"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"537"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR12OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"528"}],"node_type":"DateFrom","ref_id":"529"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"530"}],"ref_id":"531"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR12OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"532"}],"node_type":"DateFrom","ref_id":"533"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"534"}],"ref_id":"535"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"536"}],"node_type":"In","ref_id":"537"}],"ref_id":"538"}],"ref_id":"538"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"539"}],"ref_id":"540"}],"node_type":"Query","ref_id":"541"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"541"}],"node_type":"Exists","ref_id":"542"}],"ref_id":"543"}],"define_name":"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time VR36 Oblique Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-36 Mental component summary (MCS) score - oblique method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"548"}],"node_type":"Retrieve","ref_id":"548"},{"children":[{"text":" VR36MentalAssessment"}]}],"ref_id":"549"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-36 Physical component summary (PCS) score - oblique method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"550"}],"node_type":"Retrieve","ref_id":"550"},{"children":[{"text":" VR36PhysicalAssessment"}]}],"ref_id":"551"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"VR36MentalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"552"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR36MentalAssessment"}]}],"ref_id":"553"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"554"}],"node_type":"Property","ref_id":"554"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR36MentalAssessment"}]}],"ref_id":"555"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"556"}],"node_type":"Property","ref_id":"556"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"557"}],"node_type":"FunctionRef","ref_id":"557"}],"node_type":"Start","ref_id":"558"}],"node_type":"DateFrom","ref_id":"559"}],"ref_id":"560"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VR36PhysicalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"561"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR36PhysicalAssessment"}]}],"ref_id":"562"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"563"}],"node_type":"Property","ref_id":"563"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR36PhysicalAssessment"}]}],"ref_id":"564"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"565"}],"node_type":"Property","ref_id":"565"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"566"}],"node_type":"FunctionRef","ref_id":"566"}],"node_type":"Start","ref_id":"567"}],"node_type":"DateFrom","ref_id":"568"}],"ref_id":"569"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"VR36MentalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"570"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"572"},{"children":[{"children":[{"text":"VR36PhysicalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"571"}],"node_type":"SameAs","ref_id":"572"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR36MentalAssessment"}]}],"ref_id":"573"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"574"}],"node_type":"Property","ref_id":"574"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"575"}],"node_type":"And","ref_id":"576"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR36PhysicalAssessment"}]}],"ref_id":"577"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"578"}],"node_type":"Property","ref_id":"578"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"579"}],"ref_id":"580"}],"ref_id":"580"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"VR36MentalAssessmentTime"}]}],"ref_id":"581"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VR36PhysicalAssessmentTime"}]}],"ref_id":"582"},{"children":[{"text":" }"}]}],"ref_id":"583"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"584"}],"ref_id":"585"}],"node_type":"Query","ref_id":"586"}],"ref_id":"587"}],"define_name":"Time VR36 Oblique Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up VR36 Oblique Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"546"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"547"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR36 Oblique Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"588"},{"children":[{"text":" InitialVR36ObliqueTime"}]}],"ref_id":"589"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR36 Oblique Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"590"},{"children":[{"text":" FollowUpVR36ObliqueTime"}]}],"ref_id":"591"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"592"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"593"}],"node_type":"Property","ref_id":"593"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"596"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"597"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"594"}],"node_type":"End","ref_id":"595"}],"node_type":"SameOrBefore","ref_id":"597"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialVR36ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"598"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"602"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"603"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"599"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"600"}],"node_type":"Property","ref_id":"600"}],"node_type":"End","ref_id":"601"}],"node_type":"And","ref_id":"603"}],"node_type":"And","ref_id":"604"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpVR36ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"605"}],"node_type":"DateFrom","ref_id":"606"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"616"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR36ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"607"}],"node_type":"DateFrom","ref_id":"608"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"609"}],"ref_id":"610"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR36ObliqueTime"}]}],"node_type":"AliasRef","ref_id":"611"}],"node_type":"DateFrom","ref_id":"612"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"613"}],"ref_id":"614"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"615"}],"node_type":"In","ref_id":"616"}],"ref_id":"617"}],"ref_id":"617"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"618"}],"ref_id":"619"}],"node_type":"Query","ref_id":"620"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"620"}],"node_type":"Exists","ref_id":"621"}],"ref_id":"622"}],"define_name":"Has Encounter with Initial and Follow Up VR36 Oblique Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time VR36 Orthogonal Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-36 Mental component summary (MCS) score - orthogonal method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"627"}],"node_type":"Retrieve","ref_id":"627"},{"children":[{"text":" VR36MentalAssessment"}]}],"ref_id":"628"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"VR-36 Physical component summary (PCS) score - orthogonal method T-score\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"629"}],"node_type":"Retrieve","ref_id":"629"},{"children":[{"text":" VR36PhysicalAssessment"}]}],"ref_id":"630"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"VR36MentalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"631"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR36MentalAssessment"}]}],"ref_id":"632"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"633"}],"node_type":"Property","ref_id":"633"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR36MentalAssessment"}]}],"ref_id":"634"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"635"}],"node_type":"Property","ref_id":"635"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"636"}],"node_type":"FunctionRef","ref_id":"636"}],"node_type":"Start","ref_id":"637"}],"node_type":"DateFrom","ref_id":"638"}],"ref_id":"639"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VR36PhysicalAssessmentTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"640"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"VR36PhysicalAssessment"}]}],"ref_id":"641"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"642"}],"node_type":"Property","ref_id":"642"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"VR36PhysicalAssessment"}]}],"ref_id":"643"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"644"}],"node_type":"Property","ref_id":"644"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"645"}],"node_type":"FunctionRef","ref_id":"645"}],"node_type":"Start","ref_id":"646"}],"node_type":"DateFrom","ref_id":"647"}],"ref_id":"648"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"VR36MentalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"649"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"651"},{"children":[{"children":[{"text":"VR36PhysicalAssessmentTime"}]}],"node_type":"QueryLetRef","ref_id":"650"}],"node_type":"SameAs","ref_id":"651"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR36MentalAssessment"}]}],"ref_id":"652"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"653"}],"node_type":"Property","ref_id":"653"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"654"}],"node_type":"And","ref_id":"655"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"VR36PhysicalAssessment"}]}],"ref_id":"656"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"657"}],"node_type":"Property","ref_id":"657"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"658"}],"ref_id":"659"}],"ref_id":"659"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"VR36MentalAssessmentTime"}]}],"ref_id":"660"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VR36PhysicalAssessmentTime"}]}],"ref_id":"661"},{"children":[{"text":" }"}]}],"ref_id":"662"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"663"}],"ref_id":"664"}],"node_type":"Query","ref_id":"665"}],"ref_id":"666"}],"define_name":"Time VR36 Orthogonal Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"625"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"626"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR36 Orthogonal Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"667"},{"children":[{"text":" InitialVR36OrthogonalTime"}]}],"ref_id":"668"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time VR36 Orthogonal Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"669"},{"children":[{"text":" FollowUpVR36OrthogonalTime"}]}],"ref_id":"670"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"671"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"672"}],"node_type":"Property","ref_id":"672"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"675"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"676"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"673"}],"node_type":"End","ref_id":"674"}],"node_type":"SameOrBefore","ref_id":"676"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialVR36OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"677"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"681"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"682"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"678"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"679"}],"node_type":"Property","ref_id":"679"}],"node_type":"End","ref_id":"680"}],"node_type":"And","ref_id":"682"}],"node_type":"And","ref_id":"683"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpVR36OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"684"}],"node_type":"DateFrom","ref_id":"685"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"695"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR36OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"686"}],"node_type":"DateFrom","ref_id":"687"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"688"}],"ref_id":"689"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialVR36OrthogonalTime"}]}],"node_type":"AliasRef","ref_id":"690"}],"node_type":"DateFrom","ref_id":"691"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"692"}],"ref_id":"693"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"694"}],"node_type":"In","ref_id":"695"}],"ref_id":"696"}],"ref_id":"696"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"697"}],"ref_id":"698"}],"node_type":"Query","ref_id":"699"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"699"}],"node_type":"Exists","ref_id":"700"}],"ref_id":"701"}],"define_name":"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time MLHFQ Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Physical score [MLHFQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"706"}],"node_type":"Retrieve","ref_id":"706"},{"children":[{"text":" MLHFQPhysical"}]}],"ref_id":"707"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Emotional score [MLHFQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"708"}],"node_type":"Retrieve","ref_id":"708"},{"children":[{"text":" MLHFQEmotional"}]}],"ref_id":"709"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"MLHFQPhysicalTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"710"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"MLHFQPhysical"}]}],"ref_id":"711"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"712"}],"node_type":"Property","ref_id":"712"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"MLHFQPhysical"}]}],"ref_id":"713"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"714"}],"node_type":"Property","ref_id":"714"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"715"}],"node_type":"FunctionRef","ref_id":"715"}],"node_type":"Start","ref_id":"716"}],"node_type":"DateFrom","ref_id":"717"}],"ref_id":"718"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"MLHFQEmotionalTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"719"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"MLHFQEmotional"}]}],"ref_id":"720"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"721"}],"node_type":"Property","ref_id":"721"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"MLHFQEmotional"}]}],"ref_id":"722"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"723"}],"node_type":"Property","ref_id":"723"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"724"}],"node_type":"FunctionRef","ref_id":"724"}],"node_type":"Start","ref_id":"725"}],"node_type":"DateFrom","ref_id":"726"}],"ref_id":"727"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"MLHFQPhysicalTime"}]}],"node_type":"QueryLetRef","ref_id":"728"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"730"},{"children":[{"children":[{"text":"MLHFQEmotionalTime"}]}],"node_type":"QueryLetRef","ref_id":"729"}],"node_type":"SameAs","ref_id":"730"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"MLHFQEmotional"}]}],"ref_id":"731"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"732"}],"node_type":"Property","ref_id":"732"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"733"}],"node_type":"And","ref_id":"734"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"MLHFQPhysical"}]}],"ref_id":"735"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"736"}],"node_type":"Property","ref_id":"736"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"737"}],"ref_id":"738"}],"ref_id":"738"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"MLHFQPhysicalTime"}]}],"ref_id":"739"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"MLHFQEmotionalTime"}]}],"ref_id":"740"},{"children":[{"text":" }"}]}],"ref_id":"741"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"742"}],"ref_id":"743"}],"node_type":"Query","ref_id":"744"}],"ref_id":"745"}],"define_name":"Time MLHFQ Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up MLHFQ Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"704"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"705"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time MLHFQ Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"746"},{"children":[{"text":" InitialMLHFQTime"}]}],"ref_id":"747"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time MLHFQ Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"748"},{"children":[{"text":" FollowUpMLHFQTime"}]}],"ref_id":"749"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"750"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"751"}],"node_type":"Property","ref_id":"751"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"754"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"755"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"752"}],"node_type":"End","ref_id":"753"}],"node_type":"SameOrBefore","ref_id":"755"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialMLHFQTime"}]}],"node_type":"AliasRef","ref_id":"756"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"760"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"761"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"757"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"758"}],"node_type":"Property","ref_id":"758"}],"node_type":"End","ref_id":"759"}],"node_type":"And","ref_id":"761"}],"node_type":"And","ref_id":"762"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpMLHFQTime"}]}],"node_type":"AliasRef","ref_id":"763"}],"node_type":"DateFrom","ref_id":"764"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"774"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialMLHFQTime"}]}],"node_type":"AliasRef","ref_id":"765"}],"node_type":"DateFrom","ref_id":"766"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"767"}],"ref_id":"768"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialMLHFQTime"}]}],"node_type":"AliasRef","ref_id":"769"}],"node_type":"DateFrom","ref_id":"770"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"771"}],"ref_id":"772"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"773"}],"node_type":"In","ref_id":"774"}],"ref_id":"775"}],"ref_id":"775"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"776"}],"ref_id":"777"}],"node_type":"Query","ref_id":"778"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"778"}],"node_type":"Exists","ref_id":"779"}],"ref_id":"780"}],"define_name":"Has Encounter with Initial and Follow Up MLHFQ Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time KCCQ12 Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"785"}],"node_type":"Retrieve","ref_id":"785"},{"children":[{"text":" KCCQ12Item"}]}],"ref_id":"786"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Overall summary score [KCCQ-12]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"787"}],"node_type":"Retrieve","ref_id":"787"},{"children":[{"text":" KCCQ12Summary"}]}],"ref_id":"788"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"KCCQ12ItemTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"789"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQ12Item"}]}],"ref_id":"790"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"791"}],"node_type":"Property","ref_id":"791"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQ12Item"}]}],"ref_id":"792"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"793"}],"node_type":"Property","ref_id":"793"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"794"}],"node_type":"FunctionRef","ref_id":"794"}],"node_type":"Start","ref_id":"795"}],"node_type":"DateFrom","ref_id":"796"}],"ref_id":"797"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"KCCQ12SummaryTime: "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"798"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQ12Summary"}]}],"ref_id":"799"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"800"}],"node_type":"Property","ref_id":"800"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQ12Summary"}]}],"ref_id":"801"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"802"}],"node_type":"Property","ref_id":"802"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"803"}],"node_type":"FunctionRef","ref_id":"803"}],"node_type":"Start","ref_id":"804"}],"node_type":"DateFrom","ref_id":"805"}],"ref_id":"806"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"KCCQ12ItemTime"}]}],"node_type":"QueryLetRef","ref_id":"807"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"809"},{"children":[{"children":[{"text":"KCCQ12SummaryTime"}]}],"node_type":"QueryLetRef","ref_id":"808"}],"node_type":"SameAs","ref_id":"809"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQ12Summary"}]}],"ref_id":"810"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"811"}],"node_type":"Property","ref_id":"811"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"812"}],"node_type":"And","ref_id":"813"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQ12Item"}]}],"ref_id":"814"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"815"}],"node_type":"Property","ref_id":"815"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"816"}],"ref_id":"817"}],"ref_id":"817"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"KCCQ12ItemTime"}]}],"ref_id":"818"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"KCCQ12SummaryTime"}]}],"ref_id":"819"},{"children":[{"text":" }"}]}],"ref_id":"820"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"821"}],"ref_id":"822"}],"node_type":"Query","ref_id":"823"}],"ref_id":"824"}],"define_name":"Time KCCQ12 Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up KCCQ12 Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"783"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"784"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time KCCQ12 Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"825"},{"children":[{"text":" InitialKCCQ12Time"}]}],"ref_id":"826"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time KCCQ12 Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"827"},{"children":[{"text":" FollowUpKCCQ12Time"}]}],"ref_id":"828"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"829"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"830"}],"node_type":"Property","ref_id":"830"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"833"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"834"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"831"}],"node_type":"End","ref_id":"832"}],"node_type":"SameOrBefore","ref_id":"834"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialKCCQ12Time"}]}],"node_type":"AliasRef","ref_id":"835"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"839"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"840"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"836"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"837"}],"node_type":"Property","ref_id":"837"}],"node_type":"End","ref_id":"838"}],"node_type":"And","ref_id":"840"}],"node_type":"And","ref_id":"841"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpKCCQ12Time"}]}],"node_type":"AliasRef","ref_id":"842"}],"node_type":"DateFrom","ref_id":"843"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"853"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialKCCQ12Time"}]}],"node_type":"AliasRef","ref_id":"844"}],"node_type":"DateFrom","ref_id":"845"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"846"}],"ref_id":"847"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialKCCQ12Time"}]}],"node_type":"AliasRef","ref_id":"848"}],"node_type":"DateFrom","ref_id":"849"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"850"}],"ref_id":"851"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"852"}],"node_type":"In","ref_id":"853"}],"ref_id":"854"}],"ref_id":"854"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"855"}],"ref_id":"856"}],"node_type":"Query","ref_id":"857"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"857"}],"node_type":"Exists","ref_id":"858"}],"ref_id":"859"}],"define_name":"Has Encounter with Initial and Follow Up KCCQ12 Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time KCCQ Domain Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Quality of life score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"864"}],"node_type":"Retrieve","ref_id":"864"},{"children":[{"text":" KCCQLifeQuality"}]}],"ref_id":"865"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Symptom stability score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"866"}],"node_type":"Retrieve","ref_id":"866"},{"children":[{"text":" KCCQSymptomStability"}]}],"ref_id":"867"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Self-efficacy score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"868"}],"node_type":"Retrieve","ref_id":"868"},{"children":[{"text":" KCCQSelfEfficacy"}]}],"ref_id":"869"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Total symptom score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"870"}],"node_type":"Retrieve","ref_id":"870"},{"children":[{"text":" KCCQSymptoms"}]}],"ref_id":"871"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Physical limitation score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"872"}],"node_type":"Retrieve","ref_id":"872"},{"children":[{"text":" KCCQPhysicalLimits"}]}],"ref_id":"873"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Social limitation score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"874"}],"node_type":"Retrieve","ref_id":"874"},{"children":[{"text":" KCCQSocialLimits"}]}],"ref_id":"875"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"KCCQLifeQualityTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"876"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQLifeQuality"}]}],"ref_id":"877"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"878"}],"node_type":"Property","ref_id":"878"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQLifeQuality"}]}],"ref_id":"879"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"880"}],"node_type":"Property","ref_id":"880"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"881"}],"node_type":"FunctionRef","ref_id":"881"}],"node_type":"Start","ref_id":"882"}],"ref_id":"883"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"KCCQSymptomStabilityTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"884"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQSymptomStability"}]}],"ref_id":"885"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"886"}],"node_type":"Property","ref_id":"886"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQSymptomStability"}]}],"ref_id":"887"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"888"}],"node_type":"Property","ref_id":"888"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"889"}],"node_type":"FunctionRef","ref_id":"889"}],"node_type":"Start","ref_id":"890"}],"ref_id":"891"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"KCCQSelfEfficacyTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"892"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQSelfEfficacy"}]}],"ref_id":"893"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"894"}],"node_type":"Property","ref_id":"894"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQSelfEfficacy"}]}],"ref_id":"895"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"896"}],"node_type":"Property","ref_id":"896"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"897"}],"node_type":"FunctionRef","ref_id":"897"}],"node_type":"Start","ref_id":"898"}],"ref_id":"899"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"KCCQSymptomsTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"900"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQSymptoms"}]}],"ref_id":"901"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"902"}],"node_type":"Property","ref_id":"902"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQSymptoms"}]}],"ref_id":"903"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"904"}],"node_type":"Property","ref_id":"904"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"905"}],"node_type":"FunctionRef","ref_id":"905"}],"node_type":"Start","ref_id":"906"}],"ref_id":"907"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"KCCQPhysicalLimitsTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"908"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQPhysicalLimits"}]}],"ref_id":"909"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"910"}],"node_type":"Property","ref_id":"910"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQPhysicalLimits"}]}],"ref_id":"911"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"912"}],"node_type":"Property","ref_id":"912"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"913"}],"node_type":"FunctionRef","ref_id":"913"}],"node_type":"Start","ref_id":"914"}],"ref_id":"915"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"KCCQSocialLimitsTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"916"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQSocialLimits"}]}],"ref_id":"917"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"918"}],"node_type":"Property","ref_id":"918"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQSocialLimits"}]}],"ref_id":"919"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"920"}],"node_type":"Property","ref_id":"920"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"921"}],"node_type":"FunctionRef","ref_id":"921"}],"node_type":"Start","ref_id":"922"}],"ref_id":"923"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"KCCQLifeQualityTime"}]}],"node_type":"QueryLetRef","ref_id":"924"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"926"},{"children":[{"children":[{"text":"KCCQSymptomStabilityTime"}]}],"node_type":"QueryLetRef","ref_id":"925"}],"node_type":"SameAs","ref_id":"926"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQSymptomStability"}]}],"ref_id":"927"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"928"}],"node_type":"Property","ref_id":"928"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"929"}],"node_type":"And","ref_id":"930"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"KCCQLifeQualityTime"}]}],"node_type":"QueryLetRef","ref_id":"931"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"933"},{"children":[{"children":[{"text":"KCCQSelfEfficacyTime"}]}],"node_type":"QueryLetRef","ref_id":"932"}],"node_type":"SameAs","ref_id":"933"}],"node_type":"And","ref_id":"934"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQSelfEfficacy"}]}],"ref_id":"935"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"936"}],"node_type":"Property","ref_id":"936"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"937"}],"node_type":"And","ref_id":"938"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"KCCQLifeQualityTime"}]}],"node_type":"QueryLetRef","ref_id":"939"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"941"},{"children":[{"children":[{"text":"KCCQSymptomsTime"}]}],"node_type":"QueryLetRef","ref_id":"940"}],"node_type":"SameAs","ref_id":"941"}],"node_type":"And","ref_id":"942"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQSymptoms"}]}],"ref_id":"943"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"944"}],"node_type":"Property","ref_id":"944"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"945"}],"node_type":"And","ref_id":"946"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"KCCQLifeQualityTime"}]}],"node_type":"QueryLetRef","ref_id":"947"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"949"},{"children":[{"children":[{"text":"KCCQPhysicalLimitsTime"}]}],"node_type":"QueryLetRef","ref_id":"948"}],"node_type":"SameAs","ref_id":"949"}],"node_type":"And","ref_id":"950"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQPhysicalLimits"}]}],"ref_id":"951"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"952"}],"node_type":"Property","ref_id":"952"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"953"}],"node_type":"And","ref_id":"954"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"KCCQLifeQualityTime"}]}],"node_type":"QueryLetRef","ref_id":"955"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"957"},{"children":[{"children":[{"text":"KCCQSocialLimitsTime"}]}],"node_type":"QueryLetRef","ref_id":"956"}],"node_type":"SameAs","ref_id":"957"}],"node_type":"And","ref_id":"958"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQSocialLimits"}]}],"ref_id":"959"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"960"}],"node_type":"Property","ref_id":"960"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"961"}],"node_type":"And","ref_id":"962"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQLifeQuality"}]}],"ref_id":"963"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"964"}],"node_type":"Property","ref_id":"964"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"965"}],"ref_id":"966"}],"ref_id":"966"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"KCCQLifeQualityTime"}]}],"ref_id":"967"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"KCCQSymptomStabilityTime"}]}],"ref_id":"968"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"KCCQSelfEfficacyTime"}]}],"ref_id":"969"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"KCCQSymptomsTime"}]}],"ref_id":"970"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"KCCQPhysicalLimitsTime"}]}],"ref_id":"971"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"KCCQSocialLimitsTime"}]}],"ref_id":"972"},{"children":[{"text":" }"}]}],"ref_id":"973"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"974"}],"ref_id":"975"}],"node_type":"Query","ref_id":"976"}],"ref_id":"977"}],"define_name":"Time KCCQ Domain Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"862"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"863"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time KCCQ Domain Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"978"},{"children":[{"text":" InitialKCCQAssessmentTime"}]}],"ref_id":"979"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time KCCQ Domain Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"980"},{"children":[{"text":" FollowUpKCCQAssessmentTime"}]}],"ref_id":"981"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"982"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"983"}],"node_type":"Property","ref_id":"983"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"986"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"987"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"984"}],"node_type":"End","ref_id":"985"}],"node_type":"SameOrBefore","ref_id":"987"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialKCCQAssessmentTime"}]}],"node_type":"AliasRef","ref_id":"988"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"992"},{"children":[{"text":" or less on or before"}]}],"node_type":"And","ref_id":"993"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"989"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"990"}],"node_type":"Property","ref_id":"990"}],"node_type":"End","ref_id":"991"}],"node_type":"And","ref_id":"993"}],"node_type":"And","ref_id":"994"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpKCCQAssessmentTime"}]}],"node_type":"AliasRef","ref_id":"995"}],"node_type":"DateFrom","ref_id":"996"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"1006"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialKCCQAssessmentTime"}]}],"node_type":"AliasRef","ref_id":"997"}],"node_type":"DateFrom","ref_id":"998"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"999"}],"ref_id":"1000"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialKCCQAssessmentTime"}]}],"node_type":"AliasRef","ref_id":"1001"}],"node_type":"DateFrom","ref_id":"1002"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"1003"}],"ref_id":"1004"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"1005"}],"node_type":"In","ref_id":"1006"}],"ref_id":"1007"}],"ref_id":"1007"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"1008"}],"ref_id":"1009"}],"node_type":"Query","ref_id":"1010"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"1010"}],"node_type":"Exists","ref_id":"1011"}],"ref_id":"1012"}],"define_name":"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Time KCCQ Total Assessment Completed\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Overall summary score [KCCQ]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1017"}],"node_type":"Retrieve","ref_id":"1017"},{"children":[{"text":" KCCQSummaryScore"}]}],"ref_id":"1018"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"KCCQSummaryScoreTime: "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1019"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"KCCQSummaryScore"}]}],"ref_id":"1020"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"1021"}],"node_type":"Property","ref_id":"1021"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"KCCQSummaryScore"}]}],"ref_id":"1022"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1023"}],"node_type":"Property","ref_id":"1023"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"1024"}],"node_type":"FunctionRef","ref_id":"1024"}],"node_type":"Start","ref_id":"1025"}],"ref_id":"1026"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"KCCQSummaryScore"}]}],"ref_id":"1027"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1028"}],"node_type":"Property","ref_id":"1028"},{"children":[{"text":" is not null"}]}],"ref_id":"1029"}],"ref_id":"1029"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Max("}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"KCCQSummaryScoreTime"}]}],"ref_id":"1030"},{"children":[{"text":" }"}]}],"ref_id":"1031"},{"children":[{"text":")"}]}],"node_type":"Max","ref_id":"1032"}],"ref_id":"1033"}],"node_type":"Query","ref_id":"1034"}],"ref_id":"1035"}],"define_name":"Time KCCQ Total Assessment Completed"},{"children":[{"children":[{"children":[{"text":"define \"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"from\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"1015"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"1016"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time KCCQ Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"1036"},{"children":[{"text":" InitialKCCQTotalScore"}]}],"ref_id":"1037"},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Time KCCQ Total Assessment Completed\""}]}]}],"node_type":"ExpressionRef","ref_id":"1038"},{"children":[{"text":" FollowUpKCCQTotalScore"}]}],"ref_id":"1039"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"1040"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1041"}],"node_type":"Property","ref_id":"1041"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"1044"},{"children":[{"text":" or more before"}]}],"node_type":"SameOrBefore","ref_id":"1045"},{"children":[{"text":" \n      "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"1042"}],"node_type":"End","ref_id":"1043"}],"node_type":"SameOrBefore","ref_id":"1045"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"InitialKCCQTotalScore"}]}],"node_type":"AliasRef","ref_id":"1046"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"14 days"}]}],"node_type":"Quantity","ref_id":"1050"},{"children":[{"text":" or less on or before"}]}],"node_type":"And","ref_id":"1051"},{"children":[{"text":" \n        "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"1047"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1048"}],"node_type":"Property","ref_id":"1048"}],"node_type":"End","ref_id":"1049"}],"node_type":"And","ref_id":"1051"}],"node_type":"And","ref_id":"1052"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"FollowUpKCCQTotalScore"}]}],"node_type":"AliasRef","ref_id":"1053"}],"node_type":"DateFrom","ref_id":"1054"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"1064"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialKCCQTotalScore"}]}],"node_type":"AliasRef","ref_id":"1055"}],"node_type":"DateFrom","ref_id":"1056"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"1057"}],"ref_id":"1058"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"InitialKCCQTotalScore"}]}],"node_type":"AliasRef","ref_id":"1059"}],"node_type":"DateFrom","ref_id":"1060"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"180 days"}]}],"node_type":"Quantity","ref_id":"1061"}],"ref_id":"1062"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"1063"}],"node_type":"In","ref_id":"1064"}],"ref_id":"1065"}],"ref_id":"1065"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"ValidEncounters"}]}],"node_type":"AliasRef","ref_id":"1066"}],"ref_id":"1067"}],"node_type":"Query","ref_id":"1068"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"1068"}],"node_type":"Exists","ref_id":"1069"}],"ref_id":"1070"}],"define_name":"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up PROMIS10 Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"208"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"208"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up PROMIS29 Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"386"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"386"}],"node_type":"Or","ref_id":"387"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up VR12 Oblique Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"465"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"465"}],"node_type":"Or","ref_id":"466"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"544"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"544"}],"node_type":"Or","ref_id":"545"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up VR36 Oblique Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"623"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"623"}],"node_type":"Or","ref_id":"624"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"702"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"702"}],"node_type":"Or","ref_id":"703"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up MLHFQ Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"781"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"781"}],"node_type":"Or","ref_id":"782"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up KCCQ12 Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"860"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"860"}],"node_type":"Or","ref_id":"861"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"1013"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"1013"}],"node_type":"Or","ref_id":"1014"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments\""}]}],"node_type":"ExpressionRef","ref_id":"1071"},{"children":[{"text":" )"}]}],"node_type":"ExpressionRef","ref_id":"1071"}],"node_type":"Or","ref_id":"1072"}],"ref_id":"1073"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusions\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Hospice"}]}],"ref_id":"1074"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Has Hospice Services\""}]}],"node_type":"ExpressionRef","ref_id":"1075"}],"node_type":"ExpressionRef","ref_id":"1075"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Severe dementia (disorder)\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1076"}],"node_type":"Retrieve","ref_id":"1076"},{"children":[{"text":" Dementia"}]}],"ref_id":"1077"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Dementia"}]}],"ref_id":"1078"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"1079"}],"node_type":"Property","ref_id":"1079"},{"children":[{"text":" overlaps "}],"ref_id":"1081"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"1080"}],"ref_id":"1081"}],"ref_id":"1081"}],"node_type":"Query","ref_id":"1082"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"1082"}],"node_type":"Exists","ref_id":"1083"}],"node_type":"Or","ref_id":"1084"}],"ref_id":"1085"}],"define_name":"Denominator Exclusions"}],"identifier":{"id":"FunctionalStatusAssessmentsforHeartFailure","version":"12.1.000"}},"is_main_library":true,"is_top_level":true,"library_name":"FunctionalStatusAssessmentsforHeartFailure","library_version":"12.1.000","statement_dependencies":[{"_id":"68926901e8da6d1c0d518960","statement_name":"Patient"},{"_id":"68926901e8da6d1c0d518961","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518962","statement_name":"Two Outpatient Encounters during Measurement Period","statement_references":[{"_id":"68926905e8da6d1c0d518b58","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"}]},{"_id":"68926901e8da6d1c0d518963","statement_name":"Initial Population","statement_references":[{"_id":"68926901e8da6d1c0d518940","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Patient"},{"_id":"68926901e8da6d1c0d518941","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Two Outpatient Encounters during Measurement Period"}]},{"_id":"68926901e8da6d1c0d518964","statement_name":"Denominator","statement_references":[{"_id":"68926905e8da6d1c0d518b59","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Initial Population"}]},{"_id":"68926901e8da6d1c0d518965","statement_name":"SDE Ethnicity"},{"_id":"68926901e8da6d1c0d518966","statement_name":"SDE Payer"},{"_id":"68926901e8da6d1c0d518967","statement_name":"SDE Race"},{"_id":"68926901e8da6d1c0d518968","statement_name":"SDE Sex"},{"_id":"68926901e8da6d1c0d518969","statement_name":"Time PROMIS10 Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b5a","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d51896a","statement_name":"Has Encounter with Initial and Follow Up PROMIS10 Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518942","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518943","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time PROMIS10 Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d51896b","statement_name":"Time PROMIS29 Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b5b","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d51896c","statement_name":"Has Encounter with Initial and Follow Up PROMIS29 Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518944","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518945","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time PROMIS29 Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d51896d","statement_name":"Time VR12 Oblique Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b5c","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d51896e","statement_name":"Has Encounter with Initial and Follow Up VR12 Oblique Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518946","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518947","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time VR12 Oblique Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d51896f","statement_name":"Time VR12 Orthogonal Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b5d","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d518970","statement_name":"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518948","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518949","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time VR12 Orthogonal Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d518971","statement_name":"Time VR36 Oblique Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b5e","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d518972","statement_name":"Has Encounter with Initial and Follow Up VR36 Oblique Assessments","statement_references":[{"_id":"68926901e8da6d1c0d51894a","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d51894b","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time VR36 Oblique Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d518973","statement_name":"Time VR36 Orthogonal Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b5f","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d518974","statement_name":"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments","statement_references":[{"_id":"68926901e8da6d1c0d51894c","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d51894d","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time VR36 Orthogonal Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d518975","statement_name":"Time MLHFQ Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b60","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d518976","statement_name":"Has Encounter with Initial and Follow Up MLHFQ Assessments","statement_references":[{"_id":"68926901e8da6d1c0d51894e","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d51894f","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time MLHFQ Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d518977","statement_name":"Time KCCQ12 Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b61","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d518978","statement_name":"Has Encounter with Initial and Follow Up KCCQ12 Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518950","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518951","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time KCCQ12 Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d518979","statement_name":"Time KCCQ Domain Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b62","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d51897a","statement_name":"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518952","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518953","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time KCCQ Domain Assessment Completed"}]},{"_id":"68926901e8da6d1c0d51897b","statement_name":"Time KCCQ Total Assessment Completed","statement_references":[{"_id":"68926905e8da6d1c0d518b63","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"68926901e8da6d1c0d51897c","statement_name":"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments","statement_references":[{"_id":"68926901e8da6d1c0d518954","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Qualifying Encounters"},{"_id":"68926901e8da6d1c0d518955","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Time KCCQ Total Assessment Completed"}]},{"_id":"68926901e8da6d1c0d51897d","statement_name":"Numerator","statement_references":[{"_id":"68926901e8da6d1c0d518956","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up PROMIS10 Assessments"},{"_id":"68926901e8da6d1c0d518957","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up PROMIS29 Assessments"},{"_id":"68926901e8da6d1c0d518958","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up VR12 Oblique Assessments"},{"_id":"68926901e8da6d1c0d518959","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up VR12 Orthogonal Assessments"},{"_id":"68926901e8da6d1c0d51895a","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up VR36 Oblique Assessments"},{"_id":"68926901e8da6d1c0d51895b","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up VR36 Orthogonal Assessments"},{"_id":"68926901e8da6d1c0d51895c","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up MLHFQ Assessments"},{"_id":"68926901e8da6d1c0d51895d","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up KCCQ12 Assessments"},{"_id":"68926901e8da6d1c0d51895e","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up KCCQ Domain Score Assessments"},{"_id":"68926901e8da6d1c0d51895f","hqmf_id":null,"library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Has Encounter with Initial and Follow Up KCCQ Total Score Assessments"}]},{"_id":"68926901e8da6d1c0d51897e","statement_name":"Denominator Exclusions","statement_references":[{"_id":"68926905e8da6d1c0d518b64","hqmf_id":null,"library_name":"Hospice","statement_name":"Has Hospice Services"}]}]},{"_id":"68926901e8da6d1c0d518980","cql":"library Hospice version '4.0.000'\n\nusing QDM version '5.6'\n\ninclude MATGlobalCommonFunctions version '7.0.000' called Global\n\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96' \ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Hospice Care Ambulatory\": 'urn:oid:2.16.840.1.113883.3.526.3.1584' \nvalueset \"Hospice Encounter\": 'urn:oid:2.16.840.1.113883.3.464.1003.1003' \n\ncode \"Discharge to healthcare facility for hospice care (procedure)\": '428371000124100' from \"SNOMEDCT\" display 'Discharge to healthcare facility for hospice care (procedure)'\ncode \"Discharge to home for hospice care (procedure)\": '428361000124107' from \"SNOMEDCT\" display 'Discharge to home for hospice care (procedure)'\ncode \"Hospice care [Minimum Data Set]\": '45755-6' from \"LOINC\" display 'Hospice care [Minimum Data Set]'\ncode \"Yes (qualifier value)\": '373066001' from \"SNOMEDCT\" display 'Yes (qualifier value)'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Has Hospice Services\":\n  exists ( [\"Encounter, Performed\": \"Encounter Inpatient\"] InpatientEncounter\n      where ( InpatientEncounter.dischargeDisposition ~ \"Discharge to home for hospice care (procedure)\"\n          or InpatientEncounter.dischargeDisposition ~ \"Discharge to healthcare facility for hospice care (procedure)\"\n      )\n        and InpatientEncounter.relevantPeriod ends during day of \"Measurement Period\"\n  )\n    or exists ( [\"Encounter, Performed\": \"Hospice Encounter\"] HospiceEncounter\n        where HospiceEncounter.relevantPeriod overlaps \"Measurement Period\"\n    )\n    or exists ( [\"Assessment, Performed\": \"Hospice care [Minimum Data Set]\"] HospiceAssessment\n        where HospiceAssessment.result ~ \"Yes (qualifier value)\"\n          and Global.\"NormalizeInterval\" ( HospiceAssessment.relevantDatetime, HospiceAssessment.relevantPeriod ) overlaps \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Order\": \"Hospice Care Ambulatory\"] HospiceOrder\n        where HospiceOrder.authorDatetime during day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Performed\": \"Hospice Care Ambulatory\"] HospicePerformed\n        where Global.\"NormalizeInterval\" ( HospicePerformed.relevantDatetime, HospicePerformed.relevantPeriod ) overlaps \"Measurement Period\"\n    )\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"86","s":[{"value":["","library Hospice version '4.0.000'"]}]}}],"identifier":{"id":"Hospice","version":"4.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:64","localIdentifier":"Global","path":"MATGlobalCommonFunctions","version":"7.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctions"]}]},{"value":[" version ","'7.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"18","locator":"19:1-19:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"18","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"17","s":[{"value":["Interval\u003c"]},{"r":"16","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"17","locator":"19:32-19:49","type":"IntervalTypeSpecifier","pointType":{"localId":"16","locator":"19:41-19:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"3","locator":"7:1-7:55","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'"]}]}}]},{"localId":"4","locator":"8:1-8:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"6","locator":"11:1-11:76","name":"Hospice Care Ambulatory","id":"2.16.840.1.113883.3.526.3.1584","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Hospice Care Ambulatory\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1584'"]}]}}]},{"localId":"7","locator":"12:1-12:73","name":"Hospice Encounter","id":"2.16.840.1.113883.3.464.1003.1003","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Hospice Encounter\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1003'"]}]}}]}]},"codes":{"def":[{"localId":"9","locator":"14:1-14:175","name":"Discharge to healthcare facility for hospice care (procedure)","id":"428371000124100","display":"Discharge to healthcare facility for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","code ","\"Discharge to healthcare facility for hospice care (procedure)\"",": ","'428371000124100'"," from "]},{"r":"8","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to healthcare facility for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"8","locator":"14:94-14:103","name":"SNOMEDCT"}},{"localId":"11","locator":"15:1-15:145","name":"Discharge to home for hospice care (procedure)","id":"428361000124107","display":"Discharge to home for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","code ","\"Discharge to home for hospice care (procedure)\"",": ","'428361000124107'"," from "]},{"r":"10","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to home for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"10","locator":"15:79-15:88","name":"SNOMEDCT"}},{"localId":"13","locator":"16:1-16:104","name":"Hospice care [Minimum Data Set]","id":"45755-6","display":"Hospice care [Minimum Data Set]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","code ","\"Hospice care [Minimum Data Set]\"",": ","'45755-6'"," from "]},{"r":"12","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Hospice care [Minimum Data Set]'"]}]}}],"codeSystem":{"localId":"12","locator":"16:56-16:62","name":"LOINC"}},{"localId":"15","locator":"17:1-17:89","name":"Yes (qualifier value)","id":"373066001","display":"Yes (qualifier value)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"15","s":[{"value":["","code ","\"Yes (qualifier value)\"",": ","'373066001'"," from "]},{"r":"14","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Yes (qualifier value)'"]}]}}],"codeSystem":{"localId":"14","locator":"17:48-17:57","name":"SNOMEDCT"}}]},"contexts":{"def":[{"locator":"21:1-21:15","name":"Patient"}]},"statements":{"def":[{"locator":"21:1-21:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"21:1-21:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"86","locator":"23:1-42:5","name":"Has Hospice Services","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"86","s":[{"value":["","define ","\"Has Hospice Services\"",":\n  "]},{"r":"85","s":[{"r":"72","s":[{"r":"63","s":[{"r":"45","s":[{"r":"36","s":[{"value":["exists "]},{"r":"35","s":[{"value":["( "]},{"r":"35","s":[{"s":[{"r":"20","s":[{"r":"19","s":[{"r":"19","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n      "]},{"r":"34","s":[{"value":["where "]},{"r":"34","s":[{"r":"29","s":[{"value":["( "]},{"r":"29","s":[{"r":"24","s":[{"r":"22","s":[{"r":"21","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"22","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"23","s":[{"value":["\"Discharge to home for hospice care (procedure)\""]}]}]},{"value":["\n          or "]},{"r":"28","s":[{"r":"26","s":[{"r":"25","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"26","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"27","s":[{"value":["\"Discharge to healthcare facility for hospice care (procedure)\""]}]}]}]},{"value":["\n      )"]}]},{"value":["\n        and "]},{"r":"33","s":[{"r":"31","s":[{"r":"30","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"31","s":[{"value":["relevantPeriod"]}]}]},{"r":"33","value":[" ","ends during day of"," "]},{"r":"32","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n  )"]}]}]},{"value":["\n    or "]},{"r":"44","s":[{"value":["exists "]},{"r":"43","s":[{"value":["( "]},{"r":"43","s":[{"s":[{"r":"38","s":[{"r":"37","s":[{"r":"37","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Hospice Encounter\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceEncounter"]}]}]},{"value":["\n        "]},{"r":"42","s":[{"value":["where "]},{"r":"42","s":[{"r":"40","s":[{"r":"39","s":[{"value":["HospiceEncounter"]}]},{"value":["."]},{"r":"40","s":[{"value":["relevantPeriod"]}]}]},{"r":"42","value":[" ","overlaps"," "]},{"r":"41","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"62","s":[{"value":["exists "]},{"r":"61","s":[{"value":["( "]},{"r":"61","s":[{"s":[{"r":"47","s":[{"r":"46","s":[{"r":"46","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Hospice care [Minimum Data Set]\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceAssessment"]}]}]},{"value":["\n        "]},{"r":"60","s":[{"value":["where "]},{"r":"60","s":[{"r":"51","s":[{"r":"49","s":[{"r":"48","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"49","s":[{"value":["result"]}]}]},{"value":[" ","~"," "]},{"r":"50","s":[{"value":["\"Yes (qualifier value)\""]}]}]},{"value":["\n          and "]},{"r":"59","s":[{"r":"57","s":[{"r":"52","s":[{"value":["Global"]}]},{"value":["."]},{"r":"57","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"54","s":[{"r":"53","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"54","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"56","s":[{"r":"55","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"56","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"59","value":[" ","overlaps"," "]},{"r":"58","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"71","s":[{"value":["exists "]},{"r":"70","s":[{"value":["( "]},{"r":"70","s":[{"s":[{"r":"65","s":[{"r":"64","s":[{"r":"64","s":[{"value":["[","\"Intervention, Order\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceOrder"]}]}]},{"value":["\n        "]},{"r":"69","s":[{"value":["where "]},{"r":"69","s":[{"r":"67","s":[{"r":"66","s":[{"value":["HospiceOrder"]}]},{"value":["."]},{"r":"67","s":[{"value":["authorDatetime"]}]}]},{"r":"69","value":[" ","during day of"," "]},{"r":"68","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"84","s":[{"value":["exists "]},{"r":"83","s":[{"value":["( "]},{"r":"83","s":[{"s":[{"r":"74","s":[{"r":"73","s":[{"r":"73","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospicePerformed"]}]}]},{"value":["\n        "]},{"r":"82","s":[{"value":["where "]},{"r":"82","s":[{"r":"80","s":[{"r":"75","s":[{"value":["Global"]}]},{"value":["."]},{"r":"80","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"77","s":[{"r":"76","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"77","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"79","s":[{"r":"78","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"79","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"82","value":[" ","overlaps"," "]},{"r":"81","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"85","locator":"24:3-42:5","type":"Or","operand":[{"localId":"72","locator":"24:3-39:5","type":"Or","operand":[{"localId":"63","locator":"24:3-36:5","type":"Or","operand":[{"localId":"45","locator":"24:3-32:5","type":"Or","operand":[{"localId":"36","locator":"24:3-29:3","type":"Exists","operand":{"localId":"35","locator":"24:10-29:3","type":"Query","source":[{"localId":"20","locator":"24:12-24:77","alias":"InpatientEncounter","expression":{"localId":"19","locator":"24:12-24:58","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"24:37-24:57","name":"Encounter Inpatient","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"34","locator":"25:7-28:85","type":"And","operand":[{"localId":"29","locator":"25:13-27:7","type":"Or","operand":[{"localId":"24","locator":"25:15-25:104","type":"Equivalent","operand":[{"localId":"22","locator":"25:15-25:53","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"23","locator":"25:57-25:104","name":"Discharge to home for hospice care (procedure)","type":"CodeRef"}]},{"localId":"28","locator":"26:14-26:118","type":"Equivalent","operand":[{"localId":"26","locator":"26:14-26:52","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"27","locator":"26:56-26:118","name":"Discharge to healthcare facility for hospice care (procedure)","type":"CodeRef"}]}]},{"localId":"33","locator":"28:13-28:85","precision":"Day","type":"In","operand":[{"locator":"28:47-28:50","type":"End","operand":{"localId":"31","locator":"28:13-28:45","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}},{"localId":"32","locator":"28:66-28:85","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"44","locator":"30:8-32:5","type":"Exists","operand":{"localId":"43","locator":"30:15-32:5","type":"Query","source":[{"localId":"38","locator":"30:17-30:78","alias":"HospiceEncounter","expression":{"localId":"37","locator":"30:17-30:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"30:42-30:60","name":"Hospice Encounter","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"42","locator":"31:9-31:75","type":"Overlaps","operand":[{"localId":"40","locator":"31:15-31:45","path":"relevantPeriod","scope":"HospiceEncounter","type":"Property"},{"localId":"41","locator":"31:56-31:75","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"62","locator":"33:8-36:5","type":"Exists","operand":{"localId":"61","locator":"33:15-36:5","type":"Query","source":[{"localId":"47","locator":"33:17-33:94","alias":"HospiceAssessment","expression":{"localId":"46","locator":"33:17-33:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"33:43-33:75","name":"Hospice care [Minimum Data Set]","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"60","locator":"34:9-35:143","type":"And","operand":[{"localId":"51","locator":"34:15-34:64","type":"Equivalent","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","operand":{"localId":"49","locator":"34:15-34:38","path":"result","scope":"HospiceAssessment","type":"Property"}},{"localId":"50","locator":"34:42-34:64","name":"Yes (qualifier value)","type":"CodeRef"}]},{"localId":"59","locator":"35:15-35:143","type":"Overlaps","operand":[{"localId":"57","locator":"35:15-35:113","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"54","locator":"35:44-35:77","path":"relevantDatetime","scope":"HospiceAssessment","type":"Property"},{"localId":"56","locator":"35:80-35:111","path":"relevantPeriod","scope":"HospiceAssessment","type":"Property"}]},{"localId":"58","locator":"35:124-35:143","name":"Measurement Period","type":"ParameterRef"}]}]}}}]},{"localId":"71","locator":"37:8-39:5","type":"Exists","operand":{"localId":"70","locator":"37:15-39:5","type":"Query","source":[{"localId":"65","locator":"37:17-37:79","alias":"HospiceOrder","expression":{"localId":"64","locator":"37:17-37:66","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","templateId":"PositiveInterventionOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"37:41-37:65","name":"Hospice Care Ambulatory","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"69","locator":"38:9-38:76","precision":"Day","type":"In","operand":[{"localId":"67","locator":"38:15-38:41","path":"authorDatetime","scope":"HospiceOrder","type":"Property"},{"localId":"68","locator":"38:57-38:76","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"84","locator":"40:8-42:5","type":"Exists","operand":{"localId":"83","locator":"40:15-42:5","type":"Query","source":[{"localId":"74","locator":"40:17-40:87","alias":"HospicePerformed","expression":{"localId":"73","locator":"40:17-40:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"40:45-40:69","name":"Hospice Care Ambulatory","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"82","locator":"41:9-41:141","type":"Overlaps","operand":[{"localId":"80","locator":"41:15-41:111","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"77","locator":"41:44-41:76","path":"relevantDatetime","scope":"HospicePerformed","type":"Property"},{"localId":"79","locator":"41:79-41:109","path":"relevantPeriod","scope":"HospicePerformed","type":"Property"}]},{"localId":"81","locator":"41:122-41:141","name":"Measurement Period","type":"ParameterRef"}]}}}]}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Has Hospice Services\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"19"}],"node_type":"Retrieve","ref_id":"19"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"20"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"21"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"22"}],"node_type":"Property","ref_id":"22"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to home for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"23"}],"node_type":"Equivalent","ref_id":"24"},{"children":[{"text":"\n          or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"25"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"26"}],"node_type":"Property","ref_id":"26"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to healthcare facility for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"27"}],"node_type":"Equivalent","ref_id":"28"}],"node_type":"Or","ref_id":"29"},{"children":[{"text":"\n      )"}]}],"node_type":"Or","ref_id":"29"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"30"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"31"}],"node_type":"Property","ref_id":"31"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"33"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"32"}],"node_type":"In","ref_id":"33"}],"ref_id":"34"}],"ref_id":"34"}],"node_type":"Query","ref_id":"35"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"35"}],"node_type":"Exists","ref_id":"36"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Encounter\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"37"}],"node_type":"Retrieve","ref_id":"37"},{"children":[{"text":" HospiceEncounter"}]}],"ref_id":"38"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceEncounter"}]}],"ref_id":"39"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"40"}],"node_type":"Property","ref_id":"40"},{"children":[{"text":" overlaps "}],"ref_id":"42"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"41"}],"ref_id":"42"}],"ref_id":"42"}],"node_type":"Query","ref_id":"43"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"43"}],"node_type":"Exists","ref_id":"44"}],"node_type":"Or","ref_id":"45"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice care [Minimum Data Set]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"46"}],"node_type":"Retrieve","ref_id":"46"},{"children":[{"text":" HospiceAssessment"}]}],"ref_id":"47"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"48"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"49"}],"node_type":"Property","ref_id":"49"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Yes (qualifier value)\""}]}],"node_type":"CodeRef","ref_id":"50"}],"node_type":"Equivalent","ref_id":"51"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"52"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"54"}],"node_type":"Property","ref_id":"54"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"55"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"56"}],"node_type":"Property","ref_id":"56"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"57"}],"node_type":"FunctionRef","ref_id":"57"},{"children":[{"text":" overlaps "}],"node_type":"Overlaps","ref_id":"59"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"58"}],"node_type":"Overlaps","ref_id":"59"}],"ref_id":"60"}],"ref_id":"60"}],"node_type":"Query","ref_id":"61"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"61"}],"node_type":"Exists","ref_id":"62"}],"node_type":"Or","ref_id":"63"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Order\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"64"}],"node_type":"Retrieve","ref_id":"64"},{"children":[{"text":" HospiceOrder"}]}],"ref_id":"65"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceOrder"}]}],"ref_id":"66"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"67"}],"node_type":"Property","ref_id":"67"},{"children":[{"text":" during day of "}],"ref_id":"69"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"68"}],"ref_id":"69"}],"ref_id":"69"}],"node_type":"Query","ref_id":"70"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"70"}],"node_type":"Exists","ref_id":"71"}],"node_type":"Or","ref_id":"72"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"73"}],"node_type":"Retrieve","ref_id":"73"},{"children":[{"text":" HospicePerformed"}]}],"ref_id":"74"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"76"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"77"}],"node_type":"Property","ref_id":"77"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"78"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"79"}],"node_type":"Property","ref_id":"79"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"80"}],"node_type":"FunctionRef","ref_id":"80"},{"children":[{"text":" overlaps "}],"ref_id":"82"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"81"}],"ref_id":"82"}],"ref_id":"82"}],"node_type":"Query","ref_id":"83"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"83"}],"node_type":"Exists","ref_id":"84"}],"node_type":"Or","ref_id":"85"}],"ref_id":"86"}],"define_name":"Has Hospice Services"}],"identifier":{"id":"Hospice","version":"4.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"Hospice","library_version":"4.0.000","statement_dependencies":[{"_id":"68926905e8da6d1c0d518b65","statement_name":"Has Hospice Services","statement_references":[{"_id":"68926905e8da6d1c0d518b66","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]}]},{"_id":"68926901e8da6d1c0d518981","cql":"library MATGlobalCommonFunctions version '7.0.000'\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where \"LengthInDays\"(EncounterInpatient.relevantPeriod)\u003c= 120\n      and EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"404","s":[{"value":["","library MATGlobalCommonFunctions version '7.0.000'"]}]}}],"identifier":{"id":"MATGlobalCommonFunctions","version":"7.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"9","locator":"11:1-11:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"8","s":[{"value":["Interval\u003c"]},{"r":"7","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"8","locator":"11:32-11:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"11:41-11:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"5:1-5:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}]},{"localId":"3","locator":"6:1-6:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"4","locator":"7:1-7:72","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}]},{"localId":"5","locator":"8:1-8:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]},{"localId":"6","locator":"9:1-9:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}]}]},"contexts":{"def":[{"locator":"13:1-13:15","name":"Patient"}]},"statements":{"def":[{"locator":"13:1-13:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"13:1-13:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"11","locator":"15:1-16:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"10","locator":"16:3-16:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"16:28-16:55","name":"Emergency Department Visit","type":"ValueSetRef"}}},{"localId":"23","locator":"32:1-33:60","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"23","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/","define function ","\"LengthInDays\"","(","Value"," "]},{"r":"17","s":[{"value":["Interval\u003c"]},{"r":"16","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"22","s":[{"r":"22","s":[{"value":["difference in days between "]},{"r":"19","s":[{"value":["start of "]},{"r":"18","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"21","s":[{"value":["end of "]},{"r":"20","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"22","locator":"33:3-33:60","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"19","locator":"33:30-33:43","type":"Start","operand":{"localId":"18","locator":"33:39-33:43","name":"Value","type":"OperandRef"}},{"localId":"21","locator":"33:49-33:60","type":"End","operand":{"localId":"20","locator":"33:56-33:60","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"17","locator":"32:38-32:55","type":"IntervalTypeSpecifier","pointType":{"localId":"16","locator":"32:47-32:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"33","locator":"18:1-21:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"33","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"32","s":[{"s":[{"r":"13","s":[{"r":"12","s":[{"r":"12","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"31","s":[{"value":["where "]},{"r":"31","s":[{"r":"26","s":[{"r":"24","s":[{"value":["\"LengthInDays\"","("]},{"r":"15","s":[{"r":"14","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"15","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]},{"r":"25","value":["\u003c="," ","120"]}]},{"value":["\n      and "]},{"r":"30","s":[{"r":"28","s":[{"r":"27","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"28","s":[{"value":["relevantPeriod"]}]}]},{"r":"30","value":[" ","ends during day of"," "]},{"r":"29","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}]}}],"expression":{"localId":"32","locator":"19:3-21:83","type":"Query","source":[{"localId":"13","locator":"19:3-19:68","alias":"EncounterInpatient","expression":{"localId":"12","locator":"19:3-19:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"19:28-19:48","name":"Encounter Inpatient","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"31","locator":"20:5-21:83","type":"And","operand":[{"localId":"26","locator":"20:11-20:65","type":"LessOrEqual","operand":[{"localId":"24","locator":"20:11-20:59","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"15","locator":"20:26-20:58","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}]},{"localId":"25","locator":"20:63-20:65","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"120","type":"Literal"}]},{"localId":"30","locator":"21:11-21:83","precision":"Day","type":"In","operand":[{"locator":"21:45-21:48","type":"End","operand":{"localId":"28","locator":"21:11-21:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"29","locator":"21:64-21:83","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"43","locator":"28:1-29:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"43","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/","define function ","\"ToDateInterval\"","(","period"," "]},{"r":"35","s":[{"value":["Interval\u003c"]},{"r":"34","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"42","s":[{"r":"42","s":[{"value":["Interval["]},{"r":"38","s":[{"value":["date from "]},{"r":"37","s":[{"value":["start of "]},{"r":"36","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"41","s":[{"value":["date from "]},{"r":"40","s":[{"value":["end of "]},{"r":"39","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"42","locator":"29:3-29:62","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"38","locator":"29:12-29:36","type":"DateFrom","operand":{"localId":"37","locator":"29:22-29:36","type":"Start","operand":{"localId":"36","locator":"29:31-29:36","name":"period","type":"OperandRef"}}},"high":{"localId":"41","locator":"29:39-29:61","type":"DateFrom","operand":{"localId":"40","locator":"29:49-29:61","type":"End","operand":{"localId":"39","locator":"29:56-29:61","name":"period","type":"OperandRef"}}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"35","locator":"28:41-28:58","type":"IntervalTypeSpecifier","pointType":{"localId":"34","locator":"28:50-28:57","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"79","locator":"36:1-44:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"79","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/","define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"47","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"78","s":[{"r":"78","s":[{"s":[{"r":"49","s":[{"r":"48","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"65","s":[{"value":["EDVisit",": "]},{"r":"64","s":[{"value":["Last","("]},{"r":"63","s":[{"s":[{"r":"51","s":[{"r":"50","s":[{"r":"50","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"58","s":[{"value":["where "]},{"r":"58","s":[{"r":"53","s":[{"r":"52","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"53","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"58","s":[{"value":["ends "]},{"r":"57","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"56","s":[{"value":["start of "]},{"r":"55","s":[{"r":"54","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"55","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"62","s":[{"value":["sort by \n  \t\t\t"]},{"r":"61","s":[{"r":"60","s":[{"value":["end of "]},{"r":"59","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"77","s":[{"value":["return "]},{"r":"76","s":[{"value":["if "]},{"r":"67","s":[{"r":"66","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"69","s":[{"r":"68","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"69","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"75","s":[{"value":["flatten "]},{"r":"74","s":[{"value":["{ "]},{"r":"71","s":[{"r":"70","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"71","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"73","s":[{"r":"72","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"73","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"78","locator":"37:3-44:71","type":"Query","source":[{"localId":"49","locator":"37:3-37:17","alias":"Visit","expression":{"localId":"48","locator":"37:3-37:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"65","locator":"38:8-42:4","identifier":"EDVisit","expression":{"localId":"64","locator":"38:17-42:4","type":"Last","source":{"localId":"63","locator":"38:22-41:26","type":"Query","source":[{"localId":"51","locator":"38:22-38:82","alias":"LastED","expression":{"localId":"50","locator":"38:22-38:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"38:47-38:74","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"58","locator":"39:6-39:95","type":"And","operand":[{"locator":"39:39-39:52","type":"In","operand":[{"locator":"39:34-39:37","type":"End","operand":{"localId":"53","locator":"39:12-39:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"39:39-39:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"39:67-39:95","type":"Subtract","operand":[{"localId":"56","locator":"39:67-39:95","type":"Start","operand":{"localId":"55","locator":"39:76-39:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"57","locator":"39:39-39:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"56","locator":"39:67-39:95","type":"Start","operand":{"localId":"55","locator":"39:76-39:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"39:39-39:52","type":"Not","operand":{"locator":"39:39-39:52","type":"IsNull","operand":{"localId":"56","locator":"39:67-39:95","type":"Start","operand":{"localId":"55","locator":"39:76-39:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"62","locator":"40:6-41:26","by":[{"localId":"61","locator":"41:6-41:26","direction":"asc","type":"ByExpression","expression":{"localId":"60","locator":"41:6-41:26","type":"End","operand":{"localId":"59","locator":"41:13-41:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"77","locator":"43:4-44:71","expression":{"localId":"76","locator":"43:11-44:71","type":"If","condition":{"localId":"67","locator":"43:14-43:28","type":"IsNull","operand":{"localId":"66","locator":"43:14-43:20","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"69","locator":"43:35-43:57","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"75","locator":"44:10-44:71","type":"Flatten","operand":{"localId":"74","locator":"44:18-44:71","type":"List","element":[{"localId":"71","locator":"44:20-44:44","path":"facilityLocations","type":"Property","source":{"localId":"70","locator":"44:20-44:26","name":"EDVisit","type":"QueryLetRef"}},{"localId":"73","locator":"44:47-44:69","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"47","locator":"36:54-36:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"96","locator":"47:1-51:18","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"96","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/","define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"80","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"95","s":[{"r":"95","s":[{"value":["start of "]},{"r":"94","s":[{"r":"93","s":[{"value":["First","("]},{"r":"92","s":[{"s":[{"r":"83","s":[{"r":"82","s":[{"value":["("]},{"r":"82","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"81","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"87","s":[{"value":["where "]},{"r":"87","s":[{"r":"85","s":[{"r":"84","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"85","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"86","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"91","s":[{"value":["sort by "]},{"r":"90","s":[{"r":"89","s":[{"value":["start of "]},{"r":"88","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"94","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"95","locator":"48:3-51:18","type":"Start","operand":{"localId":"94","locator":"48:12-51:18","path":"locationPeriod","type":"Property","source":{"localId":"93","locator":"48:12-51:3","type":"First","source":{"localId":"92","locator":"48:18-50:35","type":"Query","source":[{"localId":"83","locator":"48:18-48:72","alias":"HospitalLocation","expression":{"localId":"82","locator":"48:18-48:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"81","locator":"48:46-48:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"87","locator":"49:5-49:63","type":"InValueSet","code":{"localId":"85","locator":"49:11-49:31","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"86","locator":"49:36-49:63","name":"Emergency Department Visit","type":"ValueSetRef"}},"sort":{"localId":"91","locator":"50:5-50:35","by":[{"localId":"90","locator":"50:13-50:35","direction":"asc","type":"ByExpression","expression":{"localId":"89","locator":"50:13-50:35","type":"Start","operand":{"localId":"88","locator":"50:22-50:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"80","locator":"47:60-47:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"131","locator":"64:1-72:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"131","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/","define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"99","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"130","s":[{"r":"130","s":[{"s":[{"r":"101","s":[{"r":"100","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"117","s":[{"value":["EDVisit",": "]},{"r":"116","s":[{"value":["Last","("]},{"r":"115","s":[{"s":[{"r":"103","s":[{"r":"102","s":[{"r":"102","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"110","s":[{"value":["where "]},{"r":"110","s":[{"r":"105","s":[{"r":"104","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"105","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"110","s":[{"value":["ends "]},{"r":"109","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"108","s":[{"value":["start of "]},{"r":"107","s":[{"r":"106","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"107","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"114","s":[{"value":["sort by \n  \t\t\t"]},{"r":"113","s":[{"r":"112","s":[{"value":["end of "]},{"r":"111","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"129","s":[{"value":["return "]},{"r":"128","s":[{"value":["Interval["]},{"r":"124","s":[{"value":["Coalesce","("]},{"r":"120","s":[{"value":["start of "]},{"r":"119","s":[{"r":"118","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"119","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"123","s":[{"value":["start of "]},{"r":"122","s":[{"r":"121","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"122","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"127","s":[{"value":["end of "]},{"r":"126","s":[{"r":"125","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"126","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"130","locator":"65:3-72:31","type":"Query","source":[{"localId":"101","locator":"65:3-65:17","alias":"Visit","expression":{"localId":"100","locator":"65:3-65:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"117","locator":"66:8-70:4","identifier":"EDVisit","expression":{"localId":"116","locator":"66:17-70:4","type":"Last","source":{"localId":"115","locator":"66:22-69:26","type":"Query","source":[{"localId":"103","locator":"66:22-66:82","alias":"LastED","expression":{"localId":"102","locator":"66:22-66:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"66:47-66:74","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"110","locator":"67:6-67:95","type":"And","operand":[{"locator":"67:39-67:52","type":"In","operand":[{"locator":"67:34-67:37","type":"End","operand":{"localId":"105","locator":"67:12-67:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"67:39-67:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"67:67-67:95","type":"Subtract","operand":[{"localId":"108","locator":"67:67-67:95","type":"Start","operand":{"localId":"107","locator":"67:76-67:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"109","locator":"67:39-67:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"108","locator":"67:67-67:95","type":"Start","operand":{"localId":"107","locator":"67:76-67:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"67:39-67:52","type":"Not","operand":{"locator":"67:39-67:52","type":"IsNull","operand":{"localId":"108","locator":"67:67-67:95","type":"Start","operand":{"localId":"107","locator":"67:76-67:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"114","locator":"68:6-69:26","by":[{"localId":"113","locator":"69:6-69:26","direction":"asc","type":"ByExpression","expression":{"localId":"112","locator":"69:6-69:26","type":"End","operand":{"localId":"111","locator":"69:13-69:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"129","locator":"71:4-72:31","expression":{"localId":"128","locator":"71:11-72:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"124","locator":"71:20-71:91","type":"Coalesce","operand":[{"localId":"120","locator":"71:29-71:59","type":"Start","operand":{"localId":"119","locator":"71:38-71:59","path":"relevantPeriod","type":"Property","source":{"localId":"118","locator":"71:38-71:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"123","locator":"71:62-71:90","type":"Start","operand":{"localId":"122","locator":"71:71-71:90","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"127","locator":"72:4-72:30","type":"End","operand":{"localId":"126","locator":"72:11-72:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"99","locator":"64:45-64:66","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"134","locator":"54:1-55:39","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"134","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/","define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"97","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"133","s":[{"r":"133","s":[{"value":["start of "]},{"r":"132","s":[{"value":["\"Hospitalization\"","("]},{"r":"98","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"133","locator":"55:3-55:39","type":"Start","operand":{"localId":"132","locator":"55:12-55:39","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"98","locator":"55:30-55:38","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"97","locator":"54:51-54:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"147","locator":"58:1-61:18","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"147","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/","define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"135","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"146","s":[{"r":"146","s":[{"value":["start of "]},{"r":"145","s":[{"r":"144","s":[{"value":["First","("]},{"r":"143","s":[{"s":[{"r":"138","s":[{"r":"137","s":[{"value":["("]},{"r":"137","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"136","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"142","s":[{"value":["sort by "]},{"r":"141","s":[{"r":"140","s":[{"value":["start of "]},{"r":"139","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"145","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"146","locator":"59:3-61:18","type":"Start","operand":{"localId":"145","locator":"59:12-61:18","path":"locationPeriod","type":"Property","source":{"localId":"144","locator":"59:12-61:3","type":"First","source":{"localId":"143","locator":"59:18-60:35","type":"Query","source":[{"localId":"138","locator":"59:18-59:72","alias":"HospitalLocation","expression":{"localId":"137","locator":"59:18-59:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"136","locator":"59:46-59:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"142","locator":"60:5-60:35","by":[{"localId":"141","locator":"60:13-60:35","direction":"asc","type":"ByExpression","expression":{"localId":"140","locator":"60:13-60:35","type":"Start","operand":{"localId":"139","locator":"60:22-60:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"135","locator":"58:49-58:70","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"154","locator":"75:1-76:44","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"154","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/","define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"150","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"153","s":[{"r":"153","s":[{"value":["LengthInDays","("]},{"r":"152","s":[{"value":["\"Hospitalization\"","("]},{"r":"151","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"153","locator":"76:3-76:44","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"152","locator":"76:16-76:43","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"151","locator":"76:34-76:42","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"150","locator":"75:57-75:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"167","locator":"79:1-82:18","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"167","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/","define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"155","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"166","s":[{"r":"166","s":[{"value":["end of "]},{"r":"165","s":[{"r":"164","s":[{"value":["Last","("]},{"r":"163","s":[{"s":[{"r":"158","s":[{"r":"157","s":[{"value":["("]},{"r":"157","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"156","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"162","s":[{"value":["sort by "]},{"r":"161","s":[{"r":"160","s":[{"value":["start of "]},{"r":"159","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"165","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"166","locator":"80:3-82:18","type":"End","operand":{"localId":"165","locator":"80:10-82:18","path":"locationPeriod","type":"Property","source":{"localId":"164","locator":"80:10-82:3","type":"Last","source":{"localId":"163","locator":"80:15-81:35","type":"Query","source":[{"localId":"158","locator":"80:15-80:69","alias":"HospitalLocation","expression":{"localId":"157","locator":"80:15-80:53","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"156","locator":"80:43-80:51","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"162","locator":"81:5-81:35","by":[{"localId":"161","locator":"81:13-81:35","direction":"asc","type":"ByExpression","expression":{"localId":"160","locator":"81:13-81:35","type":"Start","operand":{"localId":"159","locator":"81:22-81:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"155","locator":"79:51-79:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"172","locator":"85:1-86:33","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"172","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/","define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"168","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"171","s":[{"r":"171","s":[{"value":["end of "]},{"r":"170","s":[{"r":"169","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"171","locator":"86:3-86:33","type":"End","operand":{"localId":"170","locator":"86:10-86:33","path":"relevantPeriod","type":"Property","source":{"localId":"169","locator":"86:10-86:18","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"168","locator":"85:51-85:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"245","locator":"89:1-109:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"245","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/","define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"173","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"244","s":[{"r":"244","s":[{"s":[{"r":"175","s":[{"r":"174","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"191","s":[{"value":["ObsVisit",": "]},{"r":"190","s":[{"value":["Last","("]},{"r":"189","s":[{"s":[{"r":"177","s":[{"r":"176","s":[{"r":"176","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"184","s":[{"value":["where "]},{"r":"184","s":[{"r":"179","s":[{"r":"178","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"179","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"184","s":[{"value":["ends "]},{"r":"183","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"182","s":[{"value":["start of "]},{"r":"181","s":[{"r":"180","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"181","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"188","s":[{"value":["sort by \n  \t\t\t"]},{"r":"187","s":[{"r":"186","s":[{"value":["end of "]},{"r":"185","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"199","s":[{"value":["VisitStart",": "]},{"r":"198","s":[{"value":["Coalesce","("]},{"r":"194","s":[{"value":["start of "]},{"r":"193","s":[{"r":"192","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"193","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"197","s":[{"value":["start of "]},{"r":"196","s":[{"r":"195","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"196","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"213","s":[{"value":["EDVisit",": "]},{"r":"212","s":[{"value":["Last","("]},{"r":"211","s":[{"s":[{"r":"201","s":[{"r":"200","s":[{"r":"200","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"206","s":[{"value":["where "]},{"r":"206","s":[{"r":"203","s":[{"r":"202","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"203","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"206","s":[{"value":["ends "]},{"r":"205","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"204","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"210","s":[{"value":["sort by \n  \t\t\t"]},{"r":"209","s":[{"r":"208","s":[{"value":["end of "]},{"r":"207","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"219","s":[{"value":["VisitStartWithED",": "]},{"r":"218","s":[{"value":["Coalesce","("]},{"r":"216","s":[{"value":["start of "]},{"r":"215","s":[{"r":"214","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"215","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"217","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"233","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"232","s":[{"value":["Last","("]},{"r":"231","s":[{"s":[{"r":"221","s":[{"r":"220","s":[{"r":"220","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"226","s":[{"value":["where "]},{"r":"226","s":[{"r":"223","s":[{"r":"222","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"223","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"226","s":[{"value":["ends "]},{"r":"225","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"224","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"230","s":[{"value":["sort by \n  \t\t\t"]},{"r":"229","s":[{"r":"228","s":[{"value":["end of "]},{"r":"227","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"243","s":[{"value":["return "]},{"r":"242","s":[{"value":["Interval["]},{"r":"238","s":[{"value":["Coalesce","("]},{"r":"236","s":[{"value":["start of "]},{"r":"235","s":[{"r":"234","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"235","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"237","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"241","s":[{"value":["end of "]},{"r":"240","s":[{"r":"239","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"240","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"244","locator":"90:3-109:31","type":"Query","source":[{"localId":"175","locator":"90:3-90:17","alias":"Visit","expression":{"localId":"174","locator":"90:3-90:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"191","locator":"91:8-95:4","identifier":"ObsVisit","expression":{"localId":"190","locator":"91:18-95:4","type":"Last","source":{"localId":"189","locator":"91:23-94:26","type":"Query","source":[{"localId":"177","locator":"91:23-91:78","alias":"LastObs","expression":{"localId":"176","locator":"91:23-91:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"91:48-91:69","name":"Observation Services","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"184","locator":"92:6-92:96","type":"And","operand":[{"locator":"92:40-92:53","type":"In","operand":[{"locator":"92:35-92:38","type":"End","operand":{"localId":"179","locator":"92:12-92:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"92:40-92:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"92:68-92:96","type":"Subtract","operand":[{"localId":"182","locator":"92:68-92:96","type":"Start","operand":{"localId":"181","locator":"92:77-92:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"183","locator":"92:40-92:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"182","locator":"92:68-92:96","type":"Start","operand":{"localId":"181","locator":"92:77-92:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"92:40-92:53","type":"Not","operand":{"locator":"92:40-92:53","type":"IsNull","operand":{"localId":"182","locator":"92:68-92:96","type":"Start","operand":{"localId":"181","locator":"92:77-92:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"188","locator":"93:6-94:26","by":[{"localId":"187","locator":"94:6-94:26","direction":"asc","type":"ByExpression","expression":{"localId":"186","locator":"94:6-94:26","type":"End","operand":{"localId":"185","locator":"94:13-94:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"199","locator":"96:4-96:88","identifier":"VisitStart","expression":{"localId":"198","locator":"96:16-96:88","type":"Coalesce","operand":[{"localId":"194","locator":"96:25-96:56","type":"Start","operand":{"localId":"193","locator":"96:34-96:56","path":"relevantPeriod","type":"Property","source":{"localId":"192","locator":"96:34-96:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"197","locator":"96:59-96:87","type":"Start","operand":{"localId":"196","locator":"96:68-96:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"213","locator":"97:4-101:4","identifier":"EDVisit","expression":{"localId":"212","locator":"97:13-101:4","type":"Last","source":{"localId":"211","locator":"97:18-100:26","type":"Query","source":[{"localId":"201","locator":"97:18-97:78","alias":"LastED","expression":{"localId":"200","locator":"97:18-97:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"97:43-97:70","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"206","locator":"98:6-98:76","type":"And","operand":[{"locator":"98:39-98:52","type":"In","operand":[{"locator":"98:34-98:37","type":"End","operand":{"localId":"203","locator":"98:12-98:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"98:39-98:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"98:67-98:76","type":"Subtract","operand":[{"localId":"204","locator":"98:67-98:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"205","locator":"98:39-98:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"204","locator":"98:67-98:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"98:39-98:52","type":"Not","operand":{"locator":"98:39-98:52","type":"IsNull","operand":{"localId":"204","locator":"98:67-98:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"210","locator":"99:6-100:26","by":[{"localId":"209","locator":"100:6-100:26","direction":"asc","type":"ByExpression","expression":{"localId":"208","locator":"100:6-100:26","type":"End","operand":{"localId":"207","locator":"100:13-100:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"219","locator":"102:4-102:74","identifier":"VisitStartWithED","expression":{"localId":"218","locator":"102:22-102:74","type":"Coalesce","operand":[{"localId":"216","locator":"102:31-102:61","type":"Start","operand":{"localId":"215","locator":"102:40-102:61","path":"relevantPeriod","type":"Property","source":{"localId":"214","locator":"102:40-102:46","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"217","locator":"102:64-102:73","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"233","locator":"103:4-107:4","identifier":"OutpatientSurgeryVisit","expression":{"localId":"232","locator":"103:28-107:4","type":"Last","source":{"localId":"231","locator":"103:33-106:26","type":"Query","source":[{"localId":"221","locator":"103:33-103:100","alias":"LastSurgeryOP","expression":{"localId":"220","locator":"103:33-103:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"103:58-103:85","name":"Outpatient Surgery Service","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"226","locator":"104:6-104:89","type":"And","operand":[{"locator":"104:46-104:59","type":"In","operand":[{"locator":"104:41-104:44","type":"End","operand":{"localId":"223","locator":"104:12-104:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"104:46-104:59","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"104:74-104:89","type":"Subtract","operand":[{"localId":"224","locator":"104:74-104:89","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"225","locator":"104:46-104:51","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"224","locator":"104:74-104:89","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"locator":"104:46-104:59","type":"Not","operand":{"locator":"104:46-104:59","type":"IsNull","operand":{"localId":"224","locator":"104:74-104:89","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"230","locator":"105:6-106:26","by":[{"localId":"229","locator":"106:6-106:26","direction":"asc","type":"ByExpression","expression":{"localId":"228","locator":"106:6-106:26","type":"End","operand":{"localId":"227","locator":"106:13-106:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"243","locator":"108:4-109:31","expression":{"localId":"242","locator":"108:11-109:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"238","locator":"108:20-108:93","type":"Coalesce","operand":[{"localId":"236","locator":"108:29-108:74","type":"Start","operand":{"localId":"235","locator":"108:38-108:74","path":"relevantPeriod","type":"Property","source":{"localId":"234","locator":"108:38-108:59","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"237","locator":"108:77-108:92","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"241","locator":"109:4-109:30","type":"End","operand":{"localId":"240","locator":"109:11-109:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"173","locator":"89:87-89:108","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"298","locator":"112:1-126:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"298","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/","define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"246","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"297","s":[{"r":"297","s":[{"s":[{"r":"248","s":[{"r":"247","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"264","s":[{"value":["ObsVisit",": "]},{"r":"263","s":[{"value":["Last","("]},{"r":"262","s":[{"s":[{"r":"250","s":[{"r":"249","s":[{"r":"249","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"257","s":[{"value":["where "]},{"r":"257","s":[{"r":"252","s":[{"r":"251","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"252","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"257","s":[{"value":["ends "]},{"r":"256","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"255","s":[{"value":["start of "]},{"r":"254","s":[{"r":"253","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"254","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"261","s":[{"value":["sort by \n  \t\t\t"]},{"r":"260","s":[{"r":"259","s":[{"value":["end of "]},{"r":"258","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"272","s":[{"value":["VisitStart",": "]},{"r":"271","s":[{"value":["Coalesce","("]},{"r":"267","s":[{"value":["start of "]},{"r":"266","s":[{"r":"265","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"266","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"270","s":[{"value":["start of "]},{"r":"269","s":[{"r":"268","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"269","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"286","s":[{"value":["EDVisit",": "]},{"r":"285","s":[{"value":["Last","("]},{"r":"284","s":[{"s":[{"r":"274","s":[{"r":"273","s":[{"r":"273","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"279","s":[{"value":["where "]},{"r":"279","s":[{"r":"276","s":[{"r":"275","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"276","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"279","s":[{"value":["ends "]},{"r":"278","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"277","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"283","s":[{"value":["sort by \n  \t\t\t"]},{"r":"282","s":[{"r":"281","s":[{"value":["end of "]},{"r":"280","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"296","s":[{"value":["return "]},{"r":"295","s":[{"value":["Interval["]},{"r":"291","s":[{"value":["Coalesce","("]},{"r":"289","s":[{"value":["start of "]},{"r":"288","s":[{"r":"287","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"288","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"290","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"294","s":[{"value":["end of "]},{"r":"293","s":[{"r":"292","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"293","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"297","locator":"113:3-126:31","type":"Query","source":[{"localId":"248","locator":"113:3-113:17","alias":"Visit","expression":{"localId":"247","locator":"113:3-113:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"264","locator":"114:8-118:4","identifier":"ObsVisit","expression":{"localId":"263","locator":"114:18-118:4","type":"Last","source":{"localId":"262","locator":"114:23-117:26","type":"Query","source":[{"localId":"250","locator":"114:23-114:78","alias":"LastObs","expression":{"localId":"249","locator":"114:23-114:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"114:48-114:69","name":"Observation Services","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"257","locator":"115:6-115:96","type":"And","operand":[{"locator":"115:40-115:53","type":"In","operand":[{"locator":"115:35-115:38","type":"End","operand":{"localId":"252","locator":"115:12-115:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"115:40-115:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"115:68-115:96","type":"Subtract","operand":[{"localId":"255","locator":"115:68-115:96","type":"Start","operand":{"localId":"254","locator":"115:77-115:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"256","locator":"115:40-115:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"255","locator":"115:68-115:96","type":"Start","operand":{"localId":"254","locator":"115:77-115:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"115:40-115:53","type":"Not","operand":{"locator":"115:40-115:53","type":"IsNull","operand":{"localId":"255","locator":"115:68-115:96","type":"Start","operand":{"localId":"254","locator":"115:77-115:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"261","locator":"116:6-117:26","by":[{"localId":"260","locator":"117:6-117:26","direction":"asc","type":"ByExpression","expression":{"localId":"259","locator":"117:6-117:26","type":"End","operand":{"localId":"258","locator":"117:13-117:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"272","locator":"119:4-119:88","identifier":"VisitStart","expression":{"localId":"271","locator":"119:16-119:88","type":"Coalesce","operand":[{"localId":"267","locator":"119:25-119:56","type":"Start","operand":{"localId":"266","locator":"119:34-119:56","path":"relevantPeriod","type":"Property","source":{"localId":"265","locator":"119:34-119:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"270","locator":"119:59-119:87","type":"Start","operand":{"localId":"269","locator":"119:68-119:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"286","locator":"120:4-124:4","identifier":"EDVisit","expression":{"localId":"285","locator":"120:13-124:4","type":"Last","source":{"localId":"284","locator":"120:18-123:26","type":"Query","source":[{"localId":"274","locator":"120:18-120:78","alias":"LastED","expression":{"localId":"273","locator":"120:18-120:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"120:43-120:70","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"279","locator":"121:6-121:76","type":"And","operand":[{"locator":"121:39-121:52","type":"In","operand":[{"locator":"121:34-121:37","type":"End","operand":{"localId":"276","locator":"121:12-121:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"121:39-121:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"121:67-121:76","type":"Subtract","operand":[{"localId":"277","locator":"121:67-121:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"278","locator":"121:39-121:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"277","locator":"121:67-121:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"121:39-121:52","type":"Not","operand":{"locator":"121:39-121:52","type":"IsNull","operand":{"localId":"277","locator":"121:67-121:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"283","locator":"122:6-123:26","by":[{"localId":"282","locator":"123:6-123:26","direction":"asc","type":"ByExpression","expression":{"localId":"281","locator":"123:6-123:26","type":"End","operand":{"localId":"280","locator":"123:13-123:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"296","locator":"125:4-126:31","expression":{"localId":"295","locator":"125:11-126:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"291","locator":"125:20-125:72","type":"Coalesce","operand":[{"localId":"289","locator":"125:29-125:59","type":"Start","operand":{"localId":"288","locator":"125:38-125:59","path":"relevantPeriod","type":"Property","source":{"localId":"287","locator":"125:38-125:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"290","locator":"125:62-125:71","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"294","locator":"126:4-126:30","type":"End","operand":{"localId":"293","locator":"126:11-126:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"246","locator":"112:60-112:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"303","locator":"129:1-130:61","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"303","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/","define function ","\"HospitalizationWithObservationLengthofStay\"","(","Encounter"," "]},{"r":"299","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"302","s":[{"r":"302","s":[{"value":["\"LengthInDays\"","("]},{"r":"301","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"300","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"302","locator":"130:3-130:61","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"301","locator":"130:18-130:60","name":"HospitalizationWithObservation","type":"FunctionRef","operand":[{"localId":"300","locator":"130:51-130:59","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"299","locator":"129:72-129:93","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"324","locator":"133:1-138:3","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"324","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/","define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"304","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"323","s":[{"r":"323","s":[{"value":["First","("]},{"r":"322","s":[{"s":[{"r":"307","s":[{"r":"306","s":[{"value":["("]},{"r":"306","s":[{"r":"305","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"306","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"317","s":[{"value":["where "]},{"r":"317","s":[{"r":"311","s":[{"r":"309","s":[{"r":"308","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"309","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"310","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"316","s":[{"r":"313","s":[{"r":"312","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"313","s":[{"value":["locationPeriod"]}]}]},{"r":"316","value":[" ","during"," "]},{"r":"315","s":[{"r":"314","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"315","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"321","s":[{"value":["sort by "]},{"r":"320","s":[{"r":"319","s":[{"value":["start of "]},{"r":"318","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"323","locator":"134:3-138:3","type":"First","source":{"localId":"322","locator":"134:9-137:37","type":"Query","source":[{"localId":"307","locator":"134:9-134:53","alias":"HospitalLocation","expression":{"localId":"306","locator":"134:9-134:37","path":"facilityLocations","type":"Property","source":{"localId":"305","locator":"134:10-134:18","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"317","locator":"135:7-136:75","type":"And","operand":[{"localId":"311","locator":"135:13-135:58","type":"InValueSet","code":{"localId":"309","locator":"135:13-135:33","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"310","locator":"135:38-135:58","name":"Intensive Care Unit","type":"ValueSetRef"}},{"localId":"316","locator":"136:13-136:75","type":"IncludedIn","operand":[{"localId":"313","locator":"136:13-136:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"315","locator":"136:52-136:75","path":"relevantPeriod","type":"Property","source":{"localId":"314","locator":"136:52-136:60","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"321","locator":"137:7-137:37","by":[{"localId":"320","locator":"137:15-137:37","direction":"asc","type":"ByExpression","expression":{"localId":"319","locator":"137:15-137:37","type":"Start","operand":{"localId":"318","locator":"137:24-137:37","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"304","locator":"133:61-133:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"342","locator":"141:1-144:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"342","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/","define function ","\"NormalizeInterval\"","(","pointInTime"," "]},{"r":"325","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"327","s":[{"value":["Interval\u003c"]},{"r":"326","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"341","s":[{"r":"341","s":[{"value":["if "]},{"r":"329","s":[{"r":"328","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"332","s":[{"value":["Interval["]},{"r":"330","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"331","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"340","s":[{"value":["if "]},{"r":"334","s":[{"r":"333","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"335","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"339","s":[{"r":"336","value":["null"," as "]},{"r":"338","s":[{"value":["Interval\u003c"]},{"r":"337","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"expression":{"localId":"341","locator":"142:3-144:35","type":"If","condition":{"localId":"329","locator":"142:6-142:28","type":"Not","operand":{"locator":"142:6-142:28","type":"IsNull","operand":{"localId":"328","locator":"142:6-142:16","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"332","locator":"142:35-142:68","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"330","locator":"142:44-142:54","name":"pointInTime","type":"OperandRef"},"high":{"localId":"331","locator":"142:57-142:67","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"340","locator":"143:10-144:35","type":"If","condition":{"localId":"334","locator":"143:13-143:30","type":"Not","operand":{"locator":"143:13-143:30","type":"IsNull","operand":{"localId":"333","locator":"143:13-143:18","name":"period","type":"OperandRef"}}},"then":{"localId":"335","locator":"143:37-143:42","name":"period","type":"OperandRef"},"else":{"localId":"339","locator":"144:10-144:35","strict":false,"type":"As","operand":{"localId":"336","locator":"144:10-144:13","type":"Null"},"asTypeSpecifier":{"localId":"338","locator":"144:18-144:35","type":"IntervalTypeSpecifier","pointType":{"localId":"337","locator":"144:27-144:34","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"325","locator":"141:49-141:56","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"327","locator":"141:66-141:83","type":"IntervalTypeSpecifier","pointType":{"localId":"326","locator":"141:75-141:82","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"355","locator":"147:1-150:3","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"355","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/","define function ","\"HasStart\"","(","period"," "]},{"r":"344","s":[{"value":["Interval\u003c"]},{"r":"343","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"354","s":[{"r":"354","s":[{"value":["not "]},{"r":"353","s":[{"value":["( "]},{"r":"353","s":[{"r":"347","s":[{"r":"346","s":[{"value":["start of "]},{"r":"345","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"352","s":[{"r":"349","s":[{"value":["start of "]},{"r":"348","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"351","s":[{"value":["minimum"," "]},{"r":"350","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"354","locator":"148:3-150:3","type":"Not","operand":{"localId":"353","locator":"148:7-150:3","type":"Or","operand":[{"localId":"347","locator":"148:9-148:31","type":"IsNull","operand":{"localId":"346","locator":"148:9-148:23","type":"Start","operand":{"localId":"345","locator":"148:18-148:23","name":"period","type":"OperandRef"}}},{"localId":"352","locator":"149:10-149:43","type":"Equal","operand":[{"localId":"349","locator":"149:10-149:24","type":"Start","operand":{"localId":"348","locator":"149:19-149:24","name":"period","type":"OperandRef"}},{"localId":"351","locator":"149:28-149:43","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"344","locator":"147:35-147:52","type":"IntervalTypeSpecifier","pointType":{"localId":"343","locator":"147:44-147:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"368","locator":"153:1-158:3","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"368","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/","define function ","\"HasEnd\"","(","period"," "]},{"r":"357","s":[{"value":["Interval\u003c"]},{"r":"356","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"367","s":[{"r":"367","s":[{"value":["not "]},{"r":"366","s":[{"value":["( \n    "]},{"r":"366","s":[{"r":"360","s":[{"r":"359","s":[{"value":["end of "]},{"r":"358","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"365","s":[{"r":"362","s":[{"value":["end of "]},{"r":"361","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"364","s":[{"value":["maximum"," "]},{"r":"363","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"367","locator":"154:3-158:3","type":"Not","operand":{"localId":"366","locator":"154:7-158:3","type":"Or","operand":[{"localId":"360","locator":"155:5-155:25","type":"IsNull","operand":{"localId":"359","locator":"155:5-155:17","type":"End","operand":{"localId":"358","locator":"155:12-155:17","name":"period","type":"OperandRef"}}},{"localId":"365","locator":"157:7-157:38","type":"Equal","operand":[{"localId":"362","locator":"157:7-157:19","type":"End","operand":{"localId":"361","locator":"157:14-157:19","name":"period","type":"OperandRef"}},{"localId":"364","locator":"157:23-157:38","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"357","locator":"153:33-153:50","type":"IntervalTypeSpecifier","pointType":{"localId":"356","locator":"153:42-153:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"378","locator":"161:1-164:24","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"378","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/","define function ","\"Latest\"","(","period"," "]},{"r":"370","s":[{"value":["Interval\u003c"]},{"r":"369","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"377","s":[{"r":"377","s":[{"value":["if "]},{"r":"372","s":[{"value":["( "]},{"r":"372","s":[{"value":["HasEnd","("]},{"r":"371","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"374","s":[{"value":["end of "]},{"r":"373","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"376","s":[{"value":["start of "]},{"r":"375","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"377","locator":"162:3-164:24","type":"If","condition":{"localId":"372","locator":"162:6-162:22","name":"HasEnd","type":"FunctionRef","operand":[{"localId":"371","locator":"162:15-162:20","name":"period","type":"OperandRef"}]},"then":{"localId":"374","locator":"163:3-163:15","type":"End","operand":{"localId":"373","locator":"163:10-163:15","name":"period","type":"OperandRef"}},"else":{"localId":"376","locator":"164:10-164:24","type":"Start","operand":{"localId":"375","locator":"164:19-164:24","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"370","locator":"161:33-161:50","type":"IntervalTypeSpecifier","pointType":{"localId":"369","locator":"161:42-161:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"388","locator":"167:1-170:15","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"388","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/","define function ","\"Earliest\"","(","period"," "]},{"r":"380","s":[{"value":["Interval\u003c"]},{"r":"379","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"387","s":[{"r":"387","s":[{"value":["if "]},{"r":"382","s":[{"value":["( "]},{"r":"382","s":[{"value":["HasStart","("]},{"r":"381","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"384","s":[{"value":["start of "]},{"r":"383","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"386","s":[{"value":["end of "]},{"r":"385","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"387","locator":"168:3-170:15","type":"If","condition":{"localId":"382","locator":"168:6-168:24","name":"HasStart","type":"FunctionRef","operand":[{"localId":"381","locator":"168:17-168:22","name":"period","type":"OperandRef"}]},"then":{"localId":"384","locator":"168:31-168:45","type":"Start","operand":{"localId":"383","locator":"168:40-168:45","name":"period","type":"OperandRef"}},"else":{"localId":"386","locator":"170:3-170:15","type":"End","operand":{"localId":"385","locator":"170:10-170:15","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"380","locator":"167:35-167:52","type":"IntervalTypeSpecifier","pointType":{"localId":"379","locator":"167:44-167:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"396","locator":"173:1-174:48","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"396","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/","define function ","\"LatestOf\"","(","pointInTime"," "]},{"r":"389","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"391","s":[{"value":["Interval\u003c"]},{"r":"390","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"395","s":[{"r":"395","s":[{"value":["Latest","("]},{"r":"394","s":[{"value":["NormalizeInterval","("]},{"r":"392","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"393","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"395","locator":"174:3-174:48","name":"Latest","type":"FunctionRef","operand":[{"localId":"394","locator":"174:10-174:47","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"392","locator":"174:28-174:38","name":"pointInTime","type":"OperandRef"},{"localId":"393","locator":"174:41-174:46","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"389","locator":"173:40-173:47","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"391","locator":"173:57-173:74","type":"IntervalTypeSpecifier","pointType":{"localId":"390","locator":"173:66-173:73","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"404","locator":"177:1-178:50","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"404","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/","define function ","\"EarliestOf\"","(","pointInTime"," "]},{"r":"397","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"399","s":[{"value":["Interval\u003c"]},{"r":"398","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"403","s":[{"r":"403","s":[{"value":["Earliest","("]},{"r":"402","s":[{"value":["NormalizeInterval","("]},{"r":"400","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"401","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"403","locator":"178:3-178:50","name":"Earliest","type":"FunctionRef","operand":[{"localId":"402","locator":"178:12-178:49","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"400","locator":"178:30-178:40","name":"pointInTime","type":"OperandRef"},{"localId":"401","locator":"178:43-178:48","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"397","locator":"177:42-177:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"399","locator":"177:59-177:76","type":"IntervalTypeSpecifier","pointType":{"localId":"398","locator":"177:68-177:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"ref_id":"11"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/define function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"16"},{"children":[{"text":"\u003e"}]}],"ref_id":"17"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"18"}],"node_type":"Start","ref_id":"19"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"20"}],"node_type":"End","ref_id":"21"}],"node_type":"DifferenceBetween","ref_id":"22"}],"node_type":"DifferenceBetween","ref_id":"22"}],"ref_id":"23"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"12"}],"node_type":"Retrieve","ref_id":"12"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"13"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"14"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"15"}],"node_type":"Property","ref_id":"15"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"24"},{"children":[{"text":"\u003c= 120"}],"node_type":"Literal","ref_id":"25"}],"node_type":"LessOrEqual","ref_id":"26"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"27"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"28"}],"node_type":"Property","ref_id":"28"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"30"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"29"}],"node_type":"In","ref_id":"30"}],"ref_id":"31"}],"ref_id":"31"}],"node_type":"Query","ref_id":"32"}],"ref_id":"33"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[]},{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/define function \"ToDateInterval\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"34"},{"children":[{"text":"\u003e"}]}],"ref_id":"35"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"36"}],"node_type":"Start","ref_id":"37"}],"ref_id":"38"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"39"}],"node_type":"End","ref_id":"40"}],"ref_id":"41"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"42"}],"node_type":"Interval","ref_id":"42"}],"ref_id":"43"}],"define_name":"ToDateInterval"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/define function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"47"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"48"},{"children":[{"text":" Visit"}]}],"ref_id":"49"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"50"}],"node_type":"Retrieve","ref_id":"50"},{"children":[{"text":" LastED"}]}],"ref_id":"51"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"52"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"53"}],"node_type":"Property","ref_id":"53"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"57"},{"children":[{"text":" or less on or before"}]}],"ref_id":"58"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"54"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"55"}],"node_type":"Property","ref_id":"55"}],"node_type":"Start","ref_id":"56"}],"ref_id":"58"}],"ref_id":"58"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"59"}],"node_type":"End","ref_id":"60"}],"ref_id":"61"}],"ref_id":"62"}],"ref_id":"63"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"64"}],"ref_id":"65"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"66"},{"children":[{"text":" is null"}]}],"ref_id":"67"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"68"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"69"}],"ref_id":"69"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"70"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"71"}],"ref_id":"71"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"72"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"73"}],"ref_id":"73"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"74"}],"ref_id":"75"}],"node_type":"If","ref_id":"76"}],"ref_id":"77"}],"node_type":"Query","ref_id":"78"}],"node_type":"Query","ref_id":"78"}],"ref_id":"79"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/define function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"80"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"81"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"82"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"82"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"83"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"84"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"85"}],"ref_id":"85"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"86"}],"ref_id":"87"}],"ref_id":"87"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"88"}],"node_type":"Start","ref_id":"89"}],"ref_id":"90"}],"ref_id":"91"}],"ref_id":"92"},{"children":[{"text":"\n  )"}]}],"ref_id":"93"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"94"}],"node_type":"Property","ref_id":"94"}],"node_type":"Start","ref_id":"95"}],"node_type":"Start","ref_id":"95"}],"ref_id":"96"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/define function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"99"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"100"},{"children":[{"text":" Visit"}]}],"ref_id":"101"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"102"}],"node_type":"Retrieve","ref_id":"102"},{"children":[{"text":" LastED"}]}],"ref_id":"103"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"104"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"105"}],"node_type":"Property","ref_id":"105"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"109"},{"children":[{"text":" or less on or before"}]}],"ref_id":"110"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"106"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"107"}],"node_type":"Property","ref_id":"107"}],"node_type":"Start","ref_id":"108"}],"ref_id":"110"}],"ref_id":"110"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"111"}],"node_type":"End","ref_id":"112"}],"ref_id":"113"}],"ref_id":"114"}],"ref_id":"115"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"116"}],"ref_id":"117"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"118"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"119"}],"node_type":"Property","ref_id":"119"}],"node_type":"Start","ref_id":"120"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"121"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"122"}],"node_type":"Property","ref_id":"122"}],"node_type":"Start","ref_id":"123"},{"children":[{"text":")"}]}],"ref_id":"124"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"125"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"126"}],"node_type":"Property","ref_id":"126"}],"ref_id":"127"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"128"}],"ref_id":"129"}],"node_type":"Query","ref_id":"130"}],"node_type":"Query","ref_id":"130"}],"ref_id":"131"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/define function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"97"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"98"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"132"}],"node_type":"Start","ref_id":"133"}],"node_type":"Start","ref_id":"133"}],"ref_id":"134"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/define function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"135"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"136"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"137"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"137"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"138"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"139"}],"node_type":"Start","ref_id":"140"}],"ref_id":"141"}],"ref_id":"142"}],"ref_id":"143"},{"children":[{"text":"\n  )"}]}],"ref_id":"144"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"145"}],"node_type":"Property","ref_id":"145"}],"node_type":"Start","ref_id":"146"}],"node_type":"Start","ref_id":"146"}],"ref_id":"147"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/define function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"150"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"151"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"152"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"153"}],"node_type":"FunctionRef","ref_id":"153"}],"ref_id":"154"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/define function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"155"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"156"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"157"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"157"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"158"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"159"}],"node_type":"Start","ref_id":"160"}],"ref_id":"161"}],"ref_id":"162"}],"ref_id":"163"},{"children":[{"text":"\n  )"}]}],"ref_id":"164"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"165"}],"node_type":"Property","ref_id":"165"}],"node_type":"End","ref_id":"166"}],"node_type":"End","ref_id":"166"}],"ref_id":"167"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/define function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"168"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"}],"node_type":"End","ref_id":"171"}],"node_type":"End","ref_id":"171"}],"ref_id":"172"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/define function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"173"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"174"},{"children":[{"text":" Visit"}]}],"ref_id":"175"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"176"}],"node_type":"Retrieve","ref_id":"176"},{"children":[{"text":" LastObs"}]}],"ref_id":"177"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"178"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"179"}],"node_type":"Property","ref_id":"179"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"183"},{"children":[{"text":" or less on or before"}]}],"ref_id":"184"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"180"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"181"}],"node_type":"Property","ref_id":"181"}],"node_type":"Start","ref_id":"182"}],"ref_id":"184"}],"ref_id":"184"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"185"}],"node_type":"End","ref_id":"186"}],"ref_id":"187"}],"ref_id":"188"}],"ref_id":"189"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"190"}],"ref_id":"191"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"192"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"193"}],"node_type":"Property","ref_id":"193"}],"node_type":"Start","ref_id":"194"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"195"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"196"}],"node_type":"Property","ref_id":"196"}],"node_type":"Start","ref_id":"197"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"198"}],"ref_id":"199"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"200"}],"node_type":"Retrieve","ref_id":"200"},{"children":[{"text":" LastED"}]}],"ref_id":"201"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"202"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"203"}],"node_type":"Property","ref_id":"203"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"205"},{"children":[{"text":" or less on or before"}]}],"ref_id":"206"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"204"}],"ref_id":"206"}],"ref_id":"206"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"207"}],"node_type":"End","ref_id":"208"}],"ref_id":"209"}],"ref_id":"210"}],"ref_id":"211"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"212"}],"ref_id":"213"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"214"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"215"}],"node_type":"Property","ref_id":"215"}],"node_type":"Start","ref_id":"216"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"217"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"218"}],"ref_id":"219"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"220"}],"node_type":"Retrieve","ref_id":"220"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"221"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"222"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"223"}],"node_type":"Property","ref_id":"223"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"225"},{"children":[{"text":" or less on or before"}]}],"ref_id":"226"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"224"}],"ref_id":"226"}],"ref_id":"226"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"227"}],"node_type":"End","ref_id":"228"}],"ref_id":"229"}],"ref_id":"230"}],"ref_id":"231"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"232"}],"ref_id":"233"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"234"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"235"}],"node_type":"Property","ref_id":"235"}],"node_type":"Start","ref_id":"236"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"237"},{"children":[{"text":")"}]}],"ref_id":"238"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"239"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"240"}],"node_type":"Property","ref_id":"240"}],"ref_id":"241"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"242"}],"ref_id":"243"}],"node_type":"Query","ref_id":"244"}],"node_type":"Query","ref_id":"244"}],"ref_id":"245"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/define function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"246"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"247"},{"children":[{"text":" Visit"}]}],"ref_id":"248"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"249"}],"node_type":"Retrieve","ref_id":"249"},{"children":[{"text":" LastObs"}]}],"ref_id":"250"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"251"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"252"}],"node_type":"Property","ref_id":"252"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"256"},{"children":[{"text":" or less on or before"}]}],"ref_id":"257"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"253"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"254"}],"node_type":"Property","ref_id":"254"}],"node_type":"Start","ref_id":"255"}],"ref_id":"257"}],"ref_id":"257"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"258"}],"node_type":"End","ref_id":"259"}],"ref_id":"260"}],"ref_id":"261"}],"ref_id":"262"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"263"}],"ref_id":"264"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"265"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"266"}],"node_type":"Property","ref_id":"266"}],"node_type":"Start","ref_id":"267"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"268"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"269"}],"node_type":"Property","ref_id":"269"}],"node_type":"Start","ref_id":"270"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"271"}],"ref_id":"272"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"273"}],"node_type":"Retrieve","ref_id":"273"},{"children":[{"text":" LastED"}]}],"ref_id":"274"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"275"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"276"}],"node_type":"Property","ref_id":"276"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"278"},{"children":[{"text":" or less on or before"}]}],"ref_id":"279"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"277"}],"ref_id":"279"}],"ref_id":"279"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"280"}],"node_type":"End","ref_id":"281"}],"ref_id":"282"}],"ref_id":"283"}],"ref_id":"284"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"285"}],"ref_id":"286"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"287"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"288"}],"node_type":"Property","ref_id":"288"}],"node_type":"Start","ref_id":"289"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"290"},{"children":[{"text":")"}]}],"ref_id":"291"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"292"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"293"}],"node_type":"Property","ref_id":"293"}],"ref_id":"294"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"295"}],"ref_id":"296"}],"node_type":"Query","ref_id":"297"}],"node_type":"Query","ref_id":"297"}],"ref_id":"298"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/define function \"HospitalizationWithObservationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"299"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"300"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"301"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"302"}],"node_type":"FunctionRef","ref_id":"302"}],"ref_id":"303"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/define function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"304"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"305"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"306"}],"node_type":"Property","ref_id":"306"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"306"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"307"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"308"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"309"}],"ref_id":"309"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"310"}],"node_type":"InValueSet","ref_id":"311"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"312"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"313"}],"node_type":"Property","ref_id":"313"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"316"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"314"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"315"}],"node_type":"Property","ref_id":"315"}],"node_type":"IncludedIn","ref_id":"316"}],"ref_id":"317"}],"ref_id":"317"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"318"}],"node_type":"Start","ref_id":"319"}],"ref_id":"320"}],"ref_id":"321"}],"ref_id":"322"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"323"}],"node_type":"First","ref_id":"323"}],"ref_id":"324"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/define function \"NormalizeInterval\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"325"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"326"},{"children":[{"text":"\u003e"}]}],"ref_id":"327"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"328"},{"children":[{"text":" is not null"}]}],"ref_id":"329"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"330"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"331"},{"children":[{"text":"]"}]}],"ref_id":"332"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"333"},{"children":[{"text":" is not null"}]}],"ref_id":"334"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"335"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"336"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"337"},{"children":[{"text":"\u003e"}]}],"ref_id":"338"}],"ref_id":"339"}],"ref_id":"340"}],"node_type":"If","ref_id":"341"}],"node_type":"If","ref_id":"341"}],"ref_id":"342"}],"define_name":"NormalizeInterval"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/define function \"HasStart\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"343"},{"children":[{"text":"\u003e"}]}],"ref_id":"344"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"345"}],"node_type":"Start","ref_id":"346"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"347"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"348"}],"node_type":"Start","ref_id":"349"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"350"}],"node_type":"MinValue","ref_id":"351"}],"node_type":"Equal","ref_id":"352"}],"node_type":"Or","ref_id":"353"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"353"}],"node_type":"Not","ref_id":"354"}],"node_type":"Not","ref_id":"354"}],"ref_id":"355"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/define function \"HasEnd\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"356"},{"children":[{"text":"\u003e"}]}],"ref_id":"357"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"358"}],"node_type":"End","ref_id":"359"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"360"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"361"}],"node_type":"End","ref_id":"362"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"363"}],"node_type":"MaxValue","ref_id":"364"}],"node_type":"Equal","ref_id":"365"}],"node_type":"Or","ref_id":"366"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"366"}],"node_type":"Not","ref_id":"367"}],"node_type":"Not","ref_id":"367"}],"ref_id":"368"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/define function \"Latest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"369"},{"children":[{"text":"\u003e"}]}],"ref_id":"370"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"371"},{"children":[{"text":")"}]}],"ref_id":"372"},{"children":[{"text":")"}]}],"ref_id":"372"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"373"}],"ref_id":"374"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"375"}],"ref_id":"376"}],"node_type":"If","ref_id":"377"}],"node_type":"If","ref_id":"377"}],"ref_id":"378"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/define function \"Earliest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"379"},{"children":[{"text":"\u003e"}]}],"ref_id":"380"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"381"},{"children":[{"text":")"}]}],"ref_id":"382"},{"children":[{"text":")"}]}],"ref_id":"382"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"383"}],"ref_id":"384"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"385"}],"ref_id":"386"}],"node_type":"If","ref_id":"387"}],"node_type":"If","ref_id":"387"}],"ref_id":"388"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/define function \"LatestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"389"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"390"},{"children":[{"text":"\u003e"}]}],"ref_id":"391"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"392"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"394"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"395"}],"node_type":"FunctionRef","ref_id":"395"}],"ref_id":"396"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/define function \"EarliestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"397"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"398"},{"children":[{"text":"\u003e"}]}],"ref_id":"399"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"400"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"401"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"402"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"403"}],"node_type":"FunctionRef","ref_id":"403"}],"ref_id":"404"}],"define_name":"EarliestOf"}],"identifier":{"id":"MATGlobalCommonFunctions","version":"7.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctions","library_version":"7.0.000","statement_dependencies":[{"_id":"68926905e8da6d1c0d518b67","statement_name":"NormalizeInterval"}]}],"created_at":null,"description":"Percentage of patients 18 years of age and older with heart failure who completed initial and follow-up patient-reported functional status assessments","hqmf_id":"2C928082-7FAC-C041-017F-E1110496119A","hqmf_set_id":"BB9B8EF7-0354-40E0-BEC7-D6891B7DF519","hqmf_version_number":"12.1.000","main_cql_library":"FunctionalStatusAssessmentsforHeartFailure","measure_attributes":[{"code":"OTH","value":"90","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"90","media_type":"text/plain"}},{"code":"OTH","value":"Not Applicable","name":"NQF Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"NQF Number"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"COPY","value":"This Physician Performance Measure (Measure) and related data specifications are owned and stewarded by the Centers for Medicare \u0026 Medicaid Services (CMS). CMS contracted (Contract HHSP23320095627WC; HHSP23337008T) with the National Committee for Quality Assurance (NCQA) to develop this electronic measure. NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications.\n\nLimited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third party codes contained in the specifications.\n\nCPT(R) contained in the Measure specifications is copyright 2004-2021 American Medical Association. LOINC(R) copyright 2004-2021 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2021 International Health Terminology Standards Development Organisation. ICD-10 copyright 2021 World Health Organization. All Rights Reserved.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"This Physician Performance Measure (Measure) and related data specifications are owned and stewarded by the Centers for Medicare \u0026 Medicaid Services (CMS). CMS contracted (Contract HHSP23320095627WC; HHSP23337008T) with the National Committee for Quality Assurance (NCQA) to develop this electronic measure. NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications.\n\nLimited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third party codes contained in the specifications.\n\nCPT(R) contained in the Measure specifications is copyright 2004-2021 American Medical Association. LOINC(R) copyright 2004-2021 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2021 International Health Terminology Standards Development Organisation. ICD-10 copyright 2021 World Health Organization. All Rights Reserved.","media_type":"text/plain"}},{"code":"DISC","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n \nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n \nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROCESS","title":"PROCESS"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Patients living with heart failure often have poor functional status and health-related quality of life, which declines as the disease progresses (Allen et al., 2012). In addition, their care is often complicated by multiple comorbidities. To assist in managing these complex patients, the American College of Cardiology Foundation and American Heart Association recommend collecting initial and repeat assessments of a patient's function and ability to complete desired activities of daily living (Hunt et al., 2009). The American Heart Association has also released scientific statements emphasizing the collection of patient-reported health status (for example, functional limitations, symptom burden, quality of life) from heart failure patients as an important means of establishing a dynamic conversation between patient and provider regarding care goals and the patient's priorities (Allen et al., 2012; Rumsfeld et al., 2013).","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Patients living with heart failure often have poor functional status and health-related quality of life, which declines as the disease progresses (Allen et al., 2012). In addition, their care is often complicated by multiple comorbidities. To assist in managing these complex patients, the American College of Cardiology Foundation and American Heart Association recommend collecting initial and repeat assessments of a patient's function and ability to complete desired activities of daily living (Hunt et al., 2009). The American Heart Association has also released scientific statements emphasizing the collection of patient-reported health status (for example, functional limitations, symptom burden, quality of life) from heart failure patients as an important means of establishing a dynamic conversation between patient and provider regarding care goals and the patient's priorities (Allen et al., 2012; Rumsfeld et al., 2013).","media_type":"text/plain"}},{"code":"CRS","value":"American College of Cardiology Foundation and American Heart Association (2013): While this guideline does not explicitly recommend the use of patient-reported functional status or quality of life assessments (such as the Kansas City Cardiomyopathy Questionnaire or Minnesota Living with Heart Failure Questionnaire), it does refer to meaningful survival a state in which HRQOL [health-related quality of life] is satisfactory to the patient. The guideline also includes quality of life assessments in its description of a detailed plan of care for patients with chronic heart failure.","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"American College of Cardiology Foundation and American Heart Association (2013): While this guideline does not explicitly recommend the use of patient-reported functional status or quality of life assessments (such as the Kansas City Cardiomyopathy Questionnaire or Minnesota Living with Heart Failure Questionnaire), it does refer to meaningful survival a state in which HRQOL [health-related quality of life] is satisfactory to the patient. The guideline also includes quality of life assessments in its description of a detailed plan of care for patients with chronic heart failure.","media_type":"text/plain"}},{"code":"IDUR","value":"A higher score indicates better quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"A higher score indicates better quality","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAllen, L. A., Stevenson, L. W., Grady, K. L., et al. (2012). Decision Making in Advanced Heart Failure: A Scientific Statement from the American Heart Association. Circulation, 125(15), 1928-1952. doi: 10.1161/CIR.0b013e31824f2173","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAllen, L. A., Stevenson, L. W., Grady, K. L., et al. (2012). Decision Making in Advanced Heart Failure: A Scientific Statement from the American Heart Association. Circulation, 125(15), 1928-1952. doi: 10.1161/CIR.0b013e31824f2173","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAmerican College of Cardiology Foundation \u0026 American Heart Association. (2013). Guideline for the Management of Heart Failure: A report of the American College of Cardiology Foundation/American Heart Association Task Force on Practice Guidelines. Circulation, 128(16), e240-e327. doi: 10.1161/CIR.0b013e31829e8776","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAmerican College of Cardiology Foundation \u0026 American Heart Association. (2013). Guideline for the Management of Heart Failure: A report of the American College of Cardiology Foundation/American Heart Association Task Force on Practice Guidelines. Circulation, 128(16), e240-e327. doi: 10.1161/CIR.0b013e31829e8776","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHunt, S. A., Abraham, W. T., Chin, M. H., et al. (2009). 2009 Focused Update Incorporated into the ACC/AHA 2005 Guidelines for the Diagnosis and Management of Heart Failure in Adults. Circulation, 119(14), e391-e479. doi: 10.1161/CIRCULATIONAHA.109.192065","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHunt, S. A., Abraham, W. T., Chin, M. H., et al. (2009). 2009 Focused Update Incorporated into the ACC/AHA 2005 Guidelines for the Diagnosis and Management of Heart Failure in Adults. Circulation, 119(14), e391-e479. doi: 10.1161/CIRCULATIONAHA.109.192065","media_type":"text/plain"}},{"code":"REF","value":"CITATIONRumsfeld, J. S., Alexander, K. P., Goff, D. C., et al. (2013). Cardiovascular health: The Importance of Measuring Patient-Reported Health Status: A Scientific Statement from the American Heart Association. Circulation, 127(22), 2233-2249. doi: 10.1161/CIR.0b013e3182949a2e","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONRumsfeld, J. S., Alexander, K. P., Goff, D. C., et al. (2013). Cardiovascular health: The Importance of Measuring Patient-Reported Health Status: A Scientific Statement from the American Heart Association. Circulation, 127(22), 2233-2249. doi: 10.1161/CIR.0b013e3182949a2e","media_type":"text/plain"}},{"code":"DEF","value":"None","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"GUIDE","value":"Initial functional status assessment (FSA) and encounter: The initial FSA is an FSA that occurs within two weeks before or during an encounter, in the 180 days or more before the end of the measurement period.\n\nFollow-up FSA: The follow-up FSA must be completed at least 30 days but no more than 180 days after the initial FSA.\n\nThe same FSA instrument must be used for the initial and follow-up assessment.\n\nThis eCQM is a patient-based measure.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"Initial functional status assessment (FSA) and encounter: The initial FSA is an FSA that occurs within two weeks before or during an encounter, in the 180 days or more before the end of the measurement period.\n\nFollow-up FSA: The follow-up FSA must be completed at least 30 days but no more than 180 days after the initial FSA.\n\nThe same FSA instrument must be used for the initial and follow-up assessment.\n\nThis eCQM is a patient-based measure.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"Patients 18 years of age and older who had two outpatient encounters during the measurement period and a diagnosis of heart failure that starts any time before and continues into the measurement period.","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"Patients 18 years of age and older who had two outpatient encounters during the measurement period and a diagnosis of heart failure that starts any time before and continues into the measurement period.","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial Population","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial Population","media_type":"text/plain"}},{"code":"DENEX","value":"Exclude patients with severe cognitive impairment in any part of the measurement period.\n\nExclude patients who are in hospice care for any part of the measurement period.","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Exclude patients with severe cognitive impairment in any part of the measurement period.\n\nExclude patients who are in hospice care for any part of the measurement period.","media_type":"text/plain"}},{"code":"NUMER","value":"Patients with patient-reported functional status assessment results (i.e., Veterans RAND 12-item health survey [VR-12]; VR-36; Kansas City Cardiomyopathy Questionnaire [KCCQ]; KCCQ-12; Minnesota Living with Heart Failure Questionnaire [MLHFQ]; Patient-Reported Outcomes Measurement Information System [PROMIS]-10 Global Health, PROMIS-29) present in the EHR within two weeks before or during the initial FSA encounter and results for the follow-up FSA at least 30 days but no more than 180 days after the initial FSA","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Patients with patient-reported functional status assessment results (i.e., Veterans RAND 12-item health survey [VR-12]; VR-36; Kansas City Cardiomyopathy Questionnaire [KCCQ]; KCCQ-12; Minnesota Living with Heart Failure Questionnaire [MLHFQ]; Patient-Reported Outcomes Measurement Information System [PROMIS]-10 Global Health, PROMIS-29) present in the EHR within two weeks before or during the initial FSA encounter and results for the follow-up FSA at least 30 days but no more than 180 days after the initial FSA","media_type":"text/plain"}},{"code":"NUMEX","value":"Not Applicable","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"2FD2D5BD-5766-427F-9DE7-F0C4FD319A86","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"FunctionalStatusAssessmentsforHeartFailure__Initial_Population__44AED04E_08B9_44DB_9552_C75BDBA8F8DF"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"DD21E3D1-8F5B-41EE-878A-4F4E77AE684A","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"FunctionalStatusAssessmentsforHeartFailure__Denominator__44AED04E_08B9_44DB_9552_C75BDBA8F8DF"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"A01BF233-7E85-4D00-9866-FD2C245F2A3F","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"FunctionalStatusAssessmentsforHeartFailure__Numerator__44AED04E_08B9_44DB_9552_C75BDBA8F8DF"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"693817B3-25B9-4990-9526-C4B559E7EDDF","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"FunctionalStatusAssessmentsforHeartFailure__Denominator_Exclusions__44AED04E_08B9_44DB_9552_C75BDBA8F8DF"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"68926905e8da6d1c0d518b68","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"68926905e8da6d1c0d518b69","hqmf_id":"693817B3-25B9-4990-9526-C4B559E7EDDF","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Denominator Exclusions"},"DENOM":{"_id":"68926905e8da6d1c0d518b6a","hqmf_id":"DD21E3D1-8F5B-41EE-878A-4F4E77AE684A","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Denominator"},"IPP":{"_id":"68926905e8da6d1c0d518b6b","hqmf_id":"2FD2D5BD-5766-427F-9DE7-F0C4FD319A86","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Initial Population"},"NUMER":{"_id":"68926905e8da6d1c0d518b6c","hqmf_id":"A01BF233-7E85-4D00-9866-FD2C245F2A3F","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"Numerator"},"_id":"68926905e8da6d1c0d518b6d","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"68926901e8da6d1c0d51893c","hqmf_id":"A4EB807E-D342-4176-9CBA-D93BCE5391D7","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"SDE Ethnicity"},{"_id":"68926901e8da6d1c0d51893d","hqmf_id":"79A3BAAC-C016-4E4D-B25A-29A91085653A","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"SDE Payer"},{"_id":"68926901e8da6d1c0d51893e","hqmf_id":"4478ECCF-EF37-48D5-82BF-1A0E522B0633","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"SDE Race"},{"_id":"68926901e8da6d1c0d51893f","hqmf_id":"11C5E963-C6C1-4F96-B022-6FF1933A5F92","library_name":"FunctionalStatusAssessmentsforHeartFailure","statement_name":"SDE Sex"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"68926902e8da6d1c0d518982","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68926902e8da6d1c0d518982","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68926905e8da6d1c0d518b6e","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: Payer","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"68926905e8da6d1c0d518b6e","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"68926905e8da6d1c0d518b6f","_type":"QDM::InterventionOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Order: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.35","id":"68926905e8da6d1c0d518b6f","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"order","qdmTitle":"Intervention, Order","qdmVersion":"5.6","reason":null},{"_id":"68926905e8da6d1c0d518b70","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Performed: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"68926905e8da6d1c0d518b70","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"68926905e8da6d1c0d518b71","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"68926905e8da6d1c0d518b71","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"68926905e8da6d1c0d518b72","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"68926905e8da6d1c0d518b72","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"68926902e8da6d1c0d518983","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.1003","dataElementCodes":[],"description":"Encounter, Performed: HospiceEncounter","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68926902e8da6d1c0d518983","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68926905e8da6d1c0d518b73","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"68926905e8da6d1c0d518b73","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"68926902e8da6d1c0d51898d","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.376","dataElementCodes":[],"description":"Diagnosis: HeartFailure","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68926902e8da6d1c0d51898d","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68926902e8da6d1c0d518984","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1080","dataElementCodes":[],"description":"Encounter, Performed: TelephoneVisits","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68926902e8da6d1c0d518984","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68926902e8da6d1c0d518985","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1089","dataElementCodes":[],"description":"Encounter, Performed: OnlineAssessments","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68926902e8da6d1c0d518985","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68926902e8da6d1c0d518986","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1001","dataElementCodes":[],"description":"Encounter, Performed: OfficeVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68926902e8da6d1c0d518986","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68926902e8da6d1c0d518987","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-a50a5f9602bf0bd85d14e9ba6c89429f0566509a019504f026c732b0747cb39c","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Quality of life score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518987","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518988","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-98b1c635b6130c5f91f8442eaa335574e580daf2c70f08717b7fd9d86f21d243","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Fatigue score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518988","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518989","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-5da7cc3919c17ee773fc7498aae0bbc3848cf61d1232c3f34b91bcd9c2eb250f","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Physical function score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518989","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51898a","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-2e6938baafb382d6b9f50faca5f0a1caaf2082f8908360e1a21a1bc68c2d0328","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Physical score [MLHFQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51898a","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51898b","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-a3c458e8f65d30f67d72812df9e890974a270905ff936bbecb0f13b6d4626672","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Self-efficacy score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51898b","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51898c","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-4a4bc3c3e838b816ef6ba52527f0219279c81848a134bfd8773ef22d08563738","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Total symptom score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51898c","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51898e","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"drc-93a70146cdbacf3a4c3070e18ab5947509c32abd8134e891ced2d265a6818c5c","dataElementCodes":[],"description":"Diagnosis: Severe dementia (disorder)","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68926902e8da6d1c0d51898e","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68926902e8da6d1c0d51898f","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-9ab9de5794223fc646189fe6080ee5ce777e46869b9b18e96062b4471f26d185","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-36 Physical component summary (PCS) score - oblique method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51898f","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518990","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-284df8ed5f179e5f0583de262695a0e0b9c9aa552090eed86d38089f50cd11eb","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Satisfaction with participation in social roles score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518990","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518991","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-333eb0cae30d27fda91af1f46f501540e7714ca5b71cb66c77714c3a92c0f5df","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Pain interference score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518991","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518992","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-60a165934ab4f65eb4843906882a80d3dc7769e3c00fec49807bddffd0a795fe","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-36 Mental component summary (MCS) score - oblique method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518992","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518993","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-be5df942754f9fa2c421a20c3e92315726904a48024ed27b3a92a039946dc06f","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Depression score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518993","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518994","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-fcd459a61a0df1e613316162ad4268bff566403e3222c309784ad694a7c52508","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-12 Mental component summary (MCS) score - oblique method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518994","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518995","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-a2b3f99f764bd72bc693e5734ce804bc23e1b6eef7a3729ccdc127ae07a4e7c6","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Emotional score [MLHFQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518995","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518996","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-fba6a4e5f5a529f9af0e0ac4cc9930b15eed11995ff69f544d676472e0b4ea9f","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Hospice care [Minimum Data Set]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518996","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518997","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-81ef8c66f34d6337e5af24f174d50ad45bcff4a55d987874f88507cec21475a2","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-36 Physical component summary (PCS) score - orthogonal method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518997","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518998","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-33440d8dc27366042d6c43e1aed049d7d72349c771c9ea5761e45ef7a461ea72","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Anxiety score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518998","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d518999","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-60a099af5ec983e54e93ea36a6341d559cbda7ce734e4a390c0dc1b3abf99300","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Overall summary score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d518999","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51899a","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-c509eafc1375c8241899d491dea7d8bd13d36b3c0b5abe779b9797b9f680f37a","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Overall summary score [KCCQ-12]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51899a","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51899b","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-56c8bf1860d5534a11c0be2bd086c18dcdb6c91c0388389d72cbb3c25a71f3e2","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-10 Global Physical Health (GPH) score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51899b","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51899c","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-a73ba748a643af0fcf7c5a536e7ebf2c74b325f5135a0bbca16a1d29c262c4e1","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-12 Physical component summary (PCS) score - orthogonal method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51899c","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51899d","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-ff3e29bbd2466f043df4b8e7eb226e786049bf6a0da20654cd5bc753afa3ac64","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Social limitation score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51899d","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51899e","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-f7e2f67eeb53606a0f80d327fcc666ae28a37675c1bf7656e9609e5af54c49a7","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Symptom stability score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51899e","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d51899f","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-fee7749fa3a0a2b82f428c3b0e3c434d06534a0ee01fb9d18e076eefd53bb5f2","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-29 Sleep disturbance score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d51899f","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d5189a0","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-f6692a16350fbb9b50f74fc4786dce5bad666974f5f468e5519ff68fb912d8e7","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-36 Mental component summary (MCS) score - orthogonal method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d5189a0","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d5189a1","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-93dfd1fc70f7b98e125565b1c6c69db48d3c061fbfb75d321e1fe5721414cfd1","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-12 Mental component summary (MCS) score - orthogonal method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d5189a1","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d5189a2","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-be1e94ca2e0de186e01ce3f8ecc96a8f79e7fdc0dbe0fad61cacfb29f46eee60","components":null,"dataElementCodes":[],"description":"Assessment, Performed: VR-12 Physical component summary (PCS) score - oblique method T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d5189a2","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d5189a3","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-0969d4827cf3674fbae0d22846229e55465662bea3b602b42cc0ae8b44d9a36c","components":null,"dataElementCodes":[],"description":"Assessment, Performed: PROMIS-10 Global Mental Health (GMH) score T-score","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d5189a3","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d5189a4","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-2a88721affe5d88fadb5ee5b5a01d3295423f5ab97f252e7401f46cff18770f9","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Kansas City Cardiomyopathy Questionnaire - 12 item [KCCQ-12]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d5189a4","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68926902e8da6d1c0d5189a5","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-83f1a696c7a18cbb1fa8982bd055ad58d1fc68737acee489836e32f248054331","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Physical limitation score [KCCQ]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68926902e8da6d1c0d5189a5","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null}],"title":"Functional Status Assessments for Heart Failure","updated_at":null,"value_set_ids":["68926902e8da6d1c0d5189a6","68926902e8da6d1c0d5189a7","68926902e8da6d1c0d5189a8","68926902e8da6d1c0d5189a9","68926902e8da6d1c0d5189aa","68926902e8da6d1c0d5189ab","68926902e8da6d1c0d5189ac","68926902e8da6d1c0d5189ad","68926902e8da6d1c0d5189ae","68926902e8da6d1c0d5189af","68926902e8da6d1c0d5189b0","68926902e8da6d1c0d5189b1","68926902e8da6d1c0d5189b2","68926902e8da6d1c0d5189b3","68926902e8da6d1c0d5189b4","68926902e8da6d1c0d5189b5","68926902e8da6d1c0d5189b6","68926902e8da6d1c0d5189b7","68926902e8da6d1c0d5189b8","68926902e8da6d1c0d5189b9","68926902e8da6d1c0d5189ba","68926902e8da6d1c0d5189bb","68926902e8da6d1c0d5189bc","68926902e8da6d1c0d5189bd","68926902e8da6d1c0d5189be","68926902e8da6d1c0d5189bf","68926902e8da6d1c0d5189c0","68926902e8da6d1c0d5189c1","68926902e8da6d1c0d5189c2","68926902e8da6d1c0d5189c3","68926902e8da6d1c0d5189c4","68926902e8da6d1c0d5189c5","68926902e8da6d1c0d5189c6","68926905e8da6d1c0d518b24","68926905e8da6d1c0d518b25","68926905e8da6d1c0d518b26","68926905e8da6d1c0d518b27","68926905e8da6d1c0d518b28","68926905e8da6d1c0d518b29","68926905e8da6d1c0d518b2a","68926905e8da6d1c0d518b2b","68926905e8da6d1c0d518b2c","68926905e8da6d1c0d518b2d","68926905e8da6d1c0d518b2e","68926905e8da6d1c0d518b2f","68926905e8da6d1c0d518b30","68926905e8da6d1c0d518b31","68926905e8da6d1c0d518b32"]}