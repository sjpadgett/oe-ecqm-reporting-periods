{"_id":"68923ca4a83e15671c2d154d","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS146v13","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"68923c2ba83e15671c2cec78","cql":"library AppropriateTestingforPharyngitis version '13.0.000'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude MATGlobalCommonFunctionsQDM version '8.0.000' called Global\r\ninclude HospiceQDM version '6.0.000' called Hospice\r\n\r\ncodesystem \"CPT\": 'urn:oid:2.16.840.1.113883.6.12'\r\n\r\nvalueset \"Acute Pharyngitis\": 'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1011'\r\nvalueset \"Acute Tonsillitis\": 'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1012'\r\nvalueset \"Antibiotic Medications for Pharyngitis\": 'urn:oid:2.16.840.1.113883.3.464.1003.196.12.1001'\r\nvalueset \"Comorbid Conditions for Respiratory Conditions\": 'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1025'\r\nvalueset \"Competing Conditions for Respiratory Conditions\": 'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1017'\r\nvalueset \"Emergency Department Evaluation and Management Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010'\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"Group A Streptococcus Test\": 'urn:oid:2.16.840.1.113883.3.464.1003.198.12.1012'\r\nvalueset \"Home Healthcare Services\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'\r\nvalueset \"Medical Disability Exam\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1073'\r\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Outpatient Consultation\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008'\r\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Preventive Care Services Established Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'\r\nvalueset \"Preventive Care Services Group Counseling\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'\r\nvalueset \"Preventive Care Services Individual Counseling\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'\r\nvalueset \"Preventive Care Services Initial Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'\r\nvalueset \"Preventive Care Services, Initial Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'\r\nvalueset \"Preventive Care, Established Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\nvalueset \"Telephone Visits\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'\r\nvalueset \"Virtual Encounter\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'\r\n\r\ncode \"Unlisted preventive medicine service\": '99429' from \"CPT\" display 'Unlisted preventive medicine service'\r\n\r\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\r\n\r\ncontext Patient\r\n\r\ndefine \"Denominator\":\r\n  \"Initial Population\"\r\n\r\ndefine \"Group A Streptococcus Lab Test With Result\":\r\n  [\"Laboratory Test, Performed\": \"Group A Streptococcus Test\"] GroupAStreptococcusTest\r\n    where GroupAStreptococcusTest.result is not null\r\n\r\ndefine \"Pharyngitis or Tonsillitis\":\r\n  ( [\"Diagnosis\": \"Acute Pharyngitis\"]\r\n      union [\"Diagnosis\": \"Acute Tonsillitis\"]\r\n  )\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"Encounter With Comorbid Condition Prior\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    with [\"Diagnosis\": \"Comorbid Conditions for Respiratory Conditions\"] ComorbidCondition\r\n      such that start of ComorbidCondition.prevalencePeriod in day of Interval[start of EncounterWithPharyngitis.relevantPeriod - 1 year, start of EncounterWithPharyngitis.relevantPeriod]\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Numerator\":\r\n  from\r\n    \"Group A Streptococcus Lab Test With Result\" GroupAStreptococcusTest,\r\n    \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    where ( Global.\"NormalizeInterval\" ( GroupAStreptococcusTest.relevantDatetime, GroupAStreptococcusTest.relevantPeriod ) starts during day of Interval[( end of EncounterWithPharyngitis.relevantPeriod ) - 3 days, ( end of EncounterWithPharyngitis.relevantPeriod ) + 3 days])\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Encounter With Antibiotic Ordered Within Three Days\":\r\n  \"Qualifying Encounters\" EDOrAmbulatoryVisit\r\n    with [\"Medication, Order\": \"Antibiotic Medications for Pharyngitis\"] AntibioticOrdered\r\n      such that ( start of EDOrAmbulatoryVisit.relevantPeriod ) 3 days or less on or before day of AntibioticOrdered.authorDatetime\r\n\r\ndefine \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\":\r\n  from\r\n    \"Encounter With Antibiotic Ordered Within Three Days\" VisitWithAntibiotic,\r\n    \"Pharyngitis or Tonsillitis\" AcutePharyngitisTonsillitis\r\n    where AcutePharyngitisTonsillitis.prevalencePeriod starts during day of VisitWithAntibiotic.relevantPeriod\r\n    return VisitWithAntibiotic\r\n\r\ndefine \"Initial Population\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    where AgeInYearsAt(date from start of \"Measurement Period\") \u003e= 3\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Stratification 1\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    where AgeInYearsAt(date from start of \"Measurement Period\") in Interval[3, 17]\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Stratification 2\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    where AgeInYearsAt(date from start of \"Measurement Period\") in Interval[18, 64]\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Stratification 3\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    where AgeInYearsAt(date from start of \"Measurement Period\") \u003e= 65\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Encounters and Assessments with Hospice Patient\":\r\n  \"Initial Population\" EligibleEncounters\r\n    where Hospice.\"Has Hospice Services\"\r\n\r\ndefine \"Encounter With Antibiotic Active In 30 Days Prior to Episode Date\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    with [\"Medication, Active\": \"Antibiotic Medications for Pharyngitis\"] ActiveAntibiotic\r\n      such that ( Global.\"NormalizeInterval\" ( ActiveAntibiotic.relevantDatetime, ActiveAntibiotic.relevantPeriod ) overlaps day of Interval[start of EncounterWithPharyngitis.relevantPeriod - 30 days, start of EncounterWithPharyngitis.relevantPeriod - 1 day])\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Denominator Exclusions\":\r\n  \"Encounters and Assessments with Hospice Patient\"\r\n    union \"Encounter With Comorbid Condition Prior\"\r\n    union \"Encounter With Antibiotic Active In 30 Days Prior to Episode Date\"\r\n    union \"Encounter With Competing Diagnosis for Upper Respiratory Infection\"\r\n\r\ndefine \"Encounter With Competing Diagnosis for Upper Respiratory Infection\":\r\n  \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\" EncounterWithPharyngitis\r\n    with [\"Diagnosis\": \"Competing Conditions for Respiratory Conditions\"] CompetingCondition\r\n      such that CompetingCondition.prevalencePeriod starts 3 days or less on or after day of start of EncounterWithPharyngitis.relevantPeriod\r\n    return EncounterWithPharyngitis\r\n\r\ndefine \"Qualifying Encounters\":\r\n  ( [\"Encounter, Performed\": \"Emergency Department Evaluation and Management Visit\"]\r\n    union [\"Encounter, Performed\": \"Home Healthcare Services\"]\r\n    union [\"Encounter, Performed\": \"Medical Disability Exam\"]\r\n    union [\"Encounter, Performed\": \"Office Visit\"]\r\n    union [\"Encounter, Performed\": \"Telephone Visits\"]\r\n    union [\"Encounter, Performed\": \"Virtual Encounter\"]\r\n    union [\"Encounter, Performed\": \"Outpatient Consultation\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Established Office Visit, 18 and Up\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Group Counseling\"]\r\n    union [\"Encounter, Performed\": \"Unlisted preventive medicine service\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services, Initial Office Visit, 0 to 17\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Individual Counseling\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Initial Office Visit, 18 and Up\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care, Established Office Visit, 0 to 17\"] ) ValidEncounters\r\n    where ValidEncounters.relevantPeriod ends during day of Interval[start of \"Measurement Period\", end of \"Measurement Period\" - 3 days]","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"78","s":[{"value":["","library AppropriateTestingforPharyngitis version '13.0.000'"]}]}}],"identifier":{"id":"AppropriateTestingforPharyngitis","version":"13.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:67","localIdentifier":"Global","path":"MATGlobalCommonFunctionsQDM","version":"8.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctionsQDM"]}]},{"value":[" version ","'8.0.000'"," called ","Global"]}]}}]},{"localId":"3","locator":"6:1-6:51","localIdentifier":"Hospice","path":"HospiceQDM","version":"6.0.000","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","include "]},{"s":[{"value":["HospiceQDM"]}]},{"value":[" version ","'6.0.000'"," called ","Hospice"]}]}}]}]},"parameters":{"def":[{"localId":"32","locator":"36:1-36:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"32","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"31","s":[{"value":["Interval\u003c"]},{"r":"30","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"31","locator":"36:32-36:49","type":"IntervalTypeSpecifier","pointType":{"localId":"30","locator":"36:41-36:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"4","locator":"8:1-8:50","name":"CPT","id":"2.16.840.1.113883.6.12","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"CPT\"",": ","'urn:oid:2.16.840.1.113883.6.12'"]}]}}]}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:80","name":"Acute Pharyngitis","id":"2.16.840.1.113883.3.464.1003.102.12.1011","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Acute Pharyngitis\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1011'"]}]}}]},{"localId":"6","locator":"11:1-11:80","name":"Acute Tonsillitis","id":"2.16.840.1.113883.3.464.1003.102.12.1012","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Acute Tonsillitis\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1012'"]}]}}]},{"localId":"7","locator":"12:1-12:101","name":"Antibiotic Medications for Pharyngitis","id":"2.16.840.1.113883.3.464.1003.196.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Antibiotic Medications for Pharyngitis\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.196.12.1001'"]}]}}]},{"localId":"8","locator":"13:1-13:109","name":"Comorbid Conditions for Respiratory Conditions","id":"2.16.840.1.113883.3.464.1003.102.12.1025","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Comorbid Conditions for Respiratory Conditions\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1025'"]}]}}]},{"localId":"9","locator":"14:1-14:110","name":"Competing Conditions for Respiratory Conditions","id":"2.16.840.1.113883.3.464.1003.102.12.1017","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","valueset ","\"Competing Conditions for Respiratory Conditions\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.102.12.1017'"]}]}}]},{"localId":"10","locator":"15:1-15:115","name":"Emergency Department Evaluation and Management Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1010","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","valueset ","\"Emergency Department Evaluation and Management Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1010'"]}]}}]},{"localId":"11","locator":"16:1-16:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}]},{"localId":"12","locator":"17:1-17:89","name":"Group A Streptococcus Test","id":"2.16.840.1.113883.3.464.1003.198.12.1012","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","valueset ","\"Group A Streptococcus Test\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.198.12.1012'"]}]}}]},{"localId":"13","locator":"18:1-18:87","name":"Home Healthcare Services","id":"2.16.840.1.113883.3.464.1003.101.12.1016","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","valueset ","\"Home Healthcare Services\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'"]}]}}]},{"localId":"14","locator":"19:1-19:86","name":"Medical Disability Exam","id":"2.16.840.1.113883.3.464.1003.101.12.1073","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"14","s":[{"value":["","valueset ","\"Medical Disability Exam\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1073'"]}]}}]},{"localId":"15","locator":"20:1-20:75","name":"Office Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"15","s":[{"value":["","valueset ","\"Office Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'"]}]}}]},{"localId":"16","locator":"21:1-21:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","valueset ","\"ONC Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1'"]}]}}]},{"localId":"17","locator":"22:1-22:86","name":"Outpatient Consultation","id":"2.16.840.1.113883.3.464.1003.101.12.1008","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"17","s":[{"value":["","valueset ","\"Outpatient Consultation\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008'"]}]}}]},{"localId":"18","locator":"23:1-23:60","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"18","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}]},{"localId":"19","locator":"24:1-24:123","name":"Preventive Care Services Established Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1025","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","valueset ","\"Preventive Care Services Established Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'"]}]}}]},{"localId":"20","locator":"25:1-25:104","name":"Preventive Care Services Group Counseling","id":"2.16.840.1.113883.3.464.1003.101.12.1027","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"20","s":[{"value":["","valueset ","\"Preventive Care Services Group Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'"]}]}}]},{"localId":"21","locator":"26:1-26:109","name":"Preventive Care Services Individual Counseling","id":"2.16.840.1.113883.3.464.1003.101.12.1026","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"21","s":[{"value":["","valueset ","\"Preventive Care Services Individual Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'"]}]}}]},{"localId":"22","locator":"27:1-27:119","name":"Preventive Care Services Initial Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1023","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"22","s":[{"value":["","valueset ","\"Preventive Care Services Initial Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'"]}]}}]},{"localId":"23","locator":"28:1-28:118","name":"Preventive Care Services, Initial Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1022","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"23","s":[{"value":["","valueset ","\"Preventive Care Services, Initial Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'"]}]}}]},{"localId":"24","locator":"29:1-29:113","name":"Preventive Care, Established Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1024","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"24","s":[{"value":["","valueset ","\"Preventive Care, Established Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'"]}]}}]},{"localId":"25","locator":"30:1-30:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"25","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}]},{"localId":"26","locator":"31:1-31:79","name":"Telephone Visits","id":"2.16.840.1.113883.3.464.1003.101.12.1080","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"26","s":[{"value":["","valueset ","\"Telephone Visits\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'"]}]}}]},{"localId":"27","locator":"32:1-32:80","name":"Virtual Encounter","id":"2.16.840.1.113883.3.464.1003.101.12.1089","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"27","s":[{"value":["","valueset ","\"Virtual Encounter\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'"]}]}}]}]},"codes":{"def":[{"localId":"29","locator":"34:1-34:110","name":"Unlisted preventive medicine service","id":"99429","display":"Unlisted preventive medicine service","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"29","s":[{"value":["","code ","\"Unlisted preventive medicine service\"",": ","'99429'"," from "]},{"r":"28","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Unlisted preventive medicine service'"]}]}}],"codeSystem":{"localId":"28","locator":"34:59-34:63","name":"CPT"}}]},"contexts":{"def":[{"locator":"38:1-38:15","name":"Patient"}]},"statements":{"def":[{"locator":"38:1-38:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"38:1-38:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"78","locator":"131:1-146:137","name":"Qualifying Encounters","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"78","s":[{"value":["","define ","\"Qualifying Encounters\"",":\n  "]},{"r":"77","s":[{"s":[{"r":"66","s":[{"r":"65","s":[{"value":["( "]},{"r":"65","s":[{"r":"62","s":[{"r":"60","s":[{"r":"57","s":[{"r":"55","s":[{"r":"52","s":[{"r":"50","s":[{"r":"47","s":[{"r":"45","s":[{"r":"42","s":[{"r":"40","s":[{"r":"37","s":[{"r":"35","s":[{"r":"33","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Evaluation and Management Visit\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"34","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Home Healthcare Services\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"36","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Medical Disability Exam\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"38","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"41","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Telephone Visits\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"43","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Virtual Encounter\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"46","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Consultation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"48","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Established Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"51","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Group Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"53","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Unlisted preventive medicine service\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"56","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services, Initial Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"58","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Individual Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"61","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Initial Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"63","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care, Established Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","ValidEncounters"]}]}]},{"value":["\n    "]},{"r":"76","s":[{"value":["where "]},{"r":"76","s":[{"r":"68","s":[{"r":"67","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"68","s":[{"value":["relevantPeriod"]}]}]},{"r":"76","value":[" ","ends during day of"," "]},{"r":"75","s":[{"value":["Interval["]},{"r":"70","s":[{"value":["start of "]},{"r":"69","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[", "]},{"r":"74","s":[{"r":"72","s":[{"value":["end of "]},{"r":"71","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"73","s":[{"value":["3 ","days"]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"77","locator":"132:3-146:137","type":"Query","source":[{"localId":"66","locator":"132:3-145:106","alias":"ValidEncounters","expression":{"localId":"65","locator":"132:3-145:90","type":"Union","operand":[{"localId":"60","locator":"132:5-143:84","type":"Union","operand":[{"localId":"55","locator":"132:5-141:74","type":"Union","operand":[{"localId":"50","locator":"132:5-139:98","type":"Union","operand":[{"localId":"45","locator":"132:5-137:55","type":"Union","operand":[{"localId":"40","locator":"132:5-135:50","type":"Union","operand":[{"localId":"35","locator":"132:5-133:62","type":"Union","operand":[{"localId":"33","locator":"132:5-132:84","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"132:30-132:83","name":"Emergency Department Evaluation and Management Visit","preserve":true,"type":"ValueSetRef"}},{"localId":"34","locator":"133:11-133:62","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"133:36-133:61","name":"Home Healthcare Services","preserve":true,"type":"ValueSetRef"}}]},{"localId":"39","type":"Union","operand":[{"localId":"36","locator":"134:11-134:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"134:36-134:60","name":"Medical Disability Exam","preserve":true,"type":"ValueSetRef"}},{"localId":"38","locator":"135:11-135:50","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"135:36-135:49","name":"Office Visit","preserve":true,"type":"ValueSetRef"}}]}]},{"localId":"44","type":"Union","operand":[{"localId":"41","locator":"136:11-136:54","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"136:36-136:53","name":"Telephone Visits","preserve":true,"type":"ValueSetRef"}},{"localId":"43","locator":"137:11-137:55","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"137:36-137:54","name":"Virtual Encounter","preserve":true,"type":"ValueSetRef"}}]}]},{"localId":"49","type":"Union","operand":[{"localId":"46","locator":"138:11-138:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"138:36-138:60","name":"Outpatient Consultation","preserve":true,"type":"ValueSetRef"}},{"localId":"48","locator":"139:11-139:98","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"139:36-139:97","name":"Preventive Care Services Established Office Visit, 18 and Up","preserve":true,"type":"ValueSetRef"}}]}]},{"localId":"54","type":"Union","operand":[{"localId":"51","locator":"140:11-140:79","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"140:36-140:78","name":"Preventive Care Services Group Counseling","preserve":true,"type":"ValueSetRef"}},{"localId":"53","locator":"141:11-141:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"141:36-141:73","name":"Unlisted preventive medicine service","type":"CodeRef"}}}]}]},{"localId":"59","type":"Union","operand":[{"localId":"56","locator":"142:11-142:93","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"142:36-142:92","name":"Preventive Care Services, Initial Office Visit, 0 to 17","preserve":true,"type":"ValueSetRef"}},{"localId":"58","locator":"143:11-143:84","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"143:36-143:83","name":"Preventive Care Services Individual Counseling","preserve":true,"type":"ValueSetRef"}}]}]},{"localId":"64","type":"Union","operand":[{"localId":"61","locator":"144:11-144:94","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"144:36-144:93","name":"Preventive Care Services Initial Office Visit, 18 and Up","preserve":true,"type":"ValueSetRef"}},{"localId":"63","locator":"145:11-145:88","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"145:36-145:87","name":"Preventive Care, Established Office Visit, 0 to 17","preserve":true,"type":"ValueSetRef"}}]}]}}],"relationship":[],"where":{"localId":"76","locator":"146:5-146:137","precision":"Day","type":"In","operand":[{"locator":"146:42-146:45","type":"End","operand":{"localId":"68","locator":"146:11-146:40","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"}},{"localId":"75","locator":"146:61-146:137","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"70","locator":"146:70-146:98","type":"Start","operand":{"localId":"69","locator":"146:79-146:98","name":"Measurement Period","type":"ParameterRef"}},"high":{"localId":"74","locator":"146:101-146:136","type":"Subtract","operand":[{"localId":"72","locator":"146:101-146:127","type":"End","operand":{"localId":"71","locator":"146:108-146:127","name":"Measurement Period","type":"ParameterRef"}},{"localId":"73","locator":"146:131-146:136","value":3,"unit":"days","type":"Quantity"}]}}]}}},{"localId":"92","locator":"77:1-80:131","name":"Encounter With Antibiotic Ordered Within Three Days","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"92","s":[{"value":["","define ","\"Encounter With Antibiotic Ordered Within Three Days\"",":\n  "]},{"r":"91","s":[{"s":[{"r":"80","s":[{"r":"79","s":[{"s":[{"value":["\"Qualifying Encounters\""]}]}]},{"value":[" ","EDOrAmbulatoryVisit"]}]}]},{"value":["\n    "]},{"r":"90","s":[{"value":["with "]},{"r":"82","s":[{"r":"81","s":[{"r":"81","s":[{"value":["[","\"Medication, Order\"",": "]},{"s":[{"value":["\"Antibiotic Medications for Pharyngitis\""]}]},{"value":["]"]}]}]},{"value":[" ","AntibioticOrdered"]}]},{"value":["\n      such that "]},{"r":"89","s":[{"r":"85","s":[{"value":["( "]},{"r":"85","s":[{"value":["start of "]},{"r":"84","s":[{"r":"83","s":[{"value":["EDOrAmbulatoryVisit"]}]},{"value":["."]},{"r":"84","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[" )"]}]},{"value":[" "]},{"r":"89","s":[{"r":"88","s":[{"value":["3 ","days"]}]},{"value":[" or less on or before day of"]}]},{"value":[" "]},{"r":"87","s":[{"r":"86","s":[{"value":["AntibioticOrdered"]}]},{"value":["."]},{"r":"87","s":[{"value":["authorDatetime"]}]}]}]}]}]}]}}],"expression":{"localId":"91","locator":"78:3-80:131","type":"Query","source":[{"localId":"80","locator":"78:3-78:45","alias":"EDOrAmbulatoryVisit","expression":{"localId":"79","locator":"78:3-78:25","name":"Qualifying Encounters","type":"ExpressionRef"}}],"relationship":[{"localId":"90","locator":"79:5-80:131","alias":"AntibioticOrdered","type":"With","expression":{"localId":"81","locator":"79:10-79:72","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","templateId":"PositiveMedicationOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"79:32-79:71","name":"Antibiotic Medications for Pharyngitis","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"89","locator":"80:17-80:131","type":"And","operand":[{"locator":"80:65-80:78","precision":"Day","type":"In","operand":[{"localId":"85","locator":"80:17-80:63","type":"Start","operand":{"localId":"84","locator":"80:28-80:61","path":"relevantPeriod","scope":"EDOrAmbulatoryVisit","type":"Property"}},{"locator":"80:65-80:78","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"80:118-80:131","type":"Subtract","operand":[{"localId":"87","locator":"80:100-80:131","path":"authorDatetime","scope":"AntibioticOrdered","type":"Property"},{"localId":"88","locator":"80:65-80:70","value":3,"unit":"days","type":"Quantity"}]},"high":{"localId":"87","locator":"80:100-80:131","path":"authorDatetime","scope":"AntibioticOrdered","type":"Property"}}]},{"locator":"80:65-80:78","type":"Not","operand":{"locator":"80:65-80:78","type":"IsNull","operand":{"localId":"87","locator":"80:100-80:131","path":"authorDatetime","scope":"AntibioticOrdered","type":"Property"}}}]}}]}},{"localId":"98","locator":"47:1-50:3","name":"Pharyngitis or Tonsillitis","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"98","s":[{"value":["","define ","\"Pharyngitis or Tonsillitis\"",":\n  "]},{"r":"97","s":[{"value":["( "]},{"r":"97","s":[{"r":"95","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Acute Pharyngitis\""]}]},{"value":["]"]}]},{"value":["\n      union "]},{"r":"96","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Acute Tonsillitis\""]}]},{"value":["]"]}]}]},{"value":["\n  )"]}]}]}}],"expression":{"localId":"97","locator":"48:3-50:3","type":"Union","operand":[{"localId":"95","locator":"48:5-48:38","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"48:19-48:37","name":"Acute Pharyngitis","preserve":true,"type":"ValueSetRef"}},{"localId":"96","locator":"49:13-49:46","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"49:27-49:45","name":"Acute Tonsillitis","preserve":true,"type":"ValueSetRef"}}]}},{"localId":"109","locator":"82:1-87:30","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"109","s":[{"value":["","define ","\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\"",":\n  "]},{"r":"108","s":[{"s":[{"value":["from\n    "]},{"r":"94","s":[{"r":"93","s":[{"s":[{"value":["\"Encounter With Antibiotic Ordered Within Three Days\""]}]}]},{"value":[" ","VisitWithAntibiotic"]}]},{"value":[",\n    "]},{"r":"100","s":[{"r":"99","s":[{"s":[{"value":["\"Pharyngitis or Tonsillitis\""]}]}]},{"value":[" ","AcutePharyngitisTonsillitis"]}]}]},{"value":["\n    "]},{"r":"105","s":[{"value":["where "]},{"r":"105","s":[{"r":"102","s":[{"r":"101","s":[{"value":["AcutePharyngitisTonsillitis"]}]},{"value":["."]},{"r":"102","s":[{"value":["prevalencePeriod"]}]}]},{"r":"105","value":[" ","starts during day of"," "]},{"r":"104","s":[{"r":"103","s":[{"value":["VisitWithAntibiotic"]}]},{"value":["."]},{"r":"104","s":[{"value":["relevantPeriod"]}]}]}]}]},{"value":["\n    "]},{"r":"107","s":[{"value":["return "]},{"r":"106","s":[{"value":["VisitWithAntibiotic"]}]}]}]}]}}],"expression":{"localId":"108","locator":"83:3-87:30","type":"Query","source":[{"localId":"94","locator":"84:5-84:77","alias":"VisitWithAntibiotic","expression":{"localId":"93","locator":"84:5-84:57","name":"Encounter With Antibiotic Ordered Within Three Days","type":"ExpressionRef"}},{"localId":"100","locator":"85:5-85:60","alias":"AcutePharyngitisTonsillitis","expression":{"localId":"99","locator":"85:5-85:32","name":"Pharyngitis or Tonsillitis","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"105","locator":"86:5-86:110","precision":"Day","type":"In","operand":[{"locator":"86:56-86:61","type":"Start","operand":{"localId":"102","locator":"86:11-86:54","path":"prevalencePeriod","scope":"AcutePharyngitisTonsillitis","type":"Property"}},{"localId":"104","locator":"86:77-86:110","path":"relevantPeriod","scope":"VisitWithAntibiotic","type":"Property"}]},"return":{"localId":"107","locator":"87:5-87:30","expression":{"localId":"106","locator":"87:12-87:30","name":"VisitWithAntibiotic","type":"AliasRef"}}}},{"localId":"121","locator":"89:1-92:35","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"121","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"120","s":[{"s":[{"r":"111","s":[{"r":"110","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"117","s":[{"value":["where "]},{"r":"117","s":[{"r":"115","s":[{"value":["AgeInYearsAt","("]},{"r":"114","s":[{"value":["date from "]},{"r":"113","s":[{"value":["start of "]},{"r":"112","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"r":"116","value":[" ","\u003e="," ","3"]}]}]},{"value":["\n    "]},{"r":"119","s":[{"value":["return "]},{"r":"118","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"120","locator":"90:3-92:35","type":"Query","source":[{"localId":"111","locator":"90:3-90:86","alias":"EncounterWithPharyngitis","expression":{"localId":"110","locator":"90:3-90:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"117","locator":"91:5-91:68","type":"GreaterOrEqual","operand":[{"localId":"115","locator":"91:11-91:63","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"114","locator":"91:24-91:62","type":"DateFrom","operand":{"localId":"113","locator":"91:34-91:62","type":"Start","operand":{"localId":"112","locator":"91:43-91:62","name":"Measurement Period","type":"ParameterRef"}}}]},{"localId":"116","locator":"91:68","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"3","type":"Literal"}]},"return":{"localId":"119","locator":"92:5-92:35","expression":{"localId":"118","locator":"92:12-92:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"123","locator":"40:1-41:22","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"123","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"122","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"122","locator":"41:3-41:22","name":"Initial Population","type":"ExpressionRef"}},{"localId":"130","locator":"43:1-45:52","name":"Group A Streptococcus Lab Test With Result","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"130","s":[{"value":["","define ","\"Group A Streptococcus Lab Test With Result\"",":\n  "]},{"r":"129","s":[{"s":[{"r":"125","s":[{"r":"124","s":[{"r":"124","s":[{"value":["[","\"Laboratory Test, Performed\"",": "]},{"s":[{"value":["\"Group A Streptococcus Test\""]}]},{"value":["]"]}]}]},{"value":[" ","GroupAStreptococcusTest"]}]}]},{"value":["\n    "]},{"r":"128","s":[{"value":["where "]},{"r":"128","s":[{"r":"127","s":[{"r":"126","s":[{"value":["GroupAStreptococcusTest"]}]},{"value":["."]},{"r":"127","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]}]}}],"expression":{"localId":"129","locator":"44:3-45:52","type":"Query","source":[{"localId":"125","locator":"44:3-44:86","alias":"GroupAStreptococcusTest","expression":{"localId":"124","locator":"44:3-44:62","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveLaboratoryTestPerformed","templateId":"PositiveLaboratoryTestPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"44:34-44:61","name":"Group A Streptococcus Test","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"128","locator":"45:5-45:52","type":"Not","operand":{"locator":"45:11-45:52","type":"IsNull","operand":{"localId":"127","locator":"45:11-45:40","path":"result","scope":"GroupAStreptococcusTest","type":"Property"}}}}},{"localId":"132","locator":"52:1-53:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"132","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"131","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"131","locator":"53:3-53:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"53:40-53:50","name":"Ethnicity","preserve":true,"type":"ValueSetRef"}}},{"localId":"134","locator":"55:1-56:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"134","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"133","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"133","locator":"56:3-56:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"56:36-56:47","name":"Payer Type","preserve":true,"type":"ValueSetRef"}}},{"localId":"136","locator":"58:1-59:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"136","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"135","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"135","locator":"59:3-59:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"59:35-59:40","name":"Race","preserve":true,"type":"ValueSetRef"}}},{"localId":"138","locator":"61:1-62:58","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"138","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"137","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"137","locator":"62:3-62:58","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"62:34-62:57","name":"ONC Administrative Sex","preserve":true,"type":"ValueSetRef"}}},{"localId":"160","locator":"64:1-68:35","name":"Encounter With Comorbid Condition Prior","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"160","s":[{"value":["","define ","\"Encounter With Comorbid Condition Prior\"",":\n  "]},{"r":"159","s":[{"s":[{"r":"140","s":[{"r":"139","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"156","s":[{"value":["with "]},{"r":"142","s":[{"r":"141","s":[{"r":"141","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Comorbid Conditions for Respiratory Conditions\""]}]},{"value":["]"]}]}]},{"value":[" ","ComorbidCondition"]}]},{"value":["\n      such that "]},{"r":"155","s":[{"r":"145","s":[{"value":["start of "]},{"r":"144","s":[{"r":"143","s":[{"value":["ComorbidCondition"]}]},{"value":["."]},{"r":"144","s":[{"value":["prevalencePeriod"]}]}]}]},{"value":[" in day of "]},{"r":"154","s":[{"value":["Interval["]},{"r":"150","s":[{"r":"148","s":[{"value":["start of "]},{"r":"147","s":[{"r":"146","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"147","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[" - "]},{"r":"149","s":[{"value":["1 ","year"]}]}]},{"value":[", "]},{"r":"153","s":[{"value":["start of "]},{"r":"152","s":[{"r":"151","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"152","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]},{"value":["\n    "]},{"r":"158","s":[{"value":["return "]},{"r":"157","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"159","locator":"65:3-68:35","type":"Query","source":[{"localId":"140","locator":"65:3-65:86","alias":"EncounterWithPharyngitis","expression":{"localId":"139","locator":"65:3-65:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[{"localId":"156","locator":"66:5-67:187","alias":"ComorbidCondition","type":"With","expression":{"localId":"141","locator":"66:10-66:72","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"66:24-66:71","name":"Comorbid Conditions for Respiratory Conditions","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"155","locator":"67:17-67:187","precision":"Day","type":"In","operand":[{"localId":"145","locator":"67:17-67:59","type":"Start","operand":{"localId":"144","locator":"67:26-67:59","path":"prevalencePeriod","scope":"ComorbidCondition","type":"Property"}},{"localId":"154","locator":"67:71-67:187","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"150","locator":"67:80-67:136","type":"Subtract","operand":[{"localId":"148","locator":"67:80-67:127","type":"Start","operand":{"localId":"147","locator":"67:89-67:127","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},{"localId":"149","locator":"67:131-67:136","value":1,"unit":"year","type":"Quantity"}]},"high":{"localId":"153","locator":"67:139-67:186","type":"Start","operand":{"localId":"152","locator":"67:148-67:186","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}}}]}}],"return":{"localId":"158","locator":"68:5-68:35","expression":{"localId":"157","locator":"68:12-68:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"186","locator":"70:1-75:35","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"186","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"185","s":[{"s":[{"value":["from\n    "]},{"r":"162","s":[{"r":"161","s":[{"s":[{"value":["\"Group A Streptococcus Lab Test With Result\""]}]}]},{"value":[" ","GroupAStreptococcusTest"]}]},{"value":[",\n    "]},{"r":"164","s":[{"r":"163","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"182","s":[{"value":["where "]},{"r":"182","s":[{"value":["( "]},{"r":"182","s":[{"r":"170","s":[{"r":"165","s":[{"value":["Global"]}]},{"value":["."]},{"r":"170","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"167","s":[{"r":"166","s":[{"value":["GroupAStreptococcusTest"]}]},{"value":["."]},{"r":"167","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"169","s":[{"r":"168","s":[{"value":["GroupAStreptococcusTest"]}]},{"value":["."]},{"r":"169","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"182","value":[" ","starts during day of"," "]},{"r":"181","s":[{"value":["Interval["]},{"r":"175","s":[{"r":"173","s":[{"value":["( "]},{"r":"173","s":[{"value":["end of "]},{"r":"172","s":[{"r":"171","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"172","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[" )"]}]},{"value":[" - "]},{"r":"174","s":[{"value":["3 ","days"]}]}]},{"value":[", "]},{"r":"180","s":[{"r":"178","s":[{"value":["( "]},{"r":"178","s":[{"value":["end of "]},{"r":"177","s":[{"r":"176","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"177","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[" )"]}]},{"value":[" + "]},{"r":"179","s":[{"value":["3 ","days"]}]}]},{"value":["]"]}]}]},{"value":[")"]}]}]},{"value":["\n    "]},{"r":"184","s":[{"value":["return "]},{"r":"183","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"185","locator":"71:3-75:35","type":"Query","source":[{"localId":"162","locator":"72:5-72:72","alias":"GroupAStreptococcusTest","expression":{"localId":"161","locator":"72:5-72:48","name":"Group A Streptococcus Lab Test With Result","type":"ExpressionRef"}},{"localId":"164","locator":"73:5-73:88","alias":"EncounterWithPharyngitis","expression":{"localId":"163","locator":"73:5-73:63","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"182","locator":"74:5-74:276","precision":"Day","type":"In","operand":[{"locator":"74:125-74:130","type":"Start","operand":{"localId":"170","locator":"74:13-74:123","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"167","locator":"74:42-74:81","path":"relevantDatetime","scope":"GroupAStreptococcusTest","type":"Property"},{"localId":"169","locator":"74:84-74:121","path":"relevantPeriod","scope":"GroupAStreptococcusTest","type":"Property"}]}},{"localId":"181","locator":"74:146-74:275","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"175","locator":"74:155-74:213","type":"Subtract","operand":[{"localId":"173","locator":"74:155-74:204","type":"End","operand":{"localId":"172","locator":"74:164-74:202","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},{"localId":"174","locator":"74:208-74:213","value":3,"unit":"days","type":"Quantity"}]},"high":{"localId":"180","locator":"74:216-74:274","type":"Add","operand":[{"localId":"178","locator":"74:216-74:265","type":"End","operand":{"localId":"177","locator":"74:225-74:263","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},{"localId":"179","locator":"74:269-74:274","value":3,"unit":"days","type":"Quantity"}]}}]},"return":{"localId":"184","locator":"75:5-75:35","expression":{"localId":"183","locator":"75:12-75:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"200","locator":"94:1-97:35","name":"Stratification 1","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"200","s":[{"value":["","define ","\"Stratification 1\"",":\n  "]},{"r":"199","s":[{"s":[{"r":"188","s":[{"r":"187","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"196","s":[{"value":["where "]},{"r":"196","s":[{"r":"192","s":[{"value":["AgeInYearsAt","("]},{"r":"191","s":[{"value":["date from "]},{"r":"190","s":[{"value":["start of "]},{"r":"189","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"value":[" in "]},{"r":"195","s":[{"r":"193","value":["Interval[","3",", ","17","]"]}]}]}]},{"value":["\n    "]},{"r":"198","s":[{"value":["return "]},{"r":"197","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"199","locator":"95:3-97:35","type":"Query","source":[{"localId":"188","locator":"95:3-95:86","alias":"EncounterWithPharyngitis","expression":{"localId":"187","locator":"95:3-95:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"196","locator":"96:5-96:82","type":"In","operand":[{"localId":"192","locator":"96:11-96:63","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"191","locator":"96:24-96:62","type":"DateFrom","operand":{"localId":"190","locator":"96:34-96:62","type":"Start","operand":{"localId":"189","locator":"96:43-96:62","name":"Measurement Period","type":"ParameterRef"}}}]},{"localId":"195","locator":"96:68-96:82","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"193","locator":"96:77","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"3","type":"Literal"},"high":{"localId":"194","locator":"96:80-96:81","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"17","type":"Literal"}}]},"return":{"localId":"198","locator":"97:5-97:35","expression":{"localId":"197","locator":"97:12-97:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"214","locator":"99:1-102:35","name":"Stratification 2","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"214","s":[{"value":["","define ","\"Stratification 2\"",":\n  "]},{"r":"213","s":[{"s":[{"r":"202","s":[{"r":"201","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"210","s":[{"value":["where "]},{"r":"210","s":[{"r":"206","s":[{"value":["AgeInYearsAt","("]},{"r":"205","s":[{"value":["date from "]},{"r":"204","s":[{"value":["start of "]},{"r":"203","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"value":[" in "]},{"r":"209","s":[{"r":"207","value":["Interval[","18",", ","64","]"]}]}]}]},{"value":["\n    "]},{"r":"212","s":[{"value":["return "]},{"r":"211","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"213","locator":"100:3-102:35","type":"Query","source":[{"localId":"202","locator":"100:3-100:86","alias":"EncounterWithPharyngitis","expression":{"localId":"201","locator":"100:3-100:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"210","locator":"101:5-101:83","type":"In","operand":[{"localId":"206","locator":"101:11-101:63","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"205","locator":"101:24-101:62","type":"DateFrom","operand":{"localId":"204","locator":"101:34-101:62","type":"Start","operand":{"localId":"203","locator":"101:43-101:62","name":"Measurement Period","type":"ParameterRef"}}}]},{"localId":"209","locator":"101:68-101:83","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"207","locator":"101:77-101:78","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"18","type":"Literal"},"high":{"localId":"208","locator":"101:81-101:82","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"64","type":"Literal"}}]},"return":{"localId":"212","locator":"102:5-102:35","expression":{"localId":"211","locator":"102:12-102:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"226","locator":"104:1-107:35","name":"Stratification 3","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"226","s":[{"value":["","define ","\"Stratification 3\"",":\n  "]},{"r":"225","s":[{"s":[{"r":"216","s":[{"r":"215","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"222","s":[{"value":["where "]},{"r":"222","s":[{"r":"220","s":[{"value":["AgeInYearsAt","("]},{"r":"219","s":[{"value":["date from "]},{"r":"218","s":[{"value":["start of "]},{"r":"217","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"r":"221","value":[" ","\u003e="," ","65"]}]}]},{"value":["\n    "]},{"r":"224","s":[{"value":["return "]},{"r":"223","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"225","locator":"105:3-107:35","type":"Query","source":[{"localId":"216","locator":"105:3-105:86","alias":"EncounterWithPharyngitis","expression":{"localId":"215","locator":"105:3-105:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"222","locator":"106:5-106:69","type":"GreaterOrEqual","operand":[{"localId":"220","locator":"106:11-106:63","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"219","locator":"106:24-106:62","type":"DateFrom","operand":{"localId":"218","locator":"106:34-106:62","type":"Start","operand":{"localId":"217","locator":"106:43-106:62","name":"Measurement Period","type":"ParameterRef"}}}]},{"localId":"221","locator":"106:68-106:69","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"65","type":"Literal"}]},"return":{"localId":"224","locator":"107:5-107:35","expression":{"localId":"223","locator":"107:12-107:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"232","locator":"109:1-111:40","name":"Encounters and Assessments with Hospice Patient","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"232","s":[{"value":["","define ","\"Encounters and Assessments with Hospice Patient\"",":\n  "]},{"r":"231","s":[{"s":[{"r":"228","s":[{"r":"227","s":[{"s":[{"value":["\"Initial Population\""]}]}]},{"value":[" ","EligibleEncounters"]}]}]},{"value":["\n    "]},{"r":"230","s":[{"value":["where "]},{"r":"230","s":[{"r":"229","s":[{"value":["Hospice"]}]},{"value":["."]},{"r":"230","s":[{"value":["\"Has Hospice Services\""]}]}]}]}]}]}}],"expression":{"localId":"231","locator":"110:3-111:40","type":"Query","source":[{"localId":"228","locator":"110:3-110:41","alias":"EligibleEncounters","expression":{"localId":"227","locator":"110:3-110:22","name":"Initial Population","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"230","locator":"111:5-111:40","name":"Has Hospice Services","libraryName":"Hospice","type":"ExpressionRef"}}},{"localId":"259","locator":"113:1-117:35","name":"Encounter With Antibiotic Active In 30 Days Prior to Episode Date","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"259","s":[{"value":["","define ","\"Encounter With Antibiotic Active In 30 Days Prior to Episode Date\"",":\n  "]},{"r":"258","s":[{"s":[{"r":"234","s":[{"r":"233","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"255","s":[{"value":["with "]},{"r":"236","s":[{"r":"235","s":[{"r":"235","s":[{"value":["[","\"Medication, Active\"",": "]},{"s":[{"value":["\"Antibiotic Medications for Pharyngitis\""]}]},{"value":["]"]}]}]},{"value":[" ","ActiveAntibiotic"]}]},{"value":["\n      such that "]},{"r":"254","s":[{"value":["( "]},{"r":"254","s":[{"r":"242","s":[{"r":"237","s":[{"value":["Global"]}]},{"value":["."]},{"r":"242","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"239","s":[{"r":"238","s":[{"value":["ActiveAntibiotic"]}]},{"value":["."]},{"r":"239","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"241","s":[{"r":"240","s":[{"value":["ActiveAntibiotic"]}]},{"value":["."]},{"r":"241","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"254","value":[" ","overlaps day of"," "]},{"r":"253","s":[{"value":["Interval["]},{"r":"247","s":[{"r":"245","s":[{"value":["start of "]},{"r":"244","s":[{"r":"243","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"244","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[" - "]},{"r":"246","s":[{"value":["30 ","days"]}]}]},{"value":[", "]},{"r":"252","s":[{"r":"250","s":[{"value":["start of "]},{"r":"249","s":[{"r":"248","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"249","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[" - "]},{"r":"251","s":[{"value":["1 ","day"]}]}]},{"value":["]"]}]}]},{"value":[")"]}]}]},{"value":["\n    "]},{"r":"257","s":[{"value":["return "]},{"r":"256","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"258","locator":"114:3-117:35","type":"Query","source":[{"localId":"234","locator":"114:3-114:86","alias":"EncounterWithPharyngitis","expression":{"localId":"233","locator":"114:3-114:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[{"localId":"255","locator":"115:5-116:259","alias":"ActiveAntibiotic","type":"With","expression":{"localId":"235","locator":"115:10-115:73","dataType":"{urn:healthit-gov:qdm:v5_6}MedicationActive","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"115:33-115:72","name":"Antibiotic Medications for Pharyngitis","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"254","locator":"116:17-116:259","precision":"Day","type":"Overlaps","operand":[{"localId":"242","locator":"116:19-116:115","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"239","locator":"116:48-116:80","path":"relevantDatetime","scope":"ActiveAntibiotic","type":"Property"},{"localId":"241","locator":"116:83-116:113","path":"relevantPeriod","scope":"ActiveAntibiotic","type":"Property"}]},{"localId":"253","locator":"116:133-116:258","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"247","locator":"116:142-116:199","type":"Subtract","operand":[{"localId":"245","locator":"116:142-116:189","type":"Start","operand":{"localId":"244","locator":"116:151-116:189","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},{"localId":"246","locator":"116:193-116:199","value":30,"unit":"days","type":"Quantity"}]},"high":{"localId":"252","locator":"116:202-116:257","type":"Subtract","operand":[{"localId":"250","locator":"116:202-116:249","type":"Start","operand":{"localId":"249","locator":"116:211-116:249","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},{"localId":"251","locator":"116:253-116:257","value":1,"unit":"day","type":"Quantity"}]}}]}}],"return":{"localId":"257","locator":"117:5-117:35","expression":{"localId":"256","locator":"117:12-117:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"280","locator":"125:1-129:35","name":"Encounter With Competing Diagnosis for Upper Respiratory Infection","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"280","s":[{"value":["","define ","\"Encounter With Competing Diagnosis for Upper Respiratory Infection\"",":\n  "]},{"r":"279","s":[{"s":[{"r":"266","s":[{"r":"265","s":[{"s":[{"value":["\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""]}]}]},{"value":[" ","EncounterWithPharyngitis"]}]}]},{"value":["\n    "]},{"r":"276","s":[{"value":["with "]},{"r":"268","s":[{"r":"267","s":[{"r":"267","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Competing Conditions for Respiratory Conditions\""]}]},{"value":["]"]}]}]},{"value":[" ","CompetingCondition"]}]},{"value":["\n      such that "]},{"r":"275","s":[{"r":"270","s":[{"r":"269","s":[{"value":["CompetingCondition"]}]},{"value":["."]},{"r":"270","s":[{"value":["prevalencePeriod"]}]}]},{"value":[" "]},{"r":"275","s":[{"value":["starts "]},{"r":"274","s":[{"value":["3 ","days"]}]},{"value":[" or less on or after day of"]}]},{"value":[" "]},{"r":"273","s":[{"value":["start of "]},{"r":"272","s":[{"r":"271","s":[{"value":["EncounterWithPharyngitis"]}]},{"value":["."]},{"r":"272","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n    "]},{"r":"278","s":[{"value":["return "]},{"r":"277","s":[{"value":["EncounterWithPharyngitis"]}]}]}]}]}}],"expression":{"localId":"279","locator":"126:3-129:35","type":"Query","source":[{"localId":"266","locator":"126:3-126:86","alias":"EncounterWithPharyngitis","expression":{"localId":"265","locator":"126:3-126:61","name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","type":"ExpressionRef"}}],"relationship":[{"localId":"276","locator":"127:5-128:141","alias":"CompetingCondition","type":"With","expression":{"localId":"267","locator":"127:10-127:73","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"127:24-127:72","name":"Competing Conditions for Respiratory Conditions","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"275","locator":"128:17-128:141","type":"And","operand":[{"locator":"128:60-128:73","precision":"Day","type":"In","operand":[{"locator":"128:53-128:58","type":"Start","operand":{"localId":"270","locator":"128:17-128:51","path":"prevalencePeriod","scope":"CompetingCondition","type":"Property"}},{"locator":"128:60-128:73","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"273","locator":"128:94-128:141","type":"Start","operand":{"localId":"272","locator":"128:103-128:141","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},"high":{"locator":"128:94-128:141","type":"Add","operand":[{"localId":"273","locator":"128:94-128:141","type":"Start","operand":{"localId":"272","locator":"128:103-128:141","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}},{"localId":"274","locator":"128:60-128:65","value":3,"unit":"days","type":"Quantity"}]}}]},{"locator":"128:60-128:73","type":"Not","operand":{"locator":"128:60-128:73","type":"IsNull","operand":{"localId":"273","locator":"128:94-128:141","type":"Start","operand":{"localId":"272","locator":"128:103-128:141","path":"relevantPeriod","scope":"EncounterWithPharyngitis","type":"Property"}}}}]}}],"return":{"localId":"278","locator":"129:5-129:35","expression":{"localId":"277","locator":"129:12-129:35","name":"EncounterWithPharyngitis","type":"AliasRef"}}}},{"localId":"284","locator":"119:1-123:78","name":"Denominator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"284","s":[{"value":["","define ","\"Denominator Exclusions\"",":\n  "]},{"r":"283","s":[{"r":"264","s":[{"r":"262","s":[{"r":"260","s":[{"value":["\"Encounters and Assessments with Hospice Patient\""]}]},{"value":["\n    union "]},{"r":"261","s":[{"value":["\"Encounter With Comorbid Condition Prior\""]}]}]},{"value":["\n    union "]},{"r":"263","s":[{"value":["\"Encounter With Antibiotic Active In 30 Days Prior to Episode Date\""]}]}]},{"value":["\n    union "]},{"r":"281","s":[{"value":["\"Encounter With Competing Diagnosis for Upper Respiratory Infection\""]}]}]}]}}],"expression":{"localId":"283","locator":"120:3-123:78","type":"Union","operand":[{"localId":"262","locator":"120:3-121:51","type":"Union","operand":[{"localId":"260","locator":"120:3-120:51","name":"Encounters and Assessments with Hospice Patient","type":"ExpressionRef"},{"localId":"261","locator":"121:11-121:51","name":"Encounter With Comorbid Condition Prior","type":"ExpressionRef"}]},{"localId":"282","type":"Union","operand":[{"localId":"263","locator":"122:11-122:77","name":"Encounter With Antibiotic Active In 30 Days Prior to Episode Date","type":"ExpressionRef"},{"localId":"281","locator":"123:11-123:78","name":"Encounter With Competing Diagnosis for Upper Respiratory Infection","type":"ExpressionRef"}]}]}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Qualifying Encounters\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Evaluation and Management Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"33"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Home Healthcare Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"34"}],"node_type":"Union","ref_id":"35"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Medical Disability Exam\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"36"}],"ref_id":"37"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"38"}],"node_type":"Union","ref_id":"40"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Telephone Visits\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"41"}],"ref_id":"42"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Virtual Encounter\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"43"}],"node_type":"Union","ref_id":"45"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Consultation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"46"}],"ref_id":"47"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Established Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"48"}],"node_type":"Union","ref_id":"50"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Group Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"51"}],"ref_id":"52"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Unlisted preventive medicine service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"53"}],"node_type":"Union","ref_id":"55"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services, Initial Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"56"}],"ref_id":"57"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Individual Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"58"}],"node_type":"Union","ref_id":"60"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Initial Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"61"}],"ref_id":"62"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care, Established Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"63"}],"node_type":"Union","ref_id":"65"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"65"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"66"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"67"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"68"}],"node_type":"Property","ref_id":"68"},{"children":[{"text":" ends during day of "}],"ref_id":"76"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"69"}],"ref_id":"70"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"71"}],"node_type":"End","ref_id":"72"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"3 days"}]}],"node_type":"Quantity","ref_id":"73"}],"ref_id":"74"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"75"}],"ref_id":"76"}],"ref_id":"76"}],"node_type":"Query","ref_id":"77"}],"ref_id":"78"}],"define_name":"Qualifying Encounters"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Antibiotic Ordered Within Three Days\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"79"},{"children":[{"text":" EDOrAmbulatoryVisit"}]}],"ref_id":"80"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Medication, Order\": "}]},{"children":[{"children":[{"text":"\"Antibiotic Medications for Pharyngitis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"81"}],"node_type":"Retrieve","ref_id":"81"},{"children":[{"text":" AntibioticOrdered"}]}],"ref_id":"82"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDOrAmbulatoryVisit"}]}],"ref_id":"83"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"84"}],"node_type":"Property","ref_id":"84"}],"node_type":"Start","ref_id":"85"},{"children":[{"text":" )"}]}],"node_type":"Start","ref_id":"85"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"3 days"}]}],"node_type":"Quantity","ref_id":"88"},{"children":[{"text":" or less on or before day of"}]}],"node_type":"And","ref_id":"89"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"AntibioticOrdered"}]}],"ref_id":"86"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"87"}],"node_type":"Property","ref_id":"87"}],"node_type":"And","ref_id":"89"}],"ref_id":"90"}],"node_type":"Query","ref_id":"91"}],"ref_id":"92"}],"define_name":"Encounter With Antibiotic Ordered Within Three Days"},{"children":[{"children":[{"children":[{"text":"define \"Pharyngitis or Tonsillitis\":\n  "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Acute Pharyngitis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"95"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Acute Tonsillitis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"96"}],"node_type":"Union","ref_id":"97"},{"children":[{"text":"\n  )"}]}],"node_type":"Union","ref_id":"97"}],"ref_id":"98"}],"define_name":"Pharyngitis or Tonsillitis"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Pharyngitis or Tonsillitis With Antibiotic\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Antibiotic Ordered Within Three Days\""}]}]}],"node_type":"ExpressionRef","ref_id":"93"},{"children":[{"text":" VisitWithAntibiotic"}]}],"ref_id":"94"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Pharyngitis or Tonsillitis\""}]}]}],"node_type":"ExpressionRef","ref_id":"99"},{"children":[{"text":" AcutePharyngitisTonsillitis"}]}],"ref_id":"100"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AcutePharyngitisTonsillitis"}]}],"ref_id":"101"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"102"}],"node_type":"Property","ref_id":"102"},{"children":[{"text":" starts during day of "}],"ref_id":"105"},{"children":[{"children":[{"children":[{"text":"VisitWithAntibiotic"}]}],"ref_id":"103"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"104"}],"node_type":"Property","ref_id":"104"}],"ref_id":"105"}],"ref_id":"105"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"VisitWithAntibiotic"}]}],"node_type":"AliasRef","ref_id":"106"}],"ref_id":"107"}],"node_type":"Query","ref_id":"108"}],"ref_id":"109"}],"define_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"110"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"111"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"112"}],"node_type":"Start","ref_id":"113"}],"node_type":"DateFrom","ref_id":"114"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"115"},{"children":[{"text":" \u003e= 3"}],"node_type":"Literal","ref_id":"116"}],"ref_id":"117"}],"ref_id":"117"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"118"}],"ref_id":"119"}],"node_type":"Query","ref_id":"120"}],"ref_id":"121"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"122"}],"ref_id":"123"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Group A Streptococcus Lab Test With Result\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Laboratory Test, Performed\": "}]},{"children":[{"children":[{"text":"\"Group A Streptococcus Test\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"124"}],"node_type":"Retrieve","ref_id":"124"},{"children":[{"text":" GroupAStreptococcusTest"}]}],"ref_id":"125"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"GroupAStreptococcusTest"}]}],"ref_id":"126"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"127"}],"node_type":"Property","ref_id":"127"},{"children":[{"text":" is not null"}]}],"ref_id":"128"}],"ref_id":"128"}],"node_type":"Query","ref_id":"129"}],"ref_id":"130"}],"define_name":"Group A Streptococcus Lab Test With Result"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"131"}],"ref_id":"132"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"133"}],"ref_id":"134"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"135"}],"ref_id":"136"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"137"}],"ref_id":"138"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Comorbid Condition Prior\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"139"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"140"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Comorbid Conditions for Respiratory Conditions\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"141"}],"node_type":"Retrieve","ref_id":"141"},{"children":[{"text":" ComorbidCondition"}]}],"ref_id":"142"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ComorbidCondition"}]}],"ref_id":"143"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"144"}],"node_type":"Property","ref_id":"144"}],"node_type":"Start","ref_id":"145"},{"children":[{"text":" in day of "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"146"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"147"}],"node_type":"Property","ref_id":"147"}],"node_type":"Start","ref_id":"148"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"1 year"}]}],"node_type":"Quantity","ref_id":"149"}],"ref_id":"150"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"151"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"152"}],"node_type":"Property","ref_id":"152"}],"ref_id":"153"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"154"}],"node_type":"In","ref_id":"155"}],"ref_id":"156"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"157"}],"ref_id":"158"}],"node_type":"Query","ref_id":"159"}],"ref_id":"160"}],"define_name":"Encounter With Comorbid Condition Prior"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Group A Streptococcus Lab Test With Result\""}]}]}],"node_type":"ExpressionRef","ref_id":"161"},{"children":[{"text":" GroupAStreptococcusTest"}]}],"ref_id":"162"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"163"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"164"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"165"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"GroupAStreptococcusTest"}]}],"ref_id":"166"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"167"}],"node_type":"Property","ref_id":"167"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"GroupAStreptococcusTest"}]}],"ref_id":"168"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"169"}],"node_type":"Property","ref_id":"169"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"170"}],"node_type":"FunctionRef","ref_id":"170"},{"children":[{"text":" starts during day of "}],"ref_id":"182"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"171"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"172"}],"node_type":"Property","ref_id":"172"}],"node_type":"End","ref_id":"173"},{"children":[{"text":" )"}]}],"node_type":"End","ref_id":"173"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"3 days"}]}],"node_type":"Quantity","ref_id":"174"}],"ref_id":"175"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"176"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"177"}],"node_type":"Property","ref_id":"177"}],"node_type":"End","ref_id":"178"},{"children":[{"text":" )"}]}],"node_type":"End","ref_id":"178"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"3 days"}]}],"node_type":"Quantity","ref_id":"179"}],"ref_id":"180"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"181"}],"ref_id":"182"},{"children":[{"text":")"}]}],"ref_id":"182"}],"ref_id":"182"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"183"}],"ref_id":"184"}],"node_type":"Query","ref_id":"185"}],"ref_id":"186"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"Stratification 1\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"187"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"188"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"189"}],"node_type":"Start","ref_id":"190"}],"node_type":"DateFrom","ref_id":"191"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"192"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"Interval[3, 17]"}],"ref_id":"193"}],"node_type":"Interval","ref_id":"195"}],"ref_id":"196"}],"ref_id":"196"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"197"}],"ref_id":"198"}],"node_type":"Query","ref_id":"199"}],"ref_id":"200"}],"define_name":"Stratification 1"},{"children":[{"children":[{"children":[{"text":"define \"Stratification 2\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"201"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"202"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"203"}],"node_type":"Start","ref_id":"204"}],"node_type":"DateFrom","ref_id":"205"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"206"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"Interval[18, 64]"}],"ref_id":"207"}],"node_type":"Interval","ref_id":"209"}],"ref_id":"210"}],"ref_id":"210"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"211"}],"ref_id":"212"}],"node_type":"Query","ref_id":"213"}],"ref_id":"214"}],"define_name":"Stratification 2"},{"children":[{"children":[{"children":[{"text":"define \"Stratification 3\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"215"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"216"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"217"}],"node_type":"Start","ref_id":"218"}],"node_type":"DateFrom","ref_id":"219"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"220"},{"children":[{"text":" \u003e= 65"}],"node_type":"Literal","ref_id":"221"}],"ref_id":"222"}],"ref_id":"222"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"223"}],"ref_id":"224"}],"node_type":"Query","ref_id":"225"}],"ref_id":"226"}],"define_name":"Stratification 3"},{"children":[{"children":[{"children":[{"text":"define \"Encounters and Assessments with Hospice Patient\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Initial Population\""}]}]}],"node_type":"ExpressionRef","ref_id":"227"},{"children":[{"text":" EligibleEncounters"}]}],"ref_id":"228"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"Hospice"}]}],"ref_id":"229"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Has Hospice Services\""}]}],"ref_id":"230"}],"ref_id":"230"}],"ref_id":"230"}],"node_type":"Query","ref_id":"231"}],"ref_id":"232"}],"define_name":"Encounters and Assessments with Hospice Patient"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Antibiotic Active In 30 Days Prior to Episode Date\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"233"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"234"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Medication, Active\": "}]},{"children":[{"children":[{"text":"\"Antibiotic Medications for Pharyngitis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"235"}],"node_type":"Retrieve","ref_id":"235"},{"children":[{"text":" ActiveAntibiotic"}]}],"ref_id":"236"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"237"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"ActiveAntibiotic"}]}],"ref_id":"238"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"239"}],"node_type":"Property","ref_id":"239"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"ActiveAntibiotic"}]}],"ref_id":"240"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"241"}],"node_type":"Property","ref_id":"241"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"242"}],"node_type":"FunctionRef","ref_id":"242"},{"children":[{"text":" overlaps day of "}],"node_type":"Overlaps","ref_id":"254"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"243"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"244"}],"node_type":"Property","ref_id":"244"}],"node_type":"Start","ref_id":"245"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"30 days"}]}],"node_type":"Quantity","ref_id":"246"}],"ref_id":"247"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"248"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"249"}],"node_type":"Property","ref_id":"249"}],"node_type":"Start","ref_id":"250"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"1 day"}]}],"node_type":"Quantity","ref_id":"251"}],"ref_id":"252"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"253"}],"node_type":"Overlaps","ref_id":"254"},{"children":[{"text":")"}]}],"node_type":"Overlaps","ref_id":"254"}],"ref_id":"255"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"256"}],"ref_id":"257"}],"node_type":"Query","ref_id":"258"}],"ref_id":"259"}],"define_name":"Encounter With Antibiotic Active In 30 Days Prior to Episode Date"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Competing Diagnosis for Upper Respiratory Infection\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Pharyngitis or Tonsillitis With Antibiotic\""}]}]}],"node_type":"ExpressionRef","ref_id":"265"},{"children":[{"text":" EncounterWithPharyngitis"}]}],"ref_id":"266"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Competing Conditions for Respiratory Conditions\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"267"}],"node_type":"Retrieve","ref_id":"267"},{"children":[{"text":" CompetingCondition"}]}],"ref_id":"268"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"CompetingCondition"}]}],"ref_id":"269"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"270"}],"node_type":"Property","ref_id":"270"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"starts "}]},{"children":[{"children":[{"text":"3 days"}]}],"node_type":"Quantity","ref_id":"274"},{"children":[{"text":" or less on or after day of"}]}],"node_type":"And","ref_id":"275"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"ref_id":"271"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"272"}],"node_type":"Property","ref_id":"272"}],"node_type":"Start","ref_id":"273"}],"node_type":"And","ref_id":"275"}],"ref_id":"276"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"EncounterWithPharyngitis"}]}],"node_type":"AliasRef","ref_id":"277"}],"ref_id":"278"}],"node_type":"Query","ref_id":"279"}],"ref_id":"280"}],"define_name":"Encounter With Competing Diagnosis for Upper Respiratory Infection"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusions\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounters and Assessments with Hospice Patient\""}]}],"node_type":"ExpressionRef","ref_id":"260"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter With Comorbid Condition Prior\""}]}],"node_type":"ExpressionRef","ref_id":"261"}],"node_type":"Union","ref_id":"262"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter With Antibiotic Active In 30 Days Prior to Episode Date\""}]}],"node_type":"ExpressionRef","ref_id":"263"}],"ref_id":"264"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter With Competing Diagnosis for Upper Respiratory Infection\""}]}],"node_type":"ExpressionRef","ref_id":"281"}],"node_type":"Union","ref_id":"283"}],"ref_id":"284"}],"define_name":"Denominator Exclusions"}],"identifier":{"id":"AppropriateTestingforPharyngitis","version":"13.0.000"}},"is_main_library":true,"is_top_level":true,"library_name":"AppropriateTestingforPharyngitis","library_version":"13.0.000","statement_dependencies":[{"_id":"68923c2ba83e15671c2cec63","statement_name":"Patient"},{"_id":"68923c2ba83e15671c2cec64","statement_name":"Qualifying Encounters"},{"_id":"68923c2ba83e15671c2cec65","statement_name":"Encounter With Antibiotic Ordered Within Three Days","statement_references":[{"_id":"68923ca4a83e15671c2d1555","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Qualifying Encounters"}]},{"_id":"68923c2ba83e15671c2cec66","statement_name":"Pharyngitis or Tonsillitis"},{"_id":"68923c2ba83e15671c2cec67","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic","statement_references":[{"_id":"68923c2ba83e15671c2cec4e","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Antibiotic Ordered Within Three Days"},{"_id":"68923c2ba83e15671c2cec4f","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Pharyngitis or Tonsillitis"}]},{"_id":"68923c2ba83e15671c2cec68","statement_name":"Initial Population","statement_references":[{"_id":"68923c2ba83e15671c2cec50","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"_id":"68923c2ba83e15671c2cec51","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Patient"}]},{"_id":"68923c2ba83e15671c2cec69","statement_name":"Denominator","statement_references":[{"_id":"68923ca4a83e15671c2d1556","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Initial Population"}]},{"_id":"68923c2ba83e15671c2cec6a","statement_name":"Group A Streptococcus Lab Test With Result"},{"_id":"68923c2ba83e15671c2cec6b","statement_name":"SDE Ethnicity"},{"_id":"68923c2ba83e15671c2cec6c","statement_name":"SDE Payer"},{"_id":"68923c2ba83e15671c2cec6d","statement_name":"SDE Race"},{"_id":"68923c2ba83e15671c2cec6e","statement_name":"SDE Sex"},{"_id":"68923c2ba83e15671c2cec6f","statement_name":"Encounter With Comorbid Condition Prior","statement_references":[{"_id":"68923ca4a83e15671c2d1557","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"}]},{"_id":"68923c2ba83e15671c2cec70","statement_name":"Numerator","statement_references":[{"_id":"68923c2ba83e15671c2cec52","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Group A Streptococcus Lab Test With Result"},{"_id":"68923c2ba83e15671c2cec53","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"_id":"68923c2ba83e15671c2cec54","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]},{"_id":"68923c2ba83e15671c2cec71","statement_name":"Stratification 1","statement_references":[{"_id":"68923c2ba83e15671c2cec55","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"_id":"68923c2ba83e15671c2cec56","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Patient"}]},{"_id":"68923c2ba83e15671c2cec72","statement_name":"Stratification 2","statement_references":[{"_id":"68923c2ba83e15671c2cec57","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"_id":"68923c2ba83e15671c2cec58","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Patient"}]},{"_id":"68923c2ba83e15671c2cec73","statement_name":"Stratification 3","statement_references":[{"_id":"68923c2ba83e15671c2cec59","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"_id":"68923c2ba83e15671c2cec5a","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Patient"}]},{"_id":"68923c2ba83e15671c2cec74","statement_name":"Encounters and Assessments with Hospice Patient","statement_references":[{"_id":"68923c2ba83e15671c2cec5b","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Initial Population"},{"_id":"68923c2ba83e15671c2cec5c","hqmf_id":null,"library_name":"HospiceQDM","statement_name":"Has Hospice Services"}]},{"_id":"68923c2ba83e15671c2cec75","statement_name":"Encounter With Antibiotic Active In 30 Days Prior to Episode Date","statement_references":[{"_id":"68923c2ba83e15671c2cec5d","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"},{"_id":"68923c2ba83e15671c2cec5e","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]},{"_id":"68923c2ba83e15671c2cec76","statement_name":"Encounter With Competing Diagnosis for Upper Respiratory Infection","statement_references":[{"_id":"68923ca4a83e15671c2d1558","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Pharyngitis or Tonsillitis With Antibiotic"}]},{"_id":"68923c2ba83e15671c2cec77","statement_name":"Denominator Exclusions","statement_references":[{"_id":"68923c2ba83e15671c2cec5f","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounters and Assessments with Hospice Patient"},{"_id":"68923c2ba83e15671c2cec60","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Comorbid Condition Prior"},{"_id":"68923c2ba83e15671c2cec61","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Antibiotic Active In 30 Days Prior to Episode Date"},{"_id":"68923c2ba83e15671c2cec62","hqmf_id":null,"library_name":"AppropriateTestingforPharyngitis","statement_name":"Encounter With Competing Diagnosis for Upper Respiratory Infection"}]}]},{"_id":"68923c2ba83e15671c2cec79","cql":"library HospiceQDM version '6.0.000'\n\nusing QDM version '5.6'\n\ninclude MATGlobalCommonFunctionsQDM version '8.0.000' called Global\n\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96' \ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Hospice Care Ambulatory\": 'urn:oid:2.16.840.1.113883.3.526.3.1584' \nvalueset \"Hospice Diagnosis\": 'urn:oid:2.16.840.1.113883.3.464.1003.1165' \nvalueset \"Hospice Encounter\": 'urn:oid:2.16.840.1.113883.3.464.1003.1003' \n\ncode \"Discharge to healthcare facility for hospice care (procedure)\": '428371000124100' from \"SNOMEDCT\" display 'Discharge to healthcare facility for hospice care (procedure)'\ncode \"Discharge to home for hospice care (procedure)\": '428361000124107' from \"SNOMEDCT\" display 'Discharge to home for hospice care (procedure)'\ncode \"Hospice care [Minimum Data Set]\": '45755-6' from \"LOINC\" display 'Hospice care [Minimum Data Set]'\ncode \"Yes (qualifier value)\": '373066001' from \"SNOMEDCT\" display 'Yes (qualifier value)'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Has Hospice Services\":\n  exists ( [\"Encounter, Performed\": \"Encounter Inpatient\"] InpatientEncounter\n      where ( InpatientEncounter.dischargeDisposition ~ \"Discharge to home for hospice care (procedure)\"\n          or InpatientEncounter.dischargeDisposition ~ \"Discharge to healthcare facility for hospice care (procedure)\"\n      )\n        and InpatientEncounter.relevantPeriod ends during day of \"Measurement Period\"\n  )\n    or exists ( [\"Encounter, Performed\": \"Hospice Encounter\"] HospiceEncounter\n        where HospiceEncounter.relevantPeriod overlaps day of \"Measurement Period\"\n    )\n    or exists ( [\"Assessment, Performed\": \"Hospice care [Minimum Data Set]\"] HospiceAssessment\n        where HospiceAssessment.result ~ \"Yes (qualifier value)\"\n          and Global.\"NormalizeInterval\" ( HospiceAssessment.relevantDatetime, HospiceAssessment.relevantPeriod ) overlaps day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Order\": \"Hospice Care Ambulatory\"] HospiceOrder\n        where HospiceOrder.authorDatetime during day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Performed\": \"Hospice Care Ambulatory\"] HospicePerformed\n        where Global.\"NormalizeInterval\" ( HospicePerformed.relevantDatetime, HospicePerformed.relevantPeriod ) overlaps day of \"Measurement Period\"\n    )\n  or exists ( [\"Diagnosis\": \"Hospice Diagnosis\"] HospiceCareDiagnosis\n        where HospiceCareDiagnosis.prevalencePeriod overlaps day of \"Measurement Period\"\n    )\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"96","s":[{"value":["","library HospiceQDM version '6.0.000'"]}]}}],"identifier":{"id":"HospiceQDM","version":"6.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:67","localIdentifier":"Global","path":"MATGlobalCommonFunctionsQDM","version":"8.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctionsQDM"]}]},{"value":[" version ","'8.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"19","locator":"20:1-20:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"18","s":[{"value":["Interval\u003c"]},{"r":"17","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"18","locator":"20:32-20:49","type":"IntervalTypeSpecifier","pointType":{"localId":"17","locator":"20:41-20:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"3","locator":"7:1-7:55","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'"]}]}}]},{"localId":"4","locator":"8:1-8:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"6","locator":"11:1-11:76","name":"Hospice Care Ambulatory","id":"2.16.840.1.113883.3.526.3.1584","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Hospice Care Ambulatory\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1584'"]}]}}]},{"localId":"7","locator":"12:1-12:73","name":"Hospice Diagnosis","id":"2.16.840.1.113883.3.464.1003.1165","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Hospice Diagnosis\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1165'"]}]}}]},{"localId":"8","locator":"13:1-13:73","name":"Hospice Encounter","id":"2.16.840.1.113883.3.464.1003.1003","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Hospice Encounter\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1003'"]}]}}]}]},"codes":{"def":[{"localId":"10","locator":"15:1-15:175","name":"Discharge to healthcare facility for hospice care (procedure)","id":"428371000124100","display":"Discharge to healthcare facility for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","code ","\"Discharge to healthcare facility for hospice care (procedure)\"",": ","'428371000124100'"," from "]},{"r":"9","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to healthcare facility for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"9","locator":"15:94-15:103","name":"SNOMEDCT"}},{"localId":"12","locator":"16:1-16:145","name":"Discharge to home for hospice care (procedure)","id":"428361000124107","display":"Discharge to home for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","code ","\"Discharge to home for hospice care (procedure)\"",": ","'428361000124107'"," from "]},{"r":"11","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to home for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"11","locator":"16:79-16:88","name":"SNOMEDCT"}},{"localId":"14","locator":"17:1-17:104","name":"Hospice care [Minimum Data Set]","id":"45755-6","display":"Hospice care [Minimum Data Set]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"14","s":[{"value":["","code ","\"Hospice care [Minimum Data Set]\"",": ","'45755-6'"," from "]},{"r":"13","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Hospice care [Minimum Data Set]'"]}]}}],"codeSystem":{"localId":"13","locator":"17:56-17:62","name":"LOINC"}},{"localId":"16","locator":"18:1-18:89","name":"Yes (qualifier value)","id":"373066001","display":"Yes (qualifier value)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","code ","\"Yes (qualifier value)\"",": ","'373066001'"," from "]},{"r":"15","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Yes (qualifier value)'"]}]}}],"codeSystem":{"localId":"15","locator":"18:48-18:57","name":"SNOMEDCT"}}]},"contexts":{"def":[{"locator":"22:1-22:15","name":"Patient"}]},"statements":{"def":[{"locator":"22:1-22:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"22:1-22:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"96","locator":"24:1-46:5","name":"Has Hospice Services","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"96","s":[{"value":["","define ","\"Has Hospice Services\"",":\n  "]},{"r":"95","s":[{"r":"86","s":[{"r":"73","s":[{"r":"64","s":[{"r":"46","s":[{"r":"37","s":[{"value":["exists "]},{"r":"36","s":[{"value":["( "]},{"r":"36","s":[{"s":[{"r":"21","s":[{"r":"20","s":[{"r":"20","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n      "]},{"r":"35","s":[{"value":["where "]},{"r":"35","s":[{"r":"30","s":[{"value":["( "]},{"r":"30","s":[{"r":"25","s":[{"r":"23","s":[{"r":"22","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"23","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"24","s":[{"value":["\"Discharge to home for hospice care (procedure)\""]}]}]},{"value":["\n          or "]},{"r":"29","s":[{"r":"27","s":[{"r":"26","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"27","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"28","s":[{"value":["\"Discharge to healthcare facility for hospice care (procedure)\""]}]}]}]},{"value":["\n      )"]}]},{"value":["\n        and "]},{"r":"34","s":[{"r":"32","s":[{"r":"31","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"32","s":[{"value":["relevantPeriod"]}]}]},{"r":"34","value":[" ","ends during day of"," "]},{"r":"33","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n  )"]}]}]},{"value":["\n    or "]},{"r":"45","s":[{"value":["exists "]},{"r":"44","s":[{"value":["( "]},{"r":"44","s":[{"s":[{"r":"39","s":[{"r":"38","s":[{"r":"38","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Hospice Encounter\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceEncounter"]}]}]},{"value":["\n        "]},{"r":"43","s":[{"value":["where "]},{"r":"43","s":[{"r":"41","s":[{"r":"40","s":[{"value":["HospiceEncounter"]}]},{"value":["."]},{"r":"41","s":[{"value":["relevantPeriod"]}]}]},{"r":"43","value":[" ","overlaps day of"," "]},{"r":"42","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"63","s":[{"value":["exists "]},{"r":"62","s":[{"value":["( "]},{"r":"62","s":[{"s":[{"r":"48","s":[{"r":"47","s":[{"r":"47","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Hospice care [Minimum Data Set]\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceAssessment"]}]}]},{"value":["\n        "]},{"r":"61","s":[{"value":["where "]},{"r":"61","s":[{"r":"52","s":[{"r":"50","s":[{"r":"49","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"50","s":[{"value":["result"]}]}]},{"value":[" ","~"," "]},{"r":"51","s":[{"value":["\"Yes (qualifier value)\""]}]}]},{"value":["\n          and "]},{"r":"60","s":[{"r":"58","s":[{"r":"53","s":[{"value":["Global"]}]},{"value":["."]},{"r":"58","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"55","s":[{"r":"54","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"55","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"57","s":[{"r":"56","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"57","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"60","value":[" ","overlaps day of"," "]},{"r":"59","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"72","s":[{"value":["exists "]},{"r":"71","s":[{"value":["( "]},{"r":"71","s":[{"s":[{"r":"66","s":[{"r":"65","s":[{"r":"65","s":[{"value":["[","\"Intervention, Order\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceOrder"]}]}]},{"value":["\n        "]},{"r":"70","s":[{"value":["where "]},{"r":"70","s":[{"r":"68","s":[{"r":"67","s":[{"value":["HospiceOrder"]}]},{"value":["."]},{"r":"68","s":[{"value":["authorDatetime"]}]}]},{"r":"70","value":[" ","during day of"," "]},{"r":"69","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"85","s":[{"value":["exists "]},{"r":"84","s":[{"value":["( "]},{"r":"84","s":[{"s":[{"r":"75","s":[{"r":"74","s":[{"r":"74","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospicePerformed"]}]}]},{"value":["\n        "]},{"r":"83","s":[{"value":["where "]},{"r":"83","s":[{"r":"81","s":[{"r":"76","s":[{"value":["Global"]}]},{"value":["."]},{"r":"81","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"78","s":[{"r":"77","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"78","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"80","s":[{"r":"79","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"80","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"83","value":[" ","overlaps day of"," "]},{"r":"82","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n  or "]},{"r":"94","s":[{"value":["exists "]},{"r":"93","s":[{"value":["( "]},{"r":"93","s":[{"s":[{"r":"88","s":[{"r":"87","s":[{"r":"87","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Hospice Diagnosis\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceCareDiagnosis"]}]}]},{"value":["\n        "]},{"r":"92","s":[{"value":["where "]},{"r":"92","s":[{"r":"90","s":[{"r":"89","s":[{"value":["HospiceCareDiagnosis"]}]},{"value":["."]},{"r":"90","s":[{"value":["prevalencePeriod"]}]}]},{"r":"92","value":[" ","overlaps day of"," "]},{"r":"91","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"95","locator":"25:3-46:5","type":"Or","operand":[{"localId":"86","locator":"25:3-43:5","type":"Or","operand":[{"localId":"73","locator":"25:3-40:5","type":"Or","operand":[{"localId":"64","locator":"25:3-37:5","type":"Or","operand":[{"localId":"46","locator":"25:3-33:5","type":"Or","operand":[{"localId":"37","locator":"25:3-30:3","type":"Exists","operand":{"localId":"36","locator":"25:10-30:3","type":"Query","source":[{"localId":"21","locator":"25:12-25:77","alias":"InpatientEncounter","expression":{"localId":"20","locator":"25:12-25:58","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"25:37-25:57","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"35","locator":"26:7-29:85","type":"And","operand":[{"localId":"30","locator":"26:13-28:7","type":"Or","operand":[{"localId":"25","locator":"26:15-26:104","type":"Equivalent","operand":[{"localId":"23","locator":"26:15-26:53","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"24","locator":"26:57-26:104","name":"Discharge to home for hospice care (procedure)","type":"CodeRef"}]},{"localId":"29","locator":"27:14-27:118","type":"Equivalent","operand":[{"localId":"27","locator":"27:14-27:52","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"28","locator":"27:56-27:118","name":"Discharge to healthcare facility for hospice care (procedure)","type":"CodeRef"}]}]},{"localId":"34","locator":"29:13-29:85","precision":"Day","type":"In","operand":[{"locator":"29:47-29:50","type":"End","operand":{"localId":"32","locator":"29:13-29:45","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}},{"localId":"33","locator":"29:66-29:85","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"45","locator":"31:8-33:5","type":"Exists","operand":{"localId":"44","locator":"31:15-33:5","type":"Query","source":[{"localId":"39","locator":"31:17-31:78","alias":"HospiceEncounter","expression":{"localId":"38","locator":"31:17-31:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"31:42-31:60","name":"Hospice Encounter","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"43","locator":"32:9-32:82","precision":"Day","type":"Overlaps","operand":[{"localId":"41","locator":"32:15-32:45","path":"relevantPeriod","scope":"HospiceEncounter","type":"Property"},{"localId":"42","locator":"32:63-32:82","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"63","locator":"34:8-37:5","type":"Exists","operand":{"localId":"62","locator":"34:15-37:5","type":"Query","source":[{"localId":"48","locator":"34:17-34:94","alias":"HospiceAssessment","expression":{"localId":"47","locator":"34:17-34:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"34:43-34:75","name":"Hospice care [Minimum Data Set]","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"61","locator":"35:9-36:150","type":"And","operand":[{"localId":"52","locator":"35:15-35:64","type":"Equivalent","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","operand":{"localId":"50","locator":"35:15-35:38","path":"result","scope":"HospiceAssessment","type":"Property"}},{"localId":"51","locator":"35:42-35:64","name":"Yes (qualifier value)","type":"CodeRef"}]},{"localId":"60","locator":"36:15-36:150","precision":"Day","type":"Overlaps","operand":[{"localId":"58","locator":"36:15-36:113","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"55","locator":"36:44-36:77","path":"relevantDatetime","scope":"HospiceAssessment","type":"Property"},{"localId":"57","locator":"36:80-36:111","path":"relevantPeriod","scope":"HospiceAssessment","type":"Property"}]},{"localId":"59","locator":"36:131-36:150","name":"Measurement Period","type":"ParameterRef"}]}]}}}]},{"localId":"72","locator":"38:8-40:5","type":"Exists","operand":{"localId":"71","locator":"38:15-40:5","type":"Query","source":[{"localId":"66","locator":"38:17-38:79","alias":"HospiceOrder","expression":{"localId":"65","locator":"38:17-38:66","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","templateId":"PositiveInterventionOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"38:41-38:65","name":"Hospice Care Ambulatory","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"70","locator":"39:9-39:76","precision":"Day","type":"In","operand":[{"localId":"68","locator":"39:15-39:41","path":"authorDatetime","scope":"HospiceOrder","type":"Property"},{"localId":"69","locator":"39:57-39:76","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"85","locator":"41:8-43:5","type":"Exists","operand":{"localId":"84","locator":"41:15-43:5","type":"Query","source":[{"localId":"75","locator":"41:17-41:87","alias":"HospicePerformed","expression":{"localId":"74","locator":"41:17-41:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"41:45-41:69","name":"Hospice Care Ambulatory","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"83","locator":"42:9-42:148","precision":"Day","type":"Overlaps","operand":[{"localId":"81","locator":"42:15-42:111","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"78","locator":"42:44-42:76","path":"relevantDatetime","scope":"HospicePerformed","type":"Property"},{"localId":"80","locator":"42:79-42:109","path":"relevantPeriod","scope":"HospicePerformed","type":"Property"}]},{"localId":"82","locator":"42:129-42:148","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"94","locator":"44:6-46:5","type":"Exists","operand":{"localId":"93","locator":"44:13-46:5","type":"Query","source":[{"localId":"88","locator":"44:15-44:69","alias":"HospiceCareDiagnosis","expression":{"localId":"87","locator":"44:15-44:48","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"44:29-44:47","name":"Hospice Diagnosis","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"92","locator":"45:9-45:88","precision":"Day","type":"Overlaps","operand":[{"localId":"90","locator":"45:15-45:51","path":"prevalencePeriod","scope":"HospiceCareDiagnosis","type":"Property"},{"localId":"91","locator":"45:69-45:88","name":"Measurement Period","type":"ParameterRef"}]}}}]}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Has Hospice Services\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"20"}],"node_type":"Retrieve","ref_id":"20"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"21"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"22"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"23"}],"node_type":"Property","ref_id":"23"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to home for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"24"}],"node_type":"Equivalent","ref_id":"25"},{"children":[{"text":"\n          or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"26"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"27"}],"node_type":"Property","ref_id":"27"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to healthcare facility for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"28"}],"node_type":"Equivalent","ref_id":"29"}],"node_type":"Or","ref_id":"30"},{"children":[{"text":"\n      )"}]}],"node_type":"Or","ref_id":"30"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"31"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"32"}],"node_type":"Property","ref_id":"32"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"34"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"33"}],"node_type":"In","ref_id":"34"}],"ref_id":"35"}],"ref_id":"35"}],"node_type":"Query","ref_id":"36"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"36"}],"node_type":"Exists","ref_id":"37"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Encounter\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"38"}],"node_type":"Retrieve","ref_id":"38"},{"children":[{"text":" HospiceEncounter"}]}],"ref_id":"39"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceEncounter"}]}],"ref_id":"40"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"41"}],"node_type":"Property","ref_id":"41"},{"children":[{"text":" overlaps day of "}],"ref_id":"43"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"42"}],"ref_id":"43"}],"ref_id":"43"}],"node_type":"Query","ref_id":"44"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"44"}],"node_type":"Exists","ref_id":"45"}],"node_type":"Or","ref_id":"46"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice care [Minimum Data Set]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"47"}],"node_type":"Retrieve","ref_id":"47"},{"children":[{"text":" HospiceAssessment"}]}],"ref_id":"48"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"49"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"50"}],"node_type":"Property","ref_id":"50"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Yes (qualifier value)\""}]}],"node_type":"CodeRef","ref_id":"51"}],"node_type":"Equivalent","ref_id":"52"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"54"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"55"}],"node_type":"Property","ref_id":"55"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"56"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"57"}],"node_type":"Property","ref_id":"57"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"58"}],"node_type":"FunctionRef","ref_id":"58"},{"children":[{"text":" overlaps day of "}],"node_type":"Overlaps","ref_id":"60"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"59"}],"node_type":"Overlaps","ref_id":"60"}],"ref_id":"61"}],"ref_id":"61"}],"node_type":"Query","ref_id":"62"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"62"}],"node_type":"Exists","ref_id":"63"}],"node_type":"Or","ref_id":"64"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Order\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"65"}],"node_type":"Retrieve","ref_id":"65"},{"children":[{"text":" HospiceOrder"}]}],"ref_id":"66"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceOrder"}]}],"ref_id":"67"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"68"}],"node_type":"Property","ref_id":"68"},{"children":[{"text":" during day of "}],"ref_id":"70"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"69"}],"ref_id":"70"}],"ref_id":"70"}],"node_type":"Query","ref_id":"71"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"71"}],"node_type":"Exists","ref_id":"72"}],"node_type":"Or","ref_id":"73"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"74"}],"node_type":"Retrieve","ref_id":"74"},{"children":[{"text":" HospicePerformed"}]}],"ref_id":"75"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"76"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"77"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"78"}],"node_type":"Property","ref_id":"78"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"79"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"80"}],"node_type":"Property","ref_id":"80"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"81"}],"node_type":"FunctionRef","ref_id":"81"},{"children":[{"text":" overlaps day of "}],"ref_id":"83"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"82"}],"ref_id":"83"}],"ref_id":"83"}],"node_type":"Query","ref_id":"84"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"84"}],"node_type":"Exists","ref_id":"85"}],"node_type":"Or","ref_id":"86"},{"children":[{"text":"\n  or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Hospice Diagnosis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"87"}],"node_type":"Retrieve","ref_id":"87"},{"children":[{"text":" HospiceCareDiagnosis"}]}],"ref_id":"88"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceCareDiagnosis"}]}],"ref_id":"89"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"90"}],"node_type":"Property","ref_id":"90"},{"children":[{"text":" overlaps day of "}],"ref_id":"92"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"91"}],"ref_id":"92"}],"ref_id":"92"}],"node_type":"Query","ref_id":"93"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"93"}],"node_type":"Exists","ref_id":"94"}],"node_type":"Or","ref_id":"95"}],"ref_id":"96"}],"define_name":"Has Hospice Services"}],"identifier":{"id":"HospiceQDM","version":"6.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"HospiceQDM","library_version":"6.0.000","statement_dependencies":[{"_id":"68923ca4a83e15671c2d1559","statement_name":"Has Hospice Services","statement_references":[{"_id":"68923ca4a83e15671c2d155a","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]}]},{"_id":"68923c2ba83e15671c2cec7a","cql":"library MATGlobalCommonFunctionsQDM version '8.0.000'\n\n/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"395","s":[{"value":["","library MATGlobalCommonFunctionsQDM version '8.0.000'"]}]}}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"9","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"8","s":[{"value":["Interval\u003c"]},{"r":"7","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"8","locator":"13:32-13:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"13:41-13:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"7:1-7:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}]},{"localId":"3","locator":"8:1-8:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"4","locator":"9:1-9:72","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}]},{"localId":"5","locator":"10:1-10:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]},{"localId":"6","locator":"11:1-11:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}]}]},"contexts":{"def":[{"locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"11","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"10","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"18:28-18:55","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}},{"localId":"19","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"18","s":[{"s":[{"r":"13","s":[{"r":"12","s":[{"r":"12","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"17","s":[{"value":["where "]},{"r":"17","s":[{"r":"15","s":[{"r":"14","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"15","s":[{"value":["relevantPeriod"]}]}]},{"r":"17","value":[" ","ends during day of"," "]},{"r":"16","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"18","locator":"21:3-22:83","type":"Query","source":[{"localId":"13","locator":"21:3-21:68","alias":"EncounterInpatient","expression":{"localId":"12","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"21:28-21:48","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"17","locator":"22:5-22:83","precision":"Day","type":"In","operand":[{"locator":"22:45-22:48","type":"End","operand":{"localId":"15","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"16","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"29","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"29","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function ","\"ToDateInterval\"","(","period"," "]},{"r":"21","s":[{"value":["Interval\u003c"]},{"r":"20","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"28","s":[{"r":"28","s":[{"value":["Interval["]},{"r":"24","s":[{"value":["date from "]},{"r":"23","s":[{"value":["start of "]},{"r":"22","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"27","s":[{"value":["date from "]},{"r":"26","s":[{"value":["end of "]},{"r":"25","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"28","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"24","locator":"30:12-30:36","type":"DateFrom","operand":{"localId":"23","locator":"30:22-30:36","type":"Start","operand":{"localId":"22","locator":"30:31-30:36","name":"period","type":"OperandRef"}}},"high":{"localId":"27","locator":"30:39-30:61","type":"DateFrom","operand":{"localId":"26","locator":"30:49-30:61","type":"End","operand":{"localId":"25","locator":"30:56-30:61","name":"period","type":"OperandRef"}}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"21","locator":"29:41-29:58","type":"IntervalTypeSpecifier","pointType":{"localId":"20","locator":"29:50-29:57","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"37","locator":"33:1-34:60","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"37","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function ","\"LengthInDays\"","(","Value"," "]},{"r":"31","s":[{"value":["Interval\u003c"]},{"r":"30","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"36","s":[{"r":"36","s":[{"value":["difference in days between "]},{"r":"33","s":[{"value":["start of "]},{"r":"32","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"35","s":[{"value":["end of "]},{"r":"34","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"36","locator":"34:3-34:60","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"33","locator":"34:30-34:43","type":"Start","operand":{"localId":"32","locator":"34:39-34:43","name":"Value","type":"OperandRef"}},{"localId":"35","locator":"34:49-34:60","type":"End","operand":{"localId":"34","locator":"34:56-34:60","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"31","locator":"33:38-33:55","type":"IntervalTypeSpecifier","pointType":{"localId":"30","locator":"33:47-33:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"70","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"70","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"38","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"69","s":[{"r":"69","s":[{"s":[{"r":"40","s":[{"r":"39","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"56","s":[{"value":["EDVisit",": "]},{"r":"55","s":[{"value":["Last","("]},{"r":"54","s":[{"s":[{"r":"42","s":[{"r":"41","s":[{"r":"41","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"49","s":[{"value":["where "]},{"r":"49","s":[{"r":"44","s":[{"r":"43","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"44","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"49","s":[{"value":["ends "]},{"r":"48","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"47","s":[{"value":["start of "]},{"r":"46","s":[{"r":"45","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"46","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"53","s":[{"value":["sort by \n  \t\t\t"]},{"r":"52","s":[{"r":"51","s":[{"value":["end of "]},{"r":"50","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"68","s":[{"value":["return "]},{"r":"67","s":[{"value":["if "]},{"r":"58","s":[{"r":"57","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"60","s":[{"r":"59","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"60","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"66","s":[{"value":["flatten "]},{"r":"65","s":[{"value":["{ "]},{"r":"62","s":[{"r":"61","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"62","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"64","s":[{"r":"63","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"64","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"69","locator":"38:3-45:71","type":"Query","source":[{"localId":"40","locator":"38:3-38:17","alias":"Visit","expression":{"localId":"39","locator":"38:3-38:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"56","locator":"39:8-43:4","identifier":"EDVisit","expression":{"localId":"55","locator":"39:17-43:4","type":"Last","source":{"localId":"54","locator":"39:22-42:26","type":"Query","source":[{"localId":"42","locator":"39:22-39:82","alias":"LastED","expression":{"localId":"41","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"39:47-39:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"49","locator":"40:6-40:95","type":"And","operand":[{"locator":"40:39-40:52","type":"In","operand":[{"locator":"40:34-40:37","type":"End","operand":{"localId":"44","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"40:67-40:95","type":"Subtract","operand":[{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"48","locator":"40:39-40:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"40:39-40:52","type":"Not","operand":{"locator":"40:39-40:52","type":"IsNull","operand":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"53","locator":"41:6-42:26","by":[{"localId":"52","locator":"42:6-42:26","direction":"asc","type":"ByExpression","expression":{"localId":"51","locator":"42:6-42:26","type":"End","operand":{"localId":"50","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"68","locator":"44:4-45:71","expression":{"localId":"67","locator":"44:11-45:71","type":"If","condition":{"localId":"58","locator":"44:14-44:28","type":"IsNull","operand":{"localId":"57","locator":"44:14-44:20","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"60","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"66","locator":"45:10-45:71","type":"Flatten","operand":{"localId":"65","locator":"45:18-45:71","type":"List","element":[{"localId":"62","locator":"45:20-45:44","path":"facilityLocations","type":"Property","source":{"localId":"61","locator":"45:20-45:26","name":"EDVisit","type":"QueryLetRef"}},{"localId":"64","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"38","locator":"37:54-37:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"87","locator":"48:1-52:18","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"87","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"71","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"86","s":[{"r":"86","s":[{"value":["start of "]},{"r":"85","s":[{"r":"84","s":[{"value":["First","("]},{"r":"83","s":[{"s":[{"r":"74","s":[{"r":"73","s":[{"value":["("]},{"r":"73","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"72","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"78","s":[{"value":["where "]},{"r":"78","s":[{"r":"76","s":[{"r":"75","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"76","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"77","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"82","s":[{"value":["sort by "]},{"r":"81","s":[{"r":"80","s":[{"value":["start of "]},{"r":"79","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"85","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"86","locator":"49:3-52:18","type":"Start","operand":{"localId":"85","locator":"49:12-52:18","path":"locationPeriod","type":"Property","source":{"localId":"84","locator":"49:12-52:3","type":"First","source":{"localId":"83","locator":"49:18-51:35","type":"Query","source":[{"localId":"74","locator":"49:18-49:72","alias":"HospitalLocation","expression":{"localId":"73","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"72","locator":"49:46-49:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"78","locator":"50:5-50:63","type":"InValueSet","code":{"localId":"76","locator":"50:11-50:31","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"77","locator":"50:36-50:63","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"82","locator":"51:5-51:35","by":[{"localId":"81","locator":"51:13-51:35","direction":"asc","type":"ByExpression","expression":{"localId":"80","locator":"51:13-51:35","type":"Start","operand":{"localId":"79","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"71","locator":"48:60-48:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"122","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"122","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"90","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"121","s":[{"r":"121","s":[{"s":[{"r":"92","s":[{"r":"91","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"108","s":[{"value":["EDVisit",": "]},{"r":"107","s":[{"value":["Last","("]},{"r":"106","s":[{"s":[{"r":"94","s":[{"r":"93","s":[{"r":"93","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"101","s":[{"value":["where "]},{"r":"101","s":[{"r":"96","s":[{"r":"95","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"96","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"101","s":[{"value":["ends "]},{"r":"100","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"99","s":[{"value":["start of "]},{"r":"98","s":[{"r":"97","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"98","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"105","s":[{"value":["sort by \n  \t\t\t"]},{"r":"104","s":[{"r":"103","s":[{"value":["end of "]},{"r":"102","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"120","s":[{"value":["return "]},{"r":"119","s":[{"value":["Interval["]},{"r":"115","s":[{"value":["Coalesce","("]},{"r":"111","s":[{"value":["start of "]},{"r":"110","s":[{"r":"109","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"110","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"114","s":[{"value":["start of "]},{"r":"113","s":[{"r":"112","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"113","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"118","s":[{"value":["end of "]},{"r":"117","s":[{"r":"116","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"117","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"121","locator":"66:3-73:31","type":"Query","source":[{"localId":"92","locator":"66:3-66:17","alias":"Visit","expression":{"localId":"91","locator":"66:3-66:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"108","locator":"67:8-71:4","identifier":"EDVisit","expression":{"localId":"107","locator":"67:17-71:4","type":"Last","source":{"localId":"106","locator":"67:22-70:26","type":"Query","source":[{"localId":"94","locator":"67:22-67:82","alias":"LastED","expression":{"localId":"93","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"67:47-67:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"101","locator":"68:6-68:95","type":"And","operand":[{"locator":"68:39-68:52","type":"In","operand":[{"locator":"68:34-68:37","type":"End","operand":{"localId":"96","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"68:67-68:95","type":"Subtract","operand":[{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"100","locator":"68:39-68:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"68:39-68:52","type":"Not","operand":{"locator":"68:39-68:52","type":"IsNull","operand":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"105","locator":"69:6-70:26","by":[{"localId":"104","locator":"70:6-70:26","direction":"asc","type":"ByExpression","expression":{"localId":"103","locator":"70:6-70:26","type":"End","operand":{"localId":"102","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"120","locator":"72:4-73:31","expression":{"localId":"119","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"115","locator":"72:20-72:91","type":"Coalesce","operand":[{"localId":"111","locator":"72:29-72:59","type":"Start","operand":{"localId":"110","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","source":{"localId":"109","locator":"72:38-72:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"114","locator":"72:62-72:90","type":"Start","operand":{"localId":"113","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"118","locator":"73:4-73:30","type":"End","operand":{"localId":"117","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"90","locator":"65:45-65:66","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"125","locator":"55:1-56:39","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"125","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"88","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"124","s":[{"r":"124","s":[{"value":["start of "]},{"r":"123","s":[{"value":["\"Hospitalization\"","("]},{"r":"89","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"124","locator":"56:3-56:39","type":"Start","operand":{"localId":"123","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"89","locator":"56:30-56:38","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"88","locator":"55:51-55:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"138","locator":"59:1-62:18","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"138","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"126","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"137","s":[{"r":"137","s":[{"value":["start of "]},{"r":"136","s":[{"r":"135","s":[{"value":["First","("]},{"r":"134","s":[{"s":[{"r":"129","s":[{"r":"128","s":[{"value":["("]},{"r":"128","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"127","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"133","s":[{"value":["sort by "]},{"r":"132","s":[{"r":"131","s":[{"value":["start of "]},{"r":"130","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"136","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"137","locator":"60:3-62:18","type":"Start","operand":{"localId":"136","locator":"60:12-62:18","path":"locationPeriod","type":"Property","source":{"localId":"135","locator":"60:12-62:3","type":"First","source":{"localId":"134","locator":"60:18-61:35","type":"Query","source":[{"localId":"129","locator":"60:18-60:72","alias":"HospitalLocation","expression":{"localId":"128","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"127","locator":"60:46-60:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"133","locator":"61:5-61:35","by":[{"localId":"132","locator":"61:13-61:35","direction":"asc","type":"ByExpression","expression":{"localId":"131","locator":"61:13-61:35","type":"Start","operand":{"localId":"130","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"126","locator":"59:49-59:70","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"145","locator":"76:1-77:44","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"145","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"141","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"144","s":[{"r":"144","s":[{"value":["LengthInDays","("]},{"r":"143","s":[{"value":["\"Hospitalization\"","("]},{"r":"142","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"144","locator":"77:3-77:44","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"143","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"142","locator":"77:34-77:42","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"141","locator":"76:57-76:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"158","locator":"80:1-83:18","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"158","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"146","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"157","s":[{"r":"157","s":[{"value":["end of "]},{"r":"156","s":[{"r":"155","s":[{"value":["Last","("]},{"r":"154","s":[{"s":[{"r":"149","s":[{"r":"148","s":[{"value":["("]},{"r":"148","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"147","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"153","s":[{"value":["sort by "]},{"r":"152","s":[{"r":"151","s":[{"value":["start of "]},{"r":"150","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"156","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"157","locator":"81:3-83:18","type":"End","operand":{"localId":"156","locator":"81:10-83:18","path":"locationPeriod","type":"Property","source":{"localId":"155","locator":"81:10-83:3","type":"Last","source":{"localId":"154","locator":"81:15-82:35","type":"Query","source":[{"localId":"149","locator":"81:15-81:69","alias":"HospitalLocation","expression":{"localId":"148","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"147","locator":"81:43-81:51","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"153","locator":"82:5-82:35","by":[{"localId":"152","locator":"82:13-82:35","direction":"asc","type":"ByExpression","expression":{"localId":"151","locator":"82:13-82:35","type":"Start","operand":{"localId":"150","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"146","locator":"80:51-80:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"163","locator":"86:1-87:33","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"163","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"159","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"162","s":[{"r":"162","s":[{"value":["end of "]},{"r":"161","s":[{"r":"160","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"161","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"162","locator":"87:3-87:33","type":"End","operand":{"localId":"161","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","source":{"localId":"160","locator":"87:10-87:18","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"159","locator":"86:51-86:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"236","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"236","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"164","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"235","s":[{"r":"235","s":[{"s":[{"r":"166","s":[{"r":"165","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"182","s":[{"value":["ObsVisit",": "]},{"r":"181","s":[{"value":["Last","("]},{"r":"180","s":[{"s":[{"r":"168","s":[{"r":"167","s":[{"r":"167","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"175","s":[{"value":["where "]},{"r":"175","s":[{"r":"170","s":[{"r":"169","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"175","s":[{"value":["ends "]},{"r":"174","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"173","s":[{"value":["start of "]},{"r":"172","s":[{"r":"171","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"172","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"179","s":[{"value":["sort by \n  \t\t\t"]},{"r":"178","s":[{"r":"177","s":[{"value":["end of "]},{"r":"176","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"190","s":[{"value":["VisitStart",": "]},{"r":"189","s":[{"value":["Coalesce","("]},{"r":"185","s":[{"value":["start of "]},{"r":"184","s":[{"r":"183","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"184","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"188","s":[{"value":["start of "]},{"r":"187","s":[{"r":"186","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"187","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"204","s":[{"value":["EDVisit",": "]},{"r":"203","s":[{"value":["Last","("]},{"r":"202","s":[{"s":[{"r":"192","s":[{"r":"191","s":[{"r":"191","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"197","s":[{"value":["where "]},{"r":"197","s":[{"r":"194","s":[{"r":"193","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"194","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"197","s":[{"value":["ends "]},{"r":"196","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"195","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"201","s":[{"value":["sort by \n  \t\t\t"]},{"r":"200","s":[{"r":"199","s":[{"value":["end of "]},{"r":"198","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"210","s":[{"value":["VisitStartWithED",": "]},{"r":"209","s":[{"value":["Coalesce","("]},{"r":"207","s":[{"value":["start of "]},{"r":"206","s":[{"r":"205","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"206","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"208","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"224","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"223","s":[{"value":["Last","("]},{"r":"222","s":[{"s":[{"r":"212","s":[{"r":"211","s":[{"r":"211","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"217","s":[{"value":["where "]},{"r":"217","s":[{"r":"214","s":[{"r":"213","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"214","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"217","s":[{"value":["ends "]},{"r":"216","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"215","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"221","s":[{"value":["sort by \n  \t\t\t"]},{"r":"220","s":[{"r":"219","s":[{"value":["end of "]},{"r":"218","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"234","s":[{"value":["return "]},{"r":"233","s":[{"value":["Interval["]},{"r":"229","s":[{"value":["Coalesce","("]},{"r":"227","s":[{"value":["start of "]},{"r":"226","s":[{"r":"225","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"226","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"228","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"232","s":[{"value":["end of "]},{"r":"231","s":[{"r":"230","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"231","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"235","locator":"91:3-110:31","type":"Query","source":[{"localId":"166","locator":"91:3-91:17","alias":"Visit","expression":{"localId":"165","locator":"91:3-91:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"182","locator":"92:8-96:4","identifier":"ObsVisit","expression":{"localId":"181","locator":"92:18-96:4","type":"Last","source":{"localId":"180","locator":"92:23-95:26","type":"Query","source":[{"localId":"168","locator":"92:23-92:78","alias":"LastObs","expression":{"localId":"167","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"92:48-92:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"175","locator":"93:6-93:96","type":"And","operand":[{"locator":"93:40-93:53","type":"In","operand":[{"locator":"93:35-93:38","type":"End","operand":{"localId":"170","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"93:68-93:96","type":"Subtract","operand":[{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"174","locator":"93:40-93:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"93:40-93:53","type":"Not","operand":{"locator":"93:40-93:53","type":"IsNull","operand":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"179","locator":"94:6-95:26","by":[{"localId":"178","locator":"95:6-95:26","direction":"asc","type":"ByExpression","expression":{"localId":"177","locator":"95:6-95:26","type":"End","operand":{"localId":"176","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"190","locator":"97:4-97:88","identifier":"VisitStart","expression":{"localId":"189","locator":"97:16-97:88","type":"Coalesce","operand":[{"localId":"185","locator":"97:25-97:56","type":"Start","operand":{"localId":"184","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","source":{"localId":"183","locator":"97:34-97:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"188","locator":"97:59-97:87","type":"Start","operand":{"localId":"187","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"204","locator":"98:4-102:4","identifier":"EDVisit","expression":{"localId":"203","locator":"98:13-102:4","type":"Last","source":{"localId":"202","locator":"98:18-101:26","type":"Query","source":[{"localId":"192","locator":"98:18-98:78","alias":"LastED","expression":{"localId":"191","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"98:43-98:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"197","locator":"99:6-99:76","type":"And","operand":[{"locator":"99:39-99:52","type":"In","operand":[{"locator":"99:34-99:37","type":"End","operand":{"localId":"194","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"99:67-99:76","type":"Subtract","operand":[{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"196","locator":"99:39-99:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"99:39-99:52","type":"Not","operand":{"locator":"99:39-99:52","type":"IsNull","operand":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"201","locator":"100:6-101:26","by":[{"localId":"200","locator":"101:6-101:26","direction":"asc","type":"ByExpression","expression":{"localId":"199","locator":"101:6-101:26","type":"End","operand":{"localId":"198","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"210","locator":"103:4-103:74","identifier":"VisitStartWithED","expression":{"localId":"209","locator":"103:22-103:74","type":"Coalesce","operand":[{"localId":"207","locator":"103:31-103:61","type":"Start","operand":{"localId":"206","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","source":{"localId":"205","locator":"103:40-103:46","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"208","locator":"103:64-103:73","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"224","locator":"104:4-108:4","identifier":"OutpatientSurgeryVisit","expression":{"localId":"223","locator":"104:28-108:4","type":"Last","source":{"localId":"222","locator":"104:33-107:26","type":"Query","source":[{"localId":"212","locator":"104:33-104:100","alias":"LastSurgeryOP","expression":{"localId":"211","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"104:58-104:85","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"217","locator":"105:6-105:89","type":"And","operand":[{"locator":"105:46-105:59","type":"In","operand":[{"locator":"105:41-105:44","type":"End","operand":{"localId":"214","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"105:74-105:89","type":"Subtract","operand":[{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"216","locator":"105:46-105:51","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"locator":"105:46-105:59","type":"Not","operand":{"locator":"105:46-105:59","type":"IsNull","operand":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"221","locator":"106:6-107:26","by":[{"localId":"220","locator":"107:6-107:26","direction":"asc","type":"ByExpression","expression":{"localId":"219","locator":"107:6-107:26","type":"End","operand":{"localId":"218","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"234","locator":"109:4-110:31","expression":{"localId":"233","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"229","locator":"109:20-109:93","type":"Coalesce","operand":[{"localId":"227","locator":"109:29-109:74","type":"Start","operand":{"localId":"226","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","source":{"localId":"225","locator":"109:38-109:59","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"228","locator":"109:77-109:92","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"232","locator":"110:4-110:30","type":"End","operand":{"localId":"231","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"164","locator":"90:87-90:108","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"289","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"289","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"237","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"288","s":[{"r":"288","s":[{"s":[{"r":"239","s":[{"r":"238","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"255","s":[{"value":["ObsVisit",": "]},{"r":"254","s":[{"value":["Last","("]},{"r":"253","s":[{"s":[{"r":"241","s":[{"r":"240","s":[{"r":"240","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"248","s":[{"value":["where "]},{"r":"248","s":[{"r":"243","s":[{"r":"242","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"243","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"248","s":[{"value":["ends "]},{"r":"247","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"246","s":[{"value":["start of "]},{"r":"245","s":[{"r":"244","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"245","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"252","s":[{"value":["sort by \n  \t\t\t"]},{"r":"251","s":[{"r":"250","s":[{"value":["end of "]},{"r":"249","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"263","s":[{"value":["VisitStart",": "]},{"r":"262","s":[{"value":["Coalesce","("]},{"r":"258","s":[{"value":["start of "]},{"r":"257","s":[{"r":"256","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"257","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"261","s":[{"value":["start of "]},{"r":"260","s":[{"r":"259","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"260","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"277","s":[{"value":["EDVisit",": "]},{"r":"276","s":[{"value":["Last","("]},{"r":"275","s":[{"s":[{"r":"265","s":[{"r":"264","s":[{"r":"264","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"270","s":[{"value":["where "]},{"r":"270","s":[{"r":"267","s":[{"r":"266","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"267","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"270","s":[{"value":["ends "]},{"r":"269","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"268","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"274","s":[{"value":["sort by \n  \t\t\t"]},{"r":"273","s":[{"r":"272","s":[{"value":["end of "]},{"r":"271","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"287","s":[{"value":["return "]},{"r":"286","s":[{"value":["Interval["]},{"r":"282","s":[{"value":["Coalesce","("]},{"r":"280","s":[{"value":["start of "]},{"r":"279","s":[{"r":"278","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"279","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"281","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"285","s":[{"value":["end of "]},{"r":"284","s":[{"r":"283","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"284","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"288","locator":"114:3-127:31","type":"Query","source":[{"localId":"239","locator":"114:3-114:17","alias":"Visit","expression":{"localId":"238","locator":"114:3-114:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"255","locator":"115:8-119:4","identifier":"ObsVisit","expression":{"localId":"254","locator":"115:18-119:4","type":"Last","source":{"localId":"253","locator":"115:23-118:26","type":"Query","source":[{"localId":"241","locator":"115:23-115:78","alias":"LastObs","expression":{"localId":"240","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"115:48-115:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"248","locator":"116:6-116:96","type":"And","operand":[{"locator":"116:40-116:53","type":"In","operand":[{"locator":"116:35-116:38","type":"End","operand":{"localId":"243","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"116:68-116:96","type":"Subtract","operand":[{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"247","locator":"116:40-116:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"116:40-116:53","type":"Not","operand":{"locator":"116:40-116:53","type":"IsNull","operand":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"252","locator":"117:6-118:26","by":[{"localId":"251","locator":"118:6-118:26","direction":"asc","type":"ByExpression","expression":{"localId":"250","locator":"118:6-118:26","type":"End","operand":{"localId":"249","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"263","locator":"120:4-120:88","identifier":"VisitStart","expression":{"localId":"262","locator":"120:16-120:88","type":"Coalesce","operand":[{"localId":"258","locator":"120:25-120:56","type":"Start","operand":{"localId":"257","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","source":{"localId":"256","locator":"120:34-120:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"261","locator":"120:59-120:87","type":"Start","operand":{"localId":"260","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"277","locator":"121:4-125:4","identifier":"EDVisit","expression":{"localId":"276","locator":"121:13-125:4","type":"Last","source":{"localId":"275","locator":"121:18-124:26","type":"Query","source":[{"localId":"265","locator":"121:18-121:78","alias":"LastED","expression":{"localId":"264","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"121:43-121:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"270","locator":"122:6-122:76","type":"And","operand":[{"locator":"122:39-122:52","type":"In","operand":[{"locator":"122:34-122:37","type":"End","operand":{"localId":"267","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"122:67-122:76","type":"Subtract","operand":[{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"269","locator":"122:39-122:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"122:39-122:52","type":"Not","operand":{"locator":"122:39-122:52","type":"IsNull","operand":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"274","locator":"123:6-124:26","by":[{"localId":"273","locator":"124:6-124:26","direction":"asc","type":"ByExpression","expression":{"localId":"272","locator":"124:6-124:26","type":"End","operand":{"localId":"271","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"287","locator":"126:4-127:31","expression":{"localId":"286","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"282","locator":"126:20-126:72","type":"Coalesce","operand":[{"localId":"280","locator":"126:29-126:59","type":"Start","operand":{"localId":"279","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","source":{"localId":"278","locator":"126:38-126:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"281","locator":"126:62-126:71","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"285","locator":"127:4-127:30","type":"End","operand":{"localId":"284","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"237","locator":"113:60-113:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"294","locator":"130:1-131:61","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"294","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservationLengthofStay\"","(","Encounter"," "]},{"r":"290","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"293","s":[{"r":"293","s":[{"value":["\"LengthInDays\"","("]},{"r":"292","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"291","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"293","locator":"131:3-131:61","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"292","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","operand":[{"localId":"291","locator":"131:51-131:59","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"290","locator":"130:72-130:93","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"315","locator":"134:1-139:3","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"315","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"295","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"314","s":[{"r":"314","s":[{"value":["First","("]},{"r":"313","s":[{"s":[{"r":"298","s":[{"r":"297","s":[{"value":["("]},{"r":"297","s":[{"r":"296","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"297","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"308","s":[{"value":["where "]},{"r":"308","s":[{"r":"302","s":[{"r":"300","s":[{"r":"299","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"300","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"301","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"307","s":[{"r":"304","s":[{"r":"303","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"304","s":[{"value":["locationPeriod"]}]}]},{"r":"307","value":[" ","during"," "]},{"r":"306","s":[{"r":"305","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"306","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"312","s":[{"value":["sort by "]},{"r":"311","s":[{"r":"310","s":[{"value":["start of "]},{"r":"309","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"314","locator":"135:3-139:3","type":"First","source":{"localId":"313","locator":"135:9-138:37","type":"Query","source":[{"localId":"298","locator":"135:9-135:53","alias":"HospitalLocation","expression":{"localId":"297","locator":"135:9-135:37","path":"facilityLocations","type":"Property","source":{"localId":"296","locator":"135:10-135:18","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"308","locator":"136:7-137:75","type":"And","operand":[{"localId":"302","locator":"136:13-136:58","type":"InValueSet","code":{"localId":"300","locator":"136:13-136:33","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"301","locator":"136:38-136:58","name":"Intensive Care Unit","preserve":true}},{"localId":"307","locator":"137:13-137:75","type":"IncludedIn","operand":[{"localId":"304","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"306","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","source":{"localId":"305","locator":"137:52-137:60","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"312","locator":"138:7-138:37","by":[{"localId":"311","locator":"138:15-138:37","direction":"asc","type":"ByExpression","expression":{"localId":"310","locator":"138:15-138:37","type":"Start","operand":{"localId":"309","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"295","locator":"134:61-134:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"333","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"333","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function ","\"NormalizeInterval\"","(","pointInTime"," "]},{"r":"316","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"318","s":[{"value":["Interval\u003c"]},{"r":"317","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"332","s":[{"r":"332","s":[{"value":["if "]},{"r":"320","s":[{"r":"319","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"323","s":[{"value":["Interval["]},{"r":"321","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"322","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"331","s":[{"value":["if "]},{"r":"325","s":[{"r":"324","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"326","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"330","s":[{"r":"327","value":["null"," as "]},{"r":"329","s":[{"value":["Interval\u003c"]},{"r":"328","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"expression":{"localId":"332","locator":"143:3-145:35","type":"If","condition":{"localId":"320","locator":"143:6-143:28","type":"Not","operand":{"locator":"143:6-143:28","type":"IsNull","operand":{"localId":"319","locator":"143:6-143:16","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"323","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"321","locator":"143:44-143:54","name":"pointInTime","type":"OperandRef"},"high":{"localId":"322","locator":"143:57-143:67","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"331","locator":"144:10-145:35","type":"If","condition":{"localId":"325","locator":"144:13-144:30","type":"Not","operand":{"locator":"144:13-144:30","type":"IsNull","operand":{"localId":"324","locator":"144:13-144:18","name":"period","type":"OperandRef"}}},"then":{"localId":"326","locator":"144:37-144:42","name":"period","type":"OperandRef"},"else":{"localId":"330","locator":"145:10-145:35","strict":false,"type":"As","operand":{"localId":"327","locator":"145:10-145:13","type":"Null"},"asTypeSpecifier":{"localId":"329","locator":"145:18-145:35","type":"IntervalTypeSpecifier","pointType":{"localId":"328","locator":"145:27-145:34","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"316","locator":"142:49-142:56","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"318","locator":"142:66-142:83","type":"IntervalTypeSpecifier","pointType":{"localId":"317","locator":"142:75-142:82","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"346","locator":"148:1-151:3","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"346","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function ","\"HasStart\"","(","period"," "]},{"r":"335","s":[{"value":["Interval\u003c"]},{"r":"334","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"345","s":[{"r":"345","s":[{"value":["not "]},{"r":"344","s":[{"value":["( "]},{"r":"344","s":[{"r":"338","s":[{"r":"337","s":[{"value":["start of "]},{"r":"336","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"343","s":[{"r":"340","s":[{"value":["start of "]},{"r":"339","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"342","s":[{"value":["minimum"," "]},{"r":"341","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"345","locator":"149:3-151:3","type":"Not","operand":{"localId":"344","locator":"149:7-151:3","type":"Or","operand":[{"localId":"338","locator":"149:9-149:31","type":"IsNull","operand":{"localId":"337","locator":"149:9-149:23","type":"Start","operand":{"localId":"336","locator":"149:18-149:23","name":"period","type":"OperandRef"}}},{"localId":"343","locator":"150:10-150:43","type":"Equal","operand":[{"localId":"340","locator":"150:10-150:24","type":"Start","operand":{"localId":"339","locator":"150:19-150:24","name":"period","type":"OperandRef"}},{"localId":"342","locator":"150:28-150:43","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"335","locator":"148:35-148:52","type":"IntervalTypeSpecifier","pointType":{"localId":"334","locator":"148:44-148:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"359","locator":"154:1-159:3","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"359","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function ","\"HasEnd\"","(","period"," "]},{"r":"348","s":[{"value":["Interval\u003c"]},{"r":"347","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"358","s":[{"r":"358","s":[{"value":["not "]},{"r":"357","s":[{"value":["( \n    "]},{"r":"357","s":[{"r":"351","s":[{"r":"350","s":[{"value":["end of "]},{"r":"349","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"356","s":[{"r":"353","s":[{"value":["end of "]},{"r":"352","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"355","s":[{"value":["maximum"," "]},{"r":"354","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"358","locator":"155:3-159:3","type":"Not","operand":{"localId":"357","locator":"155:7-159:3","type":"Or","operand":[{"localId":"351","locator":"156:5-156:25","type":"IsNull","operand":{"localId":"350","locator":"156:5-156:17","type":"End","operand":{"localId":"349","locator":"156:12-156:17","name":"period","type":"OperandRef"}}},{"localId":"356","locator":"158:7-158:38","type":"Equal","operand":[{"localId":"353","locator":"158:7-158:19","type":"End","operand":{"localId":"352","locator":"158:14-158:19","name":"period","type":"OperandRef"}},{"localId":"355","locator":"158:23-158:38","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"348","locator":"154:33-154:50","type":"IntervalTypeSpecifier","pointType":{"localId":"347","locator":"154:42-154:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"369","locator":"162:1-165:24","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"369","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function ","\"Latest\"","(","period"," "]},{"r":"361","s":[{"value":["Interval\u003c"]},{"r":"360","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"368","s":[{"r":"368","s":[{"value":["if "]},{"r":"363","s":[{"value":["( "]},{"r":"363","s":[{"value":["HasEnd","("]},{"r":"362","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"365","s":[{"value":["end of "]},{"r":"364","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"367","s":[{"value":["start of "]},{"r":"366","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"368","locator":"163:3-165:24","type":"If","condition":{"localId":"363","locator":"163:6-163:22","name":"HasEnd","type":"FunctionRef","operand":[{"localId":"362","locator":"163:15-163:20","name":"period","type":"OperandRef"}]},"then":{"localId":"365","locator":"164:3-164:15","type":"End","operand":{"localId":"364","locator":"164:10-164:15","name":"period","type":"OperandRef"}},"else":{"localId":"367","locator":"165:10-165:24","type":"Start","operand":{"localId":"366","locator":"165:19-165:24","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"361","locator":"162:33-162:50","type":"IntervalTypeSpecifier","pointType":{"localId":"360","locator":"162:42-162:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"379","locator":"168:1-171:15","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"379","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function ","\"Earliest\"","(","period"," "]},{"r":"371","s":[{"value":["Interval\u003c"]},{"r":"370","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"378","s":[{"r":"378","s":[{"value":["if "]},{"r":"373","s":[{"value":["( "]},{"r":"373","s":[{"value":["HasStart","("]},{"r":"372","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"375","s":[{"value":["start of "]},{"r":"374","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"377","s":[{"value":["end of "]},{"r":"376","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"378","locator":"169:3-171:15","type":"If","condition":{"localId":"373","locator":"169:6-169:24","name":"HasStart","type":"FunctionRef","operand":[{"localId":"372","locator":"169:17-169:22","name":"period","type":"OperandRef"}]},"then":{"localId":"375","locator":"169:31-169:45","type":"Start","operand":{"localId":"374","locator":"169:40-169:45","name":"period","type":"OperandRef"}},"else":{"localId":"377","locator":"171:3-171:15","type":"End","operand":{"localId":"376","locator":"171:10-171:15","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"371","locator":"168:35-168:52","type":"IntervalTypeSpecifier","pointType":{"localId":"370","locator":"168:44-168:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"387","locator":"174:1-175:48","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"387","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function ","\"LatestOf\"","(","pointInTime"," "]},{"r":"380","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"382","s":[{"value":["Interval\u003c"]},{"r":"381","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"386","s":[{"r":"386","s":[{"value":["Latest","("]},{"r":"385","s":[{"value":["NormalizeInterval","("]},{"r":"383","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"384","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"386","locator":"175:3-175:48","name":"Latest","type":"FunctionRef","operand":[{"localId":"385","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"383","locator":"175:28-175:38","name":"pointInTime","type":"OperandRef"},{"localId":"384","locator":"175:41-175:46","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"380","locator":"174:40-174:47","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"382","locator":"174:57-174:74","type":"IntervalTypeSpecifier","pointType":{"localId":"381","locator":"174:66-174:73","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"178:1-179:50","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function ","\"EarliestOf\"","(","pointInTime"," "]},{"r":"388","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"390","s":[{"value":["Interval\u003c"]},{"r":"389","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"394","s":[{"r":"394","s":[{"value":["Earliest","("]},{"r":"393","s":[{"value":["NormalizeInterval","("]},{"r":"391","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"392","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"394","locator":"179:3-179:50","name":"Earliest","type":"FunctionRef","operand":[{"localId":"393","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"391","locator":"179:30-179:40","name":"pointInTime","type":"OperandRef"},{"localId":"392","locator":"179:43-179:48","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"388","locator":"178:42-178:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"390","locator":"178:59-178:76","type":"IntervalTypeSpecifier","pointType":{"localId":"389","locator":"178:68-178:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"ref_id":"11"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"12"}],"node_type":"Retrieve","ref_id":"12"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"13"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"14"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"15"}],"node_type":"Property","ref_id":"15"},{"children":[{"text":" ends during day of "}],"ref_id":"17"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"16"}],"ref_id":"17"}],"ref_id":"17"}],"node_type":"Query","ref_id":"18"}],"ref_id":"19"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[]},{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"20"},{"children":[{"text":"\u003e"}]}],"ref_id":"21"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"22"}],"node_type":"Start","ref_id":"23"}],"ref_id":"24"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"25"}],"node_type":"End","ref_id":"26"}],"ref_id":"27"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"28"}],"node_type":"Interval","ref_id":"28"}],"ref_id":"29"}],"define_name":"ToDateInterval"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"30"},{"children":[{"text":"\u003e"}]}],"ref_id":"31"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"32"}],"node_type":"Start","ref_id":"33"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"34"}],"node_type":"End","ref_id":"35"}],"node_type":"DifferenceBetween","ref_id":"36"}],"node_type":"DifferenceBetween","ref_id":"36"}],"ref_id":"37"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"38"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"39"},{"children":[{"text":" Visit"}]}],"ref_id":"40"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"41"}],"node_type":"Retrieve","ref_id":"41"},{"children":[{"text":" LastED"}]}],"ref_id":"42"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"43"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"44"}],"node_type":"Property","ref_id":"44"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"48"},{"children":[{"text":" or less on or before"}]}],"ref_id":"49"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"45"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"46"}],"node_type":"Property","ref_id":"46"}],"node_type":"Start","ref_id":"47"}],"ref_id":"49"}],"ref_id":"49"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"50"}],"node_type":"End","ref_id":"51"}],"ref_id":"52"}],"ref_id":"53"}],"ref_id":"54"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"55"}],"ref_id":"56"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"57"},{"children":[{"text":" is null"}]}],"ref_id":"58"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"59"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"60"}],"ref_id":"60"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"61"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"62"}],"ref_id":"62"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"63"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"64"}],"ref_id":"64"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"65"}],"ref_id":"66"}],"node_type":"If","ref_id":"67"}],"ref_id":"68"}],"node_type":"Query","ref_id":"69"}],"node_type":"Query","ref_id":"69"}],"ref_id":"70"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"71"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"72"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"74"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"76"}],"ref_id":"76"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"77"}],"ref_id":"78"}],"ref_id":"78"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"79"}],"node_type":"Start","ref_id":"80"}],"ref_id":"81"}],"ref_id":"82"}],"ref_id":"83"},{"children":[{"text":"\n  )"}]}],"ref_id":"84"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"85"}],"node_type":"Property","ref_id":"85"}],"node_type":"Start","ref_id":"86"}],"node_type":"Start","ref_id":"86"}],"ref_id":"87"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"90"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"91"},{"children":[{"text":" Visit"}]}],"ref_id":"92"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"93"}],"node_type":"Retrieve","ref_id":"93"},{"children":[{"text":" LastED"}]}],"ref_id":"94"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"95"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"96"}],"node_type":"Property","ref_id":"96"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"100"},{"children":[{"text":" or less on or before"}]}],"ref_id":"101"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"97"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"98"}],"node_type":"Property","ref_id":"98"}],"node_type":"Start","ref_id":"99"}],"ref_id":"101"}],"ref_id":"101"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"102"}],"node_type":"End","ref_id":"103"}],"ref_id":"104"}],"ref_id":"105"}],"ref_id":"106"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"107"}],"ref_id":"108"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"109"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"110"}],"node_type":"Property","ref_id":"110"}],"node_type":"Start","ref_id":"111"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"112"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"113"}],"node_type":"Property","ref_id":"113"}],"node_type":"Start","ref_id":"114"},{"children":[{"text":")"}]}],"ref_id":"115"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"116"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"117"}],"node_type":"Property","ref_id":"117"}],"ref_id":"118"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"119"}],"ref_id":"120"}],"node_type":"Query","ref_id":"121"}],"node_type":"Query","ref_id":"121"}],"ref_id":"122"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"88"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"89"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"123"}],"node_type":"Start","ref_id":"124"}],"node_type":"Start","ref_id":"124"}],"ref_id":"125"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"126"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"127"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"129"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"130"}],"node_type":"Start","ref_id":"131"}],"ref_id":"132"}],"ref_id":"133"}],"ref_id":"134"},{"children":[{"text":"\n  )"}]}],"ref_id":"135"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"136"}],"node_type":"Property","ref_id":"136"}],"node_type":"Start","ref_id":"137"}],"node_type":"Start","ref_id":"137"}],"ref_id":"138"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"141"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"142"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"143"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"144"}],"node_type":"FunctionRef","ref_id":"144"}],"ref_id":"145"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"146"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"147"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"149"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"150"}],"node_type":"Start","ref_id":"151"}],"ref_id":"152"}],"ref_id":"153"}],"ref_id":"154"},{"children":[{"text":"\n  )"}]}],"ref_id":"155"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"156"}],"node_type":"Property","ref_id":"156"}],"node_type":"End","ref_id":"157"}],"node_type":"End","ref_id":"157"}],"ref_id":"158"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"159"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"160"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"161"}],"node_type":"Property","ref_id":"161"}],"node_type":"End","ref_id":"162"}],"node_type":"End","ref_id":"162"}],"ref_id":"163"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"164"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"165"},{"children":[{"text":" Visit"}]}],"ref_id":"166"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"167"}],"node_type":"Retrieve","ref_id":"167"},{"children":[{"text":" LastObs"}]}],"ref_id":"168"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"174"},{"children":[{"text":" or less on or before"}]}],"ref_id":"175"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"171"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"172"}],"node_type":"Property","ref_id":"172"}],"node_type":"Start","ref_id":"173"}],"ref_id":"175"}],"ref_id":"175"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"176"}],"node_type":"End","ref_id":"177"}],"ref_id":"178"}],"ref_id":"179"}],"ref_id":"180"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"181"}],"ref_id":"182"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"183"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"184"}],"node_type":"Property","ref_id":"184"}],"node_type":"Start","ref_id":"185"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"186"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"187"}],"node_type":"Property","ref_id":"187"}],"node_type":"Start","ref_id":"188"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"189"}],"ref_id":"190"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"191"}],"node_type":"Retrieve","ref_id":"191"},{"children":[{"text":" LastED"}]}],"ref_id":"192"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"193"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"194"}],"node_type":"Property","ref_id":"194"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"196"},{"children":[{"text":" or less on or before"}]}],"ref_id":"197"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"195"}],"ref_id":"197"}],"ref_id":"197"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"198"}],"node_type":"End","ref_id":"199"}],"ref_id":"200"}],"ref_id":"201"}],"ref_id":"202"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"203"}],"ref_id":"204"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"205"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"206"}],"node_type":"Property","ref_id":"206"}],"node_type":"Start","ref_id":"207"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"208"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"209"}],"ref_id":"210"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"211"}],"node_type":"Retrieve","ref_id":"211"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"212"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"213"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"214"}],"node_type":"Property","ref_id":"214"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"216"},{"children":[{"text":" or less on or before"}]}],"ref_id":"217"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"215"}],"ref_id":"217"}],"ref_id":"217"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"218"}],"node_type":"End","ref_id":"219"}],"ref_id":"220"}],"ref_id":"221"}],"ref_id":"222"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"223"}],"ref_id":"224"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"225"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"226"}],"node_type":"Property","ref_id":"226"}],"node_type":"Start","ref_id":"227"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"228"},{"children":[{"text":")"}]}],"ref_id":"229"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"230"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"231"}],"node_type":"Property","ref_id":"231"}],"ref_id":"232"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"233"}],"ref_id":"234"}],"node_type":"Query","ref_id":"235"}],"node_type":"Query","ref_id":"235"}],"ref_id":"236"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"237"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"238"},{"children":[{"text":" Visit"}]}],"ref_id":"239"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"240"}],"node_type":"Retrieve","ref_id":"240"},{"children":[{"text":" LastObs"}]}],"ref_id":"241"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"242"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"243"}],"node_type":"Property","ref_id":"243"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"247"},{"children":[{"text":" or less on or before"}]}],"ref_id":"248"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"245"}],"node_type":"Property","ref_id":"245"}],"node_type":"Start","ref_id":"246"}],"ref_id":"248"}],"ref_id":"248"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"249"}],"node_type":"End","ref_id":"250"}],"ref_id":"251"}],"ref_id":"252"}],"ref_id":"253"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"254"}],"ref_id":"255"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"256"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"257"}],"node_type":"Property","ref_id":"257"}],"node_type":"Start","ref_id":"258"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"259"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"260"}],"node_type":"Property","ref_id":"260"}],"node_type":"Start","ref_id":"261"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"262"}],"ref_id":"263"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"264"}],"node_type":"Retrieve","ref_id":"264"},{"children":[{"text":" LastED"}]}],"ref_id":"265"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"266"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"267"}],"node_type":"Property","ref_id":"267"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"269"},{"children":[{"text":" or less on or before"}]}],"ref_id":"270"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"268"}],"ref_id":"270"}],"ref_id":"270"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"271"}],"node_type":"End","ref_id":"272"}],"ref_id":"273"}],"ref_id":"274"}],"ref_id":"275"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"276"}],"ref_id":"277"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"278"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"279"}],"node_type":"Property","ref_id":"279"}],"node_type":"Start","ref_id":"280"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"281"},{"children":[{"text":")"}]}],"ref_id":"282"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"283"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"284"}],"node_type":"Property","ref_id":"284"}],"ref_id":"285"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"286"}],"ref_id":"287"}],"node_type":"Query","ref_id":"288"}],"node_type":"Query","ref_id":"288"}],"ref_id":"289"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"290"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"291"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"292"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"293"}],"node_type":"FunctionRef","ref_id":"293"}],"ref_id":"294"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"295"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"297"}],"node_type":"Property","ref_id":"297"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"297"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"298"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"299"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"300"}],"ref_id":"300"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"301"}],"node_type":"InValueSet","ref_id":"302"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"303"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"304"}],"node_type":"Property","ref_id":"304"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"307"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"305"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"306"}],"node_type":"Property","ref_id":"306"}],"node_type":"IncludedIn","ref_id":"307"}],"ref_id":"308"}],"ref_id":"308"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"309"}],"node_type":"Start","ref_id":"310"}],"ref_id":"311"}],"ref_id":"312"}],"ref_id":"313"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"314"}],"node_type":"First","ref_id":"314"}],"ref_id":"315"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"316"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"317"},{"children":[{"text":"\u003e"}]}],"ref_id":"318"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"319"},{"children":[{"text":" is not null"}]}],"ref_id":"320"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"321"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"322"},{"children":[{"text":"]"}]}],"ref_id":"323"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"324"},{"children":[{"text":" is not null"}]}],"ref_id":"325"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"326"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"327"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"328"},{"children":[{"text":"\u003e"}]}],"ref_id":"329"}],"ref_id":"330"}],"ref_id":"331"}],"node_type":"If","ref_id":"332"}],"node_type":"If","ref_id":"332"}],"ref_id":"333"}],"define_name":"NormalizeInterval"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"334"},{"children":[{"text":"\u003e"}]}],"ref_id":"335"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"336"}],"node_type":"Start","ref_id":"337"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"338"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"339"}],"node_type":"Start","ref_id":"340"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"341"}],"node_type":"MinValue","ref_id":"342"}],"node_type":"Equal","ref_id":"343"}],"node_type":"Or","ref_id":"344"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"344"}],"node_type":"Not","ref_id":"345"}],"node_type":"Not","ref_id":"345"}],"ref_id":"346"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"347"},{"children":[{"text":"\u003e"}]}],"ref_id":"348"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"349"}],"node_type":"End","ref_id":"350"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"351"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"352"}],"node_type":"End","ref_id":"353"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"354"}],"node_type":"MaxValue","ref_id":"355"}],"node_type":"Equal","ref_id":"356"}],"node_type":"Or","ref_id":"357"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"357"}],"node_type":"Not","ref_id":"358"}],"node_type":"Not","ref_id":"358"}],"ref_id":"359"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"360"},{"children":[{"text":"\u003e"}]}],"ref_id":"361"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"362"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"364"}],"ref_id":"365"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"366"}],"ref_id":"367"}],"node_type":"If","ref_id":"368"}],"node_type":"If","ref_id":"368"}],"ref_id":"369"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"370"},{"children":[{"text":"\u003e"}]}],"ref_id":"371"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"372"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"374"}],"ref_id":"375"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"376"}],"ref_id":"377"}],"node_type":"If","ref_id":"378"}],"node_type":"If","ref_id":"378"}],"ref_id":"379"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"380"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"381"},{"children":[{"text":"\u003e"}]}],"ref_id":"382"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"383"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"384"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"385"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"386"}],"node_type":"FunctionRef","ref_id":"386"}],"ref_id":"387"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"388"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"389"},{"children":[{"text":"\u003e"}]}],"ref_id":"390"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"391"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"392"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"394"}],"node_type":"FunctionRef","ref_id":"394"}],"ref_id":"395"}],"define_name":"EarliestOf"}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctionsQDM","library_version":"8.0.000","statement_dependencies":[{"_id":"68923ca4a83e15671c2d155b","statement_name":"NormalizeInterval"}]}],"created_at":null,"description":"The percentage of episodes for patients 3 years and older with a diagnosis of pharyngitis that resulted in an antibiotic order on or three days after the episode date and a group A streptococcus (strep) test in the seven-day period from three days prior to the episode date through three days after the episode date","hqmf_id":"2C928083-8907-CE68-0189-2BC70587075C","hqmf_set_id":"BEB1C33C-2549-4E7F-9567-05ED38448464","hqmf_version_number":"13.0.000","main_cql_library":"AppropriateTestingforPharyngitis","measure_attributes":[{"code":"OTH","value":"146","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"146","media_type":"text/plain"}},{"code":"OTH","value":"Not Applicable","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"COPY","value":"This Physician Performance Measure (Measure) and related data specifications are owned and were developed by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by NCQA and are subject to a license at the discretion of NCQA. (C) 2012-2024 National Committee for Quality Assurance. All Rights Reserved.\n\nLimited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications.\n\nCPT(R) codes, descriptions and other data are copyright 2024. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. Fee schedules, relative value units, conversion factors and/or related components are not assigned by the AMA, are not part of CPT, and the AMA is not recommending their use. The AMA does not directly or indirectly practice medicine or dispense medical services. The AMA assumes no liability for data contained or not contained herein. Applicable FARS/DFARS restrictions apply to government use.\n\nSome measure specifications contain coding from LOINC(R) (http://loinc.org). The LOINC table, LOINC codes, LOINC panels and form file, LOINC linguistic variants file, LOINC/RSNA Radiology Playbook, and LOINC/IEEE Medical Device Code Mapping Table are copyright 2004-2024 Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee, and are available at no cost under the license at http://loinc.org/terms-of-use.\n\nThis material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation.\n\nICD-10 copyright 2024 World Health Organization. All Rights Reserved.\n\nSome measures use RxNorm, a standardized nomenclature and coding for clinical drugs and drug delivery devices, which is made publicly available courtesy of the U.S. National Library of Medicine (NLM), National Institutes of Health, Department of Health and Human Services. NLM is not responsible for the measures and does not endorse or recommend this or any other product.\n\nHL7 is the registered trademark of Health Level Seven International.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"This Physician Performance Measure (Measure) and related data specifications are owned and were developed by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by NCQA and are subject to a license at the discretion of NCQA. (C) 2012-2024 National Committee for Quality Assurance. All Rights Reserved.\n\nLimited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications.\n\nCPT(R) codes, descriptions and other data are copyright 2024. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. Fee schedules, relative value units, conversion factors and/or related components are not assigned by the AMA, are not part of CPT, and the AMA is not recommending their use. The AMA does not directly or indirectly practice medicine or dispense medical services. The AMA assumes no liability for data contained or not contained herein. Applicable FARS/DFARS restrictions apply to government use.\n\nSome measure specifications contain coding from LOINC(R) (http://loinc.org). The LOINC table, LOINC codes, LOINC panels and form file, LOINC linguistic variants file, LOINC/RSNA Radiology Playbook, and LOINC/IEEE Medical Device Code Mapping Table are copyright 2004-2024 Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee, and are available at no cost under the license at http://loinc.org/terms-of-use.\n\nThis material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation.\n\nICD-10 copyright 2024 World Health Organization. All Rights Reserved.\n\nSome measures use RxNorm, a standardized nomenclature and coding for clinical drugs and drug delivery devices, which is made publicly available courtesy of the U.S. National Library of Medicine (NLM), National Institutes of Health, Department of Health and Human Services. NLM is not responsible for the measures and does not endorse or recommend this or any other product.\n\nHL7 is the registered trademark of Health Level Seven International.","media_type":"text/plain"}},{"code":"DISC","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n \nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n \nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROCESS","title":"PROCESS"}},{"code":"STRAT","value":"- 3-17 years  \n- 18-64 years\n- 65 years and older","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"- 3-17 years  \n- 18-64 years\n- 65 years and older","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Group A streptococcal (GAS) bacterial infections and other infections that cause pharyngitis (which are most often viral) often produce the same signs and symptoms (Shulman et al., 2012). The American Academy of Pediatrics, the Centers for Disease Control and Prevention, and the Infectious Diseases Society of America all recommend a diagnostic test for Strep A to improve diagnostic accuracy and avoid unnecessary antibiotic treatment (Linder et al., 2005).\n\nEstimated economic costs of pediatric streptococcal pharyngitis in the United States range from $224 million to $539 million per year, including indirect costs related to parental work losses. At a higher level, the economic cost of antibiotic resistance varies but has extended as high as $20 billion in excess direct healthcare costs, with additional costs to society for lost productivity as high as $35 billion a year (2008 dollars) (Pfoh et al., 2008).","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Group A streptococcal (GAS) bacterial infections and other infections that cause pharyngitis (which are most often viral) often produce the same signs and symptoms (Shulman et al., 2012). The American Academy of Pediatrics, the Centers for Disease Control and Prevention, and the Infectious Diseases Society of America all recommend a diagnostic test for Strep A to improve diagnostic accuracy and avoid unnecessary antibiotic treatment (Linder et al., 2005).\n\nEstimated economic costs of pediatric streptococcal pharyngitis in the United States range from $224 million to $539 million per year, including indirect costs related to parental work losses. At a higher level, the economic cost of antibiotic resistance varies but has extended as high as $20 billion in excess direct healthcare costs, with additional costs to society for lost productivity as high as $35 billion a year (2008 dollars) (Pfoh et al., 2008).","media_type":"text/plain"}},{"code":"CRS","value":"Infectious Disease Society of America (Shulman et al., 2012) \n\nThe Infectious Diseases Society of America \"recommends swabbing the throat and testing for GAS pharyngitis by rapid antigen detection test (RADT) and/or culture because the clinical features alone do not reliably discriminate between GAS and viral pharyngitis except when overt viral features like rhinorrhea, cough, oral ulcers, and/or hoarseness are present\"","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"Infectious Disease Society of America (Shulman et al., 2012) \n\nThe Infectious Diseases Society of America \"recommends swabbing the throat and testing for GAS pharyngitis by rapid antigen detection test (RADT) and/or culture because the clinical features alone do not reliably discriminate between GAS and viral pharyngitis except when overt viral features like rhinorrhea, cough, oral ulcers, and/or hoarseness are present\"","media_type":"text/plain"}},{"code":"IDUR","value":"Higher score indicates better quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Higher score indicates better quality","media_type":"text/plain"}},{"code":"REF","value":"CITATIONLinder, J. A., Bates, D. W., Lee, G. M., et al. (2005). Antibiotic Treatment of Children with Sore Throat. JAMA, 294(18), 2315-2322.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONLinder, J. A., Bates, D. W., Lee, G. M., et al. (2005). Antibiotic Treatment of Children with Sore Throat. JAMA, 294(18), 2315-2322.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONPfoh, E., Wessels, M.R., Goldmann, D., et al. (2008). Burden and Economic Cost of Group A Streptococcal Pharyngitis. Pediatrics, 121(2), 229-234. doi: 10.1542/peds.2007-0484","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONPfoh, E., Wessels, M.R., Goldmann, D., et al. (2008). Burden and Economic Cost of Group A Streptococcal Pharyngitis. Pediatrics, 121(2), 229-234. doi: 10.1542/peds.2007-0484","media_type":"text/plain"}},{"code":"REF","value":"CITATIONShulman, S. T., Bisno, A. L., Clegg, H. W., et al. (2012). Clinical Practice Guideline for the Diagnosis and Management of Group A Streptococcal Pharyngitis: 2012 Update by the Infectious Diseases Society of America. Clinical Infectious Diseases, 55(10), E86-E102. doi:10.1093/cid/cis629","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONShulman, S. T., Bisno, A. L., Clegg, H. W., et al. (2012). Clinical Practice Guideline for the Diagnosis and Management of Group A Streptococcal Pharyngitis: 2012 Update by the Infectious Diseases Society of America. Clinical Infectious Diseases, 55(10), E86-E102. doi:10.1093/cid/cis629","media_type":"text/plain"}},{"code":"DEF","value":"None","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"GUIDE","value":"This is an episode of care measure that examines all eligible episodes for the patient. The intent is to determine whether antibiotics are being ordered appropriately. Antibiotics should only be ordered if a strep test has been performed to confirm a bacterial infection. Antibiotics should not be ordered for viral infections. Antibiotics should be ordered on or three days after the episode date.\n\nThis eCQM is an episode-based measure. An episode is defined as each eligible encounter for patients aged 3 years and older with a diagnosis of pharyngitis that resulted in an antibiotic order from January 1 to December 28 of the measurement period.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"This is an episode of care measure that examines all eligible episodes for the patient. The intent is to determine whether antibiotics are being ordered appropriately. Antibiotics should only be ordered if a strep test has been performed to confirm a bacterial infection. Antibiotics should not be ordered for viral infections. Antibiotics should be ordered on or three days after the episode date.\n\nThis eCQM is an episode-based measure. An episode is defined as each eligible encounter for patients aged 3 years and older with a diagnosis of pharyngitis that resulted in an antibiotic order from January 1 to December 28 of the measurement period.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"Outpatient, telephone, virtual encounter (i.e., e-visit or virtual check-in), or emergency department (ED) visits with a diagnosis of pharyngitis or tonsillitis from January 1 to December 28 of the measurement period and an antibiotic order on or three days after the episode date among patients 3 years or older","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"Outpatient, telephone, virtual encounter (i.e., e-visit or virtual check-in), or emergency department (ED) visits with a diagnosis of pharyngitis or tonsillitis from January 1 to December 28 of the measurement period and an antibiotic order on or three days after the episode date among patients 3 years or older","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial Population","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial Population","media_type":"text/plain"}},{"code":"DENEX","value":"Exclude pharyngitis episodes when the patient had hospice care for any part of the measurement period.\n\nExclude pharyngitis episodes when the patient had a comorbid condition during the 12 months prior to or on the episode date.\n\nExclude pharyngitis episodes where the patient is taking antibiotics in the 30 days prior to the episode date.\n\nExclude pharyngitis episodes where the patient had a competing diagnosis on or three days after the episode date.","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Exclude pharyngitis episodes when the patient had hospice care for any part of the measurement period.\n\nExclude pharyngitis episodes when the patient had a comorbid condition during the 12 months prior to or on the episode date.\n\nExclude pharyngitis episodes where the patient is taking antibiotics in the 30 days prior to the episode date.\n\nExclude pharyngitis episodes where the patient had a competing diagnosis on or three days after the episode date.","media_type":"text/plain"}},{"code":"NUMER","value":"A group A streptococcus test in the seven-day period from three days prior to the episode date through three days after the episode date","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"A group A streptococcus test in the seven-day period from three days prior to the episode date through three days after the episode date","media_type":"text/plain"}},{"code":"NUMEX","value":"Not Applicable","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"C57B1E01-AC23-4464-A182-23A6CC4848B3","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"AppropriateTestingforPharyngitis__Initial_Population__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"CF89139C-D474-4B2E-82DE-ECEFCA6926AA","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"AppropriateTestingforPharyngitis__Denominator__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"87675FD5-79CD-43A6-861C-864E5A604961","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"AppropriateTestingforPharyngitis__Numerator__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"C343340E-9E88-46FD-B6E9-B81C3D3B3170","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"AppropriateTestingforPharyngitis__Denominator_Exclusions__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"atLeastOneTrue"}]},"STRAT":{"conjunction?":true,"type":"STRAT","hqmf_id":"C89BCB64-B3AF-4846-9D7B-6EA492566292","preconditions":[{"id":12,"preconditions":[{"id":11,"reference":"AppropriateTestingforPharyngitis__Stratification_1__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"allTrue"}]},"STRAT_1":{"conjunction?":true,"type":"STRAT","hqmf_id":"7CD29562-AA93-4F85-827A-399F8C54D71B","preconditions":[{"id":16,"preconditions":[{"id":15,"reference":"AppropriateTestingforPharyngitis__Stratification_2__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"allTrue"}]},"STRAT_2":{"conjunction?":true,"type":"STRAT","hqmf_id":"2E813A1F-EF0D-4B2A-98FF-A521A2B1A31A","preconditions":[{"id":20,"preconditions":[{"id":19,"reference":"AppropriateTestingforPharyngitis__Stratification_3__AED90A65_89A8_49BB_9E5D_938952B2272E"}],"conjunction_code":"allTrue"}]}},"population_sets":[{"_id":"68923ca4a83e15671c2d155c","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"68923ca4a83e15671c2d155d","hqmf_id":"C343340E-9E88-46FD-B6E9-B81C3D3B3170","library_name":"AppropriateTestingforPharyngitis","statement_name":"Denominator Exclusions"},"DENOM":{"_id":"68923ca4a83e15671c2d155e","hqmf_id":"CF89139C-D474-4B2E-82DE-ECEFCA6926AA","library_name":"AppropriateTestingforPharyngitis","statement_name":"Denominator"},"IPP":{"_id":"68923ca4a83e15671c2d155f","hqmf_id":"C57B1E01-AC23-4464-A182-23A6CC4848B3","library_name":"AppropriateTestingforPharyngitis","statement_name":"Initial Population"},"NUMER":{"_id":"68923ca4a83e15671c2d1560","hqmf_id":"87675FD5-79CD-43A6-861C-864E5A604961","library_name":"AppropriateTestingforPharyngitis","statement_name":"Numerator"},"_id":"68923ca4a83e15671c2d1561","_type":"CQM::ProportionPopulationMap"},"stratifications":[{"_id":"68923c2ba83e15671c2cec4b","hqmf_id":"C89BCB64-B3AF-4846-9D7B-6EA492566292","statement":{"_id":"68923ca4a83e15671c2d1562","hqmf_id":"C89BCB64-B3AF-4846-9D7B-6EA492566292","library_name":"AppropriateTestingforPharyngitis","statement_name":"Stratification 1"},"stratification_id":"PopulationSet_1_Stratification_1","title":"PopSet1 Stratification 1"},{"_id":"68923c2ba83e15671c2cec4c","hqmf_id":"7CD29562-AA93-4F85-827A-399F8C54D71B","statement":{"_id":"68923ca4a83e15671c2d1563","hqmf_id":"7CD29562-AA93-4F85-827A-399F8C54D71B","library_name":"AppropriateTestingforPharyngitis","statement_name":"Stratification 2"},"stratification_id":"PopulationSet_1_Stratification_2","title":"PopSet1 Stratification 2"},{"_id":"68923c2ba83e15671c2cec4d","hqmf_id":"2E813A1F-EF0D-4B2A-98FF-A521A2B1A31A","statement":{"_id":"68923ca4a83e15671c2d1564","hqmf_id":"2E813A1F-EF0D-4B2A-98FF-A521A2B1A31A","library_name":"AppropriateTestingforPharyngitis","statement_name":"Stratification 3"},"stratification_id":"PopulationSet_1_Stratification_3","title":"PopSet1 Stratification 3"}],"supplemental_data_elements":[{"_id":"68923c2ba83e15671c2cec47","hqmf_id":"7FC60FEF-DC25-421A-9D07-899654A71B1E","library_name":"AppropriateTestingforPharyngitis","statement_name":"SDE Ethnicity"},{"_id":"68923c2ba83e15671c2cec48","hqmf_id":"9DC81FEE-5C9F-4E4E-B3AC-37C146BF1867","library_name":"AppropriateTestingforPharyngitis","statement_name":"SDE Payer"},{"_id":"68923c2ba83e15671c2cec49","hqmf_id":"A536E332-946D-45D4-A4BA-70DDFAB09397","library_name":"AppropriateTestingforPharyngitis","statement_name":"SDE Race"},{"_id":"68923c2ba83e15671c2cec4a","hqmf_id":"0B582214-939A-4A1A-9584-CBFABEF81A03","library_name":"AppropriateTestingforPharyngitis","statement_name":"SDE Sex"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"68923ca4a83e15671c2d1565","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"68923ca4a83e15671c2d1565","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"68923c2ba83e15671c2cec7b","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1008","dataElementCodes":[],"description":"Encounter, Performed: OutpatientConsultation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec7b","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec7c","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1080","dataElementCodes":[],"description":"Encounter, Performed: TelephoneVisits","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec7c","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec84","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.102.12.1017","dataElementCodes":[],"description":"Diagnosis: CompetingConditionsforRespiratoryConditions","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68923c2ba83e15671c2cec84","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68923c2ba83e15671c2cec7d","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1027","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesGroupCounseling","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec7d","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ca4a83e15671c2d1566","_type":"QDM::InterventionOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Order: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.35","id":"68923ca4a83e15671c2d1566","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"order","qdmTitle":"Intervention, Order","qdmVersion":"5.6","reason":null},{"_id":"68923ca4a83e15671c2d1567","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Performed: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"68923ca4a83e15671c2d1567","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"68923c2ba83e15671c2cec7e","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1025","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesEstablishedOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec7e","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec7f","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1016","dataElementCodes":[],"description":"Encounter, Performed: HomeHealthcareServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec7f","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec80","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1073","dataElementCodes":[],"description":"Encounter, Performed: MedicalDisabilityExam","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec80","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ca4a83e15671c2d1568","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"68923ca4a83e15671c2d1568","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"68923c2ba83e15671c2cec81","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1001","dataElementCodes":[],"description":"Encounter, Performed: OfficeVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec81","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec82","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1089","dataElementCodes":[],"description":"Encounter, Performed: VirtualEncounter","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec82","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec83","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1022","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec83","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ca4a83e15671c2d1569","_type":"QDM::LaboratoryTestPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.198.12.1012","components":null,"dataElementCodes":[],"description":"Laboratory Test, Performed: GroupAStreptococcusTest","hqmfOid":"2.16.840.1.113883.10.20.28.4.42","id":"68923ca4a83e15671c2d1569","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"laboratory_test","qdmStatus":"performed","qdmTitle":"Laboratory Test, Performed","qdmVersion":"5.6","reason":null,"referenceRange":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"resultDatetime":null,"status":null},{"_id":"68923ca4a83e15671c2d156a","_type":"QDM::MedicationActive","codeListId":"2.16.840.1.113883.3.464.1003.196.12.1001","dataElementCodes":[],"description":"Medication, Active: AntibioticMedicationsforPharyngitis","dosage":null,"frequency":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.44","id":"68923ca4a83e15671c2d156a","qdmCategory":"medication","qdmStatus":"active","qdmTitle":"Medication, Active","qdmVersion":"5.6","relevantDatetime":null,"relevantPeriod":null,"route":null},{"_id":"68923ca4a83e15671c2d156b","_type":"QDM::MedicationOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.196.12.1001","dataElementCodes":[],"daysSupplied":null,"description":"Medication, Order: AntibioticMedicationsforPharyngitis","dosage":null,"frequency":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.51","id":"68923ca4a83e15671c2d156b","negationRationale":null,"qdmCategory":"medication","qdmStatus":"order","qdmTitle":"Medication, Order","qdmVersion":"5.6","reason":null,"refills":null,"relatedTo":null,"relevantPeriod":null,"route":null,"setting":null,"supply":null},{"_id":"68923c2ba83e15671c2cec85","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.102.12.1025","dataElementCodes":[],"description":"Diagnosis: ComorbidConditionsforRespiratoryConditions","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68923c2ba83e15671c2cec85","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68923c2ba83e15671c2cec86","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.102.12.1012","dataElementCodes":[],"description":"Diagnosis: AcuteTonsillitis","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68923c2ba83e15671c2cec86","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68923c2ba83e15671c2cec87","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1024","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareEstablishedOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec87","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec88","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1010","dataElementCodes":[],"description":"Encounter, Performed: EmergencyDepartmentEvaluationandManagementVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec88","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec89","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1026","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesIndividualCounseling","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec89","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ca4a83e15671c2d156c","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"68923ca4a83e15671c2d156c","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"68923c2ba83e15671c2cec8a","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1023","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec8a","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec8b","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec8b","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec8c","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.1165","dataElementCodes":[],"description":"Diagnosis: HospiceDiagnosis","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68923c2ba83e15671c2cec8c","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68923c2ba83e15671c2cec8d","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.1003","dataElementCodes":[],"description":"Encounter, Performed: HospiceEncounter","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec8d","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ca4a83e15671c2d156d","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"68923ca4a83e15671c2d156d","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"68923c2ba83e15671c2cec8e","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.102.12.1011","dataElementCodes":[],"description":"Diagnosis: AcutePharyngitis","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68923c2ba83e15671c2cec8e","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68923c2ba83e15671c2cec8f","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-71bb5dc570918294796d5b302c6d30b59a6fb0f1325a8017321ccabcb374be4c","dataElementCodes":[],"description":"Encounter, Performed: Unlisted preventive medicine service","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923c2ba83e15671c2cec8f","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ca4a83e15671c2d156e","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-fba6a4e5f5a529f9af0e0ac4cc9930b15eed11995ff69f544d676472e0b4ea9f","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Hospice care [Minimum Data Set]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ca4a83e15671c2d156e","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null}],"title":"Appropriate Testing for Pharyngitis","updated_at":null,"value_set_ids":["68923c2ba83e15671c2cec90","68923c2ba83e15671c2cec91","68923c2ba83e15671c2cec92","68923c2ba83e15671c2cec93","68923c2ba83e15671c2cec94","68923ca4a83e15671c2d152d","68923ca4a83e15671c2d152e","68923ca4a83e15671c2d152f","68923ca4a83e15671c2d1530","68923ca4a83e15671c2d1531","68923ca4a83e15671c2d1532","68923ca4a83e15671c2d1533","68923ca4a83e15671c2d1534","68923ca4a83e15671c2d1535","68923ca4a83e15671c2d1536","68923ca4a83e15671c2d1537","68923ca4a83e15671c2d1538","68923ca4a83e15671c2d1539","68923ca4a83e15671c2d153a","68923ca4a83e15671c2d153b","68923ca4a83e15671c2d153c","68923ca4a83e15671c2d153d","68923ca4a83e15671c2d153e","68923ca4a83e15671c2d153f","68923ca4a83e15671c2d1540","68923ca4a83e15671c2d1541","68923ca4a83e15671c2d1542","68923ca4a83e15671c2d1543","68923ca4a83e15671c2d1544","68923ca4a83e15671c2d1545","68923ca4a83e15671c2d1546","68923ca4a83e15671c2d1547","68923ca4a83e15671c2d1548","68923ca4a83e15671c2d1549","68923ca4a83e15671c2d154a","68923ca4a83e15671c2d154b"]}