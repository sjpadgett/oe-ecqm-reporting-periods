{"_id":"68923aa3a83e15671c2c1142","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS1074v2","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"68923aa0a83e15671c2c106e","cql":"library AlaraCommonFunctions version '1.4.000'\n\nusing QDM version '5.6'\n\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\ncode \"Abdomen and Pelvis High Dose\": 'LA31754-7' from \"LOINC\" display 'Abdomen and Pelvis High Dose'\ncode \"Abdomen and Pelvis Low Dose\": 'LA31752-1' from \"LOINC\" display 'Abdomen and Pelvis Low Dose'\ncode \"Abdomen and Pelvis Routine Dose\": 'LA31753-9' from \"LOINC\" display 'Abdomen and Pelvis Routine Dose'\ncode \"Calculated CT global noise\": '96912-1' from \"LOINC\" display 'Calculated CT global noise'\ncode \"Calculated CT size-adjusted dose\": '96913-9' from \"LOINC\" display 'Calculated CT size-adjusted dose'\ncode \"Cardiac High Dose or Chest High Dose\": 'LA31761-2' from \"LOINC\" display 'Cardiac High Dose or Chest High Dose'\ncode \"Cardiac Low Dose\": 'LA31755-4' from \"LOINC\" display 'Cardiac Low Dose'\ncode \"Cardiac Routine Dose\": 'LA31756-2' from \"LOINC\" display 'Cardiac Routine Dose'\ncode \"Chest Low Dose\": 'LA31758-8' from \"LOINC\" display 'Chest Low Dose'\ncode \"Chest Routine Dose\": 'LA31759-6' from \"LOINC\" display 'Chest Routine Dose'\ncode \"Extremity\": 'LA31765-3' from \"LOINC\" display 'Extremity'\ncode \"Head High Dose\": 'LA31764-6' from \"LOINC\" display 'Head High Dose'\ncode \"Head Low Dose\": 'LA31762-0' from \"LOINC\" display 'Head Low Dose'\ncode \"Head Routine Dose\": 'LA31763-8' from \"LOINC\" display 'Head Routine Dose'\ncode \"Neck or Cervical Spine\": 'LA31766-1' from \"LOINC\" display 'Neck or Cervical Spine'\ncode \"Simultaneous Chest and Abdomen and Pelvis\": 'LA31768-7' from \"LOINC\" display 'Simultaneous Chest and Abdomen and Pelvis'\ncode \"Simultaneous Head and Neck High Dose\": 'LA31770-3' from \"LOINC\" display 'Simultaneous Head and Neck High Dose'\ncode \"Simultaneous Head and Neck Routine Dose\": 'LA31769-5' from \"LOINC\" display 'Simultaneous Head and Neck Routine Dose'\ncode \"Simultaneous Thoracic and Lumbar Spine\": 'LA31851-1' from \"LOINC\" display 'Simultaneous Thoracic and Lumbar Spine'\ncode \"Thoracic or Lumbar Spine\": 'LA31767-9' from \"LOINC\" display 'Thoracic or Lumbar Spine'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine function \"Size Adjusted Value\"(Study \"Diagnostic Study, Performed\" ):\n  singleton from ( Study.components C\n      where C.code ~ \"Calculated CT size-adjusted dose\"\n        and C.result.unit = 'mGy.cm'\n      return C.result.value as Decimal\n  )\n\ndefine function \"Global Noise Value\"(Study \"Diagnostic Study, Performed\" ):\n  singleton from ( Study.components C\n      where C.code ~ \"Calculated CT global noise\"\n        and C.result.unit = '[hnsf\\'U]'\n      return C.result.value as Decimal\n  )\n\ndefine function \"Qualifies\"(Study \"Diagnostic Study, Performed\", code System.Code, noiseThreshold Decimal, sizeDoseThreshold Decimal ):\n  Study.result ~ code\n    and ( \"Global Noise Value\"(Study) \u003e= noiseThreshold\n        or \"Size Adjusted Value\"(Study) \u003e= sizeDoseThreshold\n    )\n\ndefine function \"CT Scan Qualifies\"(Study \"Diagnostic Study, Performed\" ):\n  \"Qualifies\"(Study, \"Abdomen and Pelvis Low Dose\", 64, 598)\n    or \"Qualifies\"(Study, \"Abdomen and Pelvis Routine Dose\", 29, 644)\n    or \"Qualifies\"(Study, \"Abdomen and Pelvis High Dose\", 29, 1260)\n    or \"Qualifies\"(Study, \"Cardiac Low Dose\", 55, 93)\n    or \"Qualifies\"(Study, \"Cardiac Routine Dose\", 32, 576)\n    or \"Qualifies\"(Study, \"Chest Low Dose\", 55, 377)\n    or \"Qualifies\"(Study, \"Chest Routine Dose\", 49, 377)\n    or \"Qualifies\"(Study, \"Cardiac High Dose or Chest High Dose\", 49, 1282)\n    or \"Qualifies\"(Study, \"Head Low Dose\", 115, 582)\n    or \"Qualifies\"(Study, \"Head Routine Dose\", 115, 1025)\n    or \"Qualifies\"(Study, \"Head High Dose\", 115, 1832)\n    or \"Qualifies\"(Study, \"Extremity\", 73, 320)\n    or \"Qualifies\"(Study, \"Neck or Cervical Spine\", 25, 1260)\n    or \"Qualifies\"(Study, \"Thoracic or Lumbar Spine\", 25, 1260)\n    or \"Qualifies\"(Study, \"Simultaneous Chest and Abdomen and Pelvis\", 29, 1637)\n    or \"Qualifies\"(Study, \"Simultaneous Thoracic and Lumbar Spine\", 25, 2520)\n    or \"Qualifies\"(Study, \"Simultaneous Head and Neck Routine Dose\", 25, 2285)\n    or \"Qualifies\"(Study, \"Simultaneous Head and Neck High Dose\", 25, 3092)\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"217","s":[{"value":["","library AlaraCommonFunctions version '1.4.000'"]}]}}],"identifier":{"id":"AlaraCommonFunctions","version":"1.4.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"45","locator":"28:1-28:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"45","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"44","s":[{"value":["Interval\u003c"]},{"r":"43","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"44","locator":"28:32-28:49","type":"IntervalTypeSpecifier","pointType":{"localId":"43","locator":"28:41-28:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"2","locator":"5:1-5:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"codes":{"def":[{"localId":"4","locator":"7:1-7:100","name":"Abdomen and Pelvis High Dose","id":"LA31754-7","display":"Abdomen and Pelvis High Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","code ","\"Abdomen and Pelvis High Dose\"",": ","'LA31754-7'"," from "]},{"r":"3","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Abdomen and Pelvis High Dose'"]}]}}],"codeSystem":{"localId":"3","locator":"7:55-7:61","name":"LOINC"}},{"localId":"6","locator":"8:1-8:98","name":"Abdomen and Pelvis Low Dose","id":"LA31752-1","display":"Abdomen and Pelvis Low Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","code ","\"Abdomen and Pelvis Low Dose\"",": ","'LA31752-1'"," from "]},{"r":"5","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Abdomen and Pelvis Low Dose'"]}]}}],"codeSystem":{"localId":"5","locator":"8:54-8:60","name":"LOINC"}},{"localId":"8","locator":"9:1-9:106","name":"Abdomen and Pelvis Routine Dose","id":"LA31753-9","display":"Abdomen and Pelvis Routine Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","code ","\"Abdomen and Pelvis Routine Dose\"",": ","'LA31753-9'"," from "]},{"r":"7","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Abdomen and Pelvis Routine Dose'"]}]}}],"codeSystem":{"localId":"7","locator":"9:58-9:64","name":"LOINC"}},{"localId":"10","locator":"10:1-10:94","name":"Calculated CT global noise","id":"96912-1","display":"Calculated CT global noise","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","code ","\"Calculated CT global noise\"",": ","'96912-1'"," from "]},{"r":"9","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Calculated CT global noise'"]}]}}],"codeSystem":{"localId":"9","locator":"10:51-10:57","name":"LOINC"}},{"localId":"12","locator":"11:1-11:106","name":"Calculated CT size-adjusted dose","id":"96913-9","display":"Calculated CT size-adjusted dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","code ","\"Calculated CT size-adjusted dose\"",": ","'96913-9'"," from "]},{"r":"11","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Calculated CT size-adjusted dose'"]}]}}],"codeSystem":{"localId":"11","locator":"11:57-11:63","name":"LOINC"}},{"localId":"14","locator":"12:1-12:116","name":"Cardiac High Dose or Chest High Dose","id":"LA31761-2","display":"Cardiac High Dose or Chest High Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"14","s":[{"value":["","code ","\"Cardiac High Dose or Chest High Dose\"",": ","'LA31761-2'"," from "]},{"r":"13","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Cardiac High Dose or Chest High Dose'"]}]}}],"codeSystem":{"localId":"13","locator":"12:63-12:69","name":"LOINC"}},{"localId":"16","locator":"13:1-13:76","name":"Cardiac Low Dose","id":"LA31755-4","display":"Cardiac Low Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","code ","\"Cardiac Low Dose\"",": ","'LA31755-4'"," from "]},{"r":"15","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Cardiac Low Dose'"]}]}}],"codeSystem":{"localId":"15","locator":"13:43-13:49","name":"LOINC"}},{"localId":"18","locator":"14:1-14:84","name":"Cardiac Routine Dose","id":"LA31756-2","display":"Cardiac Routine Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"18","s":[{"value":["","code ","\"Cardiac Routine Dose\"",": ","'LA31756-2'"," from "]},{"r":"17","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Cardiac Routine Dose'"]}]}}],"codeSystem":{"localId":"17","locator":"14:47-14:53","name":"LOINC"}},{"localId":"20","locator":"15:1-15:72","name":"Chest Low Dose","id":"LA31758-8","display":"Chest Low Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"20","s":[{"value":["","code ","\"Chest Low Dose\"",": ","'LA31758-8'"," from "]},{"r":"19","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Chest Low Dose'"]}]}}],"codeSystem":{"localId":"19","locator":"15:41-15:47","name":"LOINC"}},{"localId":"22","locator":"16:1-16:80","name":"Chest Routine Dose","id":"LA31759-6","display":"Chest Routine Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"22","s":[{"value":["","code ","\"Chest Routine Dose\"",": ","'LA31759-6'"," from "]},{"r":"21","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Chest Routine Dose'"]}]}}],"codeSystem":{"localId":"21","locator":"16:45-16:51","name":"LOINC"}},{"localId":"24","locator":"17:1-17:62","name":"Extremity","id":"LA31765-3","display":"Extremity","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"24","s":[{"value":["","code ","\"Extremity\"",": ","'LA31765-3'"," from "]},{"r":"23","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Extremity'"]}]}}],"codeSystem":{"localId":"23","locator":"17:36-17:42","name":"LOINC"}},{"localId":"26","locator":"18:1-18:72","name":"Head High Dose","id":"LA31764-6","display":"Head High Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"26","s":[{"value":["","code ","\"Head High Dose\"",": ","'LA31764-6'"," from "]},{"r":"25","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Head High Dose'"]}]}}],"codeSystem":{"localId":"25","locator":"18:41-18:47","name":"LOINC"}},{"localId":"28","locator":"19:1-19:70","name":"Head Low Dose","id":"LA31762-0","display":"Head Low Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"28","s":[{"value":["","code ","\"Head Low Dose\"",": ","'LA31762-0'"," from "]},{"r":"27","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Head Low Dose'"]}]}}],"codeSystem":{"localId":"27","locator":"19:40-19:46","name":"LOINC"}},{"localId":"30","locator":"20:1-20:78","name":"Head Routine Dose","id":"LA31763-8","display":"Head Routine Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"30","s":[{"value":["","code ","\"Head Routine Dose\"",": ","'LA31763-8'"," from "]},{"r":"29","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Head Routine Dose'"]}]}}],"codeSystem":{"localId":"29","locator":"20:44-20:50","name":"LOINC"}},{"localId":"32","locator":"21:1-21:88","name":"Neck or Cervical Spine","id":"LA31766-1","display":"Neck or Cervical Spine","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"32","s":[{"value":["","code ","\"Neck or Cervical Spine\"",": ","'LA31766-1'"," from "]},{"r":"31","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Neck or Cervical Spine'"]}]}}],"codeSystem":{"localId":"31","locator":"21:49-21:55","name":"LOINC"}},{"localId":"34","locator":"22:1-22:126","name":"Simultaneous Chest and Abdomen and Pelvis","id":"LA31768-7","display":"Simultaneous Chest and Abdomen and Pelvis","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"34","s":[{"value":["","code ","\"Simultaneous Chest and Abdomen and Pelvis\"",": ","'LA31768-7'"," from "]},{"r":"33","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Simultaneous Chest and Abdomen and Pelvis'"]}]}}],"codeSystem":{"localId":"33","locator":"22:68-22:74","name":"LOINC"}},{"localId":"36","locator":"23:1-23:116","name":"Simultaneous Head and Neck High Dose","id":"LA31770-3","display":"Simultaneous Head and Neck High Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"36","s":[{"value":["","code ","\"Simultaneous Head and Neck High Dose\"",": ","'LA31770-3'"," from "]},{"r":"35","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Simultaneous Head and Neck High Dose'"]}]}}],"codeSystem":{"localId":"35","locator":"23:63-23:69","name":"LOINC"}},{"localId":"38","locator":"24:1-24:122","name":"Simultaneous Head and Neck Routine Dose","id":"LA31769-5","display":"Simultaneous Head and Neck Routine Dose","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"38","s":[{"value":["","code ","\"Simultaneous Head and Neck Routine Dose\"",": ","'LA31769-5'"," from "]},{"r":"37","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Simultaneous Head and Neck Routine Dose'"]}]}}],"codeSystem":{"localId":"37","locator":"24:66-24:72","name":"LOINC"}},{"localId":"40","locator":"25:1-25:120","name":"Simultaneous Thoracic and Lumbar Spine","id":"LA31851-1","display":"Simultaneous Thoracic and Lumbar Spine","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"40","s":[{"value":["","code ","\"Simultaneous Thoracic and Lumbar Spine\"",": ","'LA31851-1'"," from "]},{"r":"39","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Simultaneous Thoracic and Lumbar Spine'"]}]}}],"codeSystem":{"localId":"39","locator":"25:65-25:71","name":"LOINC"}},{"localId":"42","locator":"26:1-26:92","name":"Thoracic or Lumbar Spine","id":"LA31767-9","display":"Thoracic or Lumbar Spine","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"42","s":[{"value":["","code ","\"Thoracic or Lumbar Spine\"",": ","'LA31767-9'"," from "]},{"r":"41","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Thoracic or Lumbar Spine'"]}]}}],"codeSystem":{"localId":"41","locator":"26:51-26:57","name":"LOINC"}}]},"contexts":{"def":[{"locator":"30:1-30:15","name":"Patient"}]},"statements":{"def":[{"locator":"30:1-30:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"30:1-30:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"67","locator":"32:1-37:3","name":"Size Adjusted Value","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"67","s":[{"value":["","define function ","\"Size Adjusted Value\"","(","Study"," "]},{"r":"46","s":[{"value":["\"Diagnostic Study, Performed\""]}]},{"value":[" ):\n  "]},{"r":"66","s":[{"r":"66","s":[{"value":["singleton from "]},{"r":"65","s":[{"value":["( "]},{"r":"65","s":[{"s":[{"r":"48","s":[{"r":"47","s":[{"s":[{"value":["Study",".","components"]}]}]},{"value":[" ","C"]}]}]},{"value":["\n      "]},{"r":"58","s":[{"value":["where "]},{"r":"58","s":[{"r":"52","s":[{"r":"50","s":[{"r":"49","s":[{"value":["C"]}]},{"value":["."]},{"r":"50","s":[{"value":["code"]}]}]},{"value":[" ","~"," "]},{"r":"51","s":[{"value":["\"Calculated CT size-adjusted dose\""]}]}]},{"value":["\n        and "]},{"r":"57","s":[{"r":"55","s":[{"r":"54","s":[{"r":"53","s":[{"value":["C"]}]},{"value":["."]},{"r":"54","s":[{"value":["result"]}]}]},{"value":["."]},{"r":"55","s":[{"value":["unit"]}]}]},{"value":[" ","="," "]},{"r":"56","s":[{"value":["'mGy.cm'"]}]}]}]}]},{"value":["\n      "]},{"r":"64","s":[{"value":["return "]},{"r":"63","s":[{"r":"61","s":[{"r":"60","s":[{"r":"59","s":[{"value":["C"]}]},{"value":["."]},{"r":"60","s":[{"value":["result"]}]}]},{"value":["."]},{"r":"61","s":[{"value":["value"]}]}]},{"value":[" as "]},{"r":"62","s":[{"value":["Decimal"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"66","locator":"33:3-37:3","type":"SingletonFrom","operand":{"localId":"65","locator":"33:18-37:3","type":"Query","source":[{"localId":"48","locator":"33:20-33:37","alias":"C","expression":{"localId":"47","locator":"33:20-33:35","path":"components","type":"Property","source":{"name":"Study","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"58","locator":"34:7-35:36","type":"And","operand":[{"localId":"52","locator":"34:13-34:55","type":"Equivalent","operand":[{"localId":"50","locator":"34:13-34:18","path":"code","scope":"C","type":"Property"},{"localId":"51","locator":"34:22-34:55","name":"Calculated CT size-adjusted dose","type":"CodeRef"}]},{"localId":"57","locator":"35:13-35:36","type":"Equal","operand":[{"localId":"55","locator":"35:13-35:25","path":"unit","type":"Property","source":{"localId":"54","locator":"35:13-35:20","path":"result","scope":"C","type":"Property"}},{"localId":"56","locator":"35:29-35:36","valueType":"{urn:hl7-org:elm-types:r1}String","value":"mGy.cm","type":"Literal"}]}]},"return":{"localId":"64","locator":"36:7-36:38","expression":{"localId":"63","locator":"36:14-36:38","strict":false,"type":"As","operand":{"localId":"61","locator":"36:14-36:27","path":"value","type":"Property","source":{"localId":"60","locator":"36:14-36:21","path":"result","scope":"C","type":"Property"}},"asTypeSpecifier":{"localId":"62","locator":"36:32-36:38","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"Study","operandTypeSpecifier":{"localId":"46","locator":"32:45-32:73","name":"{urn:healthit-gov:qdm:v5_6}PositiveDiagnosticStudyPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"89","locator":"39:1-44:3","name":"Global Noise Value","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"89","s":[{"value":["","define function ","\"Global Noise Value\"","(","Study"," "]},{"r":"68","s":[{"value":["\"Diagnostic Study, Performed\""]}]},{"value":[" ):\n  "]},{"r":"88","s":[{"r":"88","s":[{"value":["singleton from "]},{"r":"87","s":[{"value":["( "]},{"r":"87","s":[{"s":[{"r":"70","s":[{"r":"69","s":[{"s":[{"value":["Study",".","components"]}]}]},{"value":[" ","C"]}]}]},{"value":["\n      "]},{"r":"80","s":[{"value":["where "]},{"r":"80","s":[{"r":"74","s":[{"r":"72","s":[{"r":"71","s":[{"value":["C"]}]},{"value":["."]},{"r":"72","s":[{"value":["code"]}]}]},{"value":[" ","~"," "]},{"r":"73","s":[{"value":["\"Calculated CT global noise\""]}]}]},{"value":["\n        and "]},{"r":"79","s":[{"r":"77","s":[{"r":"76","s":[{"r":"75","s":[{"value":["C"]}]},{"value":["."]},{"r":"76","s":[{"value":["result"]}]}]},{"value":["."]},{"r":"77","s":[{"value":["unit"]}]}]},{"value":[" ","="," "]},{"r":"78","s":[{"value":["'[hnsf\\'U]'"]}]}]}]}]},{"value":["\n      "]},{"r":"86","s":[{"value":["return "]},{"r":"85","s":[{"r":"83","s":[{"r":"82","s":[{"r":"81","s":[{"value":["C"]}]},{"value":["."]},{"r":"82","s":[{"value":["result"]}]}]},{"value":["."]},{"r":"83","s":[{"value":["value"]}]}]},{"value":[" as "]},{"r":"84","s":[{"value":["Decimal"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"88","locator":"40:3-44:3","type":"SingletonFrom","operand":{"localId":"87","locator":"40:18-44:3","type":"Query","source":[{"localId":"70","locator":"40:20-40:37","alias":"C","expression":{"localId":"69","locator":"40:20-40:35","path":"components","type":"Property","source":{"name":"Study","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"80","locator":"41:7-42:39","type":"And","operand":[{"localId":"74","locator":"41:13-41:49","type":"Equivalent","operand":[{"localId":"72","locator":"41:13-41:18","path":"code","scope":"C","type":"Property"},{"localId":"73","locator":"41:22-41:49","name":"Calculated CT global noise","type":"CodeRef"}]},{"localId":"79","locator":"42:13-42:39","type":"Equal","operand":[{"localId":"77","locator":"42:13-42:25","path":"unit","type":"Property","source":{"localId":"76","locator":"42:13-42:20","path":"result","scope":"C","type":"Property"}},{"localId":"78","locator":"42:29-42:39","valueType":"{urn:hl7-org:elm-types:r1}String","value":"[hnsf'U]","type":"Literal"}]}]},"return":{"localId":"86","locator":"43:7-43:38","expression":{"localId":"85","locator":"43:14-43:38","strict":false,"type":"As","operand":{"localId":"83","locator":"43:14-43:27","path":"value","type":"Property","source":{"localId":"82","locator":"43:14-43:21","path":"result","scope":"C","type":"Property"}},"asTypeSpecifier":{"localId":"84","locator":"43:32-43:38","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"Study","operandTypeSpecifier":{"localId":"68","locator":"39:44-39:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveDiagnosticStudyPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"108","locator":"46:1-50:5","name":"Qualifies","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"108","s":[{"value":["","define function ","\"Qualifies\"","(","Study"," "]},{"r":"90","s":[{"value":["\"Diagnostic Study, Performed\""]}]},{"value":[", ","code"," "]},{"r":"91","s":[{"value":["System",".","Code"]}]},{"value":[", ","noiseThreshold"," "]},{"r":"92","s":[{"value":["Decimal"]}]},{"value":[", ","sizeDoseThreshold"," "]},{"r":"93","s":[{"value":["Decimal"]}]},{"value":[" ):\n  "]},{"r":"107","s":[{"r":"107","s":[{"r":"97","s":[{"r":"95","s":[{"r":"94","s":[{"value":["Study"]}]},{"value":["."]},{"r":"95","s":[{"value":["result"]}]}]},{"value":[" ","~"," "]},{"r":"96","s":[{"value":["code"]}]}]},{"value":["\n    and "]},{"r":"106","s":[{"value":["( "]},{"r":"106","s":[{"r":"101","s":[{"r":"99","s":[{"value":["\"Global Noise Value\"","("]},{"r":"98","s":[{"value":["Study"]}]},{"value":[")"]}]},{"value":[" ","\u003e="," "]},{"r":"100","s":[{"value":["noiseThreshold"]}]}]},{"value":["\n        or "]},{"r":"105","s":[{"r":"103","s":[{"value":["\"Size Adjusted Value\"","("]},{"r":"102","s":[{"value":["Study"]}]},{"value":[")"]}]},{"value":[" ","\u003e="," "]},{"r":"104","s":[{"value":["sizeDoseThreshold"]}]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"107","locator":"47:3-50:5","type":"And","operand":[{"localId":"97","locator":"47:3-47:21","type":"Equivalent","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","operand":{"localId":"95","locator":"47:3-47:14","path":"result","type":"Property","source":{"localId":"94","locator":"47:3-47:7","name":"Study","type":"OperandRef"}}},{"localId":"96","locator":"47:18-47:21","name":"code","type":"OperandRef"}]},{"localId":"106","locator":"48:9-50:5","type":"Or","operand":[{"localId":"101","locator":"48:11-48:55","type":"GreaterOrEqual","operand":[{"localId":"99","locator":"48:11-48:37","name":"Global Noise Value","type":"FunctionRef","operand":[{"localId":"98","locator":"48:32-48:36","name":"Study","type":"OperandRef"}]},{"localId":"100","locator":"48:42-48:55","name":"noiseThreshold","type":"OperandRef"}]},{"localId":"105","locator":"49:12-49:60","type":"GreaterOrEqual","operand":[{"localId":"103","locator":"49:12-49:39","name":"Size Adjusted Value","type":"FunctionRef","operand":[{"localId":"102","locator":"49:34-49:38","name":"Study","type":"OperandRef"}]},{"localId":"104","locator":"49:44-49:60","name":"sizeDoseThreshold","type":"OperandRef"}]}]}]},"operand":[{"name":"Study","operandTypeSpecifier":{"localId":"90","locator":"46:35-46:63","name":"{urn:healthit-gov:qdm:v5_6}PositiveDiagnosticStudyPerformed","type":"NamedTypeSpecifier"}},{"name":"code","operandTypeSpecifier":{"localId":"91","locator":"46:71-46:81","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"}},{"name":"noiseThreshold","operandTypeSpecifier":{"localId":"92","locator":"46:99-46:105","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"}},{"name":"sizeDoseThreshold","operandTypeSpecifier":{"localId":"93","locator":"46:126-46:132","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"}}]},{"localId":"217","locator":"52:1-70:75","name":"CT Scan Qualifies","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"217","s":[{"value":["","define function ","\"CT Scan Qualifies\"","(","Study"," "]},{"r":"109","s":[{"value":["\"Diagnostic Study, Performed\""]}]},{"value":[" ):\n  "]},{"r":"216","s":[{"r":"216","s":[{"r":"210","s":[{"r":"204","s":[{"r":"198","s":[{"r":"192","s":[{"r":"186","s":[{"r":"180","s":[{"r":"174","s":[{"r":"168","s":[{"r":"162","s":[{"r":"156","s":[{"r":"150","s":[{"r":"144","s":[{"r":"138","s":[{"r":"132","s":[{"r":"126","s":[{"r":"120","s":[{"r":"114","s":[{"value":["\"Qualifies\"","("]},{"r":"110","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"111","s":[{"value":["\"Abdomen and Pelvis Low Dose\""]}]},{"r":"112","value":[", ","64",", ","598",")"]}]},{"value":["\n    or "]},{"r":"119","s":[{"value":["\"Qualifies\"","("]},{"r":"115","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"116","s":[{"value":["\"Abdomen and Pelvis Routine Dose\""]}]},{"r":"117","value":[", ","29",", ","644",")"]}]}]},{"value":["\n    or "]},{"r":"125","s":[{"value":["\"Qualifies\"","("]},{"r":"121","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"122","s":[{"value":["\"Abdomen and Pelvis High Dose\""]}]},{"r":"123","value":[", ","29",", ","1260",")"]}]}]},{"value":["\n    or "]},{"r":"131","s":[{"value":["\"Qualifies\"","("]},{"r":"127","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"128","s":[{"value":["\"Cardiac Low Dose\""]}]},{"r":"129","value":[", ","55",", ","93",")"]}]}]},{"value":["\n    or "]},{"r":"137","s":[{"value":["\"Qualifies\"","("]},{"r":"133","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"134","s":[{"value":["\"Cardiac Routine Dose\""]}]},{"r":"135","value":[", ","32",", ","576",")"]}]}]},{"value":["\n    or "]},{"r":"143","s":[{"value":["\"Qualifies\"","("]},{"r":"139","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"140","s":[{"value":["\"Chest Low Dose\""]}]},{"r":"141","value":[", ","55",", ","377",")"]}]}]},{"value":["\n    or "]},{"r":"149","s":[{"value":["\"Qualifies\"","("]},{"r":"145","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"146","s":[{"value":["\"Chest Routine Dose\""]}]},{"r":"147","value":[", ","49",", ","377",")"]}]}]},{"value":["\n    or "]},{"r":"155","s":[{"value":["\"Qualifies\"","("]},{"r":"151","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"152","s":[{"value":["\"Cardiac High Dose or Chest High Dose\""]}]},{"r":"153","value":[", ","49",", ","1282",")"]}]}]},{"value":["\n    or "]},{"r":"161","s":[{"value":["\"Qualifies\"","("]},{"r":"157","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"158","s":[{"value":["\"Head Low Dose\""]}]},{"r":"159","value":[", ","115",", ","582",")"]}]}]},{"value":["\n    or "]},{"r":"167","s":[{"value":["\"Qualifies\"","("]},{"r":"163","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"164","s":[{"value":["\"Head Routine Dose\""]}]},{"r":"165","value":[", ","115",", ","1025",")"]}]}]},{"value":["\n    or "]},{"r":"173","s":[{"value":["\"Qualifies\"","("]},{"r":"169","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"170","s":[{"value":["\"Head High Dose\""]}]},{"r":"171","value":[", ","115",", ","1832",")"]}]}]},{"value":["\n    or "]},{"r":"179","s":[{"value":["\"Qualifies\"","("]},{"r":"175","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"176","s":[{"value":["\"Extremity\""]}]},{"r":"177","value":[", ","73",", ","320",")"]}]}]},{"value":["\n    or "]},{"r":"185","s":[{"value":["\"Qualifies\"","("]},{"r":"181","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"182","s":[{"value":["\"Neck or Cervical Spine\""]}]},{"r":"183","value":[", ","25",", ","1260",")"]}]}]},{"value":["\n    or "]},{"r":"191","s":[{"value":["\"Qualifies\"","("]},{"r":"187","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"188","s":[{"value":["\"Thoracic or Lumbar Spine\""]}]},{"r":"189","value":[", ","25",", ","1260",")"]}]}]},{"value":["\n    or "]},{"r":"197","s":[{"value":["\"Qualifies\"","("]},{"r":"193","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"194","s":[{"value":["\"Simultaneous Chest and Abdomen and Pelvis\""]}]},{"r":"195","value":[", ","29",", ","1637",")"]}]}]},{"value":["\n    or "]},{"r":"203","s":[{"value":["\"Qualifies\"","("]},{"r":"199","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"200","s":[{"value":["\"Simultaneous Thoracic and Lumbar Spine\""]}]},{"r":"201","value":[", ","25",", ","2520",")"]}]}]},{"value":["\n    or "]},{"r":"209","s":[{"value":["\"Qualifies\"","("]},{"r":"205","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"206","s":[{"value":["\"Simultaneous Head and Neck Routine Dose\""]}]},{"r":"207","value":[", ","25",", ","2285",")"]}]}]},{"value":["\n    or "]},{"r":"215","s":[{"value":["\"Qualifies\"","("]},{"r":"211","s":[{"value":["Study"]}]},{"value":[", "]},{"r":"212","s":[{"value":["\"Simultaneous Head and Neck High Dose\""]}]},{"r":"213","value":[", ","25",", ","3092",")"]}]}]}]}]}}],"expression":{"localId":"216","locator":"53:3-70:75","type":"Or","operand":[{"localId":"210","locator":"53:3-69:78","type":"Or","operand":[{"localId":"204","locator":"53:3-68:77","type":"Or","operand":[{"localId":"198","locator":"53:3-67:80","type":"Or","operand":[{"localId":"192","locator":"53:3-66:63","type":"Or","operand":[{"localId":"186","locator":"53:3-65:61","type":"Or","operand":[{"localId":"180","locator":"53:3-64:47","type":"Or","operand":[{"localId":"174","locator":"53:3-63:54","type":"Or","operand":[{"localId":"168","locator":"53:3-62:57","type":"Or","operand":[{"localId":"162","locator":"53:3-61:52","type":"Or","operand":[{"localId":"156","locator":"53:3-60:75","type":"Or","operand":[{"localId":"150","locator":"53:3-59:56","type":"Or","operand":[{"localId":"144","locator":"53:3-58:52","type":"Or","operand":[{"localId":"138","locator":"53:3-57:58","type":"Or","operand":[{"localId":"132","locator":"53:3-56:53","type":"Or","operand":[{"localId":"126","locator":"53:3-55:67","type":"Or","operand":[{"localId":"120","locator":"53:3-54:69","type":"Or","operand":[{"localId":"114","locator":"53:3-53:60","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"110","locator":"53:15-53:19","name":"Study","type":"OperandRef"},{"localId":"111","locator":"53:22-53:50","name":"Abdomen and Pelvis Low Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"112","locator":"53:53-53:54","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"64","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"113","locator":"53:57-53:59","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"598","type":"Literal"}}]},{"localId":"119","locator":"54:8-54:69","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"115","locator":"54:20-54:24","name":"Study","type":"OperandRef"},{"localId":"116","locator":"54:27-54:59","name":"Abdomen and Pelvis Routine Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"117","locator":"54:62-54:63","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"29","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"118","locator":"54:66-54:68","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"644","type":"Literal"}}]}]},{"localId":"125","locator":"55:8-55:67","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"121","locator":"55:20-55:24","name":"Study","type":"OperandRef"},{"localId":"122","locator":"55:27-55:56","name":"Abdomen and Pelvis High Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"123","locator":"55:59-55:60","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"29","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"124","locator":"55:63-55:66","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1260","type":"Literal"}}]}]},{"localId":"131","locator":"56:8-56:53","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"127","locator":"56:20-56:24","name":"Study","type":"OperandRef"},{"localId":"128","locator":"56:27-56:44","name":"Cardiac Low Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"129","locator":"56:47-56:48","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"55","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"130","locator":"56:51-56:52","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"93","type":"Literal"}}]}]},{"localId":"137","locator":"57:8-57:58","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"133","locator":"57:20-57:24","name":"Study","type":"OperandRef"},{"localId":"134","locator":"57:27-57:48","name":"Cardiac Routine Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"135","locator":"57:51-57:52","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"32","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"136","locator":"57:55-57:57","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"576","type":"Literal"}}]}]},{"localId":"143","locator":"58:8-58:52","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"139","locator":"58:20-58:24","name":"Study","type":"OperandRef"},{"localId":"140","locator":"58:27-58:42","name":"Chest Low Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"141","locator":"58:45-58:46","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"55","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"142","locator":"58:49-58:51","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"377","type":"Literal"}}]}]},{"localId":"149","locator":"59:8-59:56","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"145","locator":"59:20-59:24","name":"Study","type":"OperandRef"},{"localId":"146","locator":"59:27-59:46","name":"Chest Routine Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"147","locator":"59:49-59:50","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"49","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"148","locator":"59:53-59:55","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"377","type":"Literal"}}]}]},{"localId":"155","locator":"60:8-60:75","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"151","locator":"60:20-60:24","name":"Study","type":"OperandRef"},{"localId":"152","locator":"60:27-60:64","name":"Cardiac High Dose or Chest High Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"153","locator":"60:67-60:68","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"49","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"154","locator":"60:71-60:74","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1282","type":"Literal"}}]}]},{"localId":"161","locator":"61:8-61:52","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"157","locator":"61:20-61:24","name":"Study","type":"OperandRef"},{"localId":"158","locator":"61:27-61:41","name":"Head Low Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"159","locator":"61:44-61:46","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"115","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"160","locator":"61:49-61:51","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"582","type":"Literal"}}]}]},{"localId":"167","locator":"62:8-62:57","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"163","locator":"62:20-62:24","name":"Study","type":"OperandRef"},{"localId":"164","locator":"62:27-62:45","name":"Head Routine Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"165","locator":"62:48-62:50","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"115","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"166","locator":"62:53-62:56","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1025","type":"Literal"}}]}]},{"localId":"173","locator":"63:8-63:54","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"169","locator":"63:20-63:24","name":"Study","type":"OperandRef"},{"localId":"170","locator":"63:27-63:42","name":"Head High Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"171","locator":"63:45-63:47","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"115","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"172","locator":"63:50-63:53","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1832","type":"Literal"}}]}]},{"localId":"179","locator":"64:8-64:47","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"175","locator":"64:20-64:24","name":"Study","type":"OperandRef"},{"localId":"176","locator":"64:27-64:37","name":"Extremity","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"177","locator":"64:40-64:41","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"73","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"178","locator":"64:44-64:46","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"320","type":"Literal"}}]}]},{"localId":"185","locator":"65:8-65:61","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"181","locator":"65:20-65:24","name":"Study","type":"OperandRef"},{"localId":"182","locator":"65:27-65:50","name":"Neck or Cervical Spine","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"183","locator":"65:53-65:54","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"25","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"184","locator":"65:57-65:60","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1260","type":"Literal"}}]}]},{"localId":"191","locator":"66:8-66:63","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"187","locator":"66:20-66:24","name":"Study","type":"OperandRef"},{"localId":"188","locator":"66:27-66:52","name":"Thoracic or Lumbar Spine","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"189","locator":"66:55-66:56","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"25","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"190","locator":"66:59-66:62","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1260","type":"Literal"}}]}]},{"localId":"197","locator":"67:8-67:80","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"193","locator":"67:20-67:24","name":"Study","type":"OperandRef"},{"localId":"194","locator":"67:27-67:69","name":"Simultaneous Chest and Abdomen and Pelvis","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"195","locator":"67:72-67:73","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"29","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"196","locator":"67:76-67:79","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1637","type":"Literal"}}]}]},{"localId":"203","locator":"68:8-68:77","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"199","locator":"68:20-68:24","name":"Study","type":"OperandRef"},{"localId":"200","locator":"68:27-68:66","name":"Simultaneous Thoracic and Lumbar Spine","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"201","locator":"68:69-68:70","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"25","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"202","locator":"68:73-68:76","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2520","type":"Literal"}}]}]},{"localId":"209","locator":"69:8-69:78","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"205","locator":"69:20-69:24","name":"Study","type":"OperandRef"},{"localId":"206","locator":"69:27-69:67","name":"Simultaneous Head and Neck Routine Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"207","locator":"69:70-69:71","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"25","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"208","locator":"69:74-69:77","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2285","type":"Literal"}}]}]},{"localId":"215","locator":"70:8-70:75","name":"Qualifies","type":"FunctionRef","operand":[{"localId":"211","locator":"70:20-70:24","name":"Study","type":"OperandRef"},{"localId":"212","locator":"70:27-70:64","name":"Simultaneous Head and Neck High Dose","type":"CodeRef"},{"type":"ToDecimal","operand":{"localId":"213","locator":"70:67-70:68","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"25","type":"Literal"}},{"type":"ToDecimal","operand":{"localId":"214","locator":"70:71-70:74","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"3092","type":"Literal"}}]}]},"operand":[{"name":"Study","operandTypeSpecifier":{"localId":"109","locator":"52:43-52:71","name":"{urn:healthit-gov:qdm:v5_6}PositiveDiagnosticStudyPerformed","type":"NamedTypeSpecifier"}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define function \"Size Adjusted Value\"(Study "}]},{"children":[{"children":[{"text":"\"Diagnostic Study, Performed\""}]}],"ref_id":"46"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"singleton from "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Study.components"}]}]}],"node_type":"Property","ref_id":"47"},{"children":[{"text":" C"}]}],"ref_id":"48"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"C"}]}],"ref_id":"49"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"node_type":"Property","ref_id":"50"}],"node_type":"Property","ref_id":"50"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Calculated CT size-adjusted dose\""}]}],"node_type":"CodeRef","ref_id":"51"}],"node_type":"Equivalent","ref_id":"52"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"C"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"ref_id":"54"}],"ref_id":"54"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"unit"}]}],"node_type":"Property","ref_id":"55"}],"node_type":"Property","ref_id":"55"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"'mGy.cm'"}]}],"node_type":"Literal","ref_id":"56"}],"node_type":"Equal","ref_id":"57"}],"ref_id":"58"}],"ref_id":"58"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"C"}]}],"ref_id":"59"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"ref_id":"60"}],"ref_id":"60"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"value"}]}],"node_type":"Property","ref_id":"61"}],"node_type":"Property","ref_id":"61"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Decimal"}]}],"ref_id":"62"}],"node_type":"As","ref_id":"63"}],"ref_id":"64"}],"node_type":"Query","ref_id":"65"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"65"}],"node_type":"SingletonFrom","ref_id":"66"}],"node_type":"SingletonFrom","ref_id":"66"}],"ref_id":"67"}],"define_name":"Size Adjusted Value"},{"children":[{"children":[{"children":[{"text":"define function \"Global Noise Value\"(Study "}]},{"children":[{"children":[{"text":"\"Diagnostic Study, Performed\""}]}],"ref_id":"68"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"singleton from "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Study.components"}]}]}],"node_type":"Property","ref_id":"69"},{"children":[{"text":" C"}]}],"ref_id":"70"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"C"}]}],"ref_id":"71"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"node_type":"Property","ref_id":"72"}],"node_type":"Property","ref_id":"72"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Calculated CT global noise\""}]}],"node_type":"CodeRef","ref_id":"73"}],"node_type":"Equivalent","ref_id":"74"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"C"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"ref_id":"76"}],"ref_id":"76"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"unit"}]}],"node_type":"Property","ref_id":"77"}],"node_type":"Property","ref_id":"77"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"'[hnsf\\'U]'"}]}],"node_type":"Literal","ref_id":"78"}],"node_type":"Equal","ref_id":"79"}],"ref_id":"80"}],"ref_id":"80"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"C"}]}],"ref_id":"81"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"ref_id":"82"}],"ref_id":"82"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"value"}]}],"node_type":"Property","ref_id":"83"}],"node_type":"Property","ref_id":"83"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Decimal"}]}],"ref_id":"84"}],"node_type":"As","ref_id":"85"}],"ref_id":"86"}],"node_type":"Query","ref_id":"87"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"87"}],"node_type":"SingletonFrom","ref_id":"88"}],"node_type":"SingletonFrom","ref_id":"88"}],"ref_id":"89"}],"define_name":"Global Noise Value"},{"children":[{"children":[{"children":[{"text":"define function \"Qualifies\"(Study "}]},{"children":[{"children":[{"text":"\"Diagnostic Study, Performed\""}]}],"ref_id":"90"},{"children":[{"text":", code "}]},{"children":[{"children":[{"text":"System.Code"}]}],"ref_id":"91"},{"children":[{"text":", noiseThreshold "}]},{"children":[{"children":[{"text":"Decimal"}]}],"ref_id":"92"},{"children":[{"text":", sizeDoseThreshold "}]},{"children":[{"children":[{"text":"Decimal"}]}],"ref_id":"93"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Study"}]}],"ref_id":"94"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"95"}],"node_type":"Property","ref_id":"95"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"code"}]}],"node_type":"OperandRef","ref_id":"96"}],"node_type":"Equivalent","ref_id":"97"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Global Noise Value\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"98"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"99"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"noiseThreshold"}]}],"node_type":"OperandRef","ref_id":"100"}],"node_type":"GreaterOrEqual","ref_id":"101"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"children":[{"text":"\"Size Adjusted Value\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"102"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"103"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"sizeDoseThreshold"}]}],"node_type":"OperandRef","ref_id":"104"}],"node_type":"GreaterOrEqual","ref_id":"105"}],"node_type":"Or","ref_id":"106"},{"children":[{"text":"\n    )"}]}],"node_type":"Or","ref_id":"106"}],"node_type":"And","ref_id":"107"}],"node_type":"And","ref_id":"107"}],"ref_id":"108"}],"define_name":"Qualifies"},{"children":[{"children":[{"children":[{"text":"define function \"CT Scan Qualifies\"(Study "}]},{"children":[{"children":[{"text":"\"Diagnostic Study, Performed\""}]}],"ref_id":"109"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"110"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Abdomen and Pelvis Low Dose\""}]}],"node_type":"CodeRef","ref_id":"111"},{"children":[{"text":", 64, 598)"}],"node_type":"Literal","ref_id":"112"}],"node_type":"FunctionRef","ref_id":"114"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"115"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Abdomen and Pelvis Routine Dose\""}]}],"node_type":"CodeRef","ref_id":"116"},{"children":[{"text":", 29, 644)"}],"node_type":"Literal","ref_id":"117"}],"node_type":"FunctionRef","ref_id":"119"}],"node_type":"Or","ref_id":"120"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"121"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Abdomen and Pelvis High Dose\""}]}],"node_type":"CodeRef","ref_id":"122"},{"children":[{"text":", 29, 1260)"}],"node_type":"Literal","ref_id":"123"}],"node_type":"FunctionRef","ref_id":"125"}],"node_type":"Or","ref_id":"126"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"127"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Cardiac Low Dose\""}]}],"node_type":"CodeRef","ref_id":"128"},{"children":[{"text":", 55, 93)"}],"node_type":"Literal","ref_id":"129"}],"node_type":"FunctionRef","ref_id":"131"}],"node_type":"Or","ref_id":"132"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"133"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Cardiac Routine Dose\""}]}],"node_type":"CodeRef","ref_id":"134"},{"children":[{"text":", 32, 576)"}],"node_type":"Literal","ref_id":"135"}],"node_type":"FunctionRef","ref_id":"137"}],"node_type":"Or","ref_id":"138"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"139"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Chest Low Dose\""}]}],"node_type":"CodeRef","ref_id":"140"},{"children":[{"text":", 55, 377)"}],"node_type":"Literal","ref_id":"141"}],"node_type":"FunctionRef","ref_id":"143"}],"node_type":"Or","ref_id":"144"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"145"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Chest Routine Dose\""}]}],"node_type":"CodeRef","ref_id":"146"},{"children":[{"text":", 49, 377)"}],"node_type":"Literal","ref_id":"147"}],"node_type":"FunctionRef","ref_id":"149"}],"node_type":"Or","ref_id":"150"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"151"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Cardiac High Dose or Chest High Dose\""}]}],"node_type":"CodeRef","ref_id":"152"},{"children":[{"text":", 49, 1282)"}],"node_type":"Literal","ref_id":"153"}],"node_type":"FunctionRef","ref_id":"155"}],"node_type":"Or","ref_id":"156"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"157"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Head Low Dose\""}]}],"node_type":"CodeRef","ref_id":"158"},{"children":[{"text":", 115, 582)"}],"node_type":"Literal","ref_id":"159"}],"node_type":"FunctionRef","ref_id":"161"}],"node_type":"Or","ref_id":"162"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"163"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Head Routine Dose\""}]}],"node_type":"CodeRef","ref_id":"164"},{"children":[{"text":", 115, 1025)"}],"node_type":"Literal","ref_id":"165"}],"node_type":"FunctionRef","ref_id":"167"}],"node_type":"Or","ref_id":"168"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"169"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Head High Dose\""}]}],"node_type":"CodeRef","ref_id":"170"},{"children":[{"text":", 115, 1832)"}],"node_type":"Literal","ref_id":"171"}],"node_type":"FunctionRef","ref_id":"173"}],"node_type":"Or","ref_id":"174"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"175"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Extremity\""}]}],"node_type":"CodeRef","ref_id":"176"},{"children":[{"text":", 73, 320)"}],"node_type":"Literal","ref_id":"177"}],"node_type":"FunctionRef","ref_id":"179"}],"node_type":"Or","ref_id":"180"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"181"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Neck or Cervical Spine\""}]}],"node_type":"CodeRef","ref_id":"182"},{"children":[{"text":", 25, 1260)"}],"node_type":"Literal","ref_id":"183"}],"node_type":"FunctionRef","ref_id":"185"}],"node_type":"Or","ref_id":"186"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"187"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Thoracic or Lumbar Spine\""}]}],"node_type":"CodeRef","ref_id":"188"},{"children":[{"text":", 25, 1260)"}],"node_type":"Literal","ref_id":"189"}],"node_type":"FunctionRef","ref_id":"191"}],"node_type":"Or","ref_id":"192"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"193"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Simultaneous Chest and Abdomen and Pelvis\""}]}],"node_type":"CodeRef","ref_id":"194"},{"children":[{"text":", 29, 1637)"}],"node_type":"Literal","ref_id":"195"}],"node_type":"FunctionRef","ref_id":"197"}],"node_type":"Or","ref_id":"198"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"199"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Simultaneous Thoracic and Lumbar Spine\""}]}],"node_type":"CodeRef","ref_id":"200"},{"children":[{"text":", 25, 2520)"}],"node_type":"Literal","ref_id":"201"}],"node_type":"FunctionRef","ref_id":"203"}],"node_type":"Or","ref_id":"204"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"205"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Simultaneous Head and Neck Routine Dose\""}]}],"node_type":"CodeRef","ref_id":"206"},{"children":[{"text":", 25, 2285)"}],"node_type":"Literal","ref_id":"207"}],"node_type":"FunctionRef","ref_id":"209"}],"node_type":"Or","ref_id":"210"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"\"Qualifies\"("}]},{"children":[{"children":[{"text":"Study"}]}],"node_type":"OperandRef","ref_id":"211"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"\"Simultaneous Head and Neck High Dose\""}]}],"node_type":"CodeRef","ref_id":"212"},{"children":[{"text":", 25, 3092)"}],"node_type":"Literal","ref_id":"213"}],"node_type":"FunctionRef","ref_id":"215"}],"node_type":"Or","ref_id":"216"}],"node_type":"Or","ref_id":"216"}],"ref_id":"217"}],"define_name":"CT Scan Qualifies"}],"identifier":{"id":"AlaraCommonFunctions","version":"1.4.000"}},"is_main_library":false,"is_top_level":true,"library_name":"AlaraCommonFunctions","library_version":"1.4.000","statement_dependencies":[{"_id":"68923aa0a83e15671c2c1057","statement_name":"Global Noise Value"},{"_id":"68923aa0a83e15671c2c1058","statement_name":"Size Adjusted Value"},{"_id":"68923aa0a83e15671c2c1059","statement_name":"CT Scan Qualifies","statement_references":[{"_id":"68923aa3a83e15671c2c115b","hqmf_id":null,"library_name":"AlaraCommonFunctions","statement_name":"Qualifies"}]},{"_id":"68923aa0a83e15671c2c105a","statement_name":"Qualifies","statement_references":[{"_id":"68923aa0a83e15671c2c1055","hqmf_id":null,"library_name":"AlaraCommonFunctions","statement_name":"Global Noise Value"},{"_id":"68923aa0a83e15671c2c1056","hqmf_id":null,"library_name":"AlaraCommonFunctions","statement_name":"Size Adjusted Value"}]}]},{"_id":"68923aa0a83e15671c2c106f","cql":"library AlaraCTIQR version '2.0.000'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude MATGlobalCommonFunctionsQDM version '8.0.000' called Global\r\ninclude AlaraCommonFunctions version '1.4.000' called AlaraCommon\r\n\r\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1'\r\n\r\nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307'\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\n\r\ncode \"CT dose and image quality category\": '96914-7' from \"LOINC\" display 'CT dose and image quality category'\r\ncode \"Full Body\": 'LA31771-1' from \"LOINC\" display 'Full Body'\r\n\r\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\r\n\r\ncontext Patient\r\n\r\ndefine \"Qualifying Inpatient Encounters\":\r\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] InpatientEncounter\r\n    where InpatientEncounter.relevantPeriod overlaps \"Measurement Period\"\r\n      and AgeInYearsAt(start of \"Measurement Period\") \u003e= 18\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\r\n\r\ndefine \"Initial Population\":\r\n  \"Qualifying Scan During Inpatient Encounter\"\r\n\r\ndefine \"Qualifying Scan with Values\":\r\n  \"Qualifying Scan During Inpatient Encounter\" CTScan\r\n    where AlaraCommon.\"Global Noise Value\" ( CTScan ) is not null\r\n      and AlaraCommon.\"Size Adjusted Value\" ( CTScan ) is not null\r\n      and CTScan.result is not null\r\n\r\ndefine \"Denominator\":\r\n  \"Qualifying Scan with Values\"\r\n\r\ndefine \"Numerator\":\r\n  \"Qualifying Scan with Values\" CTScan\r\n    where AlaraCommon.\"CT Scan Qualifies\" ( CTScan )\r\n\r\ndefine \"Qualifying Scan During Inpatient Encounter\":\r\n  [\"Diagnostic Study, Performed\": \"CT dose and image quality category\"] CTScan\r\n    with \"Qualifying Inpatient Encounters\" InpatientEncounters\r\n      such that Global.\"NormalizeInterval\" ( CTScan.relevantDatetime, CTScan.relevantPeriod ) starts during InpatientEncounters.relevantPeriod\r\n        and Global.\"NormalizeInterval\" ( CTScan.relevantDatetime, CTScan.relevantPeriod ) ends during day of \"Measurement Period\"\r\n\r\ndefine \"Denominator Exclusion\":\r\n  \"Qualifying Scan with Values\" CTScan\r\n    where CTScan.result ~ \"Full Body\"","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"99","s":[{"value":["","library AlaraCTIQR version '2.0.000'"]}]}}],"identifier":{"id":"AlaraCTIQR","version":"2.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:67","localIdentifier":"Global","path":"MATGlobalCommonFunctionsQDM","version":"8.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctionsQDM"]}]},{"value":[" version ","'8.0.000'"," called ","Global"]}]}}]},{"localId":"3","locator":"6:1-6:65","localIdentifier":"AlaraCommon","path":"AlaraCommonFunctions","version":"1.4.000","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","include "]},{"s":[{"value":["AlaraCommonFunctions"]}]},{"value":[" version ","'1.4.000'"," called ","AlaraCommon"]}]}}]}]},"parameters":{"def":[{"localId":"16","locator":"19:1-19:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"15","s":[{"value":["Interval\u003c"]},{"r":"14","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"15","locator":"19:32-19:49","type":"IntervalTypeSpecifier","pointType":{"localId":"14","locator":"19:41-19:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"4","locator":"8:1-8:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"6","locator":"11:1-11:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}]},{"localId":"7","locator":"12:1-12:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"ONC Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1'"]}]}}]},{"localId":"8","locator":"13:1-13:60","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}]},{"localId":"9","locator":"14:1-14:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}]}]},"codes":{"def":[{"localId":"11","locator":"16:1-16:110","name":"CT dose and image quality category","id":"96914-7","display":"CT dose and image quality category","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","code ","\"CT dose and image quality category\"",": ","'96914-7'"," from "]},{"r":"10","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'CT dose and image quality category'"]}]}}],"codeSystem":{"localId":"10","locator":"16:59-16:65","name":"LOINC"}},{"localId":"13","locator":"17:1-17:62","name":"Full Body","id":"LA31771-1","display":"Full Body","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","code ","\"Full Body\"",": ","'LA31771-1'"," from "]},{"r":"12","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Full Body'"]}]}}],"codeSystem":{"localId":"12","locator":"17:36-17:42","name":"LOINC"}}]},"contexts":{"def":[{"locator":"21:1-21:15","name":"Patient"}]},"statements":{"def":[{"locator":"21:1-21:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"21:1-21:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"30","locator":"23:1-26:59","name":"Qualifying Inpatient Encounters","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"30","s":[{"value":["","define ","\"Qualifying Inpatient Encounters\"",":\n  "]},{"r":"29","s":[{"s":[{"r":"18","s":[{"r":"17","s":[{"r":"17","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n    "]},{"r":"28","s":[{"value":["where "]},{"r":"28","s":[{"r":"22","s":[{"r":"20","s":[{"r":"19","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"20","s":[{"value":["relevantPeriod"]}]}]},{"r":"22","value":[" ","overlaps"," "]},{"r":"21","s":[{"value":["\"Measurement Period\""]}]}]},{"value":["\n      and "]},{"r":"27","s":[{"r":"25","s":[{"value":["AgeInYearsAt","("]},{"r":"24","s":[{"value":["start of "]},{"r":"23","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[")"]}]},{"r":"26","value":[" ","\u003e="," ","18"]}]}]}]}]}]}}],"expression":{"localId":"29","locator":"24:3-26:59","type":"Query","source":[{"localId":"18","locator":"24:3-24:68","alias":"InpatientEncounter","expression":{"localId":"17","locator":"24:3-24:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"24:28-24:48","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"28","locator":"25:5-26:59","type":"And","operand":[{"localId":"22","locator":"25:11-25:73","type":"Overlaps","operand":[{"localId":"20","locator":"25:11-25:43","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"},{"localId":"21","locator":"25:54-25:73","name":"Measurement Period","type":"ParameterRef"}]},{"localId":"27","locator":"26:11-26:59","type":"GreaterOrEqual","operand":[{"localId":"25","locator":"26:11-26:53","precision":"Year","type":"CalculateAgeAt","operand":[{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}},{"localId":"24","locator":"26:24-26:52","type":"Start","operand":{"localId":"23","locator":"26:33-26:52","name":"Measurement Period","type":"ParameterRef"}}]},{"localId":"26","locator":"26:58-26:59","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"18","type":"Literal"}]}]}}},{"localId":"32","locator":"28:1-29:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"32","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"31","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"31","locator":"29:3-29:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"29:40-29:50","name":"Ethnicity","preserve":true,"type":"ValueSetRef"}}},{"localId":"34","locator":"31:1-32:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"34","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"33","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"33","locator":"32:3-32:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"32:35-32:40","name":"Race","preserve":true,"type":"ValueSetRef"}}},{"localId":"36","locator":"34:1-35:58","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"36","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"35","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"35","locator":"35:3-35:58","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"35:34-35:57","name":"ONC Administrative Sex","preserve":true,"type":"ValueSetRef"}}},{"localId":"38","locator":"37:1-38:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"38","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"37","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"37","locator":"38:3-38:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"38:36-38:47","name":"Payer Type","preserve":true,"type":"ValueSetRef"}}},{"localId":"63","locator":"56:1-60:129","name":"Qualifying Scan During Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"63","s":[{"value":["","define ","\"Qualifying Scan During Inpatient Encounter\"",":\n  "]},{"r":"62","s":[{"s":[{"r":"40","s":[{"r":"39","s":[{"r":"39","s":[{"value":["[","\"Diagnostic Study, Performed\"",": "]},{"s":[{"value":["\"CT dose and image quality category\""]}]},{"value":["]"]}]}]},{"value":[" ","CTScan"]}]}]},{"value":["\n    "]},{"r":"61","s":[{"value":["with "]},{"r":"42","s":[{"r":"41","s":[{"s":[{"value":["\"Qualifying Inpatient Encounters\""]}]}]},{"value":[" ","InpatientEncounters"]}]},{"value":["\n      such that "]},{"r":"60","s":[{"r":"51","s":[{"r":"48","s":[{"r":"43","s":[{"value":["Global"]}]},{"value":["."]},{"r":"48","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"45","s":[{"r":"44","s":[{"value":["CTScan"]}]},{"value":["."]},{"r":"45","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"47","s":[{"r":"46","s":[{"value":["CTScan"]}]},{"value":["."]},{"r":"47","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"51","value":[" ","starts during"," "]},{"r":"50","s":[{"r":"49","s":[{"value":["InpatientEncounters"]}]},{"value":["."]},{"r":"50","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["\n        and "]},{"r":"59","s":[{"r":"57","s":[{"r":"52","s":[{"value":["Global"]}]},{"value":["."]},{"r":"57","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"54","s":[{"r":"53","s":[{"value":["CTScan"]}]},{"value":["."]},{"r":"54","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"56","s":[{"r":"55","s":[{"value":["CTScan"]}]},{"value":["."]},{"r":"56","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"59","value":[" ","ends during day of"," "]},{"r":"58","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}]}}],"expression":{"localId":"62","locator":"57:3-60:129","type":"Query","source":[{"localId":"40","locator":"57:3-57:78","alias":"CTScan","expression":{"localId":"39","locator":"57:3-57:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveDiagnosticStudyPerformed","templateId":"PositiveDiagnosticStudyPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"57:35-57:70","name":"CT dose and image quality category","type":"CodeRef"}}}}],"relationship":[{"localId":"61","locator":"58:5-60:129","alias":"InpatientEncounters","type":"With","expression":{"localId":"41","locator":"58:10-58:42","name":"Qualifying Inpatient Encounters","type":"ExpressionRef"},"suchThat":{"localId":"60","locator":"59:17-60:129","type":"And","operand":[{"localId":"51","locator":"59:17-59:142","type":"In","operand":[{"locator":"59:95-59:100","type":"Start","operand":{"localId":"48","locator":"59:17-59:93","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"45","locator":"59:46-59:68","path":"relevantDatetime","scope":"CTScan","type":"Property"},{"localId":"47","locator":"59:71-59:91","path":"relevantPeriod","scope":"CTScan","type":"Property"}]}},{"localId":"50","locator":"59:109-59:142","path":"relevantPeriod","scope":"InpatientEncounters","type":"Property"}]},{"localId":"59","locator":"60:13-60:129","precision":"Day","type":"In","operand":[{"locator":"60:91-60:94","type":"End","operand":{"localId":"57","locator":"60:13-60:89","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"54","locator":"60:42-60:64","path":"relevantDatetime","scope":"CTScan","type":"Property"},{"localId":"56","locator":"60:67-60:87","path":"relevantPeriod","scope":"CTScan","type":"Property"}]}},{"localId":"58","locator":"60:110-60:129","name":"Measurement Period","type":"ParameterRef"}]}]}}]}},{"localId":"65","locator":"40:1-41:46","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"65","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"64","s":[{"value":["\"Qualifying Scan During Inpatient Encounter\""]}]}]}}],"expression":{"localId":"64","locator":"41:3-41:46","name":"Qualifying Scan During Inpatient Encounter","type":"ExpressionRef"}},{"localId":"82","locator":"43:1-47:35","name":"Qualifying Scan with Values","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"82","s":[{"value":["","define ","\"Qualifying Scan with Values\"",":\n  "]},{"r":"81","s":[{"s":[{"r":"67","s":[{"r":"66","s":[{"s":[{"value":["\"Qualifying Scan During Inpatient Encounter\""]}]}]},{"value":[" ","CTScan"]}]}]},{"value":["\n    "]},{"r":"80","s":[{"value":["where "]},{"r":"80","s":[{"r":"76","s":[{"r":"71","s":[{"r":"70","s":[{"r":"68","s":[{"value":["AlaraCommon"]}]},{"value":["."]},{"r":"70","s":[{"value":["\"Global Noise Value\""," ( "]},{"r":"69","s":[{"value":["CTScan"]}]},{"value":[" )"]}]}]},{"value":[" is not null"]}]},{"value":["\n      and "]},{"r":"75","s":[{"r":"74","s":[{"r":"72","s":[{"value":["AlaraCommon"]}]},{"value":["."]},{"r":"74","s":[{"value":["\"Size Adjusted Value\""," ( "]},{"r":"73","s":[{"value":["CTScan"]}]},{"value":[" )"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      and "]},{"r":"79","s":[{"r":"78","s":[{"r":"77","s":[{"value":["CTScan"]}]},{"value":["."]},{"r":"78","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]}]}]}}],"expression":{"localId":"81","locator":"44:3-47:35","type":"Query","source":[{"localId":"67","locator":"44:3-44:53","alias":"CTScan","expression":{"localId":"66","locator":"44:3-44:46","name":"Qualifying Scan During Inpatient Encounter","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"80","locator":"45:5-47:35","type":"And","operand":[{"localId":"76","locator":"45:11-46:66","type":"And","operand":[{"localId":"71","locator":"45:11-45:65","type":"Not","operand":{"locator":"45:11-45:65","type":"IsNull","operand":{"localId":"70","locator":"45:11-45:53","name":"Global Noise Value","libraryName":"AlaraCommon","type":"FunctionRef","operand":[{"localId":"69","locator":"45:46-45:51","name":"CTScan","type":"AliasRef"}]}}},{"localId":"75","locator":"46:11-46:66","type":"Not","operand":{"locator":"46:11-46:66","type":"IsNull","operand":{"localId":"74","locator":"46:11-46:54","name":"Size Adjusted Value","libraryName":"AlaraCommon","type":"FunctionRef","operand":[{"localId":"73","locator":"46:47-46:52","name":"CTScan","type":"AliasRef"}]}}}]},{"localId":"79","locator":"47:11-47:35","type":"Not","operand":{"locator":"47:11-47:35","type":"IsNull","operand":{"localId":"78","locator":"47:11-47:23","path":"result","scope":"CTScan","type":"Property"}}}]}}},{"localId":"84","locator":"49:1-50:31","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"84","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"83","s":[{"value":["\"Qualifying Scan with Values\""]}]}]}}],"expression":{"localId":"83","locator":"50:3-50:31","name":"Qualifying Scan with Values","type":"ExpressionRef"}},{"localId":"91","locator":"52:1-54:52","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"91","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"90","s":[{"s":[{"r":"86","s":[{"r":"85","s":[{"s":[{"value":["\"Qualifying Scan with Values\""]}]}]},{"value":[" ","CTScan"]}]}]},{"value":["\n    "]},{"r":"89","s":[{"value":["where "]},{"r":"89","s":[{"r":"87","s":[{"value":["AlaraCommon"]}]},{"value":["."]},{"r":"89","s":[{"value":["\"CT Scan Qualifies\""," ( "]},{"r":"88","s":[{"value":["CTScan"]}]},{"value":[" )"]}]}]}]}]}]}}],"expression":{"localId":"90","locator":"53:3-54:52","type":"Query","source":[{"localId":"86","locator":"53:3-53:38","alias":"CTScan","expression":{"localId":"85","locator":"53:3-53:31","name":"Qualifying Scan with Values","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"89","locator":"54:5-54:52","name":"CT Scan Qualifies","libraryName":"AlaraCommon","type":"FunctionRef","operand":[{"localId":"88","locator":"54:45-54:50","name":"CTScan","type":"AliasRef"}]}}},{"localId":"99","locator":"62:1-64:37","name":"Denominator Exclusion","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"99","s":[{"value":["","define ","\"Denominator Exclusion\"",":\n  "]},{"r":"98","s":[{"s":[{"r":"93","s":[{"r":"92","s":[{"s":[{"value":["\"Qualifying Scan with Values\""]}]}]},{"value":[" ","CTScan"]}]}]},{"value":["\n    "]},{"r":"97","s":[{"value":["where "]},{"r":"97","s":[{"r":"95","s":[{"r":"94","s":[{"value":["CTScan"]}]},{"value":["."]},{"r":"95","s":[{"value":["result"]}]}]},{"value":[" ","~"," "]},{"r":"96","s":[{"value":["\"Full Body\""]}]}]}]}]}]}}],"expression":{"localId":"98","locator":"63:3-64:37","type":"Query","source":[{"localId":"93","locator":"63:3-63:38","alias":"CTScan","expression":{"localId":"92","locator":"63:3-63:31","name":"Qualifying Scan with Values","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"97","locator":"64:5-64:37","type":"Equivalent","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","operand":{"localId":"95","locator":"64:11-64:23","path":"result","scope":"CTScan","type":"Property"}},{"localId":"96","locator":"64:27-64:37","name":"Full Body","type":"CodeRef"}]}}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Qualifying Inpatient Encounters\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"17"}],"node_type":"Retrieve","ref_id":"17"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"18"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"19"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"20"}],"node_type":"Property","ref_id":"20"},{"children":[{"text":" overlaps "}],"node_type":"Overlaps","ref_id":"22"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"21"}],"node_type":"Overlaps","ref_id":"22"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"23"}],"node_type":"Start","ref_id":"24"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"25"},{"children":[{"text":" \u003e= 18"}],"node_type":"Literal","ref_id":"26"}],"node_type":"GreaterOrEqual","ref_id":"27"}],"ref_id":"28"}],"ref_id":"28"}],"node_type":"Query","ref_id":"29"}],"ref_id":"30"}],"define_name":"Qualifying Inpatient Encounters"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"31"}],"ref_id":"32"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"33"}],"ref_id":"34"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"35"}],"ref_id":"36"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"37"}],"ref_id":"38"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"Qualifying Scan During Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnostic Study, Performed\": "}]},{"children":[{"children":[{"text":"\"CT dose and image quality category\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"39"}],"node_type":"Retrieve","ref_id":"39"},{"children":[{"text":" CTScan"}]}],"ref_id":"40"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Inpatient Encounters\""}]}]}],"node_type":"ExpressionRef","ref_id":"41"},{"children":[{"text":" InpatientEncounters"}]}],"ref_id":"42"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"43"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"CTScan"}]}],"ref_id":"44"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"45"}],"node_type":"Property","ref_id":"45"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"CTScan"}]}],"ref_id":"46"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"47"}],"node_type":"Property","ref_id":"47"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"48"}],"node_type":"FunctionRef","ref_id":"48"},{"children":[{"text":" starts during "}],"node_type":"In","ref_id":"51"},{"children":[{"children":[{"children":[{"text":"InpatientEncounters"}]}],"ref_id":"49"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"50"}],"node_type":"Property","ref_id":"50"}],"node_type":"In","ref_id":"51"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"52"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"CTScan"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"54"}],"node_type":"Property","ref_id":"54"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"CTScan"}]}],"ref_id":"55"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"56"}],"node_type":"Property","ref_id":"56"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"57"}],"node_type":"FunctionRef","ref_id":"57"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"59"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"58"}],"node_type":"In","ref_id":"59"}],"node_type":"And","ref_id":"60"}],"ref_id":"61"}],"node_type":"Query","ref_id":"62"}],"ref_id":"63"}],"define_name":"Qualifying Scan During Inpatient Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"text":"\"Qualifying Scan During Inpatient Encounter\""}]}],"node_type":"ExpressionRef","ref_id":"64"}],"ref_id":"65"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Qualifying Scan with Values\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Scan During Inpatient Encounter\""}]}]}],"node_type":"ExpressionRef","ref_id":"66"},{"children":[{"text":" CTScan"}]}],"ref_id":"67"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"AlaraCommon"}]}],"ref_id":"68"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Global Noise Value\" ( "}]},{"children":[{"children":[{"text":"CTScan"}]}],"node_type":"AliasRef","ref_id":"69"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"70"}],"node_type":"FunctionRef","ref_id":"70"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"71"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AlaraCommon"}]}],"ref_id":"72"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Size Adjusted Value\" ( "}]},{"children":[{"children":[{"text":"CTScan"}]}],"node_type":"AliasRef","ref_id":"73"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"74"}],"node_type":"FunctionRef","ref_id":"74"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"75"}],"node_type":"And","ref_id":"76"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"CTScan"}]}],"ref_id":"77"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"78"}],"node_type":"Property","ref_id":"78"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"79"}],"ref_id":"80"}],"ref_id":"80"}],"node_type":"Query","ref_id":"81"}],"ref_id":"82"}],"define_name":"Qualifying Scan with Values"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Qualifying Scan with Values\""}]}],"node_type":"ExpressionRef","ref_id":"83"}],"ref_id":"84"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Scan with Values\""}]}]}],"node_type":"ExpressionRef","ref_id":"85"},{"children":[{"text":" CTScan"}]}],"ref_id":"86"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"AlaraCommon"}]}],"ref_id":"87"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CT Scan Qualifies\" ( "}]},{"children":[{"children":[{"text":"CTScan"}]}],"node_type":"AliasRef","ref_id":"88"},{"children":[{"text":" )"}]}],"ref_id":"89"}],"ref_id":"89"}],"ref_id":"89"}],"node_type":"Query","ref_id":"90"}],"ref_id":"91"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusion\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Scan with Values\""}]}]}],"node_type":"ExpressionRef","ref_id":"92"},{"children":[{"text":" CTScan"}]}],"ref_id":"93"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"CTScan"}]}],"ref_id":"94"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"95"}],"node_type":"Property","ref_id":"95"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Full Body\""}]}],"node_type":"CodeRef","ref_id":"96"}],"ref_id":"97"}],"ref_id":"97"}],"node_type":"Query","ref_id":"98"}],"ref_id":"99"}],"define_name":"Denominator Exclusion"}],"identifier":{"id":"AlaraCTIQR","version":"2.0.000"}},"is_main_library":true,"is_top_level":true,"library_name":"AlaraCTIQR","library_version":"2.0.000","statement_dependencies":[{"_id":"68923aa0a83e15671c2c1062","statement_name":"Patient"},{"_id":"68923aa0a83e15671c2c1063","statement_name":"Qualifying Inpatient Encounters","statement_references":[{"_id":"68923aa3a83e15671c2c115c","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Patient"}]},{"_id":"68923aa0a83e15671c2c1064","statement_name":"SDE Ethnicity"},{"_id":"68923aa0a83e15671c2c1065","statement_name":"SDE Race"},{"_id":"68923aa0a83e15671c2c1066","statement_name":"SDE Sex"},{"_id":"68923aa0a83e15671c2c1067","statement_name":"SDE Payer"},{"_id":"68923aa0a83e15671c2c1068","statement_name":"Qualifying Scan During Inpatient Encounter","statement_references":[{"_id":"68923aa0a83e15671c2c105b","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Qualifying Inpatient Encounters"},{"_id":"68923aa0a83e15671c2c105c","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]},{"_id":"68923aa0a83e15671c2c1069","statement_name":"Initial Population","statement_references":[{"_id":"68923aa3a83e15671c2c115d","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Qualifying Scan During Inpatient Encounter"}]},{"_id":"68923aa0a83e15671c2c106a","statement_name":"Qualifying Scan with Values","statement_references":[{"_id":"68923aa0a83e15671c2c105d","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Qualifying Scan During Inpatient Encounter"},{"_id":"68923aa0a83e15671c2c105e","hqmf_id":null,"library_name":"AlaraCommonFunctions","statement_name":"Global Noise Value"},{"_id":"68923aa0a83e15671c2c105f","hqmf_id":null,"library_name":"AlaraCommonFunctions","statement_name":"Size Adjusted Value"}]},{"_id":"68923aa0a83e15671c2c106b","statement_name":"Denominator","statement_references":[{"_id":"68923aa3a83e15671c2c115e","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Qualifying Scan with Values"}]},{"_id":"68923aa0a83e15671c2c106c","statement_name":"Numerator","statement_references":[{"_id":"68923aa0a83e15671c2c1060","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Qualifying Scan with Values"},{"_id":"68923aa0a83e15671c2c1061","hqmf_id":null,"library_name":"AlaraCommonFunctions","statement_name":"CT Scan Qualifies"}]},{"_id":"68923aa0a83e15671c2c106d","statement_name":"Denominator Exclusion","statement_references":[{"_id":"68923aa3a83e15671c2c115f","hqmf_id":null,"library_name":"AlaraCTIQR","statement_name":"Qualifying Scan with Values"}]}]},{"_id":"68923aa0a83e15671c2c1070","cql":"library MATGlobalCommonFunctionsQDM version '8.0.000'\n\n/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"395","s":[{"value":["","library MATGlobalCommonFunctionsQDM version '8.0.000'"]}]}}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"9","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"8","s":[{"value":["Interval\u003c"]},{"r":"7","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"8","locator":"13:32-13:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"13:41-13:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"7:1-7:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}]},{"localId":"3","locator":"8:1-8:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"4","locator":"9:1-9:72","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}]},{"localId":"5","locator":"10:1-10:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]},{"localId":"6","locator":"11:1-11:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}]}]},"contexts":{"def":[{"locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"11","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"10","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"18:28-18:55","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}},{"localId":"19","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"18","s":[{"s":[{"r":"13","s":[{"r":"12","s":[{"r":"12","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"17","s":[{"value":["where "]},{"r":"17","s":[{"r":"15","s":[{"r":"14","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"15","s":[{"value":["relevantPeriod"]}]}]},{"r":"17","value":[" ","ends during day of"," "]},{"r":"16","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"18","locator":"21:3-22:83","type":"Query","source":[{"localId":"13","locator":"21:3-21:68","alias":"EncounterInpatient","expression":{"localId":"12","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"21:28-21:48","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"17","locator":"22:5-22:83","precision":"Day","type":"In","operand":[{"locator":"22:45-22:48","type":"End","operand":{"localId":"15","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"16","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"29","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"29","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function ","\"ToDateInterval\"","(","period"," "]},{"r":"21","s":[{"value":["Interval\u003c"]},{"r":"20","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"28","s":[{"r":"28","s":[{"value":["Interval["]},{"r":"24","s":[{"value":["date from "]},{"r":"23","s":[{"value":["start of "]},{"r":"22","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"27","s":[{"value":["date from "]},{"r":"26","s":[{"value":["end of "]},{"r":"25","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"28","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"24","locator":"30:12-30:36","type":"DateFrom","operand":{"localId":"23","locator":"30:22-30:36","type":"Start","operand":{"localId":"22","locator":"30:31-30:36","name":"period","type":"OperandRef"}}},"high":{"localId":"27","locator":"30:39-30:61","type":"DateFrom","operand":{"localId":"26","locator":"30:49-30:61","type":"End","operand":{"localId":"25","locator":"30:56-30:61","name":"period","type":"OperandRef"}}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"21","locator":"29:41-29:58","type":"IntervalTypeSpecifier","pointType":{"localId":"20","locator":"29:50-29:57","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"37","locator":"33:1-34:60","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"37","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function ","\"LengthInDays\"","(","Value"," "]},{"r":"31","s":[{"value":["Interval\u003c"]},{"r":"30","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"36","s":[{"r":"36","s":[{"value":["difference in days between "]},{"r":"33","s":[{"value":["start of "]},{"r":"32","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"35","s":[{"value":["end of "]},{"r":"34","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"36","locator":"34:3-34:60","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"33","locator":"34:30-34:43","type":"Start","operand":{"localId":"32","locator":"34:39-34:43","name":"Value","type":"OperandRef"}},{"localId":"35","locator":"34:49-34:60","type":"End","operand":{"localId":"34","locator":"34:56-34:60","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"31","locator":"33:38-33:55","type":"IntervalTypeSpecifier","pointType":{"localId":"30","locator":"33:47-33:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"70","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"70","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"38","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"69","s":[{"r":"69","s":[{"s":[{"r":"40","s":[{"r":"39","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"56","s":[{"value":["EDVisit",": "]},{"r":"55","s":[{"value":["Last","("]},{"r":"54","s":[{"s":[{"r":"42","s":[{"r":"41","s":[{"r":"41","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"49","s":[{"value":["where "]},{"r":"49","s":[{"r":"44","s":[{"r":"43","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"44","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"49","s":[{"value":["ends "]},{"r":"48","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"47","s":[{"value":["start of "]},{"r":"46","s":[{"r":"45","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"46","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"53","s":[{"value":["sort by \n  \t\t\t"]},{"r":"52","s":[{"r":"51","s":[{"value":["end of "]},{"r":"50","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"68","s":[{"value":["return "]},{"r":"67","s":[{"value":["if "]},{"r":"58","s":[{"r":"57","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"60","s":[{"r":"59","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"60","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"66","s":[{"value":["flatten "]},{"r":"65","s":[{"value":["{ "]},{"r":"62","s":[{"r":"61","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"62","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"64","s":[{"r":"63","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"64","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"69","locator":"38:3-45:71","type":"Query","source":[{"localId":"40","locator":"38:3-38:17","alias":"Visit","expression":{"localId":"39","locator":"38:3-38:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"56","locator":"39:8-43:4","identifier":"EDVisit","expression":{"localId":"55","locator":"39:17-43:4","type":"Last","source":{"localId":"54","locator":"39:22-42:26","type":"Query","source":[{"localId":"42","locator":"39:22-39:82","alias":"LastED","expression":{"localId":"41","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"39:47-39:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"49","locator":"40:6-40:95","type":"And","operand":[{"locator":"40:39-40:52","type":"In","operand":[{"locator":"40:34-40:37","type":"End","operand":{"localId":"44","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"40:67-40:95","type":"Subtract","operand":[{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"48","locator":"40:39-40:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"40:39-40:52","type":"Not","operand":{"locator":"40:39-40:52","type":"IsNull","operand":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"53","locator":"41:6-42:26","by":[{"localId":"52","locator":"42:6-42:26","direction":"asc","type":"ByExpression","expression":{"localId":"51","locator":"42:6-42:26","type":"End","operand":{"localId":"50","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"68","locator":"44:4-45:71","expression":{"localId":"67","locator":"44:11-45:71","type":"If","condition":{"localId":"58","locator":"44:14-44:28","type":"IsNull","operand":{"localId":"57","locator":"44:14-44:20","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"60","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"66","locator":"45:10-45:71","type":"Flatten","operand":{"localId":"65","locator":"45:18-45:71","type":"List","element":[{"localId":"62","locator":"45:20-45:44","path":"facilityLocations","type":"Property","source":{"localId":"61","locator":"45:20-45:26","name":"EDVisit","type":"QueryLetRef"}},{"localId":"64","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"38","locator":"37:54-37:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"87","locator":"48:1-52:18","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"87","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"71","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"86","s":[{"r":"86","s":[{"value":["start of "]},{"r":"85","s":[{"r":"84","s":[{"value":["First","("]},{"r":"83","s":[{"s":[{"r":"74","s":[{"r":"73","s":[{"value":["("]},{"r":"73","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"72","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"78","s":[{"value":["where "]},{"r":"78","s":[{"r":"76","s":[{"r":"75","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"76","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"77","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"82","s":[{"value":["sort by "]},{"r":"81","s":[{"r":"80","s":[{"value":["start of "]},{"r":"79","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"85","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"86","locator":"49:3-52:18","type":"Start","operand":{"localId":"85","locator":"49:12-52:18","path":"locationPeriod","type":"Property","source":{"localId":"84","locator":"49:12-52:3","type":"First","source":{"localId":"83","locator":"49:18-51:35","type":"Query","source":[{"localId":"74","locator":"49:18-49:72","alias":"HospitalLocation","expression":{"localId":"73","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"72","locator":"49:46-49:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"78","locator":"50:5-50:63","type":"InValueSet","code":{"localId":"76","locator":"50:11-50:31","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"77","locator":"50:36-50:63","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"82","locator":"51:5-51:35","by":[{"localId":"81","locator":"51:13-51:35","direction":"asc","type":"ByExpression","expression":{"localId":"80","locator":"51:13-51:35","type":"Start","operand":{"localId":"79","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"71","locator":"48:60-48:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"122","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"122","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"90","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"121","s":[{"r":"121","s":[{"s":[{"r":"92","s":[{"r":"91","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"108","s":[{"value":["EDVisit",": "]},{"r":"107","s":[{"value":["Last","("]},{"r":"106","s":[{"s":[{"r":"94","s":[{"r":"93","s":[{"r":"93","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"101","s":[{"value":["where "]},{"r":"101","s":[{"r":"96","s":[{"r":"95","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"96","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"101","s":[{"value":["ends "]},{"r":"100","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"99","s":[{"value":["start of "]},{"r":"98","s":[{"r":"97","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"98","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"105","s":[{"value":["sort by \n  \t\t\t"]},{"r":"104","s":[{"r":"103","s":[{"value":["end of "]},{"r":"102","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"120","s":[{"value":["return "]},{"r":"119","s":[{"value":["Interval["]},{"r":"115","s":[{"value":["Coalesce","("]},{"r":"111","s":[{"value":["start of "]},{"r":"110","s":[{"r":"109","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"110","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"114","s":[{"value":["start of "]},{"r":"113","s":[{"r":"112","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"113","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"118","s":[{"value":["end of "]},{"r":"117","s":[{"r":"116","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"117","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"121","locator":"66:3-73:31","type":"Query","source":[{"localId":"92","locator":"66:3-66:17","alias":"Visit","expression":{"localId":"91","locator":"66:3-66:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"108","locator":"67:8-71:4","identifier":"EDVisit","expression":{"localId":"107","locator":"67:17-71:4","type":"Last","source":{"localId":"106","locator":"67:22-70:26","type":"Query","source":[{"localId":"94","locator":"67:22-67:82","alias":"LastED","expression":{"localId":"93","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"67:47-67:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"101","locator":"68:6-68:95","type":"And","operand":[{"locator":"68:39-68:52","type":"In","operand":[{"locator":"68:34-68:37","type":"End","operand":{"localId":"96","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"68:67-68:95","type":"Subtract","operand":[{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"100","locator":"68:39-68:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"68:39-68:52","type":"Not","operand":{"locator":"68:39-68:52","type":"IsNull","operand":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"105","locator":"69:6-70:26","by":[{"localId":"104","locator":"70:6-70:26","direction":"asc","type":"ByExpression","expression":{"localId":"103","locator":"70:6-70:26","type":"End","operand":{"localId":"102","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"120","locator":"72:4-73:31","expression":{"localId":"119","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"115","locator":"72:20-72:91","type":"Coalesce","operand":[{"localId":"111","locator":"72:29-72:59","type":"Start","operand":{"localId":"110","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","source":{"localId":"109","locator":"72:38-72:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"114","locator":"72:62-72:90","type":"Start","operand":{"localId":"113","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"118","locator":"73:4-73:30","type":"End","operand":{"localId":"117","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"90","locator":"65:45-65:66","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"125","locator":"55:1-56:39","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"125","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"88","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"124","s":[{"r":"124","s":[{"value":["start of "]},{"r":"123","s":[{"value":["\"Hospitalization\"","("]},{"r":"89","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"124","locator":"56:3-56:39","type":"Start","operand":{"localId":"123","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"89","locator":"56:30-56:38","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"88","locator":"55:51-55:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"138","locator":"59:1-62:18","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"138","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"126","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"137","s":[{"r":"137","s":[{"value":["start of "]},{"r":"136","s":[{"r":"135","s":[{"value":["First","("]},{"r":"134","s":[{"s":[{"r":"129","s":[{"r":"128","s":[{"value":["("]},{"r":"128","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"127","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"133","s":[{"value":["sort by "]},{"r":"132","s":[{"r":"131","s":[{"value":["start of "]},{"r":"130","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"136","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"137","locator":"60:3-62:18","type":"Start","operand":{"localId":"136","locator":"60:12-62:18","path":"locationPeriod","type":"Property","source":{"localId":"135","locator":"60:12-62:3","type":"First","source":{"localId":"134","locator":"60:18-61:35","type":"Query","source":[{"localId":"129","locator":"60:18-60:72","alias":"HospitalLocation","expression":{"localId":"128","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"127","locator":"60:46-60:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"133","locator":"61:5-61:35","by":[{"localId":"132","locator":"61:13-61:35","direction":"asc","type":"ByExpression","expression":{"localId":"131","locator":"61:13-61:35","type":"Start","operand":{"localId":"130","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"126","locator":"59:49-59:70","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"145","locator":"76:1-77:44","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"145","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"141","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"144","s":[{"r":"144","s":[{"value":["LengthInDays","("]},{"r":"143","s":[{"value":["\"Hospitalization\"","("]},{"r":"142","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"144","locator":"77:3-77:44","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"143","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"142","locator":"77:34-77:42","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"141","locator":"76:57-76:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"158","locator":"80:1-83:18","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"158","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"146","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"157","s":[{"r":"157","s":[{"value":["end of "]},{"r":"156","s":[{"r":"155","s":[{"value":["Last","("]},{"r":"154","s":[{"s":[{"r":"149","s":[{"r":"148","s":[{"value":["("]},{"r":"148","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"147","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"153","s":[{"value":["sort by "]},{"r":"152","s":[{"r":"151","s":[{"value":["start of "]},{"r":"150","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"156","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"157","locator":"81:3-83:18","type":"End","operand":{"localId":"156","locator":"81:10-83:18","path":"locationPeriod","type":"Property","source":{"localId":"155","locator":"81:10-83:3","type":"Last","source":{"localId":"154","locator":"81:15-82:35","type":"Query","source":[{"localId":"149","locator":"81:15-81:69","alias":"HospitalLocation","expression":{"localId":"148","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"147","locator":"81:43-81:51","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"153","locator":"82:5-82:35","by":[{"localId":"152","locator":"82:13-82:35","direction":"asc","type":"ByExpression","expression":{"localId":"151","locator":"82:13-82:35","type":"Start","operand":{"localId":"150","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"146","locator":"80:51-80:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"163","locator":"86:1-87:33","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"163","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"159","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"162","s":[{"r":"162","s":[{"value":["end of "]},{"r":"161","s":[{"r":"160","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"161","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"162","locator":"87:3-87:33","type":"End","operand":{"localId":"161","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","source":{"localId":"160","locator":"87:10-87:18","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"159","locator":"86:51-86:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"236","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"236","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"164","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"235","s":[{"r":"235","s":[{"s":[{"r":"166","s":[{"r":"165","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"182","s":[{"value":["ObsVisit",": "]},{"r":"181","s":[{"value":["Last","("]},{"r":"180","s":[{"s":[{"r":"168","s":[{"r":"167","s":[{"r":"167","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"175","s":[{"value":["where "]},{"r":"175","s":[{"r":"170","s":[{"r":"169","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"175","s":[{"value":["ends "]},{"r":"174","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"173","s":[{"value":["start of "]},{"r":"172","s":[{"r":"171","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"172","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"179","s":[{"value":["sort by \n  \t\t\t"]},{"r":"178","s":[{"r":"177","s":[{"value":["end of "]},{"r":"176","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"190","s":[{"value":["VisitStart",": "]},{"r":"189","s":[{"value":["Coalesce","("]},{"r":"185","s":[{"value":["start of "]},{"r":"184","s":[{"r":"183","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"184","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"188","s":[{"value":["start of "]},{"r":"187","s":[{"r":"186","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"187","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"204","s":[{"value":["EDVisit",": "]},{"r":"203","s":[{"value":["Last","("]},{"r":"202","s":[{"s":[{"r":"192","s":[{"r":"191","s":[{"r":"191","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"197","s":[{"value":["where "]},{"r":"197","s":[{"r":"194","s":[{"r":"193","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"194","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"197","s":[{"value":["ends "]},{"r":"196","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"195","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"201","s":[{"value":["sort by \n  \t\t\t"]},{"r":"200","s":[{"r":"199","s":[{"value":["end of "]},{"r":"198","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"210","s":[{"value":["VisitStartWithED",": "]},{"r":"209","s":[{"value":["Coalesce","("]},{"r":"207","s":[{"value":["start of "]},{"r":"206","s":[{"r":"205","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"206","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"208","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"224","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"223","s":[{"value":["Last","("]},{"r":"222","s":[{"s":[{"r":"212","s":[{"r":"211","s":[{"r":"211","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"217","s":[{"value":["where "]},{"r":"217","s":[{"r":"214","s":[{"r":"213","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"214","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"217","s":[{"value":["ends "]},{"r":"216","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"215","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"221","s":[{"value":["sort by \n  \t\t\t"]},{"r":"220","s":[{"r":"219","s":[{"value":["end of "]},{"r":"218","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"234","s":[{"value":["return "]},{"r":"233","s":[{"value":["Interval["]},{"r":"229","s":[{"value":["Coalesce","("]},{"r":"227","s":[{"value":["start of "]},{"r":"226","s":[{"r":"225","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"226","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"228","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"232","s":[{"value":["end of "]},{"r":"231","s":[{"r":"230","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"231","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"235","locator":"91:3-110:31","type":"Query","source":[{"localId":"166","locator":"91:3-91:17","alias":"Visit","expression":{"localId":"165","locator":"91:3-91:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"182","locator":"92:8-96:4","identifier":"ObsVisit","expression":{"localId":"181","locator":"92:18-96:4","type":"Last","source":{"localId":"180","locator":"92:23-95:26","type":"Query","source":[{"localId":"168","locator":"92:23-92:78","alias":"LastObs","expression":{"localId":"167","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"92:48-92:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"175","locator":"93:6-93:96","type":"And","operand":[{"locator":"93:40-93:53","type":"In","operand":[{"locator":"93:35-93:38","type":"End","operand":{"localId":"170","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"93:68-93:96","type":"Subtract","operand":[{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"174","locator":"93:40-93:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"93:40-93:53","type":"Not","operand":{"locator":"93:40-93:53","type":"IsNull","operand":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"179","locator":"94:6-95:26","by":[{"localId":"178","locator":"95:6-95:26","direction":"asc","type":"ByExpression","expression":{"localId":"177","locator":"95:6-95:26","type":"End","operand":{"localId":"176","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"190","locator":"97:4-97:88","identifier":"VisitStart","expression":{"localId":"189","locator":"97:16-97:88","type":"Coalesce","operand":[{"localId":"185","locator":"97:25-97:56","type":"Start","operand":{"localId":"184","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","source":{"localId":"183","locator":"97:34-97:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"188","locator":"97:59-97:87","type":"Start","operand":{"localId":"187","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"204","locator":"98:4-102:4","identifier":"EDVisit","expression":{"localId":"203","locator":"98:13-102:4","type":"Last","source":{"localId":"202","locator":"98:18-101:26","type":"Query","source":[{"localId":"192","locator":"98:18-98:78","alias":"LastED","expression":{"localId":"191","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"98:43-98:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"197","locator":"99:6-99:76","type":"And","operand":[{"locator":"99:39-99:52","type":"In","operand":[{"locator":"99:34-99:37","type":"End","operand":{"localId":"194","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"99:67-99:76","type":"Subtract","operand":[{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"196","locator":"99:39-99:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"99:39-99:52","type":"Not","operand":{"locator":"99:39-99:52","type":"IsNull","operand":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"201","locator":"100:6-101:26","by":[{"localId":"200","locator":"101:6-101:26","direction":"asc","type":"ByExpression","expression":{"localId":"199","locator":"101:6-101:26","type":"End","operand":{"localId":"198","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"210","locator":"103:4-103:74","identifier":"VisitStartWithED","expression":{"localId":"209","locator":"103:22-103:74","type":"Coalesce","operand":[{"localId":"207","locator":"103:31-103:61","type":"Start","operand":{"localId":"206","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","source":{"localId":"205","locator":"103:40-103:46","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"208","locator":"103:64-103:73","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"224","locator":"104:4-108:4","identifier":"OutpatientSurgeryVisit","expression":{"localId":"223","locator":"104:28-108:4","type":"Last","source":{"localId":"222","locator":"104:33-107:26","type":"Query","source":[{"localId":"212","locator":"104:33-104:100","alias":"LastSurgeryOP","expression":{"localId":"211","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"104:58-104:85","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"217","locator":"105:6-105:89","type":"And","operand":[{"locator":"105:46-105:59","type":"In","operand":[{"locator":"105:41-105:44","type":"End","operand":{"localId":"214","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"105:74-105:89","type":"Subtract","operand":[{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"216","locator":"105:46-105:51","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"locator":"105:46-105:59","type":"Not","operand":{"locator":"105:46-105:59","type":"IsNull","operand":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"221","locator":"106:6-107:26","by":[{"localId":"220","locator":"107:6-107:26","direction":"asc","type":"ByExpression","expression":{"localId":"219","locator":"107:6-107:26","type":"End","operand":{"localId":"218","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"234","locator":"109:4-110:31","expression":{"localId":"233","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"229","locator":"109:20-109:93","type":"Coalesce","operand":[{"localId":"227","locator":"109:29-109:74","type":"Start","operand":{"localId":"226","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","source":{"localId":"225","locator":"109:38-109:59","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"228","locator":"109:77-109:92","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"232","locator":"110:4-110:30","type":"End","operand":{"localId":"231","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"164","locator":"90:87-90:108","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"289","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"289","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"237","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"288","s":[{"r":"288","s":[{"s":[{"r":"239","s":[{"r":"238","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"255","s":[{"value":["ObsVisit",": "]},{"r":"254","s":[{"value":["Last","("]},{"r":"253","s":[{"s":[{"r":"241","s":[{"r":"240","s":[{"r":"240","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"248","s":[{"value":["where "]},{"r":"248","s":[{"r":"243","s":[{"r":"242","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"243","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"248","s":[{"value":["ends "]},{"r":"247","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"246","s":[{"value":["start of "]},{"r":"245","s":[{"r":"244","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"245","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"252","s":[{"value":["sort by \n  \t\t\t"]},{"r":"251","s":[{"r":"250","s":[{"value":["end of "]},{"r":"249","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"263","s":[{"value":["VisitStart",": "]},{"r":"262","s":[{"value":["Coalesce","("]},{"r":"258","s":[{"value":["start of "]},{"r":"257","s":[{"r":"256","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"257","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"261","s":[{"value":["start of "]},{"r":"260","s":[{"r":"259","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"260","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"277","s":[{"value":["EDVisit",": "]},{"r":"276","s":[{"value":["Last","("]},{"r":"275","s":[{"s":[{"r":"265","s":[{"r":"264","s":[{"r":"264","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"270","s":[{"value":["where "]},{"r":"270","s":[{"r":"267","s":[{"r":"266","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"267","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"270","s":[{"value":["ends "]},{"r":"269","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"268","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"274","s":[{"value":["sort by \n  \t\t\t"]},{"r":"273","s":[{"r":"272","s":[{"value":["end of "]},{"r":"271","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"287","s":[{"value":["return "]},{"r":"286","s":[{"value":["Interval["]},{"r":"282","s":[{"value":["Coalesce","("]},{"r":"280","s":[{"value":["start of "]},{"r":"279","s":[{"r":"278","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"279","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"281","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"285","s":[{"value":["end of "]},{"r":"284","s":[{"r":"283","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"284","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"288","locator":"114:3-127:31","type":"Query","source":[{"localId":"239","locator":"114:3-114:17","alias":"Visit","expression":{"localId":"238","locator":"114:3-114:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"255","locator":"115:8-119:4","identifier":"ObsVisit","expression":{"localId":"254","locator":"115:18-119:4","type":"Last","source":{"localId":"253","locator":"115:23-118:26","type":"Query","source":[{"localId":"241","locator":"115:23-115:78","alias":"LastObs","expression":{"localId":"240","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"115:48-115:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"248","locator":"116:6-116:96","type":"And","operand":[{"locator":"116:40-116:53","type":"In","operand":[{"locator":"116:35-116:38","type":"End","operand":{"localId":"243","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"116:68-116:96","type":"Subtract","operand":[{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"247","locator":"116:40-116:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"116:40-116:53","type":"Not","operand":{"locator":"116:40-116:53","type":"IsNull","operand":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"252","locator":"117:6-118:26","by":[{"localId":"251","locator":"118:6-118:26","direction":"asc","type":"ByExpression","expression":{"localId":"250","locator":"118:6-118:26","type":"End","operand":{"localId":"249","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"263","locator":"120:4-120:88","identifier":"VisitStart","expression":{"localId":"262","locator":"120:16-120:88","type":"Coalesce","operand":[{"localId":"258","locator":"120:25-120:56","type":"Start","operand":{"localId":"257","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","source":{"localId":"256","locator":"120:34-120:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"261","locator":"120:59-120:87","type":"Start","operand":{"localId":"260","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"277","locator":"121:4-125:4","identifier":"EDVisit","expression":{"localId":"276","locator":"121:13-125:4","type":"Last","source":{"localId":"275","locator":"121:18-124:26","type":"Query","source":[{"localId":"265","locator":"121:18-121:78","alias":"LastED","expression":{"localId":"264","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"121:43-121:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"270","locator":"122:6-122:76","type":"And","operand":[{"locator":"122:39-122:52","type":"In","operand":[{"locator":"122:34-122:37","type":"End","operand":{"localId":"267","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"122:67-122:76","type":"Subtract","operand":[{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"269","locator":"122:39-122:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"122:39-122:52","type":"Not","operand":{"locator":"122:39-122:52","type":"IsNull","operand":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"274","locator":"123:6-124:26","by":[{"localId":"273","locator":"124:6-124:26","direction":"asc","type":"ByExpression","expression":{"localId":"272","locator":"124:6-124:26","type":"End","operand":{"localId":"271","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"287","locator":"126:4-127:31","expression":{"localId":"286","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"282","locator":"126:20-126:72","type":"Coalesce","operand":[{"localId":"280","locator":"126:29-126:59","type":"Start","operand":{"localId":"279","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","source":{"localId":"278","locator":"126:38-126:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"281","locator":"126:62-126:71","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"285","locator":"127:4-127:30","type":"End","operand":{"localId":"284","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"237","locator":"113:60-113:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"294","locator":"130:1-131:61","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"294","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservationLengthofStay\"","(","Encounter"," "]},{"r":"290","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"293","s":[{"r":"293","s":[{"value":["\"LengthInDays\"","("]},{"r":"292","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"291","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"293","locator":"131:3-131:61","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"292","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","operand":[{"localId":"291","locator":"131:51-131:59","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"290","locator":"130:72-130:93","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"315","locator":"134:1-139:3","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"315","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"295","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"314","s":[{"r":"314","s":[{"value":["First","("]},{"r":"313","s":[{"s":[{"r":"298","s":[{"r":"297","s":[{"value":["("]},{"r":"297","s":[{"r":"296","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"297","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"308","s":[{"value":["where "]},{"r":"308","s":[{"r":"302","s":[{"r":"300","s":[{"r":"299","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"300","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"301","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"307","s":[{"r":"304","s":[{"r":"303","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"304","s":[{"value":["locationPeriod"]}]}]},{"r":"307","value":[" ","during"," "]},{"r":"306","s":[{"r":"305","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"306","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"312","s":[{"value":["sort by "]},{"r":"311","s":[{"r":"310","s":[{"value":["start of "]},{"r":"309","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"314","locator":"135:3-139:3","type":"First","source":{"localId":"313","locator":"135:9-138:37","type":"Query","source":[{"localId":"298","locator":"135:9-135:53","alias":"HospitalLocation","expression":{"localId":"297","locator":"135:9-135:37","path":"facilityLocations","type":"Property","source":{"localId":"296","locator":"135:10-135:18","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"308","locator":"136:7-137:75","type":"And","operand":[{"localId":"302","locator":"136:13-136:58","type":"InValueSet","code":{"localId":"300","locator":"136:13-136:33","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"301","locator":"136:38-136:58","name":"Intensive Care Unit","preserve":true}},{"localId":"307","locator":"137:13-137:75","type":"IncludedIn","operand":[{"localId":"304","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"306","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","source":{"localId":"305","locator":"137:52-137:60","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"312","locator":"138:7-138:37","by":[{"localId":"311","locator":"138:15-138:37","direction":"asc","type":"ByExpression","expression":{"localId":"310","locator":"138:15-138:37","type":"Start","operand":{"localId":"309","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"295","locator":"134:61-134:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"333","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"333","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function ","\"NormalizeInterval\"","(","pointInTime"," "]},{"r":"316","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"318","s":[{"value":["Interval\u003c"]},{"r":"317","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"332","s":[{"r":"332","s":[{"value":["if "]},{"r":"320","s":[{"r":"319","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"323","s":[{"value":["Interval["]},{"r":"321","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"322","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"331","s":[{"value":["if "]},{"r":"325","s":[{"r":"324","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"326","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"330","s":[{"r":"327","value":["null"," as "]},{"r":"329","s":[{"value":["Interval\u003c"]},{"r":"328","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"expression":{"localId":"332","locator":"143:3-145:35","type":"If","condition":{"localId":"320","locator":"143:6-143:28","type":"Not","operand":{"locator":"143:6-143:28","type":"IsNull","operand":{"localId":"319","locator":"143:6-143:16","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"323","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"321","locator":"143:44-143:54","name":"pointInTime","type":"OperandRef"},"high":{"localId":"322","locator":"143:57-143:67","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"331","locator":"144:10-145:35","type":"If","condition":{"localId":"325","locator":"144:13-144:30","type":"Not","operand":{"locator":"144:13-144:30","type":"IsNull","operand":{"localId":"324","locator":"144:13-144:18","name":"period","type":"OperandRef"}}},"then":{"localId":"326","locator":"144:37-144:42","name":"period","type":"OperandRef"},"else":{"localId":"330","locator":"145:10-145:35","strict":false,"type":"As","operand":{"localId":"327","locator":"145:10-145:13","type":"Null"},"asTypeSpecifier":{"localId":"329","locator":"145:18-145:35","type":"IntervalTypeSpecifier","pointType":{"localId":"328","locator":"145:27-145:34","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"316","locator":"142:49-142:56","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"318","locator":"142:66-142:83","type":"IntervalTypeSpecifier","pointType":{"localId":"317","locator":"142:75-142:82","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"346","locator":"148:1-151:3","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"346","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function ","\"HasStart\"","(","period"," "]},{"r":"335","s":[{"value":["Interval\u003c"]},{"r":"334","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"345","s":[{"r":"345","s":[{"value":["not "]},{"r":"344","s":[{"value":["( "]},{"r":"344","s":[{"r":"338","s":[{"r":"337","s":[{"value":["start of "]},{"r":"336","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"343","s":[{"r":"340","s":[{"value":["start of "]},{"r":"339","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"342","s":[{"value":["minimum"," "]},{"r":"341","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"345","locator":"149:3-151:3","type":"Not","operand":{"localId":"344","locator":"149:7-151:3","type":"Or","operand":[{"localId":"338","locator":"149:9-149:31","type":"IsNull","operand":{"localId":"337","locator":"149:9-149:23","type":"Start","operand":{"localId":"336","locator":"149:18-149:23","name":"period","type":"OperandRef"}}},{"localId":"343","locator":"150:10-150:43","type":"Equal","operand":[{"localId":"340","locator":"150:10-150:24","type":"Start","operand":{"localId":"339","locator":"150:19-150:24","name":"period","type":"OperandRef"}},{"localId":"342","locator":"150:28-150:43","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"335","locator":"148:35-148:52","type":"IntervalTypeSpecifier","pointType":{"localId":"334","locator":"148:44-148:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"359","locator":"154:1-159:3","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"359","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function ","\"HasEnd\"","(","period"," "]},{"r":"348","s":[{"value":["Interval\u003c"]},{"r":"347","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"358","s":[{"r":"358","s":[{"value":["not "]},{"r":"357","s":[{"value":["( \n    "]},{"r":"357","s":[{"r":"351","s":[{"r":"350","s":[{"value":["end of "]},{"r":"349","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"356","s":[{"r":"353","s":[{"value":["end of "]},{"r":"352","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"355","s":[{"value":["maximum"," "]},{"r":"354","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"358","locator":"155:3-159:3","type":"Not","operand":{"localId":"357","locator":"155:7-159:3","type":"Or","operand":[{"localId":"351","locator":"156:5-156:25","type":"IsNull","operand":{"localId":"350","locator":"156:5-156:17","type":"End","operand":{"localId":"349","locator":"156:12-156:17","name":"period","type":"OperandRef"}}},{"localId":"356","locator":"158:7-158:38","type":"Equal","operand":[{"localId":"353","locator":"158:7-158:19","type":"End","operand":{"localId":"352","locator":"158:14-158:19","name":"period","type":"OperandRef"}},{"localId":"355","locator":"158:23-158:38","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"348","locator":"154:33-154:50","type":"IntervalTypeSpecifier","pointType":{"localId":"347","locator":"154:42-154:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"369","locator":"162:1-165:24","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"369","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function ","\"Latest\"","(","period"," "]},{"r":"361","s":[{"value":["Interval\u003c"]},{"r":"360","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"368","s":[{"r":"368","s":[{"value":["if "]},{"r":"363","s":[{"value":["( "]},{"r":"363","s":[{"value":["HasEnd","("]},{"r":"362","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"365","s":[{"value":["end of "]},{"r":"364","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"367","s":[{"value":["start of "]},{"r":"366","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"368","locator":"163:3-165:24","type":"If","condition":{"localId":"363","locator":"163:6-163:22","name":"HasEnd","type":"FunctionRef","operand":[{"localId":"362","locator":"163:15-163:20","name":"period","type":"OperandRef"}]},"then":{"localId":"365","locator":"164:3-164:15","type":"End","operand":{"localId":"364","locator":"164:10-164:15","name":"period","type":"OperandRef"}},"else":{"localId":"367","locator":"165:10-165:24","type":"Start","operand":{"localId":"366","locator":"165:19-165:24","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"361","locator":"162:33-162:50","type":"IntervalTypeSpecifier","pointType":{"localId":"360","locator":"162:42-162:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"379","locator":"168:1-171:15","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"379","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function ","\"Earliest\"","(","period"," "]},{"r":"371","s":[{"value":["Interval\u003c"]},{"r":"370","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"378","s":[{"r":"378","s":[{"value":["if "]},{"r":"373","s":[{"value":["( "]},{"r":"373","s":[{"value":["HasStart","("]},{"r":"372","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"375","s":[{"value":["start of "]},{"r":"374","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"377","s":[{"value":["end of "]},{"r":"376","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"378","locator":"169:3-171:15","type":"If","condition":{"localId":"373","locator":"169:6-169:24","name":"HasStart","type":"FunctionRef","operand":[{"localId":"372","locator":"169:17-169:22","name":"period","type":"OperandRef"}]},"then":{"localId":"375","locator":"169:31-169:45","type":"Start","operand":{"localId":"374","locator":"169:40-169:45","name":"period","type":"OperandRef"}},"else":{"localId":"377","locator":"171:3-171:15","type":"End","operand":{"localId":"376","locator":"171:10-171:15","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"371","locator":"168:35-168:52","type":"IntervalTypeSpecifier","pointType":{"localId":"370","locator":"168:44-168:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"387","locator":"174:1-175:48","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"387","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function ","\"LatestOf\"","(","pointInTime"," "]},{"r":"380","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"382","s":[{"value":["Interval\u003c"]},{"r":"381","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"386","s":[{"r":"386","s":[{"value":["Latest","("]},{"r":"385","s":[{"value":["NormalizeInterval","("]},{"r":"383","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"384","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"386","locator":"175:3-175:48","name":"Latest","type":"FunctionRef","operand":[{"localId":"385","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"383","locator":"175:28-175:38","name":"pointInTime","type":"OperandRef"},{"localId":"384","locator":"175:41-175:46","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"380","locator":"174:40-174:47","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"382","locator":"174:57-174:74","type":"IntervalTypeSpecifier","pointType":{"localId":"381","locator":"174:66-174:73","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"178:1-179:50","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function ","\"EarliestOf\"","(","pointInTime"," "]},{"r":"388","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"390","s":[{"value":["Interval\u003c"]},{"r":"389","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"394","s":[{"r":"394","s":[{"value":["Earliest","("]},{"r":"393","s":[{"value":["NormalizeInterval","("]},{"r":"391","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"392","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"394","locator":"179:3-179:50","name":"Earliest","type":"FunctionRef","operand":[{"localId":"393","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"391","locator":"179:30-179:40","name":"pointInTime","type":"OperandRef"},{"localId":"392","locator":"179:43-179:48","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"388","locator":"178:42-178:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"390","locator":"178:59-178:76","type":"IntervalTypeSpecifier","pointType":{"localId":"389","locator":"178:68-178:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"ref_id":"11"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"12"}],"node_type":"Retrieve","ref_id":"12"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"13"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"14"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"15"}],"node_type":"Property","ref_id":"15"},{"children":[{"text":" ends during day of "}],"ref_id":"17"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"16"}],"ref_id":"17"}],"ref_id":"17"}],"node_type":"Query","ref_id":"18"}],"ref_id":"19"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[]},{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"20"},{"children":[{"text":"\u003e"}]}],"ref_id":"21"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"22"}],"node_type":"Start","ref_id":"23"}],"ref_id":"24"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"25"}],"node_type":"End","ref_id":"26"}],"ref_id":"27"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"28"}],"node_type":"Interval","ref_id":"28"}],"ref_id":"29"}],"define_name":"ToDateInterval"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"30"},{"children":[{"text":"\u003e"}]}],"ref_id":"31"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"32"}],"node_type":"Start","ref_id":"33"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"34"}],"node_type":"End","ref_id":"35"}],"node_type":"DifferenceBetween","ref_id":"36"}],"node_type":"DifferenceBetween","ref_id":"36"}],"ref_id":"37"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"38"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"39"},{"children":[{"text":" Visit"}]}],"ref_id":"40"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"41"}],"node_type":"Retrieve","ref_id":"41"},{"children":[{"text":" LastED"}]}],"ref_id":"42"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"43"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"44"}],"node_type":"Property","ref_id":"44"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"48"},{"children":[{"text":" or less on or before"}]}],"ref_id":"49"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"45"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"46"}],"node_type":"Property","ref_id":"46"}],"node_type":"Start","ref_id":"47"}],"ref_id":"49"}],"ref_id":"49"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"50"}],"node_type":"End","ref_id":"51"}],"ref_id":"52"}],"ref_id":"53"}],"ref_id":"54"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"55"}],"ref_id":"56"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"57"},{"children":[{"text":" is null"}]}],"ref_id":"58"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"59"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"60"}],"ref_id":"60"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"61"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"62"}],"ref_id":"62"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"63"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"64"}],"ref_id":"64"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"65"}],"ref_id":"66"}],"node_type":"If","ref_id":"67"}],"ref_id":"68"}],"node_type":"Query","ref_id":"69"}],"node_type":"Query","ref_id":"69"}],"ref_id":"70"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"71"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"72"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"74"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"76"}],"ref_id":"76"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"77"}],"ref_id":"78"}],"ref_id":"78"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"79"}],"node_type":"Start","ref_id":"80"}],"ref_id":"81"}],"ref_id":"82"}],"ref_id":"83"},{"children":[{"text":"\n  )"}]}],"ref_id":"84"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"85"}],"node_type":"Property","ref_id":"85"}],"node_type":"Start","ref_id":"86"}],"node_type":"Start","ref_id":"86"}],"ref_id":"87"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"90"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"91"},{"children":[{"text":" Visit"}]}],"ref_id":"92"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"93"}],"node_type":"Retrieve","ref_id":"93"},{"children":[{"text":" LastED"}]}],"ref_id":"94"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"95"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"96"}],"node_type":"Property","ref_id":"96"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"100"},{"children":[{"text":" or less on or before"}]}],"ref_id":"101"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"97"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"98"}],"node_type":"Property","ref_id":"98"}],"node_type":"Start","ref_id":"99"}],"ref_id":"101"}],"ref_id":"101"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"102"}],"node_type":"End","ref_id":"103"}],"ref_id":"104"}],"ref_id":"105"}],"ref_id":"106"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"107"}],"ref_id":"108"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"109"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"110"}],"node_type":"Property","ref_id":"110"}],"node_type":"Start","ref_id":"111"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"112"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"113"}],"node_type":"Property","ref_id":"113"}],"node_type":"Start","ref_id":"114"},{"children":[{"text":")"}]}],"ref_id":"115"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"116"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"117"}],"node_type":"Property","ref_id":"117"}],"ref_id":"118"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"119"}],"ref_id":"120"}],"node_type":"Query","ref_id":"121"}],"node_type":"Query","ref_id":"121"}],"ref_id":"122"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"88"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"89"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"123"}],"node_type":"Start","ref_id":"124"}],"node_type":"Start","ref_id":"124"}],"ref_id":"125"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"126"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"127"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"129"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"130"}],"node_type":"Start","ref_id":"131"}],"ref_id":"132"}],"ref_id":"133"}],"ref_id":"134"},{"children":[{"text":"\n  )"}]}],"ref_id":"135"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"136"}],"node_type":"Property","ref_id":"136"}],"node_type":"Start","ref_id":"137"}],"node_type":"Start","ref_id":"137"}],"ref_id":"138"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"141"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"142"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"143"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"144"}],"node_type":"FunctionRef","ref_id":"144"}],"ref_id":"145"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"146"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"147"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"149"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"150"}],"node_type":"Start","ref_id":"151"}],"ref_id":"152"}],"ref_id":"153"}],"ref_id":"154"},{"children":[{"text":"\n  )"}]}],"ref_id":"155"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"156"}],"node_type":"Property","ref_id":"156"}],"node_type":"End","ref_id":"157"}],"node_type":"End","ref_id":"157"}],"ref_id":"158"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"159"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"160"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"161"}],"node_type":"Property","ref_id":"161"}],"node_type":"End","ref_id":"162"}],"node_type":"End","ref_id":"162"}],"ref_id":"163"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"164"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"165"},{"children":[{"text":" Visit"}]}],"ref_id":"166"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"167"}],"node_type":"Retrieve","ref_id":"167"},{"children":[{"text":" LastObs"}]}],"ref_id":"168"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"174"},{"children":[{"text":" or less on or before"}]}],"ref_id":"175"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"171"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"172"}],"node_type":"Property","ref_id":"172"}],"node_type":"Start","ref_id":"173"}],"ref_id":"175"}],"ref_id":"175"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"176"}],"node_type":"End","ref_id":"177"}],"ref_id":"178"}],"ref_id":"179"}],"ref_id":"180"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"181"}],"ref_id":"182"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"183"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"184"}],"node_type":"Property","ref_id":"184"}],"node_type":"Start","ref_id":"185"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"186"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"187"}],"node_type":"Property","ref_id":"187"}],"node_type":"Start","ref_id":"188"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"189"}],"ref_id":"190"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"191"}],"node_type":"Retrieve","ref_id":"191"},{"children":[{"text":" LastED"}]}],"ref_id":"192"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"193"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"194"}],"node_type":"Property","ref_id":"194"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"196"},{"children":[{"text":" or less on or before"}]}],"ref_id":"197"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"195"}],"ref_id":"197"}],"ref_id":"197"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"198"}],"node_type":"End","ref_id":"199"}],"ref_id":"200"}],"ref_id":"201"}],"ref_id":"202"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"203"}],"ref_id":"204"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"205"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"206"}],"node_type":"Property","ref_id":"206"}],"node_type":"Start","ref_id":"207"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"208"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"209"}],"ref_id":"210"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"211"}],"node_type":"Retrieve","ref_id":"211"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"212"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"213"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"214"}],"node_type":"Property","ref_id":"214"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"216"},{"children":[{"text":" or less on or before"}]}],"ref_id":"217"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"215"}],"ref_id":"217"}],"ref_id":"217"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"218"}],"node_type":"End","ref_id":"219"}],"ref_id":"220"}],"ref_id":"221"}],"ref_id":"222"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"223"}],"ref_id":"224"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"225"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"226"}],"node_type":"Property","ref_id":"226"}],"node_type":"Start","ref_id":"227"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"228"},{"children":[{"text":")"}]}],"ref_id":"229"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"230"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"231"}],"node_type":"Property","ref_id":"231"}],"ref_id":"232"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"233"}],"ref_id":"234"}],"node_type":"Query","ref_id":"235"}],"node_type":"Query","ref_id":"235"}],"ref_id":"236"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"237"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"238"},{"children":[{"text":" Visit"}]}],"ref_id":"239"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"240"}],"node_type":"Retrieve","ref_id":"240"},{"children":[{"text":" LastObs"}]}],"ref_id":"241"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"242"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"243"}],"node_type":"Property","ref_id":"243"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"247"},{"children":[{"text":" or less on or before"}]}],"ref_id":"248"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"245"}],"node_type":"Property","ref_id":"245"}],"node_type":"Start","ref_id":"246"}],"ref_id":"248"}],"ref_id":"248"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"249"}],"node_type":"End","ref_id":"250"}],"ref_id":"251"}],"ref_id":"252"}],"ref_id":"253"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"254"}],"ref_id":"255"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"256"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"257"}],"node_type":"Property","ref_id":"257"}],"node_type":"Start","ref_id":"258"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"259"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"260"}],"node_type":"Property","ref_id":"260"}],"node_type":"Start","ref_id":"261"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"262"}],"ref_id":"263"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"264"}],"node_type":"Retrieve","ref_id":"264"},{"children":[{"text":" LastED"}]}],"ref_id":"265"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"266"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"267"}],"node_type":"Property","ref_id":"267"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"269"},{"children":[{"text":" or less on or before"}]}],"ref_id":"270"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"268"}],"ref_id":"270"}],"ref_id":"270"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"271"}],"node_type":"End","ref_id":"272"}],"ref_id":"273"}],"ref_id":"274"}],"ref_id":"275"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"276"}],"ref_id":"277"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"278"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"279"}],"node_type":"Property","ref_id":"279"}],"node_type":"Start","ref_id":"280"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"281"},{"children":[{"text":")"}]}],"ref_id":"282"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"283"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"284"}],"node_type":"Property","ref_id":"284"}],"ref_id":"285"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"286"}],"ref_id":"287"}],"node_type":"Query","ref_id":"288"}],"node_type":"Query","ref_id":"288"}],"ref_id":"289"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"290"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"291"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"292"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"293"}],"node_type":"FunctionRef","ref_id":"293"}],"ref_id":"294"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"295"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"297"}],"node_type":"Property","ref_id":"297"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"297"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"298"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"299"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"300"}],"ref_id":"300"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"301"}],"node_type":"InValueSet","ref_id":"302"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"303"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"304"}],"node_type":"Property","ref_id":"304"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"307"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"305"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"306"}],"node_type":"Property","ref_id":"306"}],"node_type":"IncludedIn","ref_id":"307"}],"ref_id":"308"}],"ref_id":"308"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"309"}],"node_type":"Start","ref_id":"310"}],"ref_id":"311"}],"ref_id":"312"}],"ref_id":"313"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"314"}],"node_type":"First","ref_id":"314"}],"ref_id":"315"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"316"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"317"},{"children":[{"text":"\u003e"}]}],"ref_id":"318"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"319"},{"children":[{"text":" is not null"}]}],"ref_id":"320"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"321"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"322"},{"children":[{"text":"]"}]}],"ref_id":"323"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"324"},{"children":[{"text":" is not null"}]}],"ref_id":"325"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"326"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"327"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"328"},{"children":[{"text":"\u003e"}]}],"ref_id":"329"}],"ref_id":"330"}],"ref_id":"331"}],"node_type":"If","ref_id":"332"}],"node_type":"If","ref_id":"332"}],"ref_id":"333"}],"define_name":"NormalizeInterval"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"334"},{"children":[{"text":"\u003e"}]}],"ref_id":"335"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"336"}],"node_type":"Start","ref_id":"337"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"338"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"339"}],"node_type":"Start","ref_id":"340"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"341"}],"node_type":"MinValue","ref_id":"342"}],"node_type":"Equal","ref_id":"343"}],"node_type":"Or","ref_id":"344"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"344"}],"node_type":"Not","ref_id":"345"}],"node_type":"Not","ref_id":"345"}],"ref_id":"346"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"347"},{"children":[{"text":"\u003e"}]}],"ref_id":"348"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"349"}],"node_type":"End","ref_id":"350"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"351"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"352"}],"node_type":"End","ref_id":"353"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"354"}],"node_type":"MaxValue","ref_id":"355"}],"node_type":"Equal","ref_id":"356"}],"node_type":"Or","ref_id":"357"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"357"}],"node_type":"Not","ref_id":"358"}],"node_type":"Not","ref_id":"358"}],"ref_id":"359"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"360"},{"children":[{"text":"\u003e"}]}],"ref_id":"361"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"362"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"364"}],"ref_id":"365"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"366"}],"ref_id":"367"}],"node_type":"If","ref_id":"368"}],"node_type":"If","ref_id":"368"}],"ref_id":"369"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"370"},{"children":[{"text":"\u003e"}]}],"ref_id":"371"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"372"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"374"}],"ref_id":"375"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"376"}],"ref_id":"377"}],"node_type":"If","ref_id":"378"}],"node_type":"If","ref_id":"378"}],"ref_id":"379"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"380"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"381"},{"children":[{"text":"\u003e"}]}],"ref_id":"382"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"383"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"384"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"385"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"386"}],"node_type":"FunctionRef","ref_id":"386"}],"ref_id":"387"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"388"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"389"},{"children":[{"text":"\u003e"}]}],"ref_id":"390"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"391"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"392"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"394"}],"node_type":"FunctionRef","ref_id":"394"}],"ref_id":"395"}],"define_name":"EarliestOf"}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctionsQDM","library_version":"8.0.000","statement_dependencies":[{"_id":"68923aa3a83e15671c2c1160","statement_name":"NormalizeInterval"}]}],"created_at":null,"description":"This measure provides a standardized method for monitoring the performance of diagnostic CT to discourage unnecessarily high radiation doses, a risk factor for cancer, while preserving image quality. This measure is expressed as a percentage of CT exams that are out-of-range based on having either excessive radiation dose or inadequate image quality relative to evidence-based thresholds based on the clinical indication for the exam. All diagnostic CT exams of specified anatomic sites performed in hospital inpatient care settings are eligible. This eCQM requires the use of additional software to access primary data elements stored within radiology electronic health records and translate them into data elements that can be ingested by this eCQM. Additional details are included in the Guidance field.","hqmf_id":"8A6D044D-8DB3-0572-018D-D65DB35C0720","hqmf_set_id":"208FAA56-5CE9-4181-84D9-F100A5693062","hqmf_version_number":"2.0.000","main_cql_library":"AlaraCTIQR","measure_attributes":[{"code":"OTH","value":"1074","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"1074","media_type":"text/plain"}},{"code":"OTH","value":"3663e","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"3663e","media_type":"text/plain"}},{"code":"COPY","value":"The translation software was written and will be updated and maintained by Alara Imaging and will be accessible by creating a secure account through Alara’s website.\n\nCopyright (C) 2024 Alara Imaging, Inc. All Rights Reserved. \n\nThis Measure and related data specifications are owned by Alara Imaging, Inc. Alara Imaging, Inc. is not responsible for any use of the Measure. Alara Imaging, Inc. makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and Alara Imaging, Inc. has no liability to anyone who relies on such measures or specifications.\n\nThe Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices). Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by Alara Imaging, Inc. and are subject to a license at the discretion of Alara Imaging, Inc.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"The translation software was written and will be updated and maintained by Alara Imaging and will be accessible by creating a secure account through Alara’s website.\n\nCopyright (C) 2024 Alara Imaging, Inc. All Rights Reserved. \n\nThis Measure and related data specifications are owned by Alara Imaging, Inc. Alara Imaging, Inc. is not responsible for any use of the Measure. Alara Imaging, Inc. makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and Alara Imaging, Inc. has no liability to anyone who relies on such measures or specifications.\n\nThe Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices). Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by Alara Imaging, Inc. and are subject to a license at the discretion of Alara Imaging, Inc.","media_type":"text/plain"}},{"code":"DISC","value":"The Measure is not a clinical guideline, does not establish a standard of medical care, and has not been tested for all potential applications.\n\nAlara Imaging, Inc., the University of California San Francisco, and its members and users shall not be responsible for any use or accuracy of the Measure or any code contained within the Measure. THE MEASURE AND SPECIFICATIONS ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND. \n\nLimited proprietary coding is contained in the Measure specifications for convenience. Users of the proprietary code sets should obtain all necessary licenses from the owners of these code sets. Alara Imaging, Inc. disclaims all liability for use or accuracy of any third-party code contained in the specifications. CPT(R) contained in the Measure specifications is copyright 2004-2023 American Medical Association. LOINC(R) is copyright 2004-2023 Regenstrief Institute, Inc. SNOMED Clinical Terms(R) (SNOMED CT[R]) is copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 is copyright 2023 World Health Organization. All Rights Reserved. Due to technical limitations, registered trademarks are indicated by (R) or [R].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"The Measure is not a clinical guideline, does not establish a standard of medical care, and has not been tested for all potential applications.\n\nAlara Imaging, Inc., the University of California San Francisco, and its members and users shall not be responsible for any use or accuracy of the Measure or any code contained within the Measure. THE MEASURE AND SPECIFICATIONS ARE PROVIDED “AS IS” WITHOUT WARRANTY OF ANY KIND. \n\nLimited proprietary coding is contained in the Measure specifications for convenience. Users of the proprietary code sets should obtain all necessary licenses from the owners of these code sets. Alara Imaging, Inc. disclaims all liability for use or accuracy of any third-party code contained in the specifications. CPT(R) contained in the Measure specifications is copyright 2004-2023 American Medical Association. LOINC(R) is copyright 2004-2023 Regenstrief Institute, Inc. SNOMED Clinical Terms(R) (SNOMED CT[R]) is copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 is copyright 2023 World Health Organization. All Rights Reserved. Due to technical limitations, registered trademarks are indicated by (R) or [R].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"INTERM-OM","title":"INTERM-OM"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Diagnostic imaging using CT occurs in more than a third of acute care hospitalizations in the U.S. (Vance, 2013) and greater than 90 million scans are performed annually in the U.S. (IMV, 2019 ). There is marked observed variation in the radiation doses used to perform these exams (Smith-Bindman, 2019). The inconsistency in how CT exams are performed represents a significant, unnecessary, and modifiable iatrogenic health risk, as there is extensive epidemiological and biological evidence that suggests exposure to radiation in the same range as that routinely delivered by CT increases a person's risk of developing cancer (Board of Radiation Effects, 2006; Grant, 2017; Hong, 2019; Sakata, 2019; Sadakane, 2019; Bernier, 2019; Meulepas, 2019; Brenner, 2020; Berrington de Gonzalez, 2020; Sugiyama, 2020; Hauptmann, 2020; Huang, 2020; Abalo, 2021; Cao, 2022; Hauptmann, 2023). It is estimated that 2% (37,000) of the 1.8 million cancers diagnosed annually in the U.S. are caused by CT exams (Berrington de Gonzalez, 2009; NCI Cancer Statistics, 2020).\n\nThe measure focuses on reducing radiation dose in CT, an intermediate outcome directly and proportionally related to cancer prevention. As radiation dose is known to be directly related and proportional to future cancer risk (Board of Radiation Effects, 2006; Berrington de Gonzalez, 2009), any reduction in radiation exposure would be expected to lead to a proportional reduction in cancers. Research suggests that when healthcare organizations and clinicians are provided with a summary of their CT radiation doses, their subsequent doses can be reduced without changing the usefulness of these tests (Smith-Bindman, 2020).\n\nOn the basis of the current estimated number of CT scans performed annually in the U.S. (IMV, 2019), distribution in scan types and observed doses (Demb, 2017; Smith-Bindman, 2019), modeling of the cancer risk associated with CT at different ages of exposure (Berrington de Gonzalez, 2009), and costs of cancer care (Dieguez, 2017; Mariotto, 2011), an estimated 13,982 cancers could be prevented among Medicare beneficiaries annually, resulting in $1.86 billion to $5.21 billion annual cost savings. These cost calculations were supported by more recent data on cancer survivorship and costs, which yielded an estimated $3.04 billion dollars in annual costs savings to Medicare. (Mariotto, 2020; NCI Office of Cancer Survivorship, 2022).","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Diagnostic imaging using CT occurs in more than a third of acute care hospitalizations in the U.S. (Vance, 2013) and greater than 90 million scans are performed annually in the U.S. (IMV, 2019 ). There is marked observed variation in the radiation doses used to perform these exams (Smith-Bindman, 2019). The inconsistency in how CT exams are performed represents a significant, unnecessary, and modifiable iatrogenic health risk, as there is extensive epidemiological and biological evidence that suggests exposure to radiation in the same range as that routinely delivered by CT increases a person's risk of developing cancer (Board of Radiation Effects, 2006; Grant, 2017; Hong, 2019; Sakata, 2019; Sadakane, 2019; Bernier, 2019; Meulepas, 2019; Brenner, 2020; Berrington de Gonzalez, 2020; Sugiyama, 2020; Hauptmann, 2020; Huang, 2020; Abalo, 2021; Cao, 2022; Hauptmann, 2023). It is estimated that 2% (37,000) of the 1.8 million cancers diagnosed annually in the U.S. are caused by CT exams (Berrington de Gonzalez, 2009; NCI Cancer Statistics, 2020).\n\nThe measure focuses on reducing radiation dose in CT, an intermediate outcome directly and proportionally related to cancer prevention. As radiation dose is known to be directly related and proportional to future cancer risk (Board of Radiation Effects, 2006; Berrington de Gonzalez, 2009), any reduction in radiation exposure would be expected to lead to a proportional reduction in cancers. Research suggests that when healthcare organizations and clinicians are provided with a summary of their CT radiation doses, their subsequent doses can be reduced without changing the usefulness of these tests (Smith-Bindman, 2020).\n\nOn the basis of the current estimated number of CT scans performed annually in the U.S. (IMV, 2019), distribution in scan types and observed doses (Demb, 2017; Smith-Bindman, 2019), modeling of the cancer risk associated with CT at different ages of exposure (Berrington de Gonzalez, 2009), and costs of cancer care (Dieguez, 2017; Mariotto, 2011), an estimated 13,982 cancers could be prevented among Medicare beneficiaries annually, resulting in $1.86 billion to $5.21 billion annual cost savings. These cost calculations were supported by more recent data on cancer survivorship and costs, which yielded an estimated $3.04 billion dollars in annual costs savings to Medicare. (Mariotto, 2020; NCI Office of Cancer Survivorship, 2022).","media_type":"text/plain"}},{"code":"CRS","value":"The measure aligns with numerous evidence- and consensus-based clinical guidelines asking radiologists to track, optimize, and lower CT radiation doses, guidelines that have been written by the American College of Radiology (Kanal, 2017), cardiovascular imaging societies (Hirshfeld, 2018, references a, b and c noted below), Image Gently Alliance, an initiative begun by the American College of Radiology, the Radiological Society of North America, American Society of Radiologic Technologists, the American Association of Physicists in Medicine, and the Society of Pediatric Radiology, which dozens of U.S. and international organizations have joined as recently as 2020 (Image Gently Alliance, 2022), and the US Food and Drug Administration (FDA, 2019).\n\nThis measure has been strongly supported by a Technical Expert Panel (TEP) comprising a diverse group of clinicians, patient advocates, and leaders of medical specialty societies, payers, and healthcare safety and accrediting organizations, all of whom were engaged through every stage of measure conceptualization, development, and testing. In assessing the face validity of the measure, 100% of TEP members agreed radiation dose and global noise are relevant metrics of CT quality, that size is an appropriate method of risk adjustment, and that performance on this measure of radiation dose and image quality as specified is a representation of quality.","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"The measure aligns with numerous evidence- and consensus-based clinical guidelines asking radiologists to track, optimize, and lower CT radiation doses, guidelines that have been written by the American College of Radiology (Kanal, 2017), cardiovascular imaging societies (Hirshfeld, 2018, references a, b and c noted below), Image Gently Alliance, an initiative begun by the American College of Radiology, the Radiological Society of North America, American Society of Radiologic Technologists, the American Association of Physicists in Medicine, and the Society of Pediatric Radiology, which dozens of U.S. and international organizations have joined as recently as 2020 (Image Gently Alliance, 2022), and the US Food and Drug Administration (FDA, 2019).\n\nThis measure has been strongly supported by a Technical Expert Panel (TEP) comprising a diverse group of clinicians, patient advocates, and leaders of medical specialty societies, payers, and healthcare safety and accrediting organizations, all of whom were engaged through every stage of measure conceptualization, development, and testing. In assessing the face validity of the measure, 100% of TEP members agreed radiation dose and global noise are relevant metrics of CT quality, that size is an appropriate method of risk adjustment, and that performance on this measure of radiation dose and image quality as specified is a representation of quality.","media_type":"text/plain"}},{"code":"IDUR","value":"Lower score indicates higher quality, and a decreased score over time indicates improvement","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Lower score indicates higher quality, and a decreased score over time indicates improvement","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBerrington de González, A., Mahesh, M., Kim, K. P., Bhargavan, M., Lewis, R., Mettler, F., \u0026 Land, C. (2009). Projected cancer risks from computed tomographic scans performed in the United States in 2007. Archives of internal medicine, 169(22), 2071–2077. https://doi.org/10.1001/archinternmed.2009.440","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBerrington de González, A., Mahesh, M., Kim, K. P., Bhargavan, M., Lewis, R., Mettler, F., \u0026 Land, C. (2009). Projected cancer risks from computed tomographic scans performed in the United States in 2007. Archives of internal medicine, 169(22), 2071–2077. https://doi.org/10.1001/archinternmed.2009.440","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBoard of Radiation Effects Research Division on Earth and Life Sciences National Research Council of the National Academies. (2006). Health Risks from Exposure to Low Levels of Ionizing Radiation: BEIR VII Phase 2, Washington, D.C.: The National Academies Press.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBoard of Radiation Effects Research Division on Earth and Life Sciences National Research Council of the National Academies. (2006). Health Risks from Exposure to Low Levels of Ionizing Radiation: BEIR VII Phase 2, Washington, D.C.: The National Academies Press.","media_type":"text/plain"}},{"code":"REF","value":"CITATION'Demb, J., Chu, P., Nelson, T., Hall, D., Seibert, A., Lamba, R., … Smith-Bindman, R. (2017). Optimizing radiation doses for computed tomography across institutions: dose auditing and best practices. JAMA internal medicine, 177(6), 810–817. https://doi.org/10.1001/jamainternmed.2017.0445","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION'Demb, J., Chu, P., Nelson, T., Hall, D., Seibert, A., Lamba, R., … Smith-Bindman, R. (2017). Optimizing radiation doses for computed tomography across institutions: dose auditing and best practices. JAMA internal medicine, 177(6), 810–817. https://doi.org/10.1001/jamainternmed.2017.0445","media_type":"text/plain"}},{"code":"REF","value":"CITATIONDieguez, G., Ferro, C., \u0026 Pyenson, B. (2017, April 10). Milliman Research Report: A Multi-Year Look at the Cost Burden of Cancer Care. Milliman. Retrieved from https://www.milliman.com/en/insight/2017/a-multi-year-look-at-the-cost-burden-of-cancer-care","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONDieguez, G., Ferro, C., \u0026 Pyenson, B. (2017, April 10). Milliman Research Report: A Multi-Year Look at the Cost Burden of Cancer Care. Milliman. Retrieved from https://www.milliman.com/en/insight/2017/a-multi-year-look-at-the-cost-burden-of-cancer-care","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHong, J. Y., Han, K., Jung, J. H., \u0026 Kim, J. S. (2019). Association of exposure to diagnostic low-dose ionizing radiation with risk of cancer among youths in South Korea. JAMA network open, 2(9), e1910584. https://doi.org/10.1001/jamanetworkopen.2019.10584","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHong, J. Y., Han, K., Jung, J. H., \u0026 Kim, J. S. (2019). Association of exposure to diagnostic low-dose ionizing radiation with risk of cancer among youths in South Korea. JAMA network open, 2(9), e1910584. https://doi.org/10.1001/jamanetworkopen.2019.10584","media_type":"text/plain"}},{"code":"REF","value":"CITATIONIMV 2019 CT Market Outlook Report. (2019). Retrieved from https://imvinfo.com/product/2019-ct-market-outlook-report/","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONIMV 2019 CT Market Outlook Report. (2019). Retrieved from https://imvinfo.com/product/2019-ct-market-outlook-report/","media_type":"text/plain"}},{"code":"REF","value":"CITATIONKanal, K. M., Butler, P. F., Sengupta, D., Bhargavan-Chatfield, M., Coombs, L. P., \u0026 Morin, R. L. (2017). U.S. diagnostic reference levels and achievable doses for 10 adult CT examinations. Radiology, 284(1), 120–133. https://doi.org/10.1148/radiol.2017161911","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONKanal, K. M., Butler, P. F., Sengupta, D., Bhargavan-Chatfield, M., Coombs, L. P., \u0026 Morin, R. L. (2017). U.S. diagnostic reference levels and achievable doses for 10 adult CT examinations. Radiology, 284(1), 120–133. https://doi.org/10.1148/radiol.2017161911","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMariotto, A. B., Yabroff, K. R., Shao, Y., Feuer, E. J., \u0026 Brown, M. L. (2011). Projections of the cost of cancer care in the United States: 2010-2020. Journal of the National Cancer Institute, 103(2), 117–128. https://doi.org/10.1093/jnci/djq495","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMariotto, A. B., Yabroff, K. R., Shao, Y., Feuer, E. J., \u0026 Brown, M. L. (2011). Projections of the cost of cancer care in the United States: 2010-2020. Journal of the National Cancer Institute, 103(2), 117–128. https://doi.org/10.1093/jnci/djq495","media_type":"text/plain"}},{"code":"REF","value":"CITATIONNational Cancer Institute. (2020, September 25). Cancer Statistics. Retrieved from https://www.cancer.gov/about-cancer/understanding/statistics","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONNational Cancer Institute. (2020, September 25). Cancer Statistics. Retrieved from https://www.cancer.gov/about-cancer/understanding/statistics","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSmith-Bindman, R., Wang, Y., Chu, P., Chung, R., Einstein, A. J., Balcombe, J., … Miglioretti, D. L. (2019). International variation in radiation dose for computed tomography examinations: prospective cohort study. BMJ (Clinical research ed.), 364, k4931. https://doi.org/10.1136/bmj.k4931","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSmith-Bindman, R., Wang, Y., Chu, P., Chung, R., Einstein, A. J., Balcombe, J., … Miglioretti, D. L. (2019). International variation in radiation dose for computed tomography examinations: prospective cohort study. BMJ (Clinical research ed.), 364, k4931. https://doi.org/10.1136/bmj.k4931","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSmith-Bindman, R., Chu, P., Wang, Y., Chung, R., Lopez-Solano, N., Einstein, A. J., … Miglioretti, D. L. (2020). Comparison of the effectiveness of single-Ccomponent and multicomponent interventions for reducing radiation doses in patients undergoing computed tomography: a randomized clinical trial. JAMA internal medicine, 180(5), 666–675. https://doi.org/10.1001/jamainternmed.2020.0064","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSmith-Bindman, R., Chu, P., Wang, Y., Chung, R., Lopez-Solano, N., Einstein, A. J., … Miglioretti, D. L. (2020). Comparison of the effectiveness of single-Ccomponent and multicomponent interventions for reducing radiation doses in patients undergoing computed tomography: a randomized clinical trial. JAMA internal medicine, 180(5), 666–675. https://doi.org/10.1001/jamainternmed.2020.0064","media_type":"text/plain"}},{"code":"REF","value":"CITATIONU.S. Food and Drug Administration. (2019, June 14) White Paper: Initiative to Reduce Unnecessary Radiation Exposure from Medical Imaging. Retrieved from https://www.fda.gov/radiation-emitting-products/initiative-reduce-unnecessary-radiation-exposure-medical-imaging/white-paper-initiative-reduce-unnecessary-radiation-exposure-medical-imaging","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONU.S. Food and Drug Administration. (2019, June 14) White Paper: Initiative to Reduce Unnecessary Radiation Exposure from Medical Imaging. Retrieved from https://www.fda.gov/radiation-emitting-products/initiative-reduce-unnecessary-radiation-exposure-medical-imaging/white-paper-initiative-reduce-unnecessary-radiation-exposure-medical-imaging","media_type":"text/plain"}},{"code":"REF","value":"CITATIONVance, E. A., Xie, X., Henry, A., Wernz, C., \u0026 Slonim, A. D. (2013). Computed tomography scan use variation: patient, hospital, and geographic factors. The American journal of managed care, 19(3), e93–e99.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONVance, E. A., Xie, X., Henry, A., Wernz, C., \u0026 Slonim, A. D. (2013). Computed tomography scan use variation: patient, hospital, and geographic factors. The American journal of managed care, 19(3), e93–e99.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHirshfeld, J. W. (a), Jr, Ferrari, V. A., Bengel, F. M., Bergersen, L., Chambers, C. E., Einstein, A. J., … Wiggins, B. S. (2018). 2018 ACC/HRS/NASCI/SCAI/SCCT Expert consensus document on optimal use of ionizing radiation in cardiovascular imaging-best practices for safety and effectiveness, part 2: radiological equipment operation, dose-sparing methodologies, patient and medical personnel protection. Catheterization and cardiovascular interventions: official journal of the Society for Cardiac Angiography \u0026 Interventions, 92(2), 222–246. https://doi.org/10.1002/ccd.27661","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHirshfeld, J. W. (a), Jr, Ferrari, V. A., Bengel, F. M., Bergersen, L., Chambers, C. E., Einstein, A. J., … Wiggins, B. S. (2018). 2018 ACC/HRS/NASCI/SCAI/SCCT Expert consensus document on optimal use of ionizing radiation in cardiovascular imaging-best practices for safety and effectiveness, part 2: radiological equipment operation, dose-sparing methodologies, patient and medical personnel protection. Catheterization and cardiovascular interventions: official journal of the Society for Cardiac Angiography \u0026 Interventions, 92(2), 222–246. https://doi.org/10.1002/ccd.27661","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHirshfeld, J. W. (b), Jr, Ferrari, V. A., Bengel, F. M., Bergersen, L., Chambers, C. E., Einstein, A. J., … Wann, L. S. (2018). 2018 ACC/HRS/NASCI/SCAI/SCCT Expert consensus document on optimal use of ionizing radiation in cardiovascular imaging: best practices for safety and effectiveness: a report of the American College of Cardiology task force on expert consensus decision pathways. Journal of the American College of Cardiology, 71(24), e283–e351. https://doi.org/10.1016/j.jacc.2018.02.016","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHirshfeld, J. W. (b), Jr, Ferrari, V. A., Bengel, F. M., Bergersen, L., Chambers, C. E., Einstein, A. J., … Wann, L. S. (2018). 2018 ACC/HRS/NASCI/SCAI/SCCT Expert consensus document on optimal use of ionizing radiation in cardiovascular imaging: best practices for safety and effectiveness: a report of the American College of Cardiology task force on expert consensus decision pathways. Journal of the American College of Cardiology, 71(24), e283–e351. https://doi.org/10.1016/j.jacc.2018.02.016","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHirshfeld, J. W. (c), Jr, Ferrari, V. A., Bengel, F. M., Bergersen, L., Chambers, C. E., Einstein, A. J., … Wann, L. S. (2018). 2018 ACC/HRS/NASCI/SCAI/SCCT Expert consensus document on optimal use of ionizing radiation in cardiovascular imaging-best practices for safety and effectiveness, part 1: radiation physics and radiation biology: a report of the American College of Cardiology task force on expert consensus decision Ppathways. Journal of the American College of Cardiology, 71(24), 2811–2828. https://doi.org/10.1016/j.jacc.2018.02.017","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHirshfeld, J. W. (c), Jr, Ferrari, V. A., Bengel, F. M., Bergersen, L., Chambers, C. E., Einstein, A. J., … Wann, L. S. (2018). 2018 ACC/HRS/NASCI/SCAI/SCCT Expert consensus document on optimal use of ionizing radiation in cardiovascular imaging-best practices for safety and effectiveness, part 1: radiation physics and radiation biology: a report of the American College of Cardiology task force on expert consensus decision Ppathways. Journal of the American College of Cardiology, 71(24), 2811–2828. https://doi.org/10.1016/j.jacc.2018.02.017","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAbalo, K. D., Rage, E., Leuraud, K., Richardson, D. B., Le Pointe, H. D., Laurier, D., \u0026 Bernier, M. O. (2021). Early life ionizing radiation exposure and cancer risks: systematic review and meta-analysis. Pediatric radiology, 51(1), 45–56. https://doi.org/10.1007/s00247-020-04803-0","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAbalo, K. D., Rage, E., Leuraud, K., Richardson, D. B., Le Pointe, H. D., Laurier, D., \u0026 Bernier, M. O. (2021). Early life ionizing radiation exposure and cancer risks: systematic review and meta-analysis. Pediatric radiology, 51(1), 45–56. https://doi.org/10.1007/s00247-020-04803-0","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBernier, M. O., Baysson, H., Pearce, M. S., Moissonnier, M., Cardis, E., Hauptmann, M., … Kesminiene, A. (2019). Cohort Profile: the EPI-CT study: a European pooled epidemiological study to quantify the risk of radiation-induced cancer from paediatric CT. International journal of epidemiology, 48(2), 379–381g. https://doi.org/10.1093/ije/dyy231","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBernier, M. O., Baysson, H., Pearce, M. S., Moissonnier, M., Cardis, E., Hauptmann, M., … Kesminiene, A. (2019). Cohort Profile: the EPI-CT study: a European pooled epidemiological study to quantify the risk of radiation-induced cancer from paediatric CT. International journal of epidemiology, 48(2), 379–381g. https://doi.org/10.1093/ije/dyy231","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBerrington de Gonzalez, A., Daniels, R. D., Cardis, E., Cullings, H. M., Gilbert, E., Hauptmann, M., … Schubauer-Berigan, M. K. (2020). Epidemiological studies of low-dose ionizing radiation and cancer: rationale and framework for the monograph and overview of eligible studies. Journal of the National Cancer Institute. Monographs, 2020(56), 97–113. https://doi.org/10.1093/jncimonographs/lgaa009","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBerrington de Gonzalez, A., Daniels, R. D., Cardis, E., Cullings, H. M., Gilbert, E., Hauptmann, M., … Schubauer-Berigan, M. K. (2020). Epidemiological studies of low-dose ionizing radiation and cancer: rationale and framework for the monograph and overview of eligible studies. Journal of the National Cancer Institute. Monographs, 2020(56), 97–113. https://doi.org/10.1093/jncimonographs/lgaa009","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBrenner, A. V., Sugiyama, H., Preston, D. L., Sakata, R., French, B., Sadakane, A., … Ozasa, K. (2020). Radiation risk of central nervous system tumors in the Life Span Study of atomic bomb survivors, 1958-2009. European journal of epidemiology, 35(6), 591–600. https://doi.org/10.1007/s10654-019-00599-y","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBrenner, A. V., Sugiyama, H., Preston, D. L., Sakata, R., French, B., Sadakane, A., … Ozasa, K. (2020). Radiation risk of central nervous system tumors in the Life Span Study of atomic bomb survivors, 1958-2009. European journal of epidemiology, 35(6), 591–600. https://doi.org/10.1007/s10654-019-00599-y","media_type":"text/plain"}},{"code":"REF","value":"CITATIONCao, C. F., Ma, K. L., Shan, H., Liu, T. F., Zhao, S. Q., Wan, Y., … Wang, H. Q. (2022). CT scans and cancer risks: a systematic review and dose-response meta-analysis. BMC cancer, 22(1), 1238. https://doi.org/10.1186/s12885-022-10310-2","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONCao, C. F., Ma, K. L., Shan, H., Liu, T. F., Zhao, S. Q., Wan, Y., … Wang, H. Q. (2022). CT scans and cancer risks: a systematic review and dose-response meta-analysis. BMC cancer, 22(1), 1238. https://doi.org/10.1186/s12885-022-10310-2","media_type":"text/plain"}},{"code":"REF","value":"CITATIONGrant, E. J., Brenner, A., Sugiyama, H., Sakata, R., Sadakane, A., Utada, M., … Ozasa, K. (2017). Solid Cancer Incidence among the Life Span Study of Atomic Bomb Survivors: 1958-2009. Radiation research, 187(5), 513–537. https://doi.org/10.1667/RR14492.1","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONGrant, E. J., Brenner, A., Sugiyama, H., Sakata, R., Sadakane, A., Utada, M., … Ozasa, K. (2017). Solid Cancer Incidence among the Life Span Study of Atomic Bomb Survivors: 1958-2009. Radiation research, 187(5), 513–537. https://doi.org/10.1667/RR14492.1","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHauptmann, M., Daniels, R. D., Cardis, E., Cullings, H. M., Kendall, G., Laurier, D., … Berrington de Gonzalez, A. (2020). Epidemiological studies of low-dose ionizing radiation and cancer: summary bias assessment and meta-analysis. Journal of the National Cancer Institute. Monographs, 2020(56), 188–200. https://doi.org/10.1093/jncimonographs/lgaa010","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHauptmann, M., Daniels, R. D., Cardis, E., Cullings, H. M., Kendall, G., Laurier, D., … Berrington de Gonzalez, A. (2020). Epidemiological studies of low-dose ionizing radiation and cancer: summary bias assessment and meta-analysis. Journal of the National Cancer Institute. Monographs, 2020(56), 188–200. https://doi.org/10.1093/jncimonographs/lgaa010","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHauptmann, M., Byrnes, G., Cardis, E., Bernier, M. O., Blettner, M., Dabin, J., … Kesminiene, A. (2023). Brain cancer after radiation exposure from CT examinations of children and young adults: results from the EPI-CT cohort study. The Lancet. Oncology, 24(1), 45–53. https://doi.org/10.1016/S1470-2045(22)00655-6","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHauptmann, M., Byrnes, G., Cardis, E., Bernier, M. O., Blettner, M., Dabin, J., … Kesminiene, A. (2023). Brain cancer after radiation exposure from CT examinations of children and young adults: results from the EPI-CT cohort study. The Lancet. Oncology, 24(1), 45–53. https://doi.org/10.1016/S1470-2045(22)00655-6","media_type":"text/plain"}},{"code":"REF","value":"CITATIONHuang, R., Liu, X., He, L., \u0026 Zhou, P. K. (2020). Radiation exposure associated with computed tomography in childhood and the subsequent risk of cancer: a meta-analysis of cohort studies. Dose-response: a publication of International Hormesis Society, 18(2), 1559325820923828. https://doi.org/10.1177/1559325820923828","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONHuang, R., Liu, X., He, L., \u0026 Zhou, P. K. (2020). Radiation exposure associated with computed tomography in childhood and the subsequent risk of cancer: a meta-analysis of cohort studies. Dose-response: a publication of International Hormesis Society, 18(2), 1559325820923828. https://doi.org/10.1177/1559325820923828","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMariotto, A. B., Enewold, L., Zhao, J., Zeruto, C. A., \u0026 Yabroff, K. R. (2020). Medical care costs associated with cancer survivorship in the United States. Cancer epidemiology, biomarkers \u0026 prevention: a publication of the American Association for Cancer Research, cosponsored by the American Society of Preventive Oncology, 29(7), 1304–1312. https://doi.org/10.1158/1055-9965.EPI-19-1534","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMariotto, A. B., Enewold, L., Zhao, J., Zeruto, C. A., \u0026 Yabroff, K. R. (2020). Medical care costs associated with cancer survivorship in the United States. Cancer epidemiology, biomarkers \u0026 prevention: a publication of the American Association for Cancer Research, cosponsored by the American Society of Preventive Oncology, 29(7), 1304–1312. https://doi.org/10.1158/1055-9965.EPI-19-1534","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMeulepas, J. M., Ronckers, C. M., Smets, A. M. J. B., Nievelstein, R. A. J., Gradowska, P., Lee, C., … Hauptmann, M. (2019). Radiation exposure from pediatric CT scans and subsequent cancer risk in the Netherlands. Journal of the National Cancer Institute, 111(3), 256–263. https://doi.org/10.1093/jnci/djy104","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMeulepas, J. M., Ronckers, C. M., Smets, A. M. J. B., Nievelstein, R. A. J., Gradowska, P., Lee, C., … Hauptmann, M. (2019). Radiation exposure from pediatric CT scans and subsequent cancer risk in the Netherlands. Journal of the National Cancer Institute, 111(3), 256–263. https://doi.org/10.1093/jnci/djy104","media_type":"text/plain"}},{"code":"REF","value":"CITATIONNational Cancer Institute Office of Cancer Survivorship. Statistics and Graphs. (2022, November 17). Retrieved from https://cancercontrol.cancer.gov/ocs/statistics#stats","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONNational Cancer Institute Office of Cancer Survivorship. Statistics and Graphs. (2022, November 17). Retrieved from https://cancercontrol.cancer.gov/ocs/statistics#stats","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSugiyama, H., Misumi, M., Brenner, A., Grant, E. J., Sakata, R., Sadakane, A., … Ozasa, K. (2020). Radiation risk of incident colorectal cancer by anatomical site among atomic bomb survivors: 1958-2009. International Journal of Cancer, 146(3), 635–645. https://doi.org/10.1002/ijc.32275","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSugiyama, H., Misumi, M., Brenner, A., Grant, E. J., Sakata, R., Sadakane, A., … Ozasa, K. (2020). Radiation risk of incident colorectal cancer by anatomical site among atomic bomb survivors: 1958-2009. International Journal of Cancer, 146(3), 635–645. https://doi.org/10.1002/ijc.32275","media_type":"text/plain"}},{"code":"REF","value":"CITATIONImage Gently Alliance, Strategic Agenda 2022-2027. (2022). Retrieved from http://www.imagegently.org/Portals/6/IGA%20Strategic%20Plan%201_10_22.pdf","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONImage Gently Alliance, Strategic Agenda 2022-2027. (2022). Retrieved from http://www.imagegently.org/Portals/6/IGA%20Strategic%20Plan%201_10_22.pdf","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSadakane, A. (a), French B., Brenner A.V., Preston, D. L., Sugiyama, H., Grant, E. J., … Ozasa, K.(2019) Radiation and risk of liver, biliary tract, and pancreatic cancers among atomic bomb survivors in Hiroshima and Nagasaki: 1958-2009. Radiat Res 192:299-310. https://doi.org/10.1667/RR15341.1","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSadakane, A. (a), French B., Brenner A.V., Preston, D. L., Sugiyama, H., Grant, E. J., … Ozasa, K.(2019) Radiation and risk of liver, biliary tract, and pancreatic cancers among atomic bomb survivors in Hiroshima and Nagasaki: 1958-2009. Radiat Res 192:299-310. https://doi.org/10.1667/RR15341.1","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSadakane, A. (b), Landes, R.D., Sakata, R., Nagano, J., Shore, R.E., \u0026 Ozasa, K. (2019) Medical radiation exposure among atomic bomb survivors: understanding its impact on risk estimates of atomic bomb radiation. Radiat Res 191:507-517. https://doi.org/10.1667/RR15054.1","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSadakane, A. (b), Landes, R.D., Sakata, R., Nagano, J., Shore, R.E., \u0026 Ozasa, K. (2019) Medical radiation exposure among atomic bomb survivors: understanding its impact on risk estimates of atomic bomb radiation. Radiat Res 191:507-517. https://doi.org/10.1667/RR15054.1","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSakata, R., Preston, D.L., Brenner, A.V., Sugiyama, H., Grant, E. J., Rajaraman, P., … Ozasa, K. (2019) Radiation-related risk of cancers of the upper digestive tract among Japanese atomic bomb Ssurvivors. Radiat Res 192:331-344. https://doi.org/10.1667/RR15386.1.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSakata, R., Preston, D.L., Brenner, A.V., Sugiyama, H., Grant, E. J., Rajaraman, P., … Ozasa, K. (2019) Radiation-related risk of cancers of the upper digestive tract among Japanese atomic bomb Ssurvivors. Radiat Res 192:331-344. https://doi.org/10.1667/RR15386.1.","media_type":"text/plain"}},{"code":"DEF","value":"CT Dose and Image Quality Category: reflects the type of exam performed based on body region and clinical indication. Each CT Dose and Image Quality Category has a specific set of dose and image quality (global noise) thresholds. \n\nCalculated CT Size-Adjusted Dose: reflects the total radiation dose received during CT, risk-adjusted by patient size. The Calculated CT Size-Adjusted Dose thresholds vary by the CT Dose and Image Quality Category. \n\nCalculated CT Global Noise: reflects the image quality of the CT. The Calculated CT Global Noise thresholds vary by the CT Dose and Image Quality Category.","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"CT Dose and Image Quality Category: reflects the type of exam performed based on body region and clinical indication. Each CT Dose and Image Quality Category has a specific set of dose and image quality (global noise) thresholds. \n\nCalculated CT Size-Adjusted Dose: reflects the total radiation dose received during CT, risk-adjusted by patient size. The Calculated CT Size-Adjusted Dose thresholds vary by the CT Dose and Image Quality Category. \n\nCalculated CT Global Noise: reflects the image quality of the CT. The Calculated CT Global Noise thresholds vary by the CT Dose and Image Quality Category.","media_type":"text/plain"}},{"code":"GUIDE","value":"This is an inverse measure; as such the higher the value the worse the performance. \n\nThe level of aggregation for this eCQM is the facility. A parallel eCQM measures CT exams aggregated at the level of the clinician or clinician group. A single CT exam may be simultaneously measured in both the MIPS and one of the hospital reporting programs (inpatient or outpatient); however, a single exam cannot be measured in both the inpatient and outpatient hospital quality reporting programs.   \n\nTRANSLATION SOFTWARE\n\nAs a radiology measure, the measure derives standardized data elements from structured fields within both the electronic health record (EHR) and the radiology electronic clinical data systems, including the Radiology Information System (RIS) and the Picture Archiving and Communication System (PACS). Primary imaging data including Radiation Dose Structured Reports and image pixel data are stored in the PACS in Digital Imaging and Communications in Medicine (DICOM) format, a universally adopted standard for medical imaging information. Because of limitations in their specifications and format, eCQMs cannot currently access and consume elements from these radiology sources in their original DICOM formats. Thus, translation software was developed to transform primary data into a format that the eCQM can consume. This eCQM requires the use of additional software (translation software) to access the primary data elements that are required for measure computation and translate them into data elements that can be ingested by this eCQM. The purpose of this translation software is to access and link these primary data elements with minimal site burden, assess each CT exam for eligibility based on initial population criteria, and generate the three data elements mapped to a clinical terminology for eCQM consumption: CT Dose and Image Quality Category, Calculated CT Size-Adjusted Dose, and Calculated CT Global Noise. The translation software necessary to use this eCQM is written and maintained by Alara Imaging, Inc. \n\nCODING\n\nThe translation software will create three variables required for measure computation including the CT Dose and Image Quality Category (LOINC(R) Code 96914-7), the Calculated CT Global Noise (LOINC(R) Code 96912-1) and the Calculated CT Size-Adjusted Dose (LOINC(R) Code 96913-9). These variables are defined in the Definition field above. These transformed data elements can be stored in the EHR. \n\nMEASURE CALCULATION\n\nThe measure will evaluate each included CT exam based on allowable thresholds that are specified by the CT Dose and Image Quality Category. An exam is considered out of range if either the Calculated CT Global Noise or the Calculated CT Size-Adjusted Dose is out of range for the CT Dose and Image Quality Category. Exams will be evaluated against their corresponding threshold, shown below with the following format: [Category shorthand (=CT Dose and Image Quality Category), threshold for the Calculated CT Global Noise in Hounsfield units, threshold for the Calculated CT Size-Adjusted Dose in dose length product].\n\n[LA31752-1 (=Abdomen and Pelvis, Low Dose), 64, 598];\n[LA31753-9 (=Abdomen and Pelvis, Routine Dose), 29, 644];\n[LA31754-7 (=Abdomen and Pelvis, High Dose), 29, 1260];\n[LA31755-4 (=Cardiac Low Dose), 55, 93];\n[LA31756-2 (=Cardiac Routine Dose), 32, 576];\n[LA31758-8 (=Chest Low Dose), 55, 377];\n[LA31759-6 (=Chest Routine Dose), 49, 377];\n[LA31761-2 (=Chest High Dose or Cardiac High Dose), 49, 1282];\n[LA31762-0 (=Head Low Dose), 115, 582];\n[LA31763-8 (=Head Routine Dose), 115, 1025];\n[LA31764-6 (=Head High Dose), 115, 1832];\n[LA31765-3 (=Upper or Lower Extremity), 73, 320];\n[LA31766-1 (=Neck or Cervical Spine), 25, 1260];\n[LA31767-9 (=Thoracic or Lumbar Spine), 25, 1260];\n[LA31768-7 (=Combined Chest, Abdomen and Pelvis), 29, 1637];\n[LA31851-1 (=Combined Thoracic and Lumbar Spine), 25, 2520];\n[LA31769-5 (=Combined Head and Neck, Routine Dose), 25, 2285];\n[LA31770-3 (=Combined Head and Neck, High Dose), 25, 3092]\n\nEXCLUSIONS\n\nCT scans with missing patient age or missing CT Dose and Image Quality Category (LOINC(R) 96914-7) are excluded from the initial population. CT scans with a missing Calculated Global Noise value or a missing Calculated CT Size-Adjusted Dose value are not included in the denominator. CT scans assigned a CT Dose and Image Quality Category (LOINC(R) 96914-7) value using the LOINC(R) answer list (LL5824-9) of full body (LA31771-1) are excluded from the denominator. These exams are included in the initial population because they have a non-missing CT Dose and Image Quality Category but are then removed as a Denominator Exclusion in the eCQM because the value is full body, which reflects CT exams that cannot be categorized by anatomical area or by clinical indication, either because they are simultaneous exams of multiple body regions outside of four commonly encountered multiple region groupings, or because there is insufficient data for their classification based on the given diagnosis and procedure codes.\n\nThis eCQM is an episode-based measure and should be reported for each eligible CT scan performed in a hospital inpatient setting.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"This is an inverse measure; as such the higher the value the worse the performance. \n\nThe level of aggregation for this eCQM is the facility. A parallel eCQM measures CT exams aggregated at the level of the clinician or clinician group. A single CT exam may be simultaneously measured in both the MIPS and one of the hospital reporting programs (inpatient or outpatient); however, a single exam cannot be measured in both the inpatient and outpatient hospital quality reporting programs.   \n\nTRANSLATION SOFTWARE\n\nAs a radiology measure, the measure derives standardized data elements from structured fields within both the electronic health record (EHR) and the radiology electronic clinical data systems, including the Radiology Information System (RIS) and the Picture Archiving and Communication System (PACS). Primary imaging data including Radiation Dose Structured Reports and image pixel data are stored in the PACS in Digital Imaging and Communications in Medicine (DICOM) format, a universally adopted standard for medical imaging information. Because of limitations in their specifications and format, eCQMs cannot currently access and consume elements from these radiology sources in their original DICOM formats. Thus, translation software was developed to transform primary data into a format that the eCQM can consume. This eCQM requires the use of additional software (translation software) to access the primary data elements that are required for measure computation and translate them into data elements that can be ingested by this eCQM. The purpose of this translation software is to access and link these primary data elements with minimal site burden, assess each CT exam for eligibility based on initial population criteria, and generate the three data elements mapped to a clinical terminology for eCQM consumption: CT Dose and Image Quality Category, Calculated CT Size-Adjusted Dose, and Calculated CT Global Noise. The translation software necessary to use this eCQM is written and maintained by Alara Imaging, Inc. \n\nCODING\n\nThe translation software will create three variables required for measure computation including the CT Dose and Image Quality Category (LOINC(R) Code 96914-7), the Calculated CT Global Noise (LOINC(R) Code 96912-1) and the Calculated CT Size-Adjusted Dose (LOINC(R) Code 96913-9). These variables are defined in the Definition field above. These transformed data elements can be stored in the EHR. \n\nMEASURE CALCULATION\n\nThe measure will evaluate each included CT exam based on allowable thresholds that are specified by the CT Dose and Image Quality Category. An exam is considered out of range if either the Calculated CT Global Noise or the Calculated CT Size-Adjusted Dose is out of range for the CT Dose and Image Quality Category. Exams will be evaluated against their corresponding threshold, shown below with the following format: [Category shorthand (=CT Dose and Image Quality Category), threshold for the Calculated CT Global Noise in Hounsfield units, threshold for the Calculated CT Size-Adjusted Dose in dose length product].\n\n[LA31752-1 (=Abdomen and Pelvis, Low Dose), 64, 598];\n[LA31753-9 (=Abdomen and Pelvis, Routine Dose), 29, 644];\n[LA31754-7 (=Abdomen and Pelvis, High Dose), 29, 1260];\n[LA31755-4 (=Cardiac Low Dose), 55, 93];\n[LA31756-2 (=Cardiac Routine Dose), 32, 576];\n[LA31758-8 (=Chest Low Dose), 55, 377];\n[LA31759-6 (=Chest Routine Dose), 49, 377];\n[LA31761-2 (=Chest High Dose or Cardiac High Dose), 49, 1282];\n[LA31762-0 (=Head Low Dose), 115, 582];\n[LA31763-8 (=Head Routine Dose), 115, 1025];\n[LA31764-6 (=Head High Dose), 115, 1832];\n[LA31765-3 (=Upper or Lower Extremity), 73, 320];\n[LA31766-1 (=Neck or Cervical Spine), 25, 1260];\n[LA31767-9 (=Thoracic or Lumbar Spine), 25, 1260];\n[LA31768-7 (=Combined Chest, Abdomen and Pelvis), 29, 1637];\n[LA31851-1 (=Combined Thoracic and Lumbar Spine), 25, 2520];\n[LA31769-5 (=Combined Head and Neck, Routine Dose), 25, 2285];\n[LA31770-3 (=Combined Head and Neck, High Dose), 25, 3092]\n\nEXCLUSIONS\n\nCT scans with missing patient age or missing CT Dose and Image Quality Category (LOINC(R) 96914-7) are excluded from the initial population. CT scans with a missing Calculated Global Noise value or a missing Calculated CT Size-Adjusted Dose value are not included in the denominator. CT scans assigned a CT Dose and Image Quality Category (LOINC(R) 96914-7) value using the LOINC(R) answer list (LL5824-9) of full body (LA31771-1) are excluded from the denominator. These exams are included in the initial population because they have a non-missing CT Dose and Image Quality Category but are then removed as a Denominator Exclusion in the eCQM because the value is full body, which reflects CT exams that cannot be categorized by anatomical area or by clinical indication, either because they are simultaneous exams of multiple body regions outside of four commonly encountered multiple region groupings, or because there is insufficient data for their classification based on the given diagnosis and procedure codes.\n\nThis eCQM is an episode-based measure and should be reported for each eligible CT scan performed in a hospital inpatient setting.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"All CT scans in adults aged 18 years and older at the start of the measurement period that have a CT Dose and Image Quality Category and were performed during an inpatient hospitalization during the measurement period","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"All CT scans in adults aged 18 years and older at the start of the measurement period that have a CT Dose and Image Quality Category and were performed during an inpatient hospitalization during the measurement period","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial population with a CT Dose and Image Quality Category, a Calculated Global Noise value, and a Calculated CT Size-Adjusted Dose value","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial population with a CT Dose and Image Quality Category, a Calculated Global Noise value, and a Calculated CT Size-Adjusted Dose value","media_type":"text/plain"}},{"code":"DENEX","value":"Denominator, where a CT scan with a CT Dose and Image Quality Category = full body","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Denominator, where a CT scan with a CT Dose and Image Quality Category = full body","media_type":"text/plain"}},{"code":"NUMER","value":"Calculated CT Size-Adjusted Dose greater than or equal to a threshold specific to the CT Dose and Image Quality Category, or Calculated CT Global Noise value greater than or equal to a threshold specific to the CT Dose and Image Quality Category","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Calculated CT Size-Adjusted Dose greater than or equal to a threshold specific to the CT Dose and Image Quality Category, or Calculated CT Global Noise value greater than or equal to a threshold specific to the CT Dose and Image Quality Category","media_type":"text/plain"}},{"code":"NUMEX","value":"Not Applicable","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"7E0D1FD0-BA47-4E91-B636-1B3E35B789CF","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"AlaraCTIQR__Initial_Population__9189B554_7C4A_4A5A_B1FA_9504C1957B35"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"CC4B1F38-AF8F-4441-B7FE-A60DC2026D7E","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"AlaraCTIQR__Denominator__9189B554_7C4A_4A5A_B1FA_9504C1957B35"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"AADF899F-CA38-43F8-BAB9-2E4824E08249","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"AlaraCTIQR__Numerator__9189B554_7C4A_4A5A_B1FA_9504C1957B35"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"B0E0D937-126D-4006-B942-E694F0F79009","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"AlaraCTIQR__Denominator_Exclusion__9189B554_7C4A_4A5A_B1FA_9504C1957B35"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"68923aa3a83e15671c2c1161","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"68923aa3a83e15671c2c1162","hqmf_id":"B0E0D937-126D-4006-B942-E694F0F79009","library_name":"AlaraCTIQR","statement_name":"Denominator Exclusion"},"DENOM":{"_id":"68923aa3a83e15671c2c1163","hqmf_id":"CC4B1F38-AF8F-4441-B7FE-A60DC2026D7E","library_name":"AlaraCTIQR","statement_name":"Denominator"},"IPP":{"_id":"68923aa3a83e15671c2c1164","hqmf_id":"7E0D1FD0-BA47-4E91-B636-1B3E35B789CF","library_name":"AlaraCTIQR","statement_name":"Initial Population"},"NUMER":{"_id":"68923aa3a83e15671c2c1165","hqmf_id":"AADF899F-CA38-43F8-BAB9-2E4824E08249","library_name":"AlaraCTIQR","statement_name":"Numerator"},"_id":"68923aa3a83e15671c2c1166","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"68923aa0a83e15671c2c1051","hqmf_id":"A95CFCFC-E3E9-42AE-84AA-1B80D5A1E71B","library_name":"AlaraCTIQR","statement_name":"SDE Ethnicity"},{"_id":"68923aa0a83e15671c2c1052","hqmf_id":"18BBDB1F-58F9-4E0D-A27C-0FB5CED796BD","library_name":"AlaraCTIQR","statement_name":"SDE Race"},{"_id":"68923aa0a83e15671c2c1053","hqmf_id":"67C363CB-219D-453E-B595-7CFAF97968F3","library_name":"AlaraCTIQR","statement_name":"SDE Sex"},{"_id":"68923aa0a83e15671c2c1054","hqmf_id":"322CA932-3F0D-48C9-A9BA-812B7F415AFA","library_name":"AlaraCTIQR","statement_name":"SDE Payer"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"68923aa3a83e15671c2c1167","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923aa3a83e15671c2c1167","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923aa3a83e15671c2c1168","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"68923aa3a83e15671c2c1168","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"68923aa3a83e15671c2c1169","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"68923aa3a83e15671c2c1169","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"68923aa3a83e15671c2c116a","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"68923aa3a83e15671c2c116a","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"68923aa3a83e15671c2c116b","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"68923aa3a83e15671c2c116b","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"68923aa3a83e15671c2c116c","_type":"QDM::DiagnosticStudyPerformed","authorDatetime":null,"codeListId":"drc-97d65efa49ab2274c791ab5ced9f033ae3901d511f4a0d760a099dded806668b","components":null,"dataElementCodes":[],"description":"Diagnostic Study, Performed: CT dose and image quality category","facilityLocation":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.23","id":"68923aa3a83e15671c2c116c","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"diagnostic_study","qdmStatus":"performed","qdmTitle":"Diagnostic Study, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"resultDatetime":null,"status":null}],"title":"Excessive Radiation Dose or Inadequate Image Quality for Diagnostic Computed Tomography (CT) in Adults (Facility IQR)","updated_at":null,"value_set_ids":["68923aa0a83e15671c2c1071","68923aa0a83e15671c2c1072","68923aa0a83e15671c2c1073","68923aa0a83e15671c2c1074","68923aa0a83e15671c2c1075","68923aa0a83e15671c2c1076","68923aa0a83e15671c2c1077","68923aa0a83e15671c2c1078","68923aa0a83e15671c2c1079","68923aa0a83e15671c2c107a","68923aa0a83e15671c2c107b","68923aa0a83e15671c2c107c","68923aa0a83e15671c2c107d","68923aa0a83e15671c2c107e","68923aa0a83e15671c2c107f","68923aa0a83e15671c2c1080","68923aa0a83e15671c2c1081","68923aa0a83e15671c2c1082","68923aa0a83e15671c2c1083","68923aa0a83e15671c2c1084","68923aa0a83e15671c2c1085","68923aa0a83e15671c2c1086","68923aa3a83e15671c2c1138","68923aa3a83e15671c2c1139","68923aa3a83e15671c2c113a","68923aa3a83e15671c2c113b","68923aa3a83e15671c2c113c","68923aa3a83e15671c2c113d","68923aa3a83e15671c2c113e","68923aa3a83e15671c2c113f","68923aa3a83e15671c2c1140"]}