{"_id":"68923fdda83e15671c2e7231","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS871v4","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"68923fd7a83e15671c2e6d70","cql":"library HospitalHarmHyperglycemiainHospitalizedPatients version '4.1.000'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude MATGlobalCommonFunctionsQDM version '8.0.000' called Global\r\n\r\nvalueset \"Comfort Measures\": 'urn:oid:1.3.6.1.4.1.33895.1.3.0.45'\r\nvalueset \"Diabetes\": 'urn:oid:2.16.840.1.113883.3.464.1003.103.12.1001'\r\nvalueset \"Discharged to Health Care Facility for Hospice Care\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.207'\r\nvalueset \"Discharged to Home for Hospice Care\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.209'\r\nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307'\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"Glucose Lab Test Mass Per Volume\": 'urn:oid:2.16.840.1.113762.1.4.1248.34'\r\nvalueset \"Hypoglycemics Treatment Medications\": 'urn:oid:2.16.840.1.113762.1.4.1196.394'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\n\r\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\r\n\r\ncontext Patient\r\n\r\ndefine \"Comfort Measures Care\":\r\n  [\"Intervention, Order\": \"Comfort Measures\"]\r\n    union [\"Intervention, Performed\": \"Comfort Measures\"]\r\n\r\ndefine \"Days in Hospitalization\":\r\n  \"Measurement Population\" EligibleInpatientHospitalization\r\n    let period: Global.\"HospitalizationWithObservation\" ( EligibleInpatientHospitalization ),\r\n    relevantPeriod: \"HospitalDaysMax10\"(period)\r\n    return Tuple {\r\n      encounter: EligibleInpatientHospitalization,\r\n      hospitalizationPeriod: period,\r\n      relevantPeriod: relevantPeriod,\r\n      relevantDays: \"DaysInPeriod\"(relevantPeriod)\r\n    }\r\n\r\ndefine \"Days with Glucose Results\":\r\n  \"Days in Hospitalization\" InpatientHospitalDays\r\n    return Tuple {\r\n      encounter: InpatientHospitalDays.encounter,\r\n      relevantPeriod: InpatientHospitalDays.relevantPeriod,\r\n      relevantDays: ( InpatientHospitalDays.relevantDays EncounterDay\r\n          return Tuple {\r\n            dayNumber: EncounterDay.dayNumber,\r\n            dayPeriod: EncounterDay.dayPeriod,\r\n            hasSevereResult: exists ( [\"Laboratory Test, Performed\": \"Glucose Lab Test Mass Per Volume\"] GlucoseTest\r\n                where GlucoseTest.result \u003e 300 'mg/dL'\r\n                  and Global.\"EarliestOf\" ( GlucoseTest.relevantDatetime, GlucoseTest.relevantPeriod ) during EncounterDay.dayPeriod\r\n            ),\r\n            hasElevatedResult: exists ( [\"Laboratory Test, Performed\": \"Glucose Lab Test Mass Per Volume\"] GlucoseTest\r\n                where GlucoseTest.result \u003e= 200 'mg/dL'\r\n                  and Global.\"EarliestOf\" ( GlucoseTest.relevantDatetime, GlucoseTest.relevantPeriod ) during EncounterDay.dayPeriod\r\n            ),\r\n            hasNoGlucoseTest: not exists ( [\"Laboratory Test, Performed\": \"Glucose Lab Test Mass Per Volume\"] GlucoseTest\r\n                where Global.\"EarliestOf\" ( GlucoseTest.relevantDatetime, GlucoseTest.relevantPeriod ) during EncounterDay.dayPeriod\r\n            )\r\n          }\r\n      )\r\n    }\r\n\r\ndefine \"Days with Hyperglycemic Events\":\r\n  \"Days with Glucose Results\" EncounterWithResultDays\r\n    let eligibleEventDays: EncounterWithResultDays.relevantDays EncounterDay\r\n      where EncounterDay.dayNumber \u003e 1\r\n      return Tuple {\r\n        dayNumber: EncounterDay.dayNumber,\r\n        dayPeriod: EncounterDay.dayPeriod,\r\n        hasHyperglycemicEvent: ( EncounterDay.hasSevereResult\r\n            or ( EncounterDay.hasNoGlucoseTest\r\n                and EncounterWithResultDays.relevantDays[EncounterDay.dayNumber - 2].hasElevatedResult\r\n                and EncounterWithResultDays.relevantDays[EncounterDay.dayNumber - 3].hasElevatedResult\r\n            )\r\n        )\r\n      }\r\n    return Tuple {\r\n      encounter: EncounterWithResultDays.encounter,\r\n      relevantPeriod: EncounterWithResultDays.relevantPeriod,\r\n      eligibleEventDays: eligibleEventDays\r\n    }\r\n\r\ndefine \"Denominator\":\r\n  \"Initial Population\"\r\n\r\ndefine \"Denominator Exclusions\":\r\n  \"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\"\r\n\r\ndefine \"Encounter with Comfort Measures during Hospitalization\":\r\n  \"Initial Population\" InpatientHospitalization\r\n    with \"Comfort Measures Care\" ComfortCare\r\n      such that Coalesce(start of Global.\"NormalizeInterval\"(ComfortCare.relevantDatetime, ComfortCare.relevantPeriod), ComfortCare.authorDatetime) during Global.\"HospitalizationWithObservation\" ( InpatientHospitalization )\r\n\r\ndefine \"Encounter with Discharge for Hospice Care\":\r\n  \"Initial Population\" InpatientHospitalization\r\n    where InpatientHospitalization.dischargeDisposition in \"Discharged to Home for Hospice Care\"\r\n      or InpatientHospitalization.dischargeDisposition in \"Discharged to Health Care Facility for Hospice Care\"\r\n\r\ndefine \"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\":\r\n  \"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start\"\r\n    union \"Encounter with Comfort Measures during Hospitalization\"\r\n    union \"Encounter with Discharge for Hospice Care\"\r\n\r\ndefine \"Encounter with Elevated Glucose Greater Than or Equal to 200\":\r\n  \"Encounter with Hospitalization Period\" Hospitalization\r\n    with [\"Laboratory Test, Performed\": \"Glucose Lab Test Mass Per Volume\"] GlucoseTest\r\n      such that Global.\"EarliestOf\" ( GlucoseTest.relevantDatetime, GlucoseTest.relevantPeriod ) during Hospitalization.hospitalizationPeriod\r\n        and GlucoseTest.result \u003e= 200 'mg/dL'\r\n    return Hospitalization.encounter\r\n\r\ndefine \"Encounter with Existing Diabetes Diagnosis\":\r\n  \"Encounter with Hospitalization Period\" Hospitalization\r\n    with [\"Diagnosis\": \"Diabetes\"] DiabetesCondition\r\n      such that DiabetesCondition.prevalencePeriod starts before end of Hospitalization.hospitalizationPeriod\r\n    return Hospitalization.encounter\r\n\r\ndefine \"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start\":\r\n  from\r\n    \"Initial Population\" InpatientHospitalization,\r\n    [\"Laboratory Test, Performed\": \"Glucose Lab Test Mass Per Volume\"] GlucoseTest\r\n    let GlucoseTestTime: Global.\"EarliestOf\" ( GlucoseTest.relevantDatetime, GlucoseTest.relevantPeriod ),\r\n    HospitalPeriod: Global.\"HospitalizationWithObservation\" ( InpatientHospitalization )\r\n    where GlucoseTest.result is not null\r\n      and GlucoseTest.result \u003e= 1000 'mg/dL'\r\n      and GlucoseTestTime during Interval[( start of HospitalPeriod - 1 hour ), ( start of HospitalPeriod + 6 hours )]\r\n      and GlucoseTestTime before end of InpatientHospitalization.relevantPeriod\r\n    return InpatientHospitalization\r\n\r\ndefine \"Encounter with Hospitalization Period\":\r\n  \"Qualifying Encounter\" QualifyingHospitalization\r\n    return Tuple {\r\n      encounter: QualifyingHospitalization,\r\n      hospitalizationPeriod: Global.\"HospitalizationWithObservation\" ( QualifyingHospitalization )\r\n    }\r\n\r\ndefine \"Encounter with Hyperglycemic Events\":\r\n  \"Days with Hyperglycemic Events\" HyperglycemicEventDays\r\n    where exists ( HyperglycemicEventDays.eligibleEventDays EligibleEventDay\r\n        where EligibleEventDay.hasHyperglycemicEvent\r\n    )\r\n    return HyperglycemicEventDays.encounter\r\n\r\ndefine \"Encounter with Hypoglycemic Medication\":\r\n  \"Encounter with Hospitalization Period\" Hospitalization\r\n    with [\"Medication, Administered\": \"Hypoglycemics Treatment Medications\"] HypoglycemicMedication\r\n      such that Global.\"NormalizeInterval\" ( HypoglycemicMedication.relevantDatetime, HypoglycemicMedication.relevantPeriod ) starts during Hospitalization.hospitalizationPeriod\r\n    return Hospitalization.encounter\r\n\r\ndefine \"Initial Population\":\r\n  \"Encounter with Existing Diabetes Diagnosis\"\r\n    union \"Encounter with Hypoglycemic Medication\"\r\n    union \"Encounter with Elevated Glucose Greater Than or Equal to 200\"\r\n\r\ndefine \"Measurement Population\":\r\n  \"Denominator\"\r\n\r\ndefine \"Numerator\":\r\n  \"Encounter with Hyperglycemic Events\"\r\n\r\ndefine \"Numerator Exclusions\":\r\n  \"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\"\r\n\r\ndefine \"Qualifying Encounter\":\r\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] InpatientEncounter\r\n    where InpatientEncounter.relevantPeriod ends during day of \"Measurement Period\"\r\n      and AgeInYearsAt(date from start of InpatientEncounter.relevantPeriod) \u003e= 18\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine function \"DaysInPeriod\"(Period Interval\u003cDateTime\u003e):\r\n  ( \"IntervalToDayNumbers\"(Period) ) DayNumber\r\n    let startPeriod: start of Period + ( 24 hours * ( DayNumber - 1 ) ),\r\n    endPeriod: if ( hours between startPeriod and end of Period \u003c 24 ) then startPeriod \r\n      else start of Period + ( 24 hours * DayNumber )\r\n    return Tuple {\r\n      dayNumber: DayNumber,\r\n      dayPeriod: Interval[startPeriod, endPeriod )\r\n    }\r\n\r\ndefine function \"IntervalToDayNumbers\"(Period Interval\u003cDateTime\u003e):\r\n  ( expand { Interval[1, days between start of Period and end of Period]} ) DayExpand\r\n    return end of DayExpand\r\n\r\ndefine function \"DenominatorObservations\"(QualifyingEncounter \"Encounter, Performed\"):\r\n  singleton from ( \"Days with Hyperglycemic Events\" EncounterWithEventDays\r\n      where EncounterWithEventDays.encounter = QualifyingEncounter\r\n      return Count(EncounterWithEventDays.eligibleEventDays)\r\n  )\r\n\r\ndefine function \"NumeratorObservations\"(QualifyingEncounter \"Encounter, Performed\"):\r\n  singleton from ( \"Days with Hyperglycemic Events\" EncounterWithEventDays\r\n      where EncounterWithEventDays.encounter = QualifyingEncounter\r\n      return Count(EncounterWithEventDays.eligibleEventDays EligibleEventDay\r\n          where EligibleEventDay.hasHyperglycemicEvent\r\n      )\r\n  )\r\n\r\ndefine function \"HospitalDaysMax10\"(Period Interval\u003cDateTime\u003e):\r\n  Interval[start of Period, Min({ \r\n    end of Period, start of Period + 10 days }\r\n  )]","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"470","s":[{"value":["","library HospitalHarmHyperglycemiainHospitalizedPatients version '4.1.000'"]}]}}],"identifier":{"id":"HospitalHarmHyperglycemiainHospitalizedPatients","version":"4.1.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:67","localIdentifier":"Global","path":"MATGlobalCommonFunctionsQDM","version":"8.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctionsQDM"]}]},{"value":[" version ","'8.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"16","locator":"19:1-19:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"15","s":[{"value":["Interval\u003c"]},{"r":"14","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"15","locator":"19:32-19:49","type":"IntervalTypeSpecifier","pointType":{"localId":"14","locator":"19:41-19:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"3","locator":"7:1-7:65","name":"Comfort Measures","id":"1.3.6.1.4.1.33895.1.3.0.45","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Comfort Measures\"",": ","'urn:oid:1.3.6.1.4.1.33895.1.3.0.45'"]}]}}]},{"localId":"4","locator":"8:1-8:71","name":"Diabetes","id":"2.16.840.1.113883.3.464.1003.103.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Diabetes\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.103.12.1001'"]}]}}]},{"localId":"5","locator":"9:1-9:107","name":"Discharged to Health Care Facility for Hospice Care","id":"2.16.840.1.113883.3.117.1.7.1.207","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Discharged to Health Care Facility for Hospice Care\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.207'"]}]}}]},{"localId":"6","locator":"10:1-10:91","name":"Discharged to Home for Hospice Care","id":"2.16.840.1.113883.3.117.1.7.1.209","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Discharged to Home for Hospice Care\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.209'"]}]}}]},{"localId":"7","locator":"11:1-11:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"8","locator":"12:1-12:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}]},{"localId":"9","locator":"13:1-13:84","name":"Glucose Lab Test Mass Per Volume","id":"2.16.840.1.113762.1.4.1248.34","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","valueset ","\"Glucose Lab Test Mass Per Volume\"",": ","'urn:oid:2.16.840.1.113762.1.4.1248.34'"]}]}}]},{"localId":"10","locator":"14:1-14:88","name":"Hypoglycemics Treatment Medications","id":"2.16.840.1.113762.1.4.1196.394","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","valueset ","\"Hypoglycemics Treatment Medications\"",": ","'urn:oid:2.16.840.1.113762.1.4.1196.394'"]}]}}]},{"localId":"11","locator":"15:1-15:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","valueset ","\"ONC Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1'"]}]}}]},{"localId":"12","locator":"16:1-16:60","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}]},{"localId":"13","locator":"17:1-17:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}]}]},"contexts":{"def":[{"locator":"21:1-21:15","name":"Patient"}]},"statements":{"def":[{"locator":"21:1-21:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"21:1-21:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"20","locator":"23:1-25:57","name":"Comfort Measures Care","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"20","s":[{"value":["","define ","\"Comfort Measures Care\"",":\n  "]},{"r":"19","s":[{"r":"17","s":[{"value":["[","\"Intervention, Order\"",": "]},{"s":[{"value":["\"Comfort Measures\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"18","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Comfort Measures\""]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"19","locator":"24:3-25:57","type":"Union","operand":[{"type":"As","operand":{"localId":"17","locator":"24:3-24:45","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","templateId":"PositiveInterventionOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"24:27-24:44","name":"Comfort Measures","preserve":true,"type":"ValueSetRef"}},"asTypeSpecifier":{"type":"ListTypeSpecifier","elementType":{"type":"ChoiceTypeSpecifier","choice":[{"name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}]}}},{"type":"As","operand":{"localId":"18","locator":"25:11-25:57","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"25:39-25:56","name":"Comfort Measures","preserve":true,"type":"ValueSetRef"}},"asTypeSpecifier":{"type":"ListTypeSpecifier","elementType":{"type":"ChoiceTypeSpecifier","choice":[{"name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}]}}}]}},{"localId":"36","locator":"162:1-165:82","name":"Qualifying Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"36","s":[{"value":["","define ","\"Qualifying Encounter\"",":\n  "]},{"r":"35","s":[{"s":[{"r":"22","s":[{"r":"21","s":[{"r":"21","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n    "]},{"r":"34","s":[{"value":["where "]},{"r":"34","s":[{"r":"26","s":[{"r":"24","s":[{"r":"23","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"24","s":[{"value":["relevantPeriod"]}]}]},{"r":"26","value":[" ","ends during day of"," "]},{"r":"25","s":[{"value":["\"Measurement Period\""]}]}]},{"value":["\n      and "]},{"r":"33","s":[{"r":"31","s":[{"value":["AgeInYearsAt","("]},{"r":"30","s":[{"value":["date from "]},{"r":"29","s":[{"value":["start of "]},{"r":"28","s":[{"r":"27","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"28","s":[{"value":["relevantPeriod"]}]}]}]}]},{"value":[")"]}]},{"r":"32","value":[" ","\u003e="," ","18"]}]}]}]}]}]}}],"expression":{"localId":"35","locator":"163:3-165:82","type":"Query","source":[{"localId":"22","locator":"163:3-163:68","alias":"InpatientEncounter","expression":{"localId":"21","locator":"163:3-163:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"163:28-163:48","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"34","locator":"164:5-165:82","type":"And","operand":[{"localId":"26","locator":"164:11-164:83","precision":"Day","type":"In","operand":[{"locator":"164:45-164:48","type":"End","operand":{"localId":"24","locator":"164:11-164:43","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}},{"localId":"25","locator":"164:64-164:83","name":"Measurement Period","type":"ParameterRef"}]},{"localId":"33","locator":"165:11-165:82","type":"GreaterOrEqual","operand":[{"localId":"31","locator":"165:11-165:76","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"30","locator":"165:24-165:75","type":"DateFrom","operand":{"localId":"29","locator":"165:34-165:75","type":"Start","operand":{"localId":"28","locator":"165:43-165:75","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}}}]},{"localId":"32","locator":"165:81-165:82","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"18","type":"Literal"}]}]}}},{"localId":"46","locator":"128:1-133:5","name":"Encounter with Hospitalization Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"46","s":[{"value":["","define ","\"Encounter with Hospitalization Period\"",":\n  "]},{"r":"45","s":[{"s":[{"r":"38","s":[{"r":"37","s":[{"s":[{"value":["\"Qualifying Encounter\""]}]}]},{"value":[" ","QualifyingHospitalization"]}]}]},{"value":["\n    "]},{"r":"44","s":[{"value":["return "]},{"r":"43","s":[{"value":["Tuple {\n      "]},{"s":[{"value":["encounter",": "]},{"r":"39","s":[{"value":["QualifyingHospitalization"]}]}]},{"value":[",\n      "]},{"s":[{"value":["hospitalizationPeriod",": "]},{"r":"42","s":[{"r":"40","s":[{"value":["Global"]}]},{"value":["."]},{"r":"42","s":[{"value":["\"HospitalizationWithObservation\""," ( "]},{"r":"41","s":[{"value":["QualifyingHospitalization"]}]},{"value":[" )"]}]}]}]},{"value":["\n    }"]}]}]}]}]}}],"expression":{"localId":"45","locator":"129:3-133:5","type":"Query","source":[{"localId":"38","locator":"129:3-129:50","alias":"QualifyingHospitalization","expression":{"localId":"37","locator":"129:3-129:24","name":"Qualifying Encounter","type":"ExpressionRef"}}],"relationship":[],"return":{"localId":"44","locator":"130:5-133:5","expression":{"localId":"43","locator":"130:12-133:5","type":"Tuple","element":[{"name":"encounter","value":{"localId":"39","locator":"131:18-131:42","name":"QualifyingHospitalization","type":"AliasRef"}},{"name":"hospitalizationPeriod","value":{"localId":"42","locator":"132:30-132:98","name":"HospitalizationWithObservation","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"41","locator":"132:72-132:96","name":"QualifyingHospitalization","type":"AliasRef"}]}}]}}}},{"localId":"62","locator":"110:1-114:36","name":"Encounter with Existing Diabetes Diagnosis","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"62","s":[{"value":["","define ","\"Encounter with Existing Diabetes Diagnosis\"",":\n  "]},{"r":"61","s":[{"s":[{"r":"48","s":[{"r":"47","s":[{"s":[{"value":["\"Encounter with Hospitalization Period\""]}]}]},{"value":[" ","Hospitalization"]}]}]},{"value":["\n    "]},{"r":"57","s":[{"value":["with "]},{"r":"50","s":[{"r":"49","s":[{"r":"49","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Diabetes\""]}]},{"value":["]"]}]}]},{"value":[" ","DiabetesCondition"]}]},{"value":["\n      such that "]},{"r":"56","s":[{"r":"52","s":[{"r":"51","s":[{"value":["DiabetesCondition"]}]},{"value":["."]},{"r":"52","s":[{"value":["prevalencePeriod"]}]}]},{"r":"56","value":[" ","starts before"," "]},{"r":"55","s":[{"value":["end of "]},{"r":"54","s":[{"r":"53","s":[{"value":["Hospitalization"]}]},{"value":["."]},{"r":"54","s":[{"value":["hospitalizationPeriod"]}]}]}]}]}]},{"value":["\n    "]},{"r":"60","s":[{"value":["return "]},{"r":"59","s":[{"r":"58","s":[{"value":["Hospitalization"]}]},{"value":["."]},{"r":"59","s":[{"value":["encounter"]}]}]}]}]}]}}],"expression":{"localId":"61","locator":"111:3-114:36","type":"Query","source":[{"localId":"48","locator":"111:3-111:57","alias":"Hospitalization","expression":{"localId":"47","locator":"111:3-111:41","name":"Encounter with Hospitalization Period","type":"ExpressionRef"}}],"relationship":[{"localId":"57","locator":"112:5-113:109","alias":"DiabetesCondition","type":"With","expression":{"localId":"49","locator":"112:10-112:34","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"112:24-112:33","name":"Diabetes","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"56","locator":"113:17-113:109","type":"Before","operand":[{"locator":"113:52-113:57","type":"Start","operand":{"localId":"52","locator":"113:17-113:50","path":"prevalencePeriod","scope":"DiabetesCondition","type":"Property"}},{"localId":"55","locator":"113:66-113:109","type":"End","operand":{"localId":"54","locator":"113:73-113:109","path":"hospitalizationPeriod","scope":"Hospitalization","type":"Property"}}]}}],"return":{"localId":"60","locator":"114:5-114:36","expression":{"localId":"59","locator":"114:12-114:36","path":"encounter","scope":"Hospitalization","type":"Property"}}}},{"localId":"82","locator":"142:1-146:36","name":"Encounter with Hypoglycemic Medication","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"82","s":[{"value":["","define ","\"Encounter with Hypoglycemic Medication\"",":\n  "]},{"r":"81","s":[{"s":[{"r":"65","s":[{"r":"64","s":[{"s":[{"value":["\"Encounter with Hospitalization Period\""]}]}]},{"value":[" ","Hospitalization"]}]}]},{"value":["\n    "]},{"r":"77","s":[{"value":["with "]},{"r":"67","s":[{"r":"66","s":[{"r":"66","s":[{"value":["[","\"Medication, Administered\"",": "]},{"s":[{"value":["\"Hypoglycemics Treatment Medications\""]}]},{"value":["]"]}]}]},{"value":[" ","HypoglycemicMedication"]}]},{"value":["\n      such that "]},{"r":"76","s":[{"r":"73","s":[{"r":"68","s":[{"value":["Global"]}]},{"value":["."]},{"r":"73","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"70","s":[{"r":"69","s":[{"value":["HypoglycemicMedication"]}]},{"value":["."]},{"r":"70","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"72","s":[{"r":"71","s":[{"value":["HypoglycemicMedication"]}]},{"value":["."]},{"r":"72","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"76","value":[" ","starts during"," "]},{"r":"75","s":[{"r":"74","s":[{"value":["Hospitalization"]}]},{"value":["."]},{"r":"75","s":[{"value":["hospitalizationPeriod"]}]}]}]}]},{"value":["\n    "]},{"r":"80","s":[{"value":["return "]},{"r":"79","s":[{"r":"78","s":[{"value":["Hospitalization"]}]},{"value":["."]},{"r":"79","s":[{"value":["encounter"]}]}]}]}]}]}}],"expression":{"localId":"81","locator":"143:3-146:36","type":"Query","source":[{"localId":"65","locator":"143:3-143:57","alias":"Hospitalization","expression":{"localId":"64","locator":"143:3-143:41","name":"Encounter with Hospitalization Period","type":"ExpressionRef"}}],"relationship":[{"localId":"77","locator":"144:5-145:177","alias":"HypoglycemicMedication","type":"With","expression":{"localId":"66","locator":"144:10-144:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationAdministered","templateId":"PositiveMedicationAdministered","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"144:39-144:75","name":"Hypoglycemics Treatment Medications","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"76","locator":"145:17-145:177","type":"In","operand":[{"locator":"145:127-145:132","type":"Start","operand":{"localId":"73","locator":"145:17-145:125","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"70","locator":"145:46-145:84","path":"relevantDatetime","scope":"HypoglycemicMedication","type":"Property"},{"localId":"72","locator":"145:87-145:123","path":"relevantPeriod","scope":"HypoglycemicMedication","type":"Property"}]}},{"localId":"75","locator":"145:141-145:177","path":"hospitalizationPeriod","scope":"Hospitalization","type":"Property"}]}}],"return":{"localId":"80","locator":"146:5-146:36","expression":{"localId":"79","locator":"146:12-146:36","path":"encounter","scope":"Hospitalization","type":"Property"}}}},{"localId":"108","locator":"103:1-108:36","name":"Encounter with Elevated Glucose Greater Than or Equal to 200","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"108","s":[{"value":["","define ","\"Encounter with Elevated Glucose Greater Than or Equal to 200\"",":\n  "]},{"r":"107","s":[{"s":[{"r":"86","s":[{"r":"85","s":[{"s":[{"value":["\"Encounter with Hospitalization Period\""]}]}]},{"value":[" ","Hospitalization"]}]}]},{"value":["\n    "]},{"r":"103","s":[{"value":["with "]},{"r":"88","s":[{"r":"87","s":[{"r":"87","s":[{"value":["[","\"Laboratory Test, Performed\"",": "]},{"s":[{"value":["\"Glucose Lab Test Mass Per Volume\""]}]},{"value":["]"]}]}]},{"value":[" ","GlucoseTest"]}]},{"value":["\n      such that "]},{"r":"102","s":[{"r":"97","s":[{"r":"94","s":[{"r":"89","s":[{"value":["Global"]}]},{"value":["."]},{"r":"94","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"91","s":[{"r":"90","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"91","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"93","s":[{"r":"92","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"93","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"97","value":[" ","during"," "]},{"r":"96","s":[{"r":"95","s":[{"value":["Hospitalization"]}]},{"value":["."]},{"r":"96","s":[{"value":["hospitalizationPeriod"]}]}]}]},{"value":["\n        and "]},{"r":"101","s":[{"r":"99","s":[{"r":"98","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"99","s":[{"value":["result"]}]}]},{"value":[" ","\u003e="," "]},{"r":"100","s":[{"value":["200 ","'mg/dL'"]}]}]}]}]},{"value":["\n    "]},{"r":"106","s":[{"value":["return "]},{"r":"105","s":[{"r":"104","s":[{"value":["Hospitalization"]}]},{"value":["."]},{"r":"105","s":[{"value":["encounter"]}]}]}]}]}]}}],"expression":{"localId":"107","locator":"104:3-108:36","type":"Query","source":[{"localId":"86","locator":"104:3-104:57","alias":"Hospitalization","expression":{"localId":"85","locator":"104:3-104:41","name":"Encounter with Hospitalization Period","type":"ExpressionRef"}}],"relationship":[{"localId":"103","locator":"105:5-107:45","alias":"GlucoseTest","type":"With","expression":{"localId":"87","locator":"105:10-105:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveLaboratoryTestPerformed","templateId":"PositiveLaboratoryTestPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"105:41-105:74","name":"Glucose Lab Test Mass Per Volume","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"102","locator":"106:17-107:45","type":"And","operand":[{"localId":"97","locator":"106:17-106:141","type":"In","operand":[{"localId":"94","locator":"106:17-106:96","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"91","locator":"106:39-106:66","path":"relevantDatetime","scope":"GlucoseTest","type":"Property"},{"localId":"93","locator":"106:69-106:94","path":"relevantPeriod","scope":"GlucoseTest","type":"Property"}]},{"localId":"96","locator":"106:105-106:141","path":"hospitalizationPeriod","scope":"Hospitalization","type":"Property"}]},{"localId":"101","locator":"107:13-107:45","type":"GreaterOrEqual","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Quantity","type":"As","operand":{"localId":"99","locator":"107:13-107:30","path":"result","scope":"GlucoseTest","type":"Property"}},{"localId":"100","locator":"107:35-107:45","value":200,"unit":"mg/dL","type":"Quantity"}]}]}}],"return":{"localId":"106","locator":"108:5-108:36","expression":{"localId":"105","locator":"108:12-108:36","path":"encounter","scope":"Hospitalization","type":"Property"}}}},{"localId":"111","locator":"148:1-151:72","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"111","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"110","s":[{"r":"84","s":[{"r":"63","s":[{"value":["\"Encounter with Existing Diabetes Diagnosis\""]}]},{"value":["\n    union "]},{"r":"83","s":[{"value":["\"Encounter with Hypoglycemic Medication\""]}]}]},{"value":["\n    union "]},{"r":"109","s":[{"value":["\"Encounter with Elevated Glucose Greater Than or Equal to 200\""]}]}]}]}}],"expression":{"localId":"110","locator":"149:3-151:72","type":"Union","operand":[{"localId":"84","locator":"149:3-150:50","type":"Union","operand":[{"localId":"63","locator":"149:3-149:46","name":"Encounter with Existing Diabetes Diagnosis","type":"ExpressionRef"},{"localId":"83","locator":"150:11-150:50","name":"Encounter with Hypoglycemic Medication","type":"ExpressionRef"}]},{"localId":"109","locator":"151:11-151:72","name":"Encounter with Elevated Glucose Greater Than or Equal to 200","type":"ExpressionRef"}]}},{"localId":"113","locator":"82:1-83:22","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"113","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"112","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"112","locator":"83:3-83:22","name":"Initial Population","type":"ExpressionRef"}},{"localId":"115","locator":"153:1-154:15","name":"Measurement Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"115","s":[{"value":["","define ","\"Measurement Population\"",":\n  "]},{"r":"114","s":[{"value":["\"Denominator\""]}]}]}}],"expression":{"localId":"114","locator":"154:3-154:15","name":"Denominator","type":"ExpressionRef"}},{"localId":"136","locator":"207:1-210:4","name":"HospitalDaysMax10","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"136","s":[{"value":["","define function ","\"HospitalDaysMax10\"","(","Period"," "]},{"r":"124","s":[{"value":["Interval\u003c"]},{"r":"123","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"135","s":[{"r":"135","s":[{"value":["Interval["]},{"r":"126","s":[{"value":["start of "]},{"r":"125","s":[{"value":["Period"]}]}]},{"value":[", "]},{"r":"134","s":[{"value":["Min","("]},{"r":"133","s":[{"value":["{ \n    "]},{"r":"128","s":[{"value":["end of "]},{"r":"127","s":[{"value":["Period"]}]}]},{"value":[", "]},{"r":"132","s":[{"r":"130","s":[{"value":["start of "]},{"r":"129","s":[{"value":["Period"]}]}]},{"value":[" + "]},{"r":"131","s":[{"value":["10 ","days"]}]}]},{"value":[" }"]}]},{"value":["\n  )"]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"135","locator":"208:3-210:4","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"126","locator":"208:12-208:26","type":"Start","operand":{"localId":"125","locator":"208:21-208:26","name":"Period","type":"OperandRef"}},"high":{"localId":"134","locator":"208:29-210:3","type":"Min","source":{"localId":"133","locator":"208:33-209:46","type":"List","element":[{"localId":"128","locator":"209:5-209:17","type":"End","operand":{"localId":"127","locator":"209:12-209:17","name":"Period","type":"OperandRef"}},{"localId":"132","locator":"209:20-209:44","type":"Add","operand":[{"localId":"130","locator":"209:20-209:34","type":"Start","operand":{"localId":"129","locator":"209:29-209:34","name":"Period","type":"OperandRef"}},{"localId":"131","locator":"209:38-209:44","value":10,"unit":"days","type":"Quantity"}]}]}}},"operand":[{"name":"Period","operandTypeSpecifier":{"localId":"124","locator":"207:44-207:61","type":"IntervalTypeSpecifier","pointType":{"localId":"123","locator":"207:53-207:60","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"162","locator":"189:1-191:27","name":"IntervalToDayNumbers","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"162","s":[{"value":["","define function ","\"IntervalToDayNumbers\"","(","Period"," "]},{"r":"147","s":[{"value":["Interval\u003c"]},{"r":"146","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"161","s":[{"r":"161","s":[{"s":[{"r":"157","s":[{"r":"156","s":[{"value":["( "]},{"r":"156","s":[{"value":["expand "]},{"r":"155","s":[{"value":["{ "]},{"r":"154","s":[{"r":"148","value":["Interval[","1",", "]},{"r":"153","s":[{"value":["days between "]},{"r":"150","s":[{"value":["start of "]},{"r":"149","s":[{"value":["Period"]}]}]},{"value":[" and "]},{"r":"152","s":[{"value":["end of "]},{"r":"151","s":[{"value":["Period"]}]}]}]},{"value":["]"]}]},{"value":["}"]}]}]},{"value":[" )"]}]},{"value":[" ","DayExpand"]}]}]},{"value":["\n    "]},{"r":"160","s":[{"value":["return "]},{"r":"159","s":[{"value":["end of "]},{"r":"158","s":[{"value":["DayExpand"]}]}]}]}]}]}]}}],"expression":{"localId":"161","locator":"190:3-191:27","type":"Query","source":[{"localId":"157","locator":"190:3-190:85","alias":"DayExpand","expression":{"localId":"156","locator":"190:3-190:75","type":"Expand","operand":[{"localId":"155","locator":"190:12-190:73","type":"List","element":[{"localId":"154","locator":"190:14-190:72","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"148","locator":"190:23","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1","type":"Literal"},"high":{"localId":"153","locator":"190:26-190:71","precision":"Day","type":"DurationBetween","operand":[{"localId":"150","locator":"190:39-190:53","type":"Start","operand":{"localId":"149","locator":"190:48-190:53","name":"Period","type":"OperandRef"}},{"localId":"152","locator":"190:59-190:71","type":"End","operand":{"localId":"151","locator":"190:66-190:71","name":"Period","type":"OperandRef"}}]}}]},{"resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","type":"Null"}]}}],"relationship":[],"return":{"localId":"160","locator":"191:5-191:27","expression":{"localId":"159","locator":"191:12-191:27","type":"End","operand":{"localId":"158","locator":"191:19-191:27","name":"DayExpand","type":"AliasRef"}}}},"operand":[{"name":"Period","operandTypeSpecifier":{"localId":"147","locator":"189:47-189:64","type":"IntervalTypeSpecifier","pointType":{"localId":"146","locator":"189:56-189:63","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"196","locator":"179:1-187:5","name":"DaysInPeriod","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"196","s":[{"value":["","define function ","\"DaysInPeriod\"","(","Period"," "]},{"r":"144","s":[{"value":["Interval\u003c"]},{"r":"143","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"195","s":[{"r":"195","s":[{"s":[{"r":"164","s":[{"r":"163","s":[{"value":["( "]},{"r":"163","s":[{"value":["\"IntervalToDayNumbers\"","("]},{"r":"145","s":[{"value":["Period"]}]},{"value":[")"]}]},{"value":[" )"]}]},{"value":[" ","DayNumber"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"173","s":[{"value":["startPeriod",": "]},{"r":"172","s":[{"r":"166","s":[{"value":["start of "]},{"r":"165","s":[{"value":["Period"]}]}]},{"value":[" + "]},{"r":"171","s":[{"value":["( "]},{"r":"171","s":[{"r":"167","s":[{"value":["24 ","hours"]}]},{"value":[" * "]},{"r":"170","s":[{"value":["( "]},{"r":"170","s":[{"r":"168","s":[{"value":["DayNumber"]}]},{"r":"169","value":[" - ","1"]}]},{"value":[" )"]}]}]},{"value":[" )"]}]}]}]},{"value":[",\n    "]},{"r":"188","s":[{"value":["endPeriod",": "]},{"r":"187","s":[{"value":["if "]},{"r":"179","s":[{"value":["( "]},{"r":"179","s":[{"r":"177","s":[{"value":["hours between "]},{"r":"174","s":[{"value":["startPeriod"]}]},{"value":[" and "]},{"r":"176","s":[{"value":["end of "]},{"r":"175","s":[{"value":["Period"]}]}]}]},{"r":"178","value":[" ","\u003c"," ","24"]}]},{"value":[" )"]}]},{"value":[" then "]},{"r":"180","s":[{"value":["startPeriod"]}]},{"value":[" \n      else "]},{"r":"186","s":[{"r":"182","s":[{"value":["start of "]},{"r":"181","s":[{"value":["Period"]}]}]},{"value":[" + "]},{"r":"185","s":[{"value":["( "]},{"r":"185","s":[{"r":"183","s":[{"value":["24 ","hours"]}]},{"value":[" * "]},{"r":"184","s":[{"value":["DayNumber"]}]}]},{"value":[" )"]}]}]}]}]}]},{"value":["\n    "]},{"r":"194","s":[{"value":["return "]},{"r":"193","s":[{"value":["Tuple {\n      "]},{"s":[{"value":["dayNumber",": "]},{"r":"189","s":[{"value":["DayNumber"]}]}]},{"value":[",\n      "]},{"s":[{"value":["dayPeriod",": "]},{"r":"192","s":[{"value":["Interval["]},{"r":"190","s":[{"value":["startPeriod"]}]},{"value":[", "]},{"r":"191","s":[{"value":["endPeriod"]}]},{"value":[" )"]}]}]},{"value":["\n    }"]}]}]}]}]}]}}],"expression":{"localId":"195","locator":"180:3-187:5","type":"Query","source":[{"localId":"164","locator":"180:3-180:46","alias":"DayNumber","expression":{"localId":"163","locator":"180:3-180:36","name":"IntervalToDayNumbers","type":"FunctionRef","operand":[{"localId":"145","locator":"180:28-180:33","name":"Period","type":"OperandRef"}]}}],"let":[{"localId":"173","locator":"181:9-181:71","identifier":"startPeriod","expression":{"localId":"172","locator":"181:22-181:71","type":"Add","operand":[{"localId":"166","locator":"181:22-181:36","type":"Start","operand":{"localId":"165","locator":"181:31-181:36","name":"Period","type":"OperandRef"}},{"localId":"171","locator":"181:40-181:71","type":"Multiply","operand":[{"localId":"167","locator":"181:42-181:49","value":24,"unit":"hours","type":"Quantity"},{"type":"ToQuantity","operand":{"localId":"170","locator":"181:53-181:69","type":"Subtract","operand":[{"localId":"168","locator":"181:55-181:63","name":"DayNumber","type":"AliasRef"},{"localId":"169","locator":"181:67","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1","type":"Literal"}]}}]}]}},{"localId":"188","locator":"182:5-183:53","identifier":"endPeriod","expression":{"localId":"187","locator":"182:16-183:53","type":"If","condition":{"localId":"179","locator":"182:19-182:70","type":"Less","operand":[{"localId":"177","locator":"182:21-182:63","precision":"Hour","type":"DurationBetween","operand":[{"localId":"174","locator":"182:35-182:45","name":"startPeriod","type":"QueryLetRef"},{"localId":"176","locator":"182:51-182:63","type":"End","operand":{"localId":"175","locator":"182:58-182:63","name":"Period","type":"OperandRef"}}]},{"localId":"178","locator":"182:67-182:68","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"24","type":"Literal"}]},"then":{"localId":"180","locator":"182:77-182:87","name":"startPeriod","type":"QueryLetRef"},"else":{"localId":"186","locator":"183:12-183:53","type":"Add","operand":[{"localId":"182","locator":"183:12-183:26","type":"Start","operand":{"localId":"181","locator":"183:21-183:26","name":"Period","type":"OperandRef"}},{"localId":"185","locator":"183:30-183:53","type":"Multiply","operand":[{"localId":"183","locator":"183:32-183:39","value":24,"unit":"hours","type":"Quantity"},{"type":"ToQuantity","operand":{"localId":"184","locator":"183:43-183:51","name":"DayNumber","type":"AliasRef"}}]}]}}}],"relationship":[],"return":{"localId":"194","locator":"184:5-187:5","expression":{"localId":"193","locator":"184:12-187:5","type":"Tuple","element":[{"name":"dayNumber","value":{"localId":"189","locator":"185:18-185:26","name":"DayNumber","type":"AliasRef"}},{"name":"dayPeriod","value":{"localId":"192","locator":"186:18-186:50","lowClosed":true,"highClosed":false,"type":"Interval","low":{"localId":"190","locator":"186:27-186:37","name":"startPeriod","type":"QueryLetRef"},"high":{"localId":"191","locator":"186:40-186:48","name":"endPeriod","type":"QueryLetRef"}}}]}}},"operand":[{"name":"Period","operandTypeSpecifier":{"localId":"144","locator":"179:39-179:56","type":"IntervalTypeSpecifier","pointType":{"localId":"143","locator":"179:48-179:55","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"201","locator":"27:1-36:5","name":"Days in Hospitalization","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"201","s":[{"value":["","define ","\"Days in Hospitalization\"",":\n  "]},{"r":"200","s":[{"s":[{"r":"117","s":[{"r":"116","s":[{"s":[{"value":["\"Measurement Population\""]}]}]},{"value":[" ","EligibleInpatientHospitalization"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"121","s":[{"value":["period",": "]},{"r":"120","s":[{"r":"118","s":[{"value":["Global"]}]},{"value":["."]},{"r":"120","s":[{"value":["\"HospitalizationWithObservation\""," ( "]},{"r":"119","s":[{"value":["EligibleInpatientHospitalization"]}]},{"value":[" )"]}]}]}]},{"value":[",\n    "]},{"r":"138","s":[{"value":["relevantPeriod",": "]},{"r":"137","s":[{"value":["\"HospitalDaysMax10\"","("]},{"r":"122","s":[{"value":["period"]}]},{"value":[")"]}]}]}]},{"value":["\n    "]},{"r":"199","s":[{"value":["return "]},{"r":"198","s":[{"value":["Tuple {\n      "]},{"s":[{"value":["encounter",": "]},{"r":"139","s":[{"value":["EligibleInpatientHospitalization"]}]}]},{"value":[",\n      "]},{"s":[{"value":["hospitalizationPeriod",": "]},{"r":"140","s":[{"value":["period"]}]}]},{"value":[",\n      "]},{"s":[{"value":["relevantPeriod",": "]},{"r":"141","s":[{"value":["relevantPeriod"]}]}]},{"value":[",\n      "]},{"s":[{"value":["relevantDays",": "]},{"r":"197","s":[{"value":["\"DaysInPeriod\"","("]},{"r":"142","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]},{"value":["\n    }"]}]}]}]}]}}],"expression":{"localId":"200","locator":"28:3-36:5","type":"Query","source":[{"localId":"117","locator":"28:3-28:59","alias":"EligibleInpatientHospitalization","expression":{"localId":"116","locator":"28:3-28:26","name":"Measurement Population","type":"ExpressionRef"}}],"let":[{"localId":"121","locator":"29:9-29:92","identifier":"period","expression":{"localId":"120","locator":"29:17-29:92","name":"HospitalizationWithObservation","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"119","locator":"29:59-29:90","name":"EligibleInpatientHospitalization","type":"AliasRef"}]}},{"localId":"138","locator":"30:5-30:47","identifier":"relevantPeriod","expression":{"localId":"137","locator":"30:21-30:47","name":"HospitalDaysMax10","type":"FunctionRef","operand":[{"localId":"122","locator":"30:41-30:46","name":"period","type":"QueryLetRef"}]}}],"relationship":[],"return":{"localId":"199","locator":"31:5-36:5","expression":{"localId":"198","locator":"31:12-36:5","type":"Tuple","element":[{"name":"encounter","value":{"localId":"139","locator":"32:18-32:49","name":"EligibleInpatientHospitalization","type":"AliasRef"}},{"name":"hospitalizationPeriod","value":{"localId":"140","locator":"33:30-33:35","name":"period","type":"QueryLetRef"}},{"name":"relevantPeriod","value":{"localId":"141","locator":"34:23-34:36","name":"relevantPeriod","type":"QueryLetRef"}},{"name":"relevantDays","value":{"localId":"197","locator":"35:21-35:50","name":"DaysInPeriod","type":"FunctionRef","operand":[{"localId":"142","locator":"35:36-35:49","name":"relevantPeriod","type":"QueryLetRef"}]}}]}}}},{"localId":"270","locator":"38:1-60:5","name":"Days with Glucose Results","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"270","s":[{"value":["","define ","\"Days with Glucose Results\"",":\n  "]},{"r":"269","s":[{"s":[{"r":"203","s":[{"r":"202","s":[{"s":[{"value":["\"Days in Hospitalization\""]}]}]},{"value":[" ","InpatientHospitalDays"]}]}]},{"value":["\n    "]},{"r":"268","s":[{"value":["return "]},{"r":"267","s":[{"value":["Tuple {\n      "]},{"s":[{"value":["encounter",": "]},{"r":"205","s":[{"r":"204","s":[{"value":["InpatientHospitalDays"]}]},{"value":["."]},{"r":"205","s":[{"value":["encounter"]}]}]}]},{"value":[",\n      "]},{"s":[{"value":["relevantPeriod",": "]},{"r":"207","s":[{"r":"206","s":[{"value":["InpatientHospitalDays"]}]},{"value":["."]},{"r":"207","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[",\n      "]},{"s":[{"value":["relevantDays",": "]},{"r":"266","s":[{"value":["( "]},{"r":"266","s":[{"s":[{"r":"209","s":[{"r":"208","s":[{"s":[{"value":["InpatientHospitalDays",".","relevantDays"]}]}]},{"value":[" ","EncounterDay"]}]}]},{"value":["\n          "]},{"r":"265","s":[{"value":["return "]},{"r":"264","s":[{"value":["Tuple {\n            "]},{"s":[{"value":["dayNumber",": "]},{"r":"211","s":[{"r":"210","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"211","s":[{"value":["dayNumber"]}]}]}]},{"value":[",\n            "]},{"s":[{"value":["dayPeriod",": "]},{"r":"213","s":[{"r":"212","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"213","s":[{"value":["dayPeriod"]}]}]}]},{"value":[",\n            "]},{"s":[{"value":["hasSevereResult",": "]},{"r":"231","s":[{"value":["exists "]},{"r":"230","s":[{"value":["( "]},{"r":"230","s":[{"s":[{"r":"215","s":[{"r":"214","s":[{"r":"214","s":[{"value":["[","\"Laboratory Test, Performed\"",": "]},{"s":[{"value":["\"Glucose Lab Test Mass Per Volume\""]}]},{"value":["]"]}]}]},{"value":[" ","GlucoseTest"]}]}]},{"value":["\n                "]},{"r":"229","s":[{"value":["where "]},{"r":"229","s":[{"r":"219","s":[{"r":"217","s":[{"r":"216","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"217","s":[{"value":["result"]}]}]},{"value":[" ","\u003e"," "]},{"r":"218","s":[{"value":["300 ","'mg/dL'"]}]}]},{"value":["\n                  and "]},{"r":"228","s":[{"r":"225","s":[{"r":"220","s":[{"value":["Global"]}]},{"value":["."]},{"r":"225","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"222","s":[{"r":"221","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"222","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"224","s":[{"r":"223","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"224","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"228","value":[" ","during"," "]},{"r":"227","s":[{"r":"226","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"227","s":[{"value":["dayPeriod"]}]}]}]}]}]}]},{"value":["\n            )"]}]}]}]},{"value":[",\n            "]},{"s":[{"value":["hasElevatedResult",": "]},{"r":"249","s":[{"value":["exists "]},{"r":"248","s":[{"value":["( "]},{"r":"248","s":[{"s":[{"r":"233","s":[{"r":"232","s":[{"r":"232","s":[{"value":["[","\"Laboratory Test, Performed\"",": "]},{"s":[{"value":["\"Glucose Lab Test Mass Per Volume\""]}]},{"value":["]"]}]}]},{"value":[" ","GlucoseTest"]}]}]},{"value":["\n                "]},{"r":"247","s":[{"value":["where "]},{"r":"247","s":[{"r":"237","s":[{"r":"235","s":[{"r":"234","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"235","s":[{"value":["result"]}]}]},{"value":[" ","\u003e="," "]},{"r":"236","s":[{"value":["200 ","'mg/dL'"]}]}]},{"value":["\n                  and "]},{"r":"246","s":[{"r":"243","s":[{"r":"238","s":[{"value":["Global"]}]},{"value":["."]},{"r":"243","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"240","s":[{"r":"239","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"240","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"242","s":[{"r":"241","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"242","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"246","value":[" ","during"," "]},{"r":"245","s":[{"r":"244","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"245","s":[{"value":["dayPeriod"]}]}]}]}]}]}]},{"value":["\n            )"]}]}]}]},{"value":[",\n            "]},{"s":[{"value":["hasNoGlucoseTest",": "]},{"r":"263","s":[{"value":["not "]},{"r":"262","s":[{"value":["exists "]},{"r":"261","s":[{"value":["( "]},{"r":"261","s":[{"s":[{"r":"251","s":[{"r":"250","s":[{"r":"250","s":[{"value":["[","\"Laboratory Test, Performed\"",": "]},{"s":[{"value":["\"Glucose Lab Test Mass Per Volume\""]}]},{"value":["]"]}]}]},{"value":[" ","GlucoseTest"]}]}]},{"value":["\n                "]},{"r":"260","s":[{"value":["where "]},{"r":"260","s":[{"r":"257","s":[{"r":"252","s":[{"value":["Global"]}]},{"value":["."]},{"r":"257","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"254","s":[{"r":"253","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"254","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"256","s":[{"r":"255","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"256","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"260","value":[" ","during"," "]},{"r":"259","s":[{"r":"258","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"259","s":[{"value":["dayPeriod"]}]}]}]}]}]},{"value":["\n            )"]}]}]}]}]},{"value":["\n          }"]}]}]}]},{"value":["\n      )"]}]}]},{"value":["\n    }"]}]}]}]}]}}],"expression":{"localId":"269","locator":"39:3-60:5","type":"Query","source":[{"localId":"203","locator":"39:3-39:49","alias":"InpatientHospitalDays","expression":{"localId":"202","locator":"39:3-39:27","name":"Days in Hospitalization","type":"ExpressionRef"}}],"relationship":[],"return":{"localId":"268","locator":"40:5-60:5","expression":{"localId":"267","locator":"40:12-60:5","type":"Tuple","element":[{"name":"encounter","value":{"localId":"205","locator":"41:18-41:48","path":"encounter","scope":"InpatientHospitalDays","type":"Property"}},{"name":"relevantPeriod","value":{"localId":"207","locator":"42:23-42:58","path":"relevantPeriod","scope":"InpatientHospitalDays","type":"Property"}},{"name":"relevantDays","value":{"localId":"266","locator":"43:21-59:7","type":"Query","source":[{"localId":"209","locator":"43:23-43:69","alias":"EncounterDay","expression":{"localId":"208","locator":"43:23-43:56","path":"relevantDays","scope":"InpatientHospitalDays","type":"Property"}}],"relationship":[],"return":{"localId":"265","locator":"44:11-58:11","expression":{"localId":"264","locator":"44:18-58:11","type":"Tuple","element":[{"name":"dayNumber","value":{"localId":"211","locator":"45:24-45:45","path":"dayNumber","scope":"EncounterDay","type":"Property"}},{"name":"dayPeriod","value":{"localId":"213","locator":"46:24-46:45","path":"dayPeriod","scope":"EncounterDay","type":"Property"}},{"name":"hasSevereResult","value":{"localId":"231","locator":"47:30-50:13","type":"Exists","operand":{"localId":"230","locator":"47:37-50:13","type":"Query","source":[{"localId":"215","locator":"47:39-47:116","alias":"GlucoseTest","expression":{"localId":"214","locator":"47:39-47:104","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveLaboratoryTestPerformed","templateId":"PositiveLaboratoryTestPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"47:70-47:103","name":"Glucose Lab Test Mass Per Volume","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"229","locator":"48:17-49:132","type":"And","operand":[{"localId":"219","locator":"48:23-48:54","type":"Greater","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Quantity","type":"As","operand":{"localId":"217","locator":"48:23-48:40","path":"result","scope":"GlucoseTest","type":"Property"}},{"localId":"218","locator":"48:44-48:54","value":300,"unit":"mg/dL","type":"Quantity"}]},{"localId":"228","locator":"49:23-49:132","type":"In","operand":[{"localId":"225","locator":"49:23-49:102","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"222","locator":"49:45-49:72","path":"relevantDatetime","scope":"GlucoseTest","type":"Property"},{"localId":"224","locator":"49:75-49:100","path":"relevantPeriod","scope":"GlucoseTest","type":"Property"}]},{"localId":"227","locator":"49:111-49:132","path":"dayPeriod","scope":"EncounterDay","type":"Property"}]}]}}}},{"name":"hasElevatedResult","value":{"localId":"249","locator":"51:32-54:13","type":"Exists","operand":{"localId":"248","locator":"51:39-54:13","type":"Query","source":[{"localId":"233","locator":"51:41-51:118","alias":"GlucoseTest","expression":{"localId":"232","locator":"51:41-51:106","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveLaboratoryTestPerformed","templateId":"PositiveLaboratoryTestPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"51:72-51:105","name":"Glucose Lab Test Mass Per Volume","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"247","locator":"52:17-53:132","type":"And","operand":[{"localId":"237","locator":"52:23-52:55","type":"GreaterOrEqual","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Quantity","type":"As","operand":{"localId":"235","locator":"52:23-52:40","path":"result","scope":"GlucoseTest","type":"Property"}},{"localId":"236","locator":"52:45-52:55","value":200,"unit":"mg/dL","type":"Quantity"}]},{"localId":"246","locator":"53:23-53:132","type":"In","operand":[{"localId":"243","locator":"53:23-53:102","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"240","locator":"53:45-53:72","path":"relevantDatetime","scope":"GlucoseTest","type":"Property"},{"localId":"242","locator":"53:75-53:100","path":"relevantPeriod","scope":"GlucoseTest","type":"Property"}]},{"localId":"245","locator":"53:111-53:132","path":"dayPeriod","scope":"EncounterDay","type":"Property"}]}]}}}},{"name":"hasNoGlucoseTest","value":{"localId":"263","locator":"55:31-57:13","type":"Not","operand":{"localId":"262","locator":"55:35-57:13","type":"Exists","operand":{"localId":"261","locator":"55:42-57:13","type":"Query","source":[{"localId":"251","locator":"55:44-55:121","alias":"GlucoseTest","expression":{"localId":"250","locator":"55:44-55:109","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveLaboratoryTestPerformed","templateId":"PositiveLaboratoryTestPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"55:75-55:108","name":"Glucose Lab Test Mass Per Volume","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"260","locator":"56:17-56:132","type":"In","operand":[{"localId":"257","locator":"56:23-56:102","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"254","locator":"56:45-56:72","path":"relevantDatetime","scope":"GlucoseTest","type":"Property"},{"localId":"256","locator":"56:75-56:100","path":"relevantPeriod","scope":"GlucoseTest","type":"Property"}]},{"localId":"259","locator":"56:111-56:132","path":"dayPeriod","scope":"EncounterDay","type":"Property"}]}}}}}]}}}}]}}}},{"localId":"318","locator":"62:1-80:5","name":"Days with Hyperglycemic Events","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"318","s":[{"value":["","define ","\"Days with Hyperglycemic Events\"",":\n  "]},{"r":"317","s":[{"s":[{"r":"272","s":[{"r":"271","s":[{"s":[{"value":["\"Days with Glucose Results\""]}]}]},{"value":[" ","EncounterWithResultDays"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"309","s":[{"value":["eligibleEventDays",": "]},{"r":"308","s":[{"s":[{"r":"274","s":[{"r":"273","s":[{"s":[{"value":["EncounterWithResultDays",".","relevantDays"]}]}]},{"value":[" ","EncounterDay"]}]}]},{"value":["\n      "]},{"r":"278","s":[{"value":["where "]},{"r":"278","s":[{"r":"276","s":[{"r":"275","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"276","s":[{"value":["dayNumber"]}]}]},{"r":"277","value":[" ","\u003e"," ","1"]}]}]},{"value":["\n      "]},{"r":"307","s":[{"value":["return "]},{"r":"306","s":[{"value":["Tuple {\n        "]},{"s":[{"value":["dayNumber",": "]},{"r":"280","s":[{"r":"279","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"280","s":[{"value":["dayNumber"]}]}]}]},{"value":[",\n        "]},{"s":[{"value":["dayPeriod",": "]},{"r":"282","s":[{"r":"281","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"282","s":[{"value":["dayPeriod"]}]}]}]},{"value":[",\n        "]},{"s":[{"value":["hasHyperglycemicEvent",": "]},{"r":"305","s":[{"value":["( "]},{"r":"305","s":[{"r":"284","s":[{"r":"283","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"284","s":[{"value":["hasSevereResult"]}]}]},{"value":["\n            or "]},{"r":"304","s":[{"value":["( "]},{"r":"304","s":[{"r":"295","s":[{"r":"286","s":[{"r":"285","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"286","s":[{"value":["hasNoGlucoseTest"]}]}]},{"value":["\n                and "]},{"r":"294","s":[{"r":"293","s":[{"r":"288","s":[{"r":"287","s":[{"value":["EncounterWithResultDays"]}]},{"value":["."]},{"r":"288","s":[{"value":["relevantDays"]}]}]},{"value":["["]},{"r":"292","s":[{"r":"290","s":[{"r":"289","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"290","s":[{"value":["dayNumber"]}]}]},{"r":"291","value":[" - ","2"]}]},{"value":["]"]}]},{"value":["."]},{"r":"294","s":[{"value":["hasElevatedResult"]}]}]}]},{"value":["\n                and "]},{"r":"303","s":[{"r":"302","s":[{"r":"297","s":[{"r":"296","s":[{"value":["EncounterWithResultDays"]}]},{"value":["."]},{"r":"297","s":[{"value":["relevantDays"]}]}]},{"value":["["]},{"r":"301","s":[{"r":"299","s":[{"r":"298","s":[{"value":["EncounterDay"]}]},{"value":["."]},{"r":"299","s":[{"value":["dayNumber"]}]}]},{"r":"300","value":[" - ","3"]}]},{"value":["]"]}]},{"value":["."]},{"r":"303","s":[{"value":["hasElevatedResult"]}]}]}]},{"value":["\n            )"]}]}]},{"value":["\n        )"]}]}]},{"value":["\n      }"]}]}]}]}]}]},{"value":["\n    "]},{"r":"316","s":[{"value":["return "]},{"r":"315","s":[{"value":["Tuple {\n      "]},{"s":[{"value":["encounter",": "]},{"r":"311","s":[{"r":"310","s":[{"value":["EncounterWithResultDays"]}]},{"value":["."]},{"r":"311","s":[{"value":["encounter"]}]}]}]},{"value":[",\n      "]},{"s":[{"value":["relevantPeriod",": "]},{"r":"313","s":[{"r":"312","s":[{"value":["EncounterWithResultDays"]}]},{"value":["."]},{"r":"313","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[",\n      "]},{"s":[{"value":["eligibleEventDays",": "]},{"r":"314","s":[{"value":["eligibleEventDays"]}]}]},{"value":["\n    }"]}]}]}]}]}}],"expression":{"localId":"317","locator":"63:3-80:5","type":"Query","source":[{"localId":"272","locator":"63:3-63:53","alias":"EncounterWithResultDays","expression":{"localId":"271","locator":"63:3-63:29","name":"Days with Glucose Results","type":"ExpressionRef"}}],"let":[{"localId":"309","locator":"64:9-75:7","identifier":"eligibleEventDays","expression":{"localId":"308","locator":"64:28-75:7","type":"Query","source":[{"localId":"274","locator":"64:28-64:76","alias":"EncounterDay","expression":{"localId":"273","locator":"64:28-64:63","path":"relevantDays","scope":"EncounterWithResultDays","type":"Property"}}],"relationship":[],"where":{"localId":"278","locator":"65:7-65:38","type":"Greater","operand":[{"localId":"276","locator":"65:13-65:34","path":"dayNumber","scope":"EncounterDay","type":"Property"},{"localId":"277","locator":"65:38","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1","type":"Literal"}]},"return":{"localId":"307","locator":"66:7-75:7","expression":{"localId":"306","locator":"66:14-75:7","type":"Tuple","element":[{"name":"dayNumber","value":{"localId":"280","locator":"67:20-67:41","path":"dayNumber","scope":"EncounterDay","type":"Property"}},{"name":"dayPeriod","value":{"localId":"282","locator":"68:20-68:41","path":"dayPeriod","scope":"EncounterDay","type":"Property"}},{"name":"hasHyperglycemicEvent","value":{"localId":"305","locator":"69:32-74:9","type":"Or","operand":[{"localId":"284","locator":"69:34-69:61","path":"hasSevereResult","scope":"EncounterDay","type":"Property"},{"localId":"304","locator":"70:16-73:13","type":"And","operand":[{"localId":"295","locator":"70:18-71:102","type":"And","operand":[{"localId":"286","locator":"70:18-70:46","path":"hasNoGlucoseTest","scope":"EncounterDay","type":"Property"},{"localId":"294","locator":"71:21-71:102","path":"hasElevatedResult","type":"Property","source":{"localId":"293","locator":"71:21-71:84","type":"Indexer","operand":[{"localId":"288","locator":"71:21-71:56","path":"relevantDays","scope":"EncounterWithResultDays","type":"Property"},{"localId":"292","locator":"71:58-71:83","type":"Subtract","operand":[{"localId":"290","locator":"71:58-71:79","path":"dayNumber","scope":"EncounterDay","type":"Property"},{"localId":"291","locator":"71:83","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2","type":"Literal"}]}]}}]},{"localId":"303","locator":"72:21-72:102","path":"hasElevatedResult","type":"Property","source":{"localId":"302","locator":"72:21-72:84","type":"Indexer","operand":[{"localId":"297","locator":"72:21-72:56","path":"relevantDays","scope":"EncounterWithResultDays","type":"Property"},{"localId":"301","locator":"72:58-72:83","type":"Subtract","operand":[{"localId":"299","locator":"72:58-72:79","path":"dayNumber","scope":"EncounterDay","type":"Property"},{"localId":"300","locator":"72:83","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"3","type":"Literal"}]}]}}]}]}}]}}}}],"relationship":[],"return":{"localId":"316","locator":"76:5-80:5","expression":{"localId":"315","locator":"76:12-80:5","type":"Tuple","element":[{"name":"encounter","value":{"localId":"311","locator":"77:18-77:50","path":"encounter","scope":"EncounterWithResultDays","type":"Property"}},{"name":"relevantPeriod","value":{"localId":"313","locator":"78:23-78:60","path":"relevantPeriod","scope":"EncounterWithResultDays","type":"Property"}},{"name":"eligibleEventDays","value":{"localId":"314","locator":"79:26-79:42","name":"eligibleEventDays","type":"QueryLetRef"}}]}}}},{"localId":"363","locator":"116:1-126:35","name":"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"363","s":[{"value":["","define ","\"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start\"",":\n  "]},{"r":"362","s":[{"s":[{"value":["from\n    "]},{"r":"320","s":[{"r":"319","s":[{"s":[{"value":["\"Initial Population\""]}]}]},{"value":[" ","InpatientHospitalization"]}]},{"value":[",\n    "]},{"r":"322","s":[{"r":"321","s":[{"r":"321","s":[{"value":["[","\"Laboratory Test, Performed\"",": "]},{"s":[{"value":["\"Glucose Lab Test Mass Per Volume\""]}]},{"value":["]"]}]}]},{"value":[" ","GlucoseTest"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"329","s":[{"value":["GlucoseTestTime",": "]},{"r":"328","s":[{"r":"323","s":[{"value":["Global"]}]},{"value":["."]},{"r":"328","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"325","s":[{"r":"324","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"325","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"327","s":[{"r":"326","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"327","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]}]},{"value":[",\n    "]},{"r":"333","s":[{"value":["HospitalPeriod",": "]},{"r":"332","s":[{"r":"330","s":[{"value":["Global"]}]},{"value":["."]},{"r":"332","s":[{"value":["\"HospitalizationWithObservation\""," ( "]},{"r":"331","s":[{"value":["InpatientHospitalization"]}]},{"value":[" )"]}]}]}]}]},{"value":["\n    "]},{"r":"359","s":[{"value":["where "]},{"r":"359","s":[{"r":"353","s":[{"r":"341","s":[{"r":"336","s":[{"r":"335","s":[{"r":"334","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"335","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]},{"value":["\n      and "]},{"r":"340","s":[{"r":"338","s":[{"r":"337","s":[{"value":["GlucoseTest"]}]},{"value":["."]},{"r":"338","s":[{"value":["result"]}]}]},{"value":[" ","\u003e="," "]},{"r":"339","s":[{"value":["1000 ","'mg/dL'"]}]}]}]},{"value":["\n      and "]},{"r":"352","s":[{"r":"342","s":[{"value":["GlucoseTestTime"]}]},{"r":"352","value":[" ","during"," "]},{"r":"351","s":[{"value":["Interval["]},{"r":"346","s":[{"value":["( "]},{"r":"346","s":[{"r":"344","s":[{"value":["start of "]},{"r":"343","s":[{"value":["HospitalPeriod"]}]}]},{"value":[" - "]},{"r":"345","s":[{"value":["1 ","hour"]}]}]},{"value":[" )"]}]},{"value":[", "]},{"r":"350","s":[{"value":["( "]},{"r":"350","s":[{"r":"348","s":[{"value":["start of "]},{"r":"347","s":[{"value":["HospitalPeriod"]}]}]},{"value":[" + "]},{"r":"349","s":[{"value":["6 ","hours"]}]}]},{"value":[" )"]}]},{"value":["]"]}]}]}]},{"value":["\n      and "]},{"r":"358","s":[{"r":"354","s":[{"value":["GlucoseTestTime"]}]},{"r":"358","value":[" ","before"," "]},{"r":"357","s":[{"value":["end of "]},{"r":"356","s":[{"r":"355","s":[{"value":["InpatientHospitalization"]}]},{"value":["."]},{"r":"356","s":[{"value":["relevantPeriod"]}]}]}]}]}]}]},{"value":["\n    "]},{"r":"361","s":[{"value":["return "]},{"r":"360","s":[{"value":["InpatientHospitalization"]}]}]}]}]}}],"expression":{"localId":"362","locator":"117:3-126:35","type":"Query","source":[{"localId":"320","locator":"118:5-118:49","alias":"InpatientHospitalization","expression":{"localId":"319","locator":"118:5-118:24","name":"Initial Population","type":"ExpressionRef"}},{"localId":"322","locator":"119:5-119:82","alias":"GlucoseTest","expression":{"localId":"321","locator":"119:5-119:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveLaboratoryTestPerformed","templateId":"PositiveLaboratoryTestPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"119:36-119:69","name":"Glucose Lab Test Mass Per Volume","preserve":true,"type":"ValueSetRef"}}}],"let":[{"localId":"329","locator":"120:9-120:105","identifier":"GlucoseTestTime","expression":{"localId":"328","locator":"120:26-120:105","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"325","locator":"120:48-120:75","path":"relevantDatetime","scope":"GlucoseTest","type":"Property"},{"localId":"327","locator":"120:78-120:103","path":"relevantPeriod","scope":"GlucoseTest","type":"Property"}]}},{"localId":"333","locator":"121:5-121:88","identifier":"HospitalPeriod","expression":{"localId":"332","locator":"121:21-121:88","name":"HospitalizationWithObservation","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"331","locator":"121:63-121:86","name":"InpatientHospitalization","type":"AliasRef"}]}}],"relationship":[],"where":{"localId":"359","locator":"122:5-125:79","type":"And","operand":[{"localId":"353","locator":"122:11-124:118","type":"And","operand":[{"localId":"341","locator":"122:11-123:44","type":"And","operand":[{"localId":"336","locator":"122:11-122:40","type":"Not","operand":{"locator":"122:11-122:40","type":"IsNull","operand":{"localId":"335","locator":"122:11-122:28","path":"result","scope":"GlucoseTest","type":"Property"}}},{"localId":"340","locator":"123:11-123:44","type":"GreaterOrEqual","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Quantity","type":"As","operand":{"localId":"338","locator":"123:11-123:28","path":"result","scope":"GlucoseTest","type":"Property"}},{"localId":"339","locator":"123:33-123:44","value":1000,"unit":"mg/dL","type":"Quantity"}]}]},{"localId":"352","locator":"124:11-124:118","type":"In","operand":[{"localId":"342","locator":"124:11-124:25","name":"GlucoseTestTime","type":"QueryLetRef"},{"localId":"351","locator":"124:34-124:118","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"346","locator":"124:43-124:78","type":"Subtract","operand":[{"localId":"344","locator":"124:45-124:67","type":"Start","operand":{"localId":"343","locator":"124:54-124:67","name":"HospitalPeriod","type":"QueryLetRef"}},{"localId":"345","locator":"124:71-124:76","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"350","locator":"124:81-124:117","type":"Add","operand":[{"localId":"348","locator":"124:83-124:105","type":"Start","operand":{"localId":"347","locator":"124:92-124:105","name":"HospitalPeriod","type":"QueryLetRef"}},{"localId":"349","locator":"124:109-124:115","value":6,"unit":"hours","type":"Quantity"}]}}]}]},{"localId":"358","locator":"125:11-125:79","type":"Before","operand":[{"localId":"354","locator":"125:11-125:25","name":"GlucoseTestTime","type":"QueryLetRef"},{"localId":"357","locator":"125:34-125:79","type":"End","operand":{"localId":"356","locator":"125:41-125:79","path":"relevantPeriod","scope":"InpatientHospitalization","type":"Property"}}]}]},"return":{"localId":"361","locator":"126:5-126:35","expression":{"localId":"360","locator":"126:12-126:35","name":"InpatientHospitalization","type":"AliasRef"}}}},{"localId":"385","locator":"88:1-91:223","name":"Encounter with Comfort Measures during Hospitalization","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"385","s":[{"value":["","define ","\"Encounter with Comfort Measures during Hospitalization\"",":\n  "]},{"r":"384","s":[{"s":[{"r":"366","s":[{"r":"365","s":[{"s":[{"value":["\"Initial Population\""]}]}]},{"value":[" ","InpatientHospitalization"]}]}]},{"value":["\n    "]},{"r":"383","s":[{"value":["with "]},{"r":"368","s":[{"r":"367","s":[{"s":[{"value":["\"Comfort Measures Care\""]}]}]},{"value":[" ","ComfortCare"]}]},{"value":["\n      such that "]},{"r":"382","s":[{"r":"378","s":[{"value":["Coalesce","("]},{"r":"375","s":[{"value":["start of "]},{"r":"374","s":[{"r":"369","s":[{"value":["Global"]}]},{"value":["."]},{"r":"374","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"371","s":[{"r":"370","s":[{"value":["ComfortCare"]}]},{"value":["."]},{"r":"371","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"373","s":[{"r":"372","s":[{"value":["ComfortCare"]}]},{"value":["."]},{"r":"373","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]}]},{"value":[", "]},{"r":"377","s":[{"r":"376","s":[{"value":["ComfortCare"]}]},{"value":["."]},{"r":"377","s":[{"value":["authorDatetime"]}]}]},{"value":[")"]}]},{"r":"382","value":[" ","during"," "]},{"r":"381","s":[{"r":"379","s":[{"value":["Global"]}]},{"value":["."]},{"r":"381","s":[{"value":["\"HospitalizationWithObservation\""," ( "]},{"r":"380","s":[{"value":["InpatientHospitalization"]}]},{"value":[" )"]}]}]}]}]}]}]}}],"expression":{"localId":"384","locator":"89:3-91:223","type":"Query","source":[{"localId":"366","locator":"89:3-89:47","alias":"InpatientHospitalization","expression":{"localId":"365","locator":"89:3-89:22","name":"Initial Population","type":"ExpressionRef"}}],"relationship":[{"localId":"383","locator":"90:5-91:223","alias":"ComfortCare","type":"With","expression":{"localId":"367","locator":"90:10-90:32","name":"Comfort Measures Care","type":"ExpressionRef"},"suchThat":{"localId":"382","locator":"91:17-91:223","type":"In","operand":[{"localId":"378","locator":"91:17-91:147","type":"Coalesce","operand":[{"localId":"375","locator":"91:26-91:118","type":"Start","operand":{"localId":"374","locator":"91:35-91:118","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"371","locator":"91:62-91:89","path":"relevantDatetime","scope":"ComfortCare","type":"Property"},{"localId":"373","locator":"91:92-91:117","path":"relevantPeriod","scope":"ComfortCare","type":"Property"}]}},{"localId":"377","locator":"91:121-91:146","path":"authorDatetime","scope":"ComfortCare","type":"Property"}]},{"localId":"381","locator":"91:156-91:223","name":"HospitalizationWithObservation","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"380","locator":"91:198-91:221","name":"InpatientHospitalization","type":"AliasRef"}]}]}}]}},{"localId":"400","locator":"93:1-96:111","name":"Encounter with Discharge for Hospice Care","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"400","s":[{"value":["","define ","\"Encounter with Discharge for Hospice Care\"",":\n  "]},{"r":"399","s":[{"s":[{"r":"389","s":[{"r":"388","s":[{"s":[{"value":["\"Initial Population\""]}]}]},{"value":[" ","InpatientHospitalization"]}]}]},{"value":["\n    "]},{"r":"398","s":[{"value":["where "]},{"r":"398","s":[{"r":"393","s":[{"r":"391","s":[{"r":"390","s":[{"value":["InpatientHospitalization"]}]},{"value":["."]},{"r":"391","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" in "]},{"r":"392","s":[{"value":["\"Discharged to Home for Hospice Care\""]}]}]},{"value":["\n      or "]},{"r":"397","s":[{"r":"395","s":[{"r":"394","s":[{"value":["InpatientHospitalization"]}]},{"value":["."]},{"r":"395","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" in "]},{"r":"396","s":[{"value":["\"Discharged to Health Care Facility for Hospice Care\""]}]}]}]}]}]}]}}],"expression":{"localId":"399","locator":"94:3-96:111","type":"Query","source":[{"localId":"389","locator":"94:3-94:47","alias":"InpatientHospitalization","expression":{"localId":"388","locator":"94:3-94:22","name":"Initial Population","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"398","locator":"95:5-96:111","type":"Or","operand":[{"localId":"393","locator":"95:11-95:96","type":"InValueSet","code":{"localId":"391","locator":"95:11-95:55","path":"dischargeDisposition","scope":"InpatientHospitalization","type":"Property"},"valueset":{"localId":"392","locator":"95:60-95:96","name":"Discharged to Home for Hospice Care","preserve":true}},{"localId":"397","locator":"96:10-96:111","type":"InValueSet","code":{"localId":"395","locator":"96:10-96:54","path":"dischargeDisposition","scope":"InpatientHospitalization","type":"Property"},"valueset":{"localId":"396","locator":"96:59-96:111","name":"Discharged to Health Care Facility for Hospice Care","preserve":true}}]}}},{"localId":"403","locator":"98:1-101:53","name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"403","s":[{"value":["","define ","\"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\"",":\n  "]},{"r":"402","s":[{"r":"387","s":[{"r":"364","s":[{"value":["\"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start\""]}]},{"value":["\n    union "]},{"r":"386","s":[{"value":["\"Encounter with Comfort Measures during Hospitalization\""]}]}]},{"value":["\n    union "]},{"r":"401","s":[{"value":["\"Encounter with Discharge for Hospice Care\""]}]}]}]}}],"expression":{"localId":"402","locator":"99:3-101:53","type":"Union","operand":[{"localId":"387","locator":"99:3-100:66","type":"Union","operand":[{"localId":"364","locator":"99:3-99:113","name":"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start","type":"ExpressionRef"},{"localId":"386","locator":"100:11-100:66","name":"Encounter with Comfort Measures during Hospitalization","type":"ExpressionRef"}]},{"localId":"401","locator":"101:11-101:53","name":"Encounter with Discharge for Hospice Care","type":"ExpressionRef"}]}},{"localId":"405","locator":"85:1-86:94","name":"Denominator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"405","s":[{"value":["","define ","\"Denominator Exclusions\"",":\n  "]},{"r":"404","s":[{"value":["\"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\""]}]}]}}],"expression":{"localId":"404","locator":"86:3-86:94","name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care","type":"ExpressionRef"}},{"localId":"418","locator":"135:1-140:43","name":"Encounter with Hyperglycemic Events","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"418","s":[{"value":["","define ","\"Encounter with Hyperglycemic Events\"",":\n  "]},{"r":"417","s":[{"s":[{"r":"407","s":[{"r":"406","s":[{"s":[{"value":["\"Days with Hyperglycemic Events\""]}]}]},{"value":[" ","HyperglycemicEventDays"]}]}]},{"value":["\n    "]},{"r":"413","s":[{"value":["where "]},{"r":"413","s":[{"value":["exists "]},{"r":"412","s":[{"value":["( "]},{"r":"412","s":[{"s":[{"r":"409","s":[{"r":"408","s":[{"s":[{"value":["HyperglycemicEventDays",".","eligibleEventDays"]}]}]},{"value":[" ","EligibleEventDay"]}]}]},{"value":["\n        "]},{"r":"411","s":[{"value":["where "]},{"r":"411","s":[{"r":"410","s":[{"value":["EligibleEventDay"]}]},{"value":["."]},{"r":"411","s":[{"value":["hasHyperglycemicEvent"]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    "]},{"r":"416","s":[{"value":["return "]},{"r":"415","s":[{"r":"414","s":[{"value":["HyperglycemicEventDays"]}]},{"value":["."]},{"r":"415","s":[{"value":["encounter"]}]}]}]}]}]}}],"expression":{"localId":"417","locator":"136:3-140:43","type":"Query","source":[{"localId":"407","locator":"136:3-136:57","alias":"HyperglycemicEventDays","expression":{"localId":"406","locator":"136:3-136:34","name":"Days with Hyperglycemic Events","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"413","locator":"137:5-139:5","type":"Exists","operand":{"localId":"412","locator":"137:18-139:5","type":"Query","source":[{"localId":"409","locator":"137:20-137:76","alias":"EligibleEventDay","expression":{"localId":"408","locator":"137:20-137:59","path":"eligibleEventDays","scope":"HyperglycemicEventDays","type":"Property"}}],"relationship":[],"where":{"localId":"411","locator":"138:9-138:52","path":"hasHyperglycemicEvent","scope":"EligibleEventDay","type":"Property"}}},"return":{"localId":"416","locator":"140:5-140:43","expression":{"localId":"415","locator":"140:12-140:43","path":"encounter","scope":"HyperglycemicEventDays","type":"Property"}}}},{"localId":"420","locator":"156:1-157:39","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"420","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"419","s":[{"value":["\"Encounter with Hyperglycemic Events\""]}]}]}}],"expression":{"localId":"419","locator":"157:3-157:39","name":"Encounter with Hyperglycemic Events","type":"ExpressionRef"}},{"localId":"422","locator":"159:1-160:94","name":"Numerator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"422","s":[{"value":["","define ","\"Numerator Exclusions\"",":\n  "]},{"r":"421","s":[{"value":["\"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\""]}]}]}}],"expression":{"localId":"421","locator":"160:3-160:94","name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care","type":"ExpressionRef"}},{"localId":"424","locator":"167:1-168:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"424","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"423","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"423","locator":"168:3-168:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"168:40-168:50","name":"Ethnicity","preserve":true,"type":"ValueSetRef"}}},{"localId":"426","locator":"170:1-171:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"426","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"425","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"425","locator":"171:3-171:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"171:36-171:47","name":"Payer Type","preserve":true,"type":"ValueSetRef"}}},{"localId":"428","locator":"173:1-174:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"428","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"427","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"427","locator":"174:3-174:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"174:35-174:40","name":"Race","preserve":true,"type":"ValueSetRef"}}},{"localId":"430","locator":"176:1-177:58","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"430","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"429","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"429","locator":"177:3-177:58","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"177:34-177:57","name":"ONC Administrative Sex","preserve":true,"type":"ValueSetRef"}}},{"localId":"450","locator":"193:1-197:3","name":"DenominatorObservations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"450","s":[{"value":["","define function ","\"DenominatorObservations\"","(","QualifyingEncounter"," "]},{"r":"437","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"449","s":[{"r":"449","s":[{"value":["singleton from "]},{"r":"448","s":[{"value":["( "]},{"r":"448","s":[{"s":[{"r":"439","s":[{"r":"438","s":[{"s":[{"value":["\"Days with Hyperglycemic Events\""]}]}]},{"value":[" ","EncounterWithEventDays"]}]}]},{"value":["\n      "]},{"r":"443","s":[{"value":["where "]},{"r":"443","s":[{"r":"441","s":[{"r":"440","s":[{"value":["EncounterWithEventDays"]}]},{"value":["."]},{"r":"441","s":[{"value":["encounter"]}]}]},{"value":[" ","="," "]},{"r":"442","s":[{"value":["QualifyingEncounter"]}]}]}]},{"value":["\n      "]},{"r":"447","s":[{"value":["return "]},{"r":"446","s":[{"value":["Count","("]},{"r":"445","s":[{"r":"444","s":[{"value":["EncounterWithEventDays"]}]},{"value":["."]},{"r":"445","s":[{"value":["eligibleEventDays"]}]}]},{"value":[")"]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"449","locator":"194:3-197:3","type":"SingletonFrom","operand":{"localId":"448","locator":"194:18-197:3","type":"Query","source":[{"localId":"439","locator":"194:20-194:74","alias":"EncounterWithEventDays","expression":{"localId":"438","locator":"194:20-194:51","name":"Days with Hyperglycemic Events","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"443","locator":"195:7-195:66","type":"Equal","operand":[{"localId":"441","locator":"195:13-195:44","path":"encounter","scope":"EncounterWithEventDays","type":"Property"},{"localId":"442","locator":"195:48-195:66","name":"QualifyingEncounter","type":"OperandRef"}]},"return":{"localId":"447","locator":"196:7-196:60","expression":{"localId":"446","locator":"196:14-196:60","type":"Count","source":{"localId":"445","locator":"196:20-196:59","path":"eligibleEventDays","scope":"EncounterWithEventDays","type":"Property"}}}}},"operand":[{"name":"QualifyingEncounter","operandTypeSpecifier":{"localId":"437","locator":"193:63-193:84","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"467","locator":"199:1-205:3","name":"NumeratorObservations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"467","s":[{"value":["","define function ","\"NumeratorObservations\"","(","QualifyingEncounter"," "]},{"r":"451","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"466","s":[{"r":"466","s":[{"value":["singleton from "]},{"r":"465","s":[{"value":["( "]},{"r":"465","s":[{"s":[{"r":"453","s":[{"r":"452","s":[{"s":[{"value":["\"Days with Hyperglycemic Events\""]}]}]},{"value":[" ","EncounterWithEventDays"]}]}]},{"value":["\n      "]},{"r":"457","s":[{"value":["where "]},{"r":"457","s":[{"r":"455","s":[{"r":"454","s":[{"value":["EncounterWithEventDays"]}]},{"value":["."]},{"r":"455","s":[{"value":["encounter"]}]}]},{"value":[" ","="," "]},{"r":"456","s":[{"value":["QualifyingEncounter"]}]}]}]},{"value":["\n      "]},{"r":"464","s":[{"value":["return "]},{"r":"463","s":[{"value":["Count","("]},{"r":"462","s":[{"s":[{"r":"459","s":[{"r":"458","s":[{"s":[{"value":["EncounterWithEventDays",".","eligibleEventDays"]}]}]},{"value":[" ","EligibleEventDay"]}]}]},{"value":["\n          "]},{"r":"461","s":[{"value":["where "]},{"r":"461","s":[{"r":"460","s":[{"value":["EligibleEventDay"]}]},{"value":["."]},{"r":"461","s":[{"value":["hasHyperglycemicEvent"]}]}]}]}]},{"value":["\n      )"]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"466","locator":"200:3-205:3","type":"SingletonFrom","operand":{"localId":"465","locator":"200:18-205:3","type":"Query","source":[{"localId":"453","locator":"200:20-200:74","alias":"EncounterWithEventDays","expression":{"localId":"452","locator":"200:20-200:51","name":"Days with Hyperglycemic Events","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"457","locator":"201:7-201:66","type":"Equal","operand":[{"localId":"455","locator":"201:13-201:44","path":"encounter","scope":"EncounterWithEventDays","type":"Property"},{"localId":"456","locator":"201:48-201:66","name":"QualifyingEncounter","type":"OperandRef"}]},"return":{"localId":"464","locator":"202:7-204:7","expression":{"localId":"463","locator":"202:14-204:7","type":"Count","source":{"localId":"462","locator":"202:20-203:54","type":"Query","source":[{"localId":"459","locator":"202:20-202:76","alias":"EligibleEventDay","expression":{"localId":"458","locator":"202:20-202:59","path":"eligibleEventDays","scope":"EncounterWithEventDays","type":"Property"}}],"relationship":[],"where":{"localId":"461","locator":"203:11-203:54","path":"hasHyperglycemicEvent","scope":"EligibleEventDay","type":"Property"}}}}}},"operand":[{"name":"QualifyingEncounter","operandTypeSpecifier":{"localId":"451","locator":"199:61-199:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Comfort Measures Care\":\n  "}]},{"children":[{"children":[{"children":[{"text":"[\"Intervention, Order\": "}]},{"children":[{"children":[{"text":"\"Comfort Measures\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"17"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Comfort Measures\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"18"}],"node_type":"Union","ref_id":"19"}],"ref_id":"20"}],"define_name":"Comfort Measures Care"},{"children":[{"children":[{"children":[{"text":"define \"Qualifying Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"21"}],"node_type":"Retrieve","ref_id":"21"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"22"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"23"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"24"}],"node_type":"Property","ref_id":"24"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"26"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"25"}],"node_type":"In","ref_id":"26"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"27"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"28"}],"node_type":"Property","ref_id":"28"}],"node_type":"Start","ref_id":"29"}],"node_type":"DateFrom","ref_id":"30"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"31"},{"children":[{"text":" \u003e= 18"}],"node_type":"Literal","ref_id":"32"}],"node_type":"GreaterOrEqual","ref_id":"33"}],"ref_id":"34"}],"ref_id":"34"}],"node_type":"Query","ref_id":"35"}],"ref_id":"36"}],"define_name":"Qualifying Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Hospitalization Period\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Qualifying Encounter\""}]}]}],"node_type":"ExpressionRef","ref_id":"37"},{"children":[{"text":" QualifyingHospitalization"}]}],"ref_id":"38"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n      "}]},{"children":[{"children":[{"text":"encounter: "}]},{"children":[{"children":[{"text":"QualifyingHospitalization"}]}],"ref_id":"39"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"hospitalizationPeriod: "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"40"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\" ( "}]},{"children":[{"children":[{"text":"QualifyingHospitalization"}]}],"node_type":"AliasRef","ref_id":"41"},{"children":[{"text":" )"}]}],"ref_id":"42"}],"ref_id":"42"}]},{"children":[{"text":"\n    }"}]}],"node_type":"Tuple","ref_id":"43"}],"ref_id":"44"}],"node_type":"Query","ref_id":"45"}],"ref_id":"46"}],"define_name":"Encounter with Hospitalization Period"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Existing Diabetes Diagnosis\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter with Hospitalization Period\""}]}]}],"node_type":"ExpressionRef","ref_id":"47"},{"children":[{"text":" Hospitalization"}]}],"ref_id":"48"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Diabetes\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"49"}],"node_type":"Retrieve","ref_id":"49"},{"children":[{"text":" DiabetesCondition"}]}],"ref_id":"50"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"DiabetesCondition"}]}],"ref_id":"51"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"52"}],"node_type":"Property","ref_id":"52"},{"children":[{"text":" starts before "}],"node_type":"Before","ref_id":"56"},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Hospitalization"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hospitalizationPeriod"}]}],"node_type":"Property","ref_id":"54"}],"node_type":"Property","ref_id":"54"}],"node_type":"End","ref_id":"55"}],"node_type":"Before","ref_id":"56"}],"ref_id":"57"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"children":[{"text":"Hospitalization"}]}],"ref_id":"58"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"node_type":"Property","ref_id":"59"}],"node_type":"Property","ref_id":"59"}],"ref_id":"60"}],"node_type":"Query","ref_id":"61"}],"ref_id":"62"}],"define_name":"Encounter with Existing Diabetes Diagnosis"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Hypoglycemic Medication\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter with Hospitalization Period\""}]}]}],"node_type":"ExpressionRef","ref_id":"64"},{"children":[{"text":" Hospitalization"}]}],"ref_id":"65"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Medication, Administered\": "}]},{"children":[{"children":[{"text":"\"Hypoglycemics Treatment Medications\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"66"}],"node_type":"Retrieve","ref_id":"66"},{"children":[{"text":" HypoglycemicMedication"}]}],"ref_id":"67"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"68"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HypoglycemicMedication"}]}],"ref_id":"69"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"70"}],"node_type":"Property","ref_id":"70"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HypoglycemicMedication"}]}],"ref_id":"71"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"72"}],"node_type":"Property","ref_id":"72"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"73"}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":" starts during "}],"node_type":"In","ref_id":"76"},{"children":[{"children":[{"children":[{"text":"Hospitalization"}]}],"ref_id":"74"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hospitalizationPeriod"}]}],"node_type":"Property","ref_id":"75"}],"node_type":"Property","ref_id":"75"}],"node_type":"In","ref_id":"76"}],"ref_id":"77"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"children":[{"text":"Hospitalization"}]}],"ref_id":"78"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"node_type":"Property","ref_id":"79"}],"node_type":"Property","ref_id":"79"}],"ref_id":"80"}],"node_type":"Query","ref_id":"81"}],"ref_id":"82"}],"define_name":"Encounter with Hypoglycemic Medication"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Elevated Glucose Greater Than or Equal to 200\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter with Hospitalization Period\""}]}]}],"node_type":"ExpressionRef","ref_id":"85"},{"children":[{"text":" Hospitalization"}]}],"ref_id":"86"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Laboratory Test, Performed\": "}]},{"children":[{"children":[{"text":"\"Glucose Lab Test Mass Per Volume\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"87"}],"node_type":"Retrieve","ref_id":"87"},{"children":[{"text":" GlucoseTest"}]}],"ref_id":"88"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"89"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"90"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"91"}],"node_type":"Property","ref_id":"91"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"92"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"93"}],"node_type":"Property","ref_id":"93"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"94"}],"node_type":"FunctionRef","ref_id":"94"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"97"},{"children":[{"children":[{"children":[{"text":"Hospitalization"}]}],"ref_id":"95"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hospitalizationPeriod"}]}],"node_type":"Property","ref_id":"96"}],"node_type":"Property","ref_id":"96"}],"node_type":"In","ref_id":"97"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"98"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"99"}],"node_type":"Property","ref_id":"99"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"200 'mg/dL'"}]}],"node_type":"Quantity","ref_id":"100"}],"node_type":"GreaterOrEqual","ref_id":"101"}],"node_type":"And","ref_id":"102"}],"ref_id":"103"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"children":[{"text":"Hospitalization"}]}],"ref_id":"104"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"node_type":"Property","ref_id":"105"}],"node_type":"Property","ref_id":"105"}],"ref_id":"106"}],"node_type":"Query","ref_id":"107"}],"ref_id":"108"}],"define_name":"Encounter with Elevated Glucose Greater Than or Equal to 200"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter with Existing Diabetes Diagnosis\""}]}],"node_type":"ExpressionRef","ref_id":"63"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter with Hypoglycemic Medication\""}]}],"node_type":"ExpressionRef","ref_id":"83"}],"node_type":"Union","ref_id":"84"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter with Elevated Glucose Greater Than or Equal to 200\""}]}],"node_type":"ExpressionRef","ref_id":"109"}],"node_type":"Union","ref_id":"110"}],"ref_id":"111"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"112"}],"ref_id":"113"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Measurement Population\":\n  "}]},{"children":[{"children":[{"text":"\"Denominator\""}]}],"node_type":"ExpressionRef","ref_id":"114"}],"ref_id":"115"}],"define_name":"Measurement Population"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalDaysMax10\"(Period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"123"},{"children":[{"text":"\u003e"}]}],"ref_id":"124"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"125"}],"ref_id":"126"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Min("}]},{"children":[{"children":[{"text":"{ \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"127"}],"ref_id":"128"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"129"}],"node_type":"Start","ref_id":"130"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"10 days"}]}],"node_type":"Quantity","ref_id":"131"}],"ref_id":"132"},{"children":[{"text":" }"}]}],"ref_id":"133"},{"children":[{"text":"\n  )"}]}],"ref_id":"134"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"135"}],"node_type":"Interval","ref_id":"135"}],"ref_id":"136"}],"define_name":"HospitalDaysMax10"},{"children":[{"children":[{"children":[{"text":"define function \"IntervalToDayNumbers\"(Period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"146"},{"children":[{"text":"\u003e"}]}],"ref_id":"147"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"expand "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"Interval[1, "}],"ref_id":"148"},{"children":[{"children":[{"text":"days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"149"}],"node_type":"Start","ref_id":"150"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"151"}],"node_type":"End","ref_id":"152"}],"ref_id":"153"},{"children":[{"text":"]"}]}],"ref_id":"154"},{"children":[{"text":"}"}]}],"node_type":"List","ref_id":"155"}],"node_type":"Expand","ref_id":"156"},{"children":[{"text":" )"}]}],"node_type":"Expand","ref_id":"156"},{"children":[{"text":" DayExpand"}]}],"ref_id":"157"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"DayExpand"}]}],"node_type":"AliasRef","ref_id":"158"}],"node_type":"End","ref_id":"159"}],"ref_id":"160"}],"node_type":"Query","ref_id":"161"}],"node_type":"Query","ref_id":"161"}],"ref_id":"162"}],"define_name":"IntervalToDayNumbers"},{"children":[{"children":[{"children":[{"text":"define function \"DaysInPeriod\"(Period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"143"},{"children":[{"text":"\u003e"}]}],"ref_id":"144"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"\"IntervalToDayNumbers\"("}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"145"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"163"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"163"},{"children":[{"text":" DayNumber"}]}],"ref_id":"164"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"startPeriod: "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"165"}],"node_type":"Start","ref_id":"166"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"24 hours"}]}],"node_type":"Quantity","ref_id":"167"},{"children":[{"text":" * "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"DayNumber"}]}],"node_type":"AliasRef","ref_id":"168"},{"children":[{"text":" - 1"}],"node_type":"Literal","ref_id":"169"}],"node_type":"Subtract","ref_id":"170"},{"children":[{"text":" )"}]}],"node_type":"Subtract","ref_id":"170"}],"node_type":"Multiply","ref_id":"171"},{"children":[{"text":" )"}]}],"node_type":"Multiply","ref_id":"171"}],"node_type":"Add","ref_id":"172"}],"ref_id":"173"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"endPeriod: "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"hours between "}]},{"children":[{"children":[{"text":"startPeriod"}]}],"node_type":"QueryLetRef","ref_id":"174"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"175"}],"node_type":"End","ref_id":"176"}],"node_type":"DurationBetween","ref_id":"177"},{"children":[{"text":" \u003c 24"}],"node_type":"Literal","ref_id":"178"}],"ref_id":"179"},{"children":[{"text":" )"}]}],"ref_id":"179"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"startPeriod"}]}],"ref_id":"180"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Period"}]}],"node_type":"OperandRef","ref_id":"181"}],"node_type":"Start","ref_id":"182"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"24 hours"}]}],"node_type":"Quantity","ref_id":"183"},{"children":[{"text":" * "}]},{"children":[{"children":[{"text":"DayNumber"}]}],"node_type":"AliasRef","ref_id":"184"}],"node_type":"Multiply","ref_id":"185"},{"children":[{"text":" )"}]}],"node_type":"Multiply","ref_id":"185"}],"ref_id":"186"}],"node_type":"If","ref_id":"187"}],"ref_id":"188"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n      "}]},{"children":[{"children":[{"text":"dayNumber: "}]},{"children":[{"children":[{"text":"DayNumber"}]}],"ref_id":"189"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"dayPeriod: "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"startPeriod"}]}],"ref_id":"190"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"endPeriod"}]}],"ref_id":"191"},{"children":[{"text":" )"}]}],"ref_id":"192"}]},{"children":[{"text":"\n    }"}]}],"node_type":"Tuple","ref_id":"193"}],"ref_id":"194"}],"node_type":"Query","ref_id":"195"}],"node_type":"Query","ref_id":"195"}],"ref_id":"196"}],"define_name":"DaysInPeriod"},{"children":[{"children":[{"children":[{"text":"define \"Days in Hospitalization\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Measurement Population\""}]}]}],"node_type":"ExpressionRef","ref_id":"116"},{"children":[{"text":" EligibleInpatientHospitalization"}]}],"ref_id":"117"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"period: "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"118"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\" ( "}]},{"children":[{"children":[{"text":"EligibleInpatientHospitalization"}]}],"node_type":"AliasRef","ref_id":"119"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"120"}],"node_type":"FunctionRef","ref_id":"120"}],"ref_id":"121"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"relevantPeriod: "}]},{"children":[{"children":[{"text":"\"HospitalDaysMax10\"("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"QueryLetRef","ref_id":"122"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"137"}],"ref_id":"138"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n      "}]},{"children":[{"children":[{"text":"encounter: "}]},{"children":[{"children":[{"text":"EligibleInpatientHospitalization"}]}],"ref_id":"139"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"hospitalizationPeriod: "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"140"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"relevantPeriod: "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"ref_id":"141"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"relevantDays: "}]},{"children":[{"children":[{"text":"\"DaysInPeriod\"("}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"QueryLetRef","ref_id":"142"},{"children":[{"text":")"}]}],"ref_id":"197"}]},{"children":[{"text":"\n    }"}]}],"node_type":"Tuple","ref_id":"198"}],"ref_id":"199"}],"node_type":"Query","ref_id":"200"}],"ref_id":"201"}],"define_name":"Days in Hospitalization"},{"children":[{"children":[{"children":[{"text":"define \"Days with Glucose Results\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Days in Hospitalization\""}]}]}],"node_type":"ExpressionRef","ref_id":"202"},{"children":[{"text":" InpatientHospitalDays"}]}],"ref_id":"203"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n      "}]},{"children":[{"children":[{"text":"encounter: "}]},{"children":[{"children":[{"children":[{"text":"InpatientHospitalDays"}]}],"ref_id":"204"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"ref_id":"205"}],"ref_id":"205"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"relevantPeriod: "}]},{"children":[{"children":[{"children":[{"text":"InpatientHospitalDays"}]}],"ref_id":"206"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"ref_id":"207"}],"ref_id":"207"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"relevantDays: "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientHospitalDays.relevantDays"}]}]}],"node_type":"Property","ref_id":"208"},{"children":[{"text":" EncounterDay"}]}],"ref_id":"209"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n            "}]},{"children":[{"children":[{"text":"dayNumber: "}]},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"210"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayNumber"}]}],"ref_id":"211"}],"ref_id":"211"}]},{"children":[{"text":",\n            "}]},{"children":[{"children":[{"text":"dayPeriod: "}]},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"212"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayPeriod"}]}],"ref_id":"213"}],"ref_id":"213"}]},{"children":[{"text":",\n            "}]},{"children":[{"children":[{"text":"hasSevereResult: "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Laboratory Test, Performed\": "}]},{"children":[{"children":[{"text":"\"Glucose Lab Test Mass Per Volume\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"214"}],"node_type":"Retrieve","ref_id":"214"},{"children":[{"text":" GlucoseTest"}]}],"ref_id":"215"}]},{"children":[{"text":"\n                "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"216"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"217"}],"node_type":"Property","ref_id":"217"},{"children":[{"text":" \u003e "}]},{"children":[{"children":[{"text":"300 'mg/dL'"}]}],"node_type":"Quantity","ref_id":"218"}],"node_type":"Greater","ref_id":"219"},{"children":[{"text":"\n                  and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"220"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"221"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"222"}],"node_type":"Property","ref_id":"222"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"223"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"224"}],"node_type":"Property","ref_id":"224"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"225"}],"node_type":"FunctionRef","ref_id":"225"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"228"},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"226"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayPeriod"}]}],"node_type":"Property","ref_id":"227"}],"node_type":"Property","ref_id":"227"}],"node_type":"In","ref_id":"228"}],"ref_id":"229"}],"ref_id":"229"}],"node_type":"Query","ref_id":"230"},{"children":[{"text":"\n            )"}]}],"node_type":"Query","ref_id":"230"}],"ref_id":"231"}]},{"children":[{"text":",\n            "}]},{"children":[{"children":[{"text":"hasElevatedResult: "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Laboratory Test, Performed\": "}]},{"children":[{"children":[{"text":"\"Glucose Lab Test Mass Per Volume\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"232"}],"node_type":"Retrieve","ref_id":"232"},{"children":[{"text":" GlucoseTest"}]}],"ref_id":"233"}]},{"children":[{"text":"\n                "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"234"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"235"}],"node_type":"Property","ref_id":"235"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"200 'mg/dL'"}]}],"node_type":"Quantity","ref_id":"236"}],"node_type":"GreaterOrEqual","ref_id":"237"},{"children":[{"text":"\n                  and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"238"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"239"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"240"}],"node_type":"Property","ref_id":"240"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"241"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"242"}],"node_type":"Property","ref_id":"242"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"243"}],"node_type":"FunctionRef","ref_id":"243"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"246"},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayPeriod"}]}],"node_type":"Property","ref_id":"245"}],"node_type":"Property","ref_id":"245"}],"node_type":"In","ref_id":"246"}],"ref_id":"247"}],"ref_id":"247"}],"node_type":"Query","ref_id":"248"},{"children":[{"text":"\n            )"}]}],"node_type":"Query","ref_id":"248"}],"ref_id":"249"}]},{"children":[{"text":",\n            "}]},{"children":[{"children":[{"text":"hasNoGlucoseTest: "}]},{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Laboratory Test, Performed\": "}]},{"children":[{"children":[{"text":"\"Glucose Lab Test Mass Per Volume\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"250"}],"node_type":"Retrieve","ref_id":"250"},{"children":[{"text":" GlucoseTest"}]}],"ref_id":"251"}]},{"children":[{"text":"\n                "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"252"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"253"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"254"}],"node_type":"Property","ref_id":"254"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"255"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"256"}],"node_type":"Property","ref_id":"256"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"257"}],"node_type":"FunctionRef","ref_id":"257"},{"children":[{"text":" during "}],"ref_id":"260"},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"258"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayPeriod"}]}],"node_type":"Property","ref_id":"259"}],"node_type":"Property","ref_id":"259"}],"ref_id":"260"}],"ref_id":"260"}],"node_type":"Query","ref_id":"261"},{"children":[{"text":"\n            )"}]}],"node_type":"Query","ref_id":"261"}],"node_type":"Exists","ref_id":"262"}],"ref_id":"263"}]},{"children":[{"text":"\n          }"}]}],"node_type":"Tuple","ref_id":"264"}],"ref_id":"265"}],"ref_id":"266"},{"children":[{"text":"\n      )"}]}],"ref_id":"266"}]},{"children":[{"text":"\n    }"}]}],"node_type":"Tuple","ref_id":"267"}],"ref_id":"268"}],"node_type":"Query","ref_id":"269"}],"ref_id":"270"}],"define_name":"Days with Glucose Results"},{"children":[{"children":[{"children":[{"text":"define \"Days with Hyperglycemic Events\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Days with Glucose Results\""}]}]}],"node_type":"ExpressionRef","ref_id":"271"},{"children":[{"text":" EncounterWithResultDays"}]}],"ref_id":"272"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"eligibleEventDays: "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterWithResultDays.relevantDays"}]}]}],"node_type":"Property","ref_id":"273"},{"children":[{"text":" EncounterDay"}]}],"ref_id":"274"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"275"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayNumber"}]}],"node_type":"Property","ref_id":"276"}],"node_type":"Property","ref_id":"276"},{"children":[{"text":" \u003e 1"}],"node_type":"Literal","ref_id":"277"}],"ref_id":"278"}],"ref_id":"278"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n        "}]},{"children":[{"children":[{"text":"dayNumber: "}]},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"279"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayNumber"}]}],"ref_id":"280"}],"ref_id":"280"}]},{"children":[{"text":",\n        "}]},{"children":[{"children":[{"text":"dayPeriod: "}]},{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"281"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayPeriod"}]}],"ref_id":"282"}],"ref_id":"282"}]},{"children":[{"text":",\n        "}]},{"children":[{"children":[{"text":"hasHyperglycemicEvent: "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"283"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hasSevereResult"}]}],"node_type":"Property","ref_id":"284"}],"node_type":"Property","ref_id":"284"},{"children":[{"text":"\n            or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"285"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hasNoGlucoseTest"}]}],"node_type":"Property","ref_id":"286"}],"node_type":"Property","ref_id":"286"},{"children":[{"text":"\n                and "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterWithResultDays"}]}],"ref_id":"287"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDays"}]}],"node_type":"Property","ref_id":"288"}],"node_type":"Property","ref_id":"288"},{"children":[{"text":"["}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"289"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayNumber"}]}],"node_type":"Property","ref_id":"290"}],"node_type":"Property","ref_id":"290"},{"children":[{"text":" - 2"}],"node_type":"Literal","ref_id":"291"}],"node_type":"Subtract","ref_id":"292"},{"children":[{"text":"]"}]}],"ref_id":"293"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hasElevatedResult"}]}],"node_type":"Property","ref_id":"294"}],"node_type":"Property","ref_id":"294"}],"node_type":"And","ref_id":"295"},{"children":[{"text":"\n                and "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterWithResultDays"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDays"}]}],"node_type":"Property","ref_id":"297"}],"node_type":"Property","ref_id":"297"},{"children":[{"text":"["}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDay"}]}],"ref_id":"298"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dayNumber"}]}],"node_type":"Property","ref_id":"299"}],"node_type":"Property","ref_id":"299"},{"children":[{"text":" - 3"}],"node_type":"Literal","ref_id":"300"}],"node_type":"Subtract","ref_id":"301"},{"children":[{"text":"]"}]}],"ref_id":"302"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hasElevatedResult"}]}],"node_type":"Property","ref_id":"303"}],"node_type":"Property","ref_id":"303"}],"node_type":"And","ref_id":"304"},{"children":[{"text":"\n            )"}]}],"node_type":"And","ref_id":"304"}],"ref_id":"305"},{"children":[{"text":"\n        )"}]}],"ref_id":"305"}]},{"children":[{"text":"\n      }"}]}],"node_type":"Tuple","ref_id":"306"}],"ref_id":"307"}],"node_type":"Query","ref_id":"308"}],"ref_id":"309"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Tuple {\n      "}]},{"children":[{"children":[{"text":"encounter: "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithResultDays"}]}],"ref_id":"310"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"ref_id":"311"}],"ref_id":"311"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"relevantPeriod: "}]},{"children":[{"children":[{"children":[{"text":"EncounterWithResultDays"}]}],"ref_id":"312"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"ref_id":"313"}],"ref_id":"313"}]},{"children":[{"text":",\n      "}]},{"children":[{"children":[{"text":"eligibleEventDays: "}]},{"children":[{"children":[{"text":"eligibleEventDays"}]}],"ref_id":"314"}]},{"children":[{"text":"\n    }"}]}],"node_type":"Tuple","ref_id":"315"}],"ref_id":"316"}],"node_type":"Query","ref_id":"317"}],"ref_id":"318"}],"define_name":"Days with Hyperglycemic Events"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start\":\n  "}]},{"children":[{"children":[{"children":[{"text":"from\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Initial Population\""}]}]}],"node_type":"ExpressionRef","ref_id":"319"},{"children":[{"text":" InpatientHospitalization"}]}],"ref_id":"320"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Laboratory Test, Performed\": "}]},{"children":[{"children":[{"text":"\"Glucose Lab Test Mass Per Volume\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"321"}],"node_type":"Retrieve","ref_id":"321"},{"children":[{"text":" GlucoseTest"}]}],"ref_id":"322"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"GlucoseTestTime: "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"323"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"324"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"325"}],"node_type":"Property","ref_id":"325"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"326"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"327"}],"node_type":"Property","ref_id":"327"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"328"}],"node_type":"FunctionRef","ref_id":"328"}],"ref_id":"329"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"HospitalPeriod: "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"330"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\" ( "}]},{"children":[{"children":[{"text":"InpatientHospitalization"}]}],"node_type":"AliasRef","ref_id":"331"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"332"}],"node_type":"FunctionRef","ref_id":"332"}],"ref_id":"333"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"334"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"335"}],"node_type":"Property","ref_id":"335"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"336"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"GlucoseTest"}]}],"ref_id":"337"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"338"}],"node_type":"Property","ref_id":"338"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"1000 'mg/dL'"}]}],"node_type":"Quantity","ref_id":"339"}],"node_type":"GreaterOrEqual","ref_id":"340"}],"node_type":"And","ref_id":"341"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTestTime"}]}],"node_type":"QueryLetRef","ref_id":"342"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"352"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"HospitalPeriod"}]}],"node_type":"QueryLetRef","ref_id":"343"}],"node_type":"Start","ref_id":"344"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"345"}],"ref_id":"346"},{"children":[{"text":" )"}]}],"ref_id":"346"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"HospitalPeriod"}]}],"node_type":"QueryLetRef","ref_id":"347"}],"node_type":"Start","ref_id":"348"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"6 hours"}]}],"node_type":"Quantity","ref_id":"349"}],"ref_id":"350"},{"children":[{"text":" )"}]}],"ref_id":"350"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"351"}],"node_type":"In","ref_id":"352"}],"node_type":"And","ref_id":"353"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"GlucoseTestTime"}]}],"node_type":"QueryLetRef","ref_id":"354"},{"children":[{"text":" before "}],"node_type":"Before","ref_id":"358"},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"InpatientHospitalization"}]}],"ref_id":"355"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"356"}],"node_type":"Property","ref_id":"356"}],"node_type":"End","ref_id":"357"}],"node_type":"Before","ref_id":"358"}],"ref_id":"359"}],"ref_id":"359"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"InpatientHospitalization"}]}],"node_type":"AliasRef","ref_id":"360"}],"ref_id":"361"}],"node_type":"Query","ref_id":"362"}],"ref_id":"363"}],"define_name":"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Comfort Measures during Hospitalization\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Initial Population\""}]}]}],"node_type":"ExpressionRef","ref_id":"365"},{"children":[{"text":" InpatientHospitalization"}]}],"ref_id":"366"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Comfort Measures Care\""}]}]}],"node_type":"ExpressionRef","ref_id":"367"},{"children":[{"text":" ComfortCare"}]}],"ref_id":"368"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"369"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"children":[{"text":"ComfortCare"}]}],"ref_id":"370"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"371"}],"node_type":"Property","ref_id":"371"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"ComfortCare"}]}],"ref_id":"372"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"373"}],"node_type":"Property","ref_id":"373"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"374"}],"node_type":"FunctionRef","ref_id":"374"}],"node_type":"Start","ref_id":"375"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"ComfortCare"}]}],"ref_id":"376"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"377"}],"node_type":"Property","ref_id":"377"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"378"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"382"},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"379"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\" ( "}]},{"children":[{"children":[{"text":"InpatientHospitalization"}]}],"node_type":"AliasRef","ref_id":"380"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"381"}],"node_type":"FunctionRef","ref_id":"381"}],"node_type":"In","ref_id":"382"}],"ref_id":"383"}],"node_type":"Query","ref_id":"384"}],"ref_id":"385"}],"define_name":"Encounter with Comfort Measures during Hospitalization"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Discharge for Hospice Care\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Initial Population\""}]}]}],"node_type":"ExpressionRef","ref_id":"388"},{"children":[{"text":" InpatientHospitalization"}]}],"ref_id":"389"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientHospitalization"}]}],"ref_id":"390"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"ref_id":"391"}],"ref_id":"391"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Discharged to Home for Hospice Care\""}]}],"ref_id":"392"}],"node_type":"InValueSet","ref_id":"393"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientHospitalization"}]}],"ref_id":"394"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"ref_id":"395"}],"ref_id":"395"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Discharged to Health Care Facility for Hospice Care\""}]}],"ref_id":"396"}],"node_type":"InValueSet","ref_id":"397"}],"ref_id":"398"}],"ref_id":"398"}],"node_type":"Query","ref_id":"399"}],"ref_id":"400"}],"define_name":"Encounter with Discharge for Hospice Care"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start\""}]}],"node_type":"ExpressionRef","ref_id":"364"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter with Comfort Measures during Hospitalization\""}]}],"node_type":"ExpressionRef","ref_id":"386"}],"node_type":"Union","ref_id":"387"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter with Discharge for Hospice Care\""}]}],"node_type":"ExpressionRef","ref_id":"401"}],"node_type":"Union","ref_id":"402"}],"ref_id":"403"}],"define_name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusions\":\n  "}]},{"children":[{"children":[{"text":"\"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\""}]}],"node_type":"ExpressionRef","ref_id":"404"}],"ref_id":"405"}],"define_name":"Denominator Exclusions"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Hyperglycemic Events\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Days with Hyperglycemic Events\""}]}]}],"node_type":"ExpressionRef","ref_id":"406"},{"children":[{"text":" HyperglycemicEventDays"}]}],"ref_id":"407"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HyperglycemicEventDays.eligibleEventDays"}]}]}],"node_type":"Property","ref_id":"408"},{"children":[{"text":" EligibleEventDay"}]}],"ref_id":"409"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"EligibleEventDay"}]}],"ref_id":"410"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hasHyperglycemicEvent"}]}],"ref_id":"411"}],"ref_id":"411"}],"ref_id":"411"}],"node_type":"Query","ref_id":"412"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"412"}],"ref_id":"413"}],"ref_id":"413"},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"children":[{"text":"HyperglycemicEventDays"}]}],"ref_id":"414"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"node_type":"Property","ref_id":"415"}],"node_type":"Property","ref_id":"415"}],"ref_id":"416"}],"node_type":"Query","ref_id":"417"}],"ref_id":"418"}],"define_name":"Encounter with Hyperglycemic Events"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"text":"\"Encounter with Hyperglycemic Events\""}]}],"node_type":"ExpressionRef","ref_id":"419"}],"ref_id":"420"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"Numerator Exclusions\":\n  "}]},{"children":[{"children":[{"text":"\"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care\""}]}],"node_type":"ExpressionRef","ref_id":"421"}],"ref_id":"422"}],"define_name":"Numerator Exclusions"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"423"}],"ref_id":"424"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"425"}],"ref_id":"426"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"427"}],"ref_id":"428"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"429"}],"ref_id":"430"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define function \"DenominatorObservations\"(QualifyingEncounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"437"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"singleton from "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Days with Hyperglycemic Events\""}]}]}],"node_type":"ExpressionRef","ref_id":"438"},{"children":[{"text":" EncounterWithEventDays"}]}],"ref_id":"439"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterWithEventDays"}]}],"ref_id":"440"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"node_type":"Property","ref_id":"441"}],"node_type":"Property","ref_id":"441"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"QualifyingEncounter"}]}],"node_type":"OperandRef","ref_id":"442"}],"ref_id":"443"}],"ref_id":"443"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Count("}]},{"children":[{"children":[{"children":[{"text":"EncounterWithEventDays"}]}],"ref_id":"444"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"eligibleEventDays"}]}],"ref_id":"445"}],"ref_id":"445"},{"children":[{"text":")"}]}],"node_type":"Count","ref_id":"446"}],"ref_id":"447"}],"node_type":"Query","ref_id":"448"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"448"}],"node_type":"SingletonFrom","ref_id":"449"}],"node_type":"SingletonFrom","ref_id":"449"}],"ref_id":"450"}],"define_name":"DenominatorObservations"},{"children":[{"children":[{"children":[{"text":"define function \"NumeratorObservations\"(QualifyingEncounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"451"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"singleton from "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Days with Hyperglycemic Events\""}]}]}],"node_type":"ExpressionRef","ref_id":"452"},{"children":[{"text":" EncounterWithEventDays"}]}],"ref_id":"453"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterWithEventDays"}]}],"ref_id":"454"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"encounter"}]}],"node_type":"Property","ref_id":"455"}],"node_type":"Property","ref_id":"455"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"QualifyingEncounter"}]}],"node_type":"OperandRef","ref_id":"456"}],"ref_id":"457"}],"ref_id":"457"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Count("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterWithEventDays.eligibleEventDays"}]}]}],"node_type":"Property","ref_id":"458"},{"children":[{"text":" EligibleEventDay"}]}],"ref_id":"459"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"EligibleEventDay"}]}],"ref_id":"460"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"hasHyperglycemicEvent"}]}],"ref_id":"461"}],"ref_id":"461"}],"ref_id":"461"}],"ref_id":"462"},{"children":[{"text":"\n      )"}]}],"node_type":"Count","ref_id":"463"}],"ref_id":"464"}],"node_type":"Query","ref_id":"465"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"465"}],"node_type":"SingletonFrom","ref_id":"466"}],"node_type":"SingletonFrom","ref_id":"466"}],"ref_id":"467"}],"define_name":"NumeratorObservations"}],"identifier":{"id":"HospitalHarmHyperglycemiainHospitalizedPatients","version":"4.1.000"}},"is_main_library":true,"is_top_level":true,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","library_version":"4.1.000","statement_dependencies":[{"_id":"68923fd7a83e15671c2e6d4b","statement_name":"Patient"},{"_id":"68923fd7a83e15671c2e6d4c","statement_name":"Comfort Measures Care"},{"_id":"68923fd7a83e15671c2e6d4d","statement_name":"Qualifying Encounter","statement_references":[{"_id":"68923fdda83e15671c2e7236","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Patient"}]},{"_id":"68923fd7a83e15671c2e6d4e","statement_name":"Encounter with Hospitalization Period","statement_references":[{"_id":"68923fd7a83e15671c2e6d32","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Qualifying Encounter"},{"_id":"68923fd7a83e15671c2e6d33","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"HospitalizationWithObservation"}]},{"_id":"68923fd7a83e15671c2e6d4f","statement_name":"Encounter with Existing Diabetes Diagnosis","statement_references":[{"_id":"68923fdda83e15671c2e7237","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Hospitalization Period"}]},{"_id":"68923fd7a83e15671c2e6d50","statement_name":"Encounter with Hypoglycemic Medication","statement_references":[{"_id":"68923fd7a83e15671c2e6d34","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Hospitalization Period"},{"_id":"68923fd7a83e15671c2e6d35","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]},{"_id":"68923fd7a83e15671c2e6d51","statement_name":"Encounter with Elevated Glucose Greater Than or Equal to 200","statement_references":[{"_id":"68923fd7a83e15671c2e6d36","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Hospitalization Period"},{"_id":"68923fd7a83e15671c2e6d37","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"}]},{"_id":"68923fd7a83e15671c2e6d52","statement_name":"Initial Population","statement_references":[{"_id":"68923fd7a83e15671c2e6d38","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Existing Diabetes Diagnosis"},{"_id":"68923fd7a83e15671c2e6d39","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Hypoglycemic Medication"},{"_id":"68923fd7a83e15671c2e6d3a","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Elevated Glucose Greater Than or Equal to 200"}]},{"_id":"68923fd7a83e15671c2e6d53","statement_name":"Denominator","statement_references":[{"_id":"68923fdda83e15671c2e7238","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Initial Population"}]},{"_id":"68923fd7a83e15671c2e6d54","statement_name":"Measurement Population","statement_references":[{"_id":"68923fdda83e15671c2e7239","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Denominator"}]},{"_id":"68923fd7a83e15671c2e6d55","statement_name":"HospitalDaysMax10"},{"_id":"68923fd7a83e15671c2e6d56","statement_name":"IntervalToDayNumbers"},{"_id":"68923fd7a83e15671c2e6d57","statement_name":"DaysInPeriod","statement_references":[{"_id":"68923fdda83e15671c2e723a","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"IntervalToDayNumbers"}]},{"_id":"68923fd7a83e15671c2e6d58","statement_name":"Days in Hospitalization","statement_references":[{"_id":"68923fd7a83e15671c2e6d3b","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Measurement Population"},{"_id":"68923fd7a83e15671c2e6d3c","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"HospitalizationWithObservation"},{"_id":"68923fd7a83e15671c2e6d3d","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"HospitalDaysMax10"},{"_id":"68923fd7a83e15671c2e6d3e","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"DaysInPeriod"}]},{"_id":"68923fd7a83e15671c2e6d59","statement_name":"Days with Glucose Results","statement_references":[{"_id":"68923fd7a83e15671c2e6d3f","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Days in Hospitalization"},{"_id":"68923fd7a83e15671c2e6d40","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"}]},{"_id":"68923fd7a83e15671c2e6d5a","statement_name":"Days with Hyperglycemic Events","statement_references":[{"_id":"68923fdda83e15671c2e723b","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Days with Glucose Results"}]},{"_id":"68923fd7a83e15671c2e6d5b","statement_name":"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start","statement_references":[{"_id":"68923fd7a83e15671c2e6d41","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Initial Population"},{"_id":"68923fd7a83e15671c2e6d42","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923fd7a83e15671c2e6d43","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"HospitalizationWithObservation"}]},{"_id":"68923fd7a83e15671c2e6d5c","statement_name":"Encounter with Comfort Measures during Hospitalization","statement_references":[{"_id":"68923fd7a83e15671c2e6d44","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Initial Population"},{"_id":"68923fd7a83e15671c2e6d45","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Comfort Measures Care"},{"_id":"68923fd7a83e15671c2e6d46","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"},{"_id":"68923fd7a83e15671c2e6d47","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"HospitalizationWithObservation"}]},{"_id":"68923fd7a83e15671c2e6d5d","statement_name":"Encounter with Discharge for Hospice Care","statement_references":[{"_id":"68923fdda83e15671c2e723c","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Initial Population"}]},{"_id":"68923fd7a83e15671c2e6d5e","statement_name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care","statement_references":[{"_id":"68923fd7a83e15671c2e6d48","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Glucose Greater Than or Equal to 1000 within 1 Hour Prior To and 6 Hours After Encounter Start"},{"_id":"68923fd7a83e15671c2e6d49","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Comfort Measures during Hospitalization"},{"_id":"68923fd7a83e15671c2e6d4a","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Discharge for Hospice Care"}]},{"_id":"68923fd7a83e15671c2e6d5f","statement_name":"Denominator Exclusions","statement_references":[{"_id":"68923fdda83e15671c2e723d","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care"}]},{"_id":"68923fd7a83e15671c2e6d60","statement_name":"Encounter with Hyperglycemic Events","statement_references":[{"_id":"68923fdda83e15671c2e723e","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Days with Hyperglycemic Events"}]},{"_id":"68923fd7a83e15671c2e6d61","statement_name":"Numerator","statement_references":[{"_id":"68923fdda83e15671c2e723f","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Hyperglycemic Events"}]},{"_id":"68923fd7a83e15671c2e6d62","statement_name":"Numerator Exclusions","statement_references":[{"_id":"68923fdda83e15671c2e7240","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Encounter with Early Glucose Greater Than or Equal to 1000 or with Comfort or Hospice Care"}]},{"_id":"68923fd7a83e15671c2e6d63","statement_name":"SDE Ethnicity"},{"_id":"68923fd7a83e15671c2e6d64","statement_name":"SDE Payer"},{"_id":"68923fd7a83e15671c2e6d65","statement_name":"SDE Race"},{"_id":"68923fd7a83e15671c2e6d66","statement_name":"SDE Sex"},{"_id":"68923fd7a83e15671c2e6d67","statement_name":"DenominatorObservations","statement_references":[{"_id":"68923fdda83e15671c2e7241","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Days with Hyperglycemic Events"}]},{"_id":"68923fd7a83e15671c2e6d68","statement_name":"NumeratorObservations","statement_references":[{"_id":"68923fdda83e15671c2e7242","hqmf_id":null,"library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Days with Hyperglycemic Events"}]}]},{"_id":"68923fd7a83e15671c2e6d71","cql":"library MATGlobalCommonFunctionsQDM version '8.0.000'\n\n/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"395","s":[{"value":["","library MATGlobalCommonFunctionsQDM version '8.0.000'"]}]}}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"9","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"8","s":[{"value":["Interval\u003c"]},{"r":"7","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"8","locator":"13:32-13:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"13:41-13:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"7:1-7:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}]},{"localId":"3","locator":"8:1-8:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"4","locator":"9:1-9:72","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}]},{"localId":"5","locator":"10:1-10:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]},{"localId":"6","locator":"11:1-11:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}]}]},"contexts":{"def":[{"locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"11","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"10","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"18:28-18:55","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}},{"localId":"19","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"18","s":[{"s":[{"r":"13","s":[{"r":"12","s":[{"r":"12","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"17","s":[{"value":["where "]},{"r":"17","s":[{"r":"15","s":[{"r":"14","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"15","s":[{"value":["relevantPeriod"]}]}]},{"r":"17","value":[" ","ends during day of"," "]},{"r":"16","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"18","locator":"21:3-22:83","type":"Query","source":[{"localId":"13","locator":"21:3-21:68","alias":"EncounterInpatient","expression":{"localId":"12","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"21:28-21:48","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"17","locator":"22:5-22:83","precision":"Day","type":"In","operand":[{"locator":"22:45-22:48","type":"End","operand":{"localId":"15","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"16","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"29","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"29","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function ","\"ToDateInterval\"","(","period"," "]},{"r":"21","s":[{"value":["Interval\u003c"]},{"r":"20","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"28","s":[{"r":"28","s":[{"value":["Interval["]},{"r":"24","s":[{"value":["date from "]},{"r":"23","s":[{"value":["start of "]},{"r":"22","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"27","s":[{"value":["date from "]},{"r":"26","s":[{"value":["end of "]},{"r":"25","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"28","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"24","locator":"30:12-30:36","type":"DateFrom","operand":{"localId":"23","locator":"30:22-30:36","type":"Start","operand":{"localId":"22","locator":"30:31-30:36","name":"period","type":"OperandRef"}}},"high":{"localId":"27","locator":"30:39-30:61","type":"DateFrom","operand":{"localId":"26","locator":"30:49-30:61","type":"End","operand":{"localId":"25","locator":"30:56-30:61","name":"period","type":"OperandRef"}}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"21","locator":"29:41-29:58","type":"IntervalTypeSpecifier","pointType":{"localId":"20","locator":"29:50-29:57","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"37","locator":"33:1-34:60","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"37","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function ","\"LengthInDays\"","(","Value"," "]},{"r":"31","s":[{"value":["Interval\u003c"]},{"r":"30","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"36","s":[{"r":"36","s":[{"value":["difference in days between "]},{"r":"33","s":[{"value":["start of "]},{"r":"32","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"35","s":[{"value":["end of "]},{"r":"34","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"36","locator":"34:3-34:60","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"33","locator":"34:30-34:43","type":"Start","operand":{"localId":"32","locator":"34:39-34:43","name":"Value","type":"OperandRef"}},{"localId":"35","locator":"34:49-34:60","type":"End","operand":{"localId":"34","locator":"34:56-34:60","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"31","locator":"33:38-33:55","type":"IntervalTypeSpecifier","pointType":{"localId":"30","locator":"33:47-33:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"70","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"70","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"38","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"69","s":[{"r":"69","s":[{"s":[{"r":"40","s":[{"r":"39","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"56","s":[{"value":["EDVisit",": "]},{"r":"55","s":[{"value":["Last","("]},{"r":"54","s":[{"s":[{"r":"42","s":[{"r":"41","s":[{"r":"41","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"49","s":[{"value":["where "]},{"r":"49","s":[{"r":"44","s":[{"r":"43","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"44","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"49","s":[{"value":["ends "]},{"r":"48","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"47","s":[{"value":["start of "]},{"r":"46","s":[{"r":"45","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"46","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"53","s":[{"value":["sort by \n  \t\t\t"]},{"r":"52","s":[{"r":"51","s":[{"value":["end of "]},{"r":"50","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"68","s":[{"value":["return "]},{"r":"67","s":[{"value":["if "]},{"r":"58","s":[{"r":"57","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"60","s":[{"r":"59","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"60","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"66","s":[{"value":["flatten "]},{"r":"65","s":[{"value":["{ "]},{"r":"62","s":[{"r":"61","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"62","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"64","s":[{"r":"63","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"64","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"69","locator":"38:3-45:71","type":"Query","source":[{"localId":"40","locator":"38:3-38:17","alias":"Visit","expression":{"localId":"39","locator":"38:3-38:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"56","locator":"39:8-43:4","identifier":"EDVisit","expression":{"localId":"55","locator":"39:17-43:4","type":"Last","source":{"localId":"54","locator":"39:22-42:26","type":"Query","source":[{"localId":"42","locator":"39:22-39:82","alias":"LastED","expression":{"localId":"41","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"39:47-39:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"49","locator":"40:6-40:95","type":"And","operand":[{"locator":"40:39-40:52","type":"In","operand":[{"locator":"40:34-40:37","type":"End","operand":{"localId":"44","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"40:67-40:95","type":"Subtract","operand":[{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"48","locator":"40:39-40:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"40:39-40:52","type":"Not","operand":{"locator":"40:39-40:52","type":"IsNull","operand":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"53","locator":"41:6-42:26","by":[{"localId":"52","locator":"42:6-42:26","direction":"asc","type":"ByExpression","expression":{"localId":"51","locator":"42:6-42:26","type":"End","operand":{"localId":"50","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"68","locator":"44:4-45:71","expression":{"localId":"67","locator":"44:11-45:71","type":"If","condition":{"localId":"58","locator":"44:14-44:28","type":"IsNull","operand":{"localId":"57","locator":"44:14-44:20","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"60","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"66","locator":"45:10-45:71","type":"Flatten","operand":{"localId":"65","locator":"45:18-45:71","type":"List","element":[{"localId":"62","locator":"45:20-45:44","path":"facilityLocations","type":"Property","source":{"localId":"61","locator":"45:20-45:26","name":"EDVisit","type":"QueryLetRef"}},{"localId":"64","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"38","locator":"37:54-37:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"87","locator":"48:1-52:18","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"87","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"71","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"86","s":[{"r":"86","s":[{"value":["start of "]},{"r":"85","s":[{"r":"84","s":[{"value":["First","("]},{"r":"83","s":[{"s":[{"r":"74","s":[{"r":"73","s":[{"value":["("]},{"r":"73","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"72","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"78","s":[{"value":["where "]},{"r":"78","s":[{"r":"76","s":[{"r":"75","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"76","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"77","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"82","s":[{"value":["sort by "]},{"r":"81","s":[{"r":"80","s":[{"value":["start of "]},{"r":"79","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"85","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"86","locator":"49:3-52:18","type":"Start","operand":{"localId":"85","locator":"49:12-52:18","path":"locationPeriod","type":"Property","source":{"localId":"84","locator":"49:12-52:3","type":"First","source":{"localId":"83","locator":"49:18-51:35","type":"Query","source":[{"localId":"74","locator":"49:18-49:72","alias":"HospitalLocation","expression":{"localId":"73","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"72","locator":"49:46-49:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"78","locator":"50:5-50:63","type":"InValueSet","code":{"localId":"76","locator":"50:11-50:31","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"77","locator":"50:36-50:63","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"82","locator":"51:5-51:35","by":[{"localId":"81","locator":"51:13-51:35","direction":"asc","type":"ByExpression","expression":{"localId":"80","locator":"51:13-51:35","type":"Start","operand":{"localId":"79","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"71","locator":"48:60-48:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"122","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"122","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"90","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"121","s":[{"r":"121","s":[{"s":[{"r":"92","s":[{"r":"91","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"108","s":[{"value":["EDVisit",": "]},{"r":"107","s":[{"value":["Last","("]},{"r":"106","s":[{"s":[{"r":"94","s":[{"r":"93","s":[{"r":"93","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"101","s":[{"value":["where "]},{"r":"101","s":[{"r":"96","s":[{"r":"95","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"96","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"101","s":[{"value":["ends "]},{"r":"100","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"99","s":[{"value":["start of "]},{"r":"98","s":[{"r":"97","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"98","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"105","s":[{"value":["sort by \n  \t\t\t"]},{"r":"104","s":[{"r":"103","s":[{"value":["end of "]},{"r":"102","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"120","s":[{"value":["return "]},{"r":"119","s":[{"value":["Interval["]},{"r":"115","s":[{"value":["Coalesce","("]},{"r":"111","s":[{"value":["start of "]},{"r":"110","s":[{"r":"109","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"110","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"114","s":[{"value":["start of "]},{"r":"113","s":[{"r":"112","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"113","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"118","s":[{"value":["end of "]},{"r":"117","s":[{"r":"116","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"117","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"121","locator":"66:3-73:31","type":"Query","source":[{"localId":"92","locator":"66:3-66:17","alias":"Visit","expression":{"localId":"91","locator":"66:3-66:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"108","locator":"67:8-71:4","identifier":"EDVisit","expression":{"localId":"107","locator":"67:17-71:4","type":"Last","source":{"localId":"106","locator":"67:22-70:26","type":"Query","source":[{"localId":"94","locator":"67:22-67:82","alias":"LastED","expression":{"localId":"93","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"67:47-67:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"101","locator":"68:6-68:95","type":"And","operand":[{"locator":"68:39-68:52","type":"In","operand":[{"locator":"68:34-68:37","type":"End","operand":{"localId":"96","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"68:67-68:95","type":"Subtract","operand":[{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"100","locator":"68:39-68:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"68:39-68:52","type":"Not","operand":{"locator":"68:39-68:52","type":"IsNull","operand":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"105","locator":"69:6-70:26","by":[{"localId":"104","locator":"70:6-70:26","direction":"asc","type":"ByExpression","expression":{"localId":"103","locator":"70:6-70:26","type":"End","operand":{"localId":"102","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"120","locator":"72:4-73:31","expression":{"localId":"119","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"115","locator":"72:20-72:91","type":"Coalesce","operand":[{"localId":"111","locator":"72:29-72:59","type":"Start","operand":{"localId":"110","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","source":{"localId":"109","locator":"72:38-72:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"114","locator":"72:62-72:90","type":"Start","operand":{"localId":"113","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"118","locator":"73:4-73:30","type":"End","operand":{"localId":"117","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"90","locator":"65:45-65:66","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"125","locator":"55:1-56:39","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"125","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"88","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"124","s":[{"r":"124","s":[{"value":["start of "]},{"r":"123","s":[{"value":["\"Hospitalization\"","("]},{"r":"89","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"124","locator":"56:3-56:39","type":"Start","operand":{"localId":"123","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"89","locator":"56:30-56:38","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"88","locator":"55:51-55:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"138","locator":"59:1-62:18","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"138","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"126","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"137","s":[{"r":"137","s":[{"value":["start of "]},{"r":"136","s":[{"r":"135","s":[{"value":["First","("]},{"r":"134","s":[{"s":[{"r":"129","s":[{"r":"128","s":[{"value":["("]},{"r":"128","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"127","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"133","s":[{"value":["sort by "]},{"r":"132","s":[{"r":"131","s":[{"value":["start of "]},{"r":"130","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"136","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"137","locator":"60:3-62:18","type":"Start","operand":{"localId":"136","locator":"60:12-62:18","path":"locationPeriod","type":"Property","source":{"localId":"135","locator":"60:12-62:3","type":"First","source":{"localId":"134","locator":"60:18-61:35","type":"Query","source":[{"localId":"129","locator":"60:18-60:72","alias":"HospitalLocation","expression":{"localId":"128","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"127","locator":"60:46-60:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"133","locator":"61:5-61:35","by":[{"localId":"132","locator":"61:13-61:35","direction":"asc","type":"ByExpression","expression":{"localId":"131","locator":"61:13-61:35","type":"Start","operand":{"localId":"130","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"126","locator":"59:49-59:70","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"145","locator":"76:1-77:44","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"145","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"141","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"144","s":[{"r":"144","s":[{"value":["LengthInDays","("]},{"r":"143","s":[{"value":["\"Hospitalization\"","("]},{"r":"142","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"144","locator":"77:3-77:44","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"143","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"142","locator":"77:34-77:42","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"141","locator":"76:57-76:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"158","locator":"80:1-83:18","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"158","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"146","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"157","s":[{"r":"157","s":[{"value":["end of "]},{"r":"156","s":[{"r":"155","s":[{"value":["Last","("]},{"r":"154","s":[{"s":[{"r":"149","s":[{"r":"148","s":[{"value":["("]},{"r":"148","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"147","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"153","s":[{"value":["sort by "]},{"r":"152","s":[{"r":"151","s":[{"value":["start of "]},{"r":"150","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"156","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"157","locator":"81:3-83:18","type":"End","operand":{"localId":"156","locator":"81:10-83:18","path":"locationPeriod","type":"Property","source":{"localId":"155","locator":"81:10-83:3","type":"Last","source":{"localId":"154","locator":"81:15-82:35","type":"Query","source":[{"localId":"149","locator":"81:15-81:69","alias":"HospitalLocation","expression":{"localId":"148","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"147","locator":"81:43-81:51","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"153","locator":"82:5-82:35","by":[{"localId":"152","locator":"82:13-82:35","direction":"asc","type":"ByExpression","expression":{"localId":"151","locator":"82:13-82:35","type":"Start","operand":{"localId":"150","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"146","locator":"80:51-80:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"163","locator":"86:1-87:33","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"163","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"159","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"162","s":[{"r":"162","s":[{"value":["end of "]},{"r":"161","s":[{"r":"160","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"161","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"162","locator":"87:3-87:33","type":"End","operand":{"localId":"161","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","source":{"localId":"160","locator":"87:10-87:18","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"159","locator":"86:51-86:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"236","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"236","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"164","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"235","s":[{"r":"235","s":[{"s":[{"r":"166","s":[{"r":"165","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"182","s":[{"value":["ObsVisit",": "]},{"r":"181","s":[{"value":["Last","("]},{"r":"180","s":[{"s":[{"r":"168","s":[{"r":"167","s":[{"r":"167","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"175","s":[{"value":["where "]},{"r":"175","s":[{"r":"170","s":[{"r":"169","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"175","s":[{"value":["ends "]},{"r":"174","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"173","s":[{"value":["start of "]},{"r":"172","s":[{"r":"171","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"172","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"179","s":[{"value":["sort by \n  \t\t\t"]},{"r":"178","s":[{"r":"177","s":[{"value":["end of "]},{"r":"176","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"190","s":[{"value":["VisitStart",": "]},{"r":"189","s":[{"value":["Coalesce","("]},{"r":"185","s":[{"value":["start of "]},{"r":"184","s":[{"r":"183","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"184","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"188","s":[{"value":["start of "]},{"r":"187","s":[{"r":"186","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"187","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"204","s":[{"value":["EDVisit",": "]},{"r":"203","s":[{"value":["Last","("]},{"r":"202","s":[{"s":[{"r":"192","s":[{"r":"191","s":[{"r":"191","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"197","s":[{"value":["where "]},{"r":"197","s":[{"r":"194","s":[{"r":"193","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"194","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"197","s":[{"value":["ends "]},{"r":"196","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"195","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"201","s":[{"value":["sort by \n  \t\t\t"]},{"r":"200","s":[{"r":"199","s":[{"value":["end of "]},{"r":"198","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"210","s":[{"value":["VisitStartWithED",": "]},{"r":"209","s":[{"value":["Coalesce","("]},{"r":"207","s":[{"value":["start of "]},{"r":"206","s":[{"r":"205","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"206","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"208","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"224","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"223","s":[{"value":["Last","("]},{"r":"222","s":[{"s":[{"r":"212","s":[{"r":"211","s":[{"r":"211","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"217","s":[{"value":["where "]},{"r":"217","s":[{"r":"214","s":[{"r":"213","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"214","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"217","s":[{"value":["ends "]},{"r":"216","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"215","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"221","s":[{"value":["sort by \n  \t\t\t"]},{"r":"220","s":[{"r":"219","s":[{"value":["end of "]},{"r":"218","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"234","s":[{"value":["return "]},{"r":"233","s":[{"value":["Interval["]},{"r":"229","s":[{"value":["Coalesce","("]},{"r":"227","s":[{"value":["start of "]},{"r":"226","s":[{"r":"225","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"226","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"228","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"232","s":[{"value":["end of "]},{"r":"231","s":[{"r":"230","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"231","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"235","locator":"91:3-110:31","type":"Query","source":[{"localId":"166","locator":"91:3-91:17","alias":"Visit","expression":{"localId":"165","locator":"91:3-91:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"182","locator":"92:8-96:4","identifier":"ObsVisit","expression":{"localId":"181","locator":"92:18-96:4","type":"Last","source":{"localId":"180","locator":"92:23-95:26","type":"Query","source":[{"localId":"168","locator":"92:23-92:78","alias":"LastObs","expression":{"localId":"167","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"92:48-92:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"175","locator":"93:6-93:96","type":"And","operand":[{"locator":"93:40-93:53","type":"In","operand":[{"locator":"93:35-93:38","type":"End","operand":{"localId":"170","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"93:68-93:96","type":"Subtract","operand":[{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"174","locator":"93:40-93:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"93:40-93:53","type":"Not","operand":{"locator":"93:40-93:53","type":"IsNull","operand":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"179","locator":"94:6-95:26","by":[{"localId":"178","locator":"95:6-95:26","direction":"asc","type":"ByExpression","expression":{"localId":"177","locator":"95:6-95:26","type":"End","operand":{"localId":"176","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"190","locator":"97:4-97:88","identifier":"VisitStart","expression":{"localId":"189","locator":"97:16-97:88","type":"Coalesce","operand":[{"localId":"185","locator":"97:25-97:56","type":"Start","operand":{"localId":"184","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","source":{"localId":"183","locator":"97:34-97:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"188","locator":"97:59-97:87","type":"Start","operand":{"localId":"187","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"204","locator":"98:4-102:4","identifier":"EDVisit","expression":{"localId":"203","locator":"98:13-102:4","type":"Last","source":{"localId":"202","locator":"98:18-101:26","type":"Query","source":[{"localId":"192","locator":"98:18-98:78","alias":"LastED","expression":{"localId":"191","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"98:43-98:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"197","locator":"99:6-99:76","type":"And","operand":[{"locator":"99:39-99:52","type":"In","operand":[{"locator":"99:34-99:37","type":"End","operand":{"localId":"194","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"99:67-99:76","type":"Subtract","operand":[{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"196","locator":"99:39-99:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"99:39-99:52","type":"Not","operand":{"locator":"99:39-99:52","type":"IsNull","operand":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"201","locator":"100:6-101:26","by":[{"localId":"200","locator":"101:6-101:26","direction":"asc","type":"ByExpression","expression":{"localId":"199","locator":"101:6-101:26","type":"End","operand":{"localId":"198","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"210","locator":"103:4-103:74","identifier":"VisitStartWithED","expression":{"localId":"209","locator":"103:22-103:74","type":"Coalesce","operand":[{"localId":"207","locator":"103:31-103:61","type":"Start","operand":{"localId":"206","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","source":{"localId":"205","locator":"103:40-103:46","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"208","locator":"103:64-103:73","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"224","locator":"104:4-108:4","identifier":"OutpatientSurgeryVisit","expression":{"localId":"223","locator":"104:28-108:4","type":"Last","source":{"localId":"222","locator":"104:33-107:26","type":"Query","source":[{"localId":"212","locator":"104:33-104:100","alias":"LastSurgeryOP","expression":{"localId":"211","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"104:58-104:85","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"217","locator":"105:6-105:89","type":"And","operand":[{"locator":"105:46-105:59","type":"In","operand":[{"locator":"105:41-105:44","type":"End","operand":{"localId":"214","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"105:74-105:89","type":"Subtract","operand":[{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"216","locator":"105:46-105:51","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"locator":"105:46-105:59","type":"Not","operand":{"locator":"105:46-105:59","type":"IsNull","operand":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"221","locator":"106:6-107:26","by":[{"localId":"220","locator":"107:6-107:26","direction":"asc","type":"ByExpression","expression":{"localId":"219","locator":"107:6-107:26","type":"End","operand":{"localId":"218","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"234","locator":"109:4-110:31","expression":{"localId":"233","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"229","locator":"109:20-109:93","type":"Coalesce","operand":[{"localId":"227","locator":"109:29-109:74","type":"Start","operand":{"localId":"226","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","source":{"localId":"225","locator":"109:38-109:59","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"228","locator":"109:77-109:92","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"232","locator":"110:4-110:30","type":"End","operand":{"localId":"231","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"164","locator":"90:87-90:108","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"289","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"289","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"237","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"288","s":[{"r":"288","s":[{"s":[{"r":"239","s":[{"r":"238","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"255","s":[{"value":["ObsVisit",": "]},{"r":"254","s":[{"value":["Last","("]},{"r":"253","s":[{"s":[{"r":"241","s":[{"r":"240","s":[{"r":"240","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"248","s":[{"value":["where "]},{"r":"248","s":[{"r":"243","s":[{"r":"242","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"243","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"248","s":[{"value":["ends "]},{"r":"247","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"246","s":[{"value":["start of "]},{"r":"245","s":[{"r":"244","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"245","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"252","s":[{"value":["sort by \n  \t\t\t"]},{"r":"251","s":[{"r":"250","s":[{"value":["end of "]},{"r":"249","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"263","s":[{"value":["VisitStart",": "]},{"r":"262","s":[{"value":["Coalesce","("]},{"r":"258","s":[{"value":["start of "]},{"r":"257","s":[{"r":"256","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"257","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"261","s":[{"value":["start of "]},{"r":"260","s":[{"r":"259","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"260","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"277","s":[{"value":["EDVisit",": "]},{"r":"276","s":[{"value":["Last","("]},{"r":"275","s":[{"s":[{"r":"265","s":[{"r":"264","s":[{"r":"264","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"270","s":[{"value":["where "]},{"r":"270","s":[{"r":"267","s":[{"r":"266","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"267","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"270","s":[{"value":["ends "]},{"r":"269","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"268","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"274","s":[{"value":["sort by \n  \t\t\t"]},{"r":"273","s":[{"r":"272","s":[{"value":["end of "]},{"r":"271","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"287","s":[{"value":["return "]},{"r":"286","s":[{"value":["Interval["]},{"r":"282","s":[{"value":["Coalesce","("]},{"r":"280","s":[{"value":["start of "]},{"r":"279","s":[{"r":"278","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"279","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"281","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"285","s":[{"value":["end of "]},{"r":"284","s":[{"r":"283","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"284","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"288","locator":"114:3-127:31","type":"Query","source":[{"localId":"239","locator":"114:3-114:17","alias":"Visit","expression":{"localId":"238","locator":"114:3-114:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"255","locator":"115:8-119:4","identifier":"ObsVisit","expression":{"localId":"254","locator":"115:18-119:4","type":"Last","source":{"localId":"253","locator":"115:23-118:26","type":"Query","source":[{"localId":"241","locator":"115:23-115:78","alias":"LastObs","expression":{"localId":"240","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"115:48-115:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"248","locator":"116:6-116:96","type":"And","operand":[{"locator":"116:40-116:53","type":"In","operand":[{"locator":"116:35-116:38","type":"End","operand":{"localId":"243","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"116:68-116:96","type":"Subtract","operand":[{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"247","locator":"116:40-116:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"116:40-116:53","type":"Not","operand":{"locator":"116:40-116:53","type":"IsNull","operand":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"252","locator":"117:6-118:26","by":[{"localId":"251","locator":"118:6-118:26","direction":"asc","type":"ByExpression","expression":{"localId":"250","locator":"118:6-118:26","type":"End","operand":{"localId":"249","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"263","locator":"120:4-120:88","identifier":"VisitStart","expression":{"localId":"262","locator":"120:16-120:88","type":"Coalesce","operand":[{"localId":"258","locator":"120:25-120:56","type":"Start","operand":{"localId":"257","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","source":{"localId":"256","locator":"120:34-120:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"261","locator":"120:59-120:87","type":"Start","operand":{"localId":"260","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"277","locator":"121:4-125:4","identifier":"EDVisit","expression":{"localId":"276","locator":"121:13-125:4","type":"Last","source":{"localId":"275","locator":"121:18-124:26","type":"Query","source":[{"localId":"265","locator":"121:18-121:78","alias":"LastED","expression":{"localId":"264","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"121:43-121:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"270","locator":"122:6-122:76","type":"And","operand":[{"locator":"122:39-122:52","type":"In","operand":[{"locator":"122:34-122:37","type":"End","operand":{"localId":"267","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"122:67-122:76","type":"Subtract","operand":[{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"269","locator":"122:39-122:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"122:39-122:52","type":"Not","operand":{"locator":"122:39-122:52","type":"IsNull","operand":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"274","locator":"123:6-124:26","by":[{"localId":"273","locator":"124:6-124:26","direction":"asc","type":"ByExpression","expression":{"localId":"272","locator":"124:6-124:26","type":"End","operand":{"localId":"271","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"287","locator":"126:4-127:31","expression":{"localId":"286","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"282","locator":"126:20-126:72","type":"Coalesce","operand":[{"localId":"280","locator":"126:29-126:59","type":"Start","operand":{"localId":"279","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","source":{"localId":"278","locator":"126:38-126:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"281","locator":"126:62-126:71","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"285","locator":"127:4-127:30","type":"End","operand":{"localId":"284","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"237","locator":"113:60-113:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"294","locator":"130:1-131:61","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"294","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservationLengthofStay\"","(","Encounter"," "]},{"r":"290","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"293","s":[{"r":"293","s":[{"value":["\"LengthInDays\"","("]},{"r":"292","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"291","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"293","locator":"131:3-131:61","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"292","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","operand":[{"localId":"291","locator":"131:51-131:59","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"290","locator":"130:72-130:93","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"315","locator":"134:1-139:3","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"315","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"295","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"314","s":[{"r":"314","s":[{"value":["First","("]},{"r":"313","s":[{"s":[{"r":"298","s":[{"r":"297","s":[{"value":["("]},{"r":"297","s":[{"r":"296","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"297","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"308","s":[{"value":["where "]},{"r":"308","s":[{"r":"302","s":[{"r":"300","s":[{"r":"299","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"300","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"301","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"307","s":[{"r":"304","s":[{"r":"303","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"304","s":[{"value":["locationPeriod"]}]}]},{"r":"307","value":[" ","during"," "]},{"r":"306","s":[{"r":"305","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"306","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"312","s":[{"value":["sort by "]},{"r":"311","s":[{"r":"310","s":[{"value":["start of "]},{"r":"309","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"314","locator":"135:3-139:3","type":"First","source":{"localId":"313","locator":"135:9-138:37","type":"Query","source":[{"localId":"298","locator":"135:9-135:53","alias":"HospitalLocation","expression":{"localId":"297","locator":"135:9-135:37","path":"facilityLocations","type":"Property","source":{"localId":"296","locator":"135:10-135:18","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"308","locator":"136:7-137:75","type":"And","operand":[{"localId":"302","locator":"136:13-136:58","type":"InValueSet","code":{"localId":"300","locator":"136:13-136:33","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"301","locator":"136:38-136:58","name":"Intensive Care Unit","preserve":true}},{"localId":"307","locator":"137:13-137:75","type":"IncludedIn","operand":[{"localId":"304","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"306","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","source":{"localId":"305","locator":"137:52-137:60","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"312","locator":"138:7-138:37","by":[{"localId":"311","locator":"138:15-138:37","direction":"asc","type":"ByExpression","expression":{"localId":"310","locator":"138:15-138:37","type":"Start","operand":{"localId":"309","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"295","locator":"134:61-134:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"333","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"333","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function ","\"NormalizeInterval\"","(","pointInTime"," "]},{"r":"316","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"318","s":[{"value":["Interval\u003c"]},{"r":"317","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"332","s":[{"r":"332","s":[{"value":["if "]},{"r":"320","s":[{"r":"319","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"323","s":[{"value":["Interval["]},{"r":"321","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"322","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"331","s":[{"value":["if "]},{"r":"325","s":[{"r":"324","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"326","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"330","s":[{"r":"327","value":["null"," as "]},{"r":"329","s":[{"value":["Interval\u003c"]},{"r":"328","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"expression":{"localId":"332","locator":"143:3-145:35","type":"If","condition":{"localId":"320","locator":"143:6-143:28","type":"Not","operand":{"locator":"143:6-143:28","type":"IsNull","operand":{"localId":"319","locator":"143:6-143:16","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"323","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"321","locator":"143:44-143:54","name":"pointInTime","type":"OperandRef"},"high":{"localId":"322","locator":"143:57-143:67","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"331","locator":"144:10-145:35","type":"If","condition":{"localId":"325","locator":"144:13-144:30","type":"Not","operand":{"locator":"144:13-144:30","type":"IsNull","operand":{"localId":"324","locator":"144:13-144:18","name":"period","type":"OperandRef"}}},"then":{"localId":"326","locator":"144:37-144:42","name":"period","type":"OperandRef"},"else":{"localId":"330","locator":"145:10-145:35","strict":false,"type":"As","operand":{"localId":"327","locator":"145:10-145:13","type":"Null"},"asTypeSpecifier":{"localId":"329","locator":"145:18-145:35","type":"IntervalTypeSpecifier","pointType":{"localId":"328","locator":"145:27-145:34","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"316","locator":"142:49-142:56","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"318","locator":"142:66-142:83","type":"IntervalTypeSpecifier","pointType":{"localId":"317","locator":"142:75-142:82","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"346","locator":"148:1-151:3","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"346","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function ","\"HasStart\"","(","period"," "]},{"r":"335","s":[{"value":["Interval\u003c"]},{"r":"334","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"345","s":[{"r":"345","s":[{"value":["not "]},{"r":"344","s":[{"value":["( "]},{"r":"344","s":[{"r":"338","s":[{"r":"337","s":[{"value":["start of "]},{"r":"336","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"343","s":[{"r":"340","s":[{"value":["start of "]},{"r":"339","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"342","s":[{"value":["minimum"," "]},{"r":"341","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"345","locator":"149:3-151:3","type":"Not","operand":{"localId":"344","locator":"149:7-151:3","type":"Or","operand":[{"localId":"338","locator":"149:9-149:31","type":"IsNull","operand":{"localId":"337","locator":"149:9-149:23","type":"Start","operand":{"localId":"336","locator":"149:18-149:23","name":"period","type":"OperandRef"}}},{"localId":"343","locator":"150:10-150:43","type":"Equal","operand":[{"localId":"340","locator":"150:10-150:24","type":"Start","operand":{"localId":"339","locator":"150:19-150:24","name":"period","type":"OperandRef"}},{"localId":"342","locator":"150:28-150:43","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"335","locator":"148:35-148:52","type":"IntervalTypeSpecifier","pointType":{"localId":"334","locator":"148:44-148:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"359","locator":"154:1-159:3","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"359","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function ","\"HasEnd\"","(","period"," "]},{"r":"348","s":[{"value":["Interval\u003c"]},{"r":"347","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"358","s":[{"r":"358","s":[{"value":["not "]},{"r":"357","s":[{"value":["( \n    "]},{"r":"357","s":[{"r":"351","s":[{"r":"350","s":[{"value":["end of "]},{"r":"349","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"356","s":[{"r":"353","s":[{"value":["end of "]},{"r":"352","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"355","s":[{"value":["maximum"," "]},{"r":"354","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"358","locator":"155:3-159:3","type":"Not","operand":{"localId":"357","locator":"155:7-159:3","type":"Or","operand":[{"localId":"351","locator":"156:5-156:25","type":"IsNull","operand":{"localId":"350","locator":"156:5-156:17","type":"End","operand":{"localId":"349","locator":"156:12-156:17","name":"period","type":"OperandRef"}}},{"localId":"356","locator":"158:7-158:38","type":"Equal","operand":[{"localId":"353","locator":"158:7-158:19","type":"End","operand":{"localId":"352","locator":"158:14-158:19","name":"period","type":"OperandRef"}},{"localId":"355","locator":"158:23-158:38","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"348","locator":"154:33-154:50","type":"IntervalTypeSpecifier","pointType":{"localId":"347","locator":"154:42-154:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"369","locator":"162:1-165:24","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"369","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function ","\"Latest\"","(","period"," "]},{"r":"361","s":[{"value":["Interval\u003c"]},{"r":"360","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"368","s":[{"r":"368","s":[{"value":["if "]},{"r":"363","s":[{"value":["( "]},{"r":"363","s":[{"value":["HasEnd","("]},{"r":"362","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"365","s":[{"value":["end of "]},{"r":"364","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"367","s":[{"value":["start of "]},{"r":"366","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"368","locator":"163:3-165:24","type":"If","condition":{"localId":"363","locator":"163:6-163:22","name":"HasEnd","type":"FunctionRef","operand":[{"localId":"362","locator":"163:15-163:20","name":"period","type":"OperandRef"}]},"then":{"localId":"365","locator":"164:3-164:15","type":"End","operand":{"localId":"364","locator":"164:10-164:15","name":"period","type":"OperandRef"}},"else":{"localId":"367","locator":"165:10-165:24","type":"Start","operand":{"localId":"366","locator":"165:19-165:24","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"361","locator":"162:33-162:50","type":"IntervalTypeSpecifier","pointType":{"localId":"360","locator":"162:42-162:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"379","locator":"168:1-171:15","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"379","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function ","\"Earliest\"","(","period"," "]},{"r":"371","s":[{"value":["Interval\u003c"]},{"r":"370","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"378","s":[{"r":"378","s":[{"value":["if "]},{"r":"373","s":[{"value":["( "]},{"r":"373","s":[{"value":["HasStart","("]},{"r":"372","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"375","s":[{"value":["start of "]},{"r":"374","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"377","s":[{"value":["end of "]},{"r":"376","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"378","locator":"169:3-171:15","type":"If","condition":{"localId":"373","locator":"169:6-169:24","name":"HasStart","type":"FunctionRef","operand":[{"localId":"372","locator":"169:17-169:22","name":"period","type":"OperandRef"}]},"then":{"localId":"375","locator":"169:31-169:45","type":"Start","operand":{"localId":"374","locator":"169:40-169:45","name":"period","type":"OperandRef"}},"else":{"localId":"377","locator":"171:3-171:15","type":"End","operand":{"localId":"376","locator":"171:10-171:15","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"371","locator":"168:35-168:52","type":"IntervalTypeSpecifier","pointType":{"localId":"370","locator":"168:44-168:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"387","locator":"174:1-175:48","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"387","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function ","\"LatestOf\"","(","pointInTime"," "]},{"r":"380","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"382","s":[{"value":["Interval\u003c"]},{"r":"381","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"386","s":[{"r":"386","s":[{"value":["Latest","("]},{"r":"385","s":[{"value":["NormalizeInterval","("]},{"r":"383","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"384","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"386","locator":"175:3-175:48","name":"Latest","type":"FunctionRef","operand":[{"localId":"385","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"383","locator":"175:28-175:38","name":"pointInTime","type":"OperandRef"},{"localId":"384","locator":"175:41-175:46","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"380","locator":"174:40-174:47","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"382","locator":"174:57-174:74","type":"IntervalTypeSpecifier","pointType":{"localId":"381","locator":"174:66-174:73","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"178:1-179:50","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function ","\"EarliestOf\"","(","pointInTime"," "]},{"r":"388","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"390","s":[{"value":["Interval\u003c"]},{"r":"389","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"394","s":[{"r":"394","s":[{"value":["Earliest","("]},{"r":"393","s":[{"value":["NormalizeInterval","("]},{"r":"391","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"392","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"394","locator":"179:3-179:50","name":"Earliest","type":"FunctionRef","operand":[{"localId":"393","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"391","locator":"179:30-179:40","name":"pointInTime","type":"OperandRef"},{"localId":"392","locator":"179:43-179:48","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"388","locator":"178:42-178:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"390","locator":"178:59-178:76","type":"IntervalTypeSpecifier","pointType":{"localId":"389","locator":"178:68-178:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"ref_id":"11"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"12"}],"node_type":"Retrieve","ref_id":"12"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"13"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"14"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"15"}],"node_type":"Property","ref_id":"15"},{"children":[{"text":" ends during day of "}],"ref_id":"17"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"16"}],"ref_id":"17"}],"ref_id":"17"}],"node_type":"Query","ref_id":"18"}],"ref_id":"19"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[]},{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"20"},{"children":[{"text":"\u003e"}]}],"ref_id":"21"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"22"}],"node_type":"Start","ref_id":"23"}],"ref_id":"24"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"25"}],"node_type":"End","ref_id":"26"}],"ref_id":"27"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"28"}],"node_type":"Interval","ref_id":"28"}],"ref_id":"29"}],"define_name":"ToDateInterval"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"30"},{"children":[{"text":"\u003e"}]}],"ref_id":"31"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"32"}],"node_type":"Start","ref_id":"33"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"34"}],"node_type":"End","ref_id":"35"}],"node_type":"DifferenceBetween","ref_id":"36"}],"node_type":"DifferenceBetween","ref_id":"36"}],"ref_id":"37"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"38"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"39"},{"children":[{"text":" Visit"}]}],"ref_id":"40"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"41"}],"node_type":"Retrieve","ref_id":"41"},{"children":[{"text":" LastED"}]}],"ref_id":"42"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"43"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"44"}],"node_type":"Property","ref_id":"44"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"48"},{"children":[{"text":" or less on or before"}]}],"ref_id":"49"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"45"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"46"}],"node_type":"Property","ref_id":"46"}],"node_type":"Start","ref_id":"47"}],"ref_id":"49"}],"ref_id":"49"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"50"}],"node_type":"End","ref_id":"51"}],"ref_id":"52"}],"ref_id":"53"}],"ref_id":"54"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"55"}],"ref_id":"56"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"57"},{"children":[{"text":" is null"}]}],"ref_id":"58"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"59"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"60"}],"ref_id":"60"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"61"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"62"}],"ref_id":"62"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"63"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"64"}],"ref_id":"64"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"65"}],"ref_id":"66"}],"node_type":"If","ref_id":"67"}],"ref_id":"68"}],"node_type":"Query","ref_id":"69"}],"node_type":"Query","ref_id":"69"}],"ref_id":"70"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"71"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"72"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"74"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"76"}],"ref_id":"76"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"77"}],"ref_id":"78"}],"ref_id":"78"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"79"}],"node_type":"Start","ref_id":"80"}],"ref_id":"81"}],"ref_id":"82"}],"ref_id":"83"},{"children":[{"text":"\n  )"}]}],"ref_id":"84"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"85"}],"node_type":"Property","ref_id":"85"}],"node_type":"Start","ref_id":"86"}],"node_type":"Start","ref_id":"86"}],"ref_id":"87"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"90"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"91"},{"children":[{"text":" Visit"}]}],"ref_id":"92"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"93"}],"node_type":"Retrieve","ref_id":"93"},{"children":[{"text":" LastED"}]}],"ref_id":"94"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"95"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"96"}],"node_type":"Property","ref_id":"96"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"100"},{"children":[{"text":" or less on or before"}]}],"ref_id":"101"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"97"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"98"}],"node_type":"Property","ref_id":"98"}],"node_type":"Start","ref_id":"99"}],"ref_id":"101"}],"ref_id":"101"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"102"}],"node_type":"End","ref_id":"103"}],"ref_id":"104"}],"ref_id":"105"}],"ref_id":"106"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"107"}],"ref_id":"108"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"109"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"110"}],"node_type":"Property","ref_id":"110"}],"node_type":"Start","ref_id":"111"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"112"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"113"}],"node_type":"Property","ref_id":"113"}],"node_type":"Start","ref_id":"114"},{"children":[{"text":")"}]}],"ref_id":"115"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"116"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"117"}],"node_type":"Property","ref_id":"117"}],"ref_id":"118"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"119"}],"ref_id":"120"}],"node_type":"Query","ref_id":"121"}],"node_type":"Query","ref_id":"121"}],"ref_id":"122"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"88"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"89"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"123"}],"node_type":"Start","ref_id":"124"}],"node_type":"Start","ref_id":"124"}],"ref_id":"125"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"126"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"127"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"129"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"130"}],"node_type":"Start","ref_id":"131"}],"ref_id":"132"}],"ref_id":"133"}],"ref_id":"134"},{"children":[{"text":"\n  )"}]}],"ref_id":"135"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"136"}],"node_type":"Property","ref_id":"136"}],"node_type":"Start","ref_id":"137"}],"node_type":"Start","ref_id":"137"}],"ref_id":"138"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"141"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"142"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"143"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"144"}],"node_type":"FunctionRef","ref_id":"144"}],"ref_id":"145"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"146"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"147"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"149"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"150"}],"node_type":"Start","ref_id":"151"}],"ref_id":"152"}],"ref_id":"153"}],"ref_id":"154"},{"children":[{"text":"\n  )"}]}],"ref_id":"155"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"156"}],"node_type":"Property","ref_id":"156"}],"node_type":"End","ref_id":"157"}],"node_type":"End","ref_id":"157"}],"ref_id":"158"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"159"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"160"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"161"}],"node_type":"Property","ref_id":"161"}],"node_type":"End","ref_id":"162"}],"node_type":"End","ref_id":"162"}],"ref_id":"163"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"164"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"165"},{"children":[{"text":" Visit"}]}],"ref_id":"166"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"167"}],"node_type":"Retrieve","ref_id":"167"},{"children":[{"text":" LastObs"}]}],"ref_id":"168"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"174"},{"children":[{"text":" or less on or before"}]}],"ref_id":"175"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"171"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"172"}],"node_type":"Property","ref_id":"172"}],"node_type":"Start","ref_id":"173"}],"ref_id":"175"}],"ref_id":"175"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"176"}],"node_type":"End","ref_id":"177"}],"ref_id":"178"}],"ref_id":"179"}],"ref_id":"180"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"181"}],"ref_id":"182"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"183"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"184"}],"node_type":"Property","ref_id":"184"}],"node_type":"Start","ref_id":"185"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"186"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"187"}],"node_type":"Property","ref_id":"187"}],"node_type":"Start","ref_id":"188"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"189"}],"ref_id":"190"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"191"}],"node_type":"Retrieve","ref_id":"191"},{"children":[{"text":" LastED"}]}],"ref_id":"192"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"193"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"194"}],"node_type":"Property","ref_id":"194"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"196"},{"children":[{"text":" or less on or before"}]}],"ref_id":"197"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"195"}],"ref_id":"197"}],"ref_id":"197"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"198"}],"node_type":"End","ref_id":"199"}],"ref_id":"200"}],"ref_id":"201"}],"ref_id":"202"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"203"}],"ref_id":"204"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"205"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"206"}],"node_type":"Property","ref_id":"206"}],"node_type":"Start","ref_id":"207"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"208"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"209"}],"ref_id":"210"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"211"}],"node_type":"Retrieve","ref_id":"211"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"212"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"213"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"214"}],"node_type":"Property","ref_id":"214"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"216"},{"children":[{"text":" or less on or before"}]}],"ref_id":"217"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"215"}],"ref_id":"217"}],"ref_id":"217"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"218"}],"node_type":"End","ref_id":"219"}],"ref_id":"220"}],"ref_id":"221"}],"ref_id":"222"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"223"}],"ref_id":"224"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"225"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"226"}],"node_type":"Property","ref_id":"226"}],"node_type":"Start","ref_id":"227"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"228"},{"children":[{"text":")"}]}],"ref_id":"229"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"230"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"231"}],"node_type":"Property","ref_id":"231"}],"ref_id":"232"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"233"}],"ref_id":"234"}],"node_type":"Query","ref_id":"235"}],"node_type":"Query","ref_id":"235"}],"ref_id":"236"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"237"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"238"},{"children":[{"text":" Visit"}]}],"ref_id":"239"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"240"}],"node_type":"Retrieve","ref_id":"240"},{"children":[{"text":" LastObs"}]}],"ref_id":"241"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"242"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"243"}],"node_type":"Property","ref_id":"243"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"247"},{"children":[{"text":" or less on or before"}]}],"ref_id":"248"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"245"}],"node_type":"Property","ref_id":"245"}],"node_type":"Start","ref_id":"246"}],"ref_id":"248"}],"ref_id":"248"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"249"}],"node_type":"End","ref_id":"250"}],"ref_id":"251"}],"ref_id":"252"}],"ref_id":"253"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"254"}],"ref_id":"255"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"256"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"257"}],"node_type":"Property","ref_id":"257"}],"node_type":"Start","ref_id":"258"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"259"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"260"}],"node_type":"Property","ref_id":"260"}],"node_type":"Start","ref_id":"261"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"262"}],"ref_id":"263"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"264"}],"node_type":"Retrieve","ref_id":"264"},{"children":[{"text":" LastED"}]}],"ref_id":"265"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"266"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"267"}],"node_type":"Property","ref_id":"267"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"269"},{"children":[{"text":" or less on or before"}]}],"ref_id":"270"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"268"}],"ref_id":"270"}],"ref_id":"270"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"271"}],"node_type":"End","ref_id":"272"}],"ref_id":"273"}],"ref_id":"274"}],"ref_id":"275"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"276"}],"ref_id":"277"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"278"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"279"}],"node_type":"Property","ref_id":"279"}],"node_type":"Start","ref_id":"280"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"281"},{"children":[{"text":")"}]}],"ref_id":"282"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"283"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"284"}],"node_type":"Property","ref_id":"284"}],"ref_id":"285"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"286"}],"ref_id":"287"}],"node_type":"Query","ref_id":"288"}],"node_type":"Query","ref_id":"288"}],"ref_id":"289"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"290"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"291"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"292"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"293"}],"node_type":"FunctionRef","ref_id":"293"}],"ref_id":"294"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"295"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"297"}],"node_type":"Property","ref_id":"297"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"297"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"298"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"299"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"300"}],"ref_id":"300"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"301"}],"node_type":"InValueSet","ref_id":"302"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"303"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"304"}],"node_type":"Property","ref_id":"304"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"307"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"305"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"306"}],"node_type":"Property","ref_id":"306"}],"node_type":"IncludedIn","ref_id":"307"}],"ref_id":"308"}],"ref_id":"308"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"309"}],"node_type":"Start","ref_id":"310"}],"ref_id":"311"}],"ref_id":"312"}],"ref_id":"313"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"314"}],"node_type":"First","ref_id":"314"}],"ref_id":"315"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"316"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"317"},{"children":[{"text":"\u003e"}]}],"ref_id":"318"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"319"},{"children":[{"text":" is not null"}]}],"ref_id":"320"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"321"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"322"},{"children":[{"text":"]"}]}],"ref_id":"323"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"324"},{"children":[{"text":" is not null"}]}],"ref_id":"325"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"326"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"327"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"328"},{"children":[{"text":"\u003e"}]}],"ref_id":"329"}],"ref_id":"330"}],"ref_id":"331"}],"node_type":"If","ref_id":"332"}],"node_type":"If","ref_id":"332"}],"ref_id":"333"}],"define_name":"NormalizeInterval"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"334"},{"children":[{"text":"\u003e"}]}],"ref_id":"335"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"336"}],"node_type":"Start","ref_id":"337"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"338"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"339"}],"node_type":"Start","ref_id":"340"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"341"}],"node_type":"MinValue","ref_id":"342"}],"node_type":"Equal","ref_id":"343"}],"node_type":"Or","ref_id":"344"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"344"}],"node_type":"Not","ref_id":"345"}],"node_type":"Not","ref_id":"345"}],"ref_id":"346"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"347"},{"children":[{"text":"\u003e"}]}],"ref_id":"348"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"349"}],"node_type":"End","ref_id":"350"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"351"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"352"}],"node_type":"End","ref_id":"353"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"354"}],"node_type":"MaxValue","ref_id":"355"}],"node_type":"Equal","ref_id":"356"}],"node_type":"Or","ref_id":"357"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"357"}],"node_type":"Not","ref_id":"358"}],"node_type":"Not","ref_id":"358"}],"ref_id":"359"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"360"},{"children":[{"text":"\u003e"}]}],"ref_id":"361"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"362"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"364"}],"ref_id":"365"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"366"}],"ref_id":"367"}],"node_type":"If","ref_id":"368"}],"node_type":"If","ref_id":"368"}],"ref_id":"369"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"370"},{"children":[{"text":"\u003e"}]}],"ref_id":"371"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"372"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"374"}],"ref_id":"375"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"376"}],"ref_id":"377"}],"node_type":"If","ref_id":"378"}],"node_type":"If","ref_id":"378"}],"ref_id":"379"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"380"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"381"},{"children":[{"text":"\u003e"}]}],"ref_id":"382"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"383"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"384"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"385"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"386"}],"node_type":"FunctionRef","ref_id":"386"}],"ref_id":"387"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"388"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"389"},{"children":[{"text":"\u003e"}]}],"ref_id":"390"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"391"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"392"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"394"}],"node_type":"FunctionRef","ref_id":"394"}],"ref_id":"395"}],"define_name":"EarliestOf"}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctionsQDM","library_version":"8.0.000","statement_dependencies":[{"_id":"68923fd7a83e15671c2e6d6b","statement_name":"HospitalizationWithObservation"},{"_id":"68923fd7a83e15671c2e6d6c","statement_name":"NormalizeInterval"},{"_id":"68923fd7a83e15671c2e6d6d","statement_name":"EarliestOf","statement_references":[{"_id":"68923fd7a83e15671c2e6d69","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"Earliest"},{"_id":"68923fd7a83e15671c2e6d6a","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]},{"_id":"68923fd7a83e15671c2e6d6e","statement_name":"Earliest","statement_references":[{"_id":"68923fdda83e15671c2e7243","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"HasStart"}]},{"_id":"68923fd7a83e15671c2e6d6f","statement_name":"HasStart"}]}],"created_at":null,"description":"This measure assesses the number of inpatient hospital days for patients age 18 and older with a hyperglycemic event (harm) per the total qualifying inpatient hospital days for that encounter","hqmf_id":"8A6D044D-8DB3-0572-018D-CD12CCED034B","hqmf_set_id":"EF95493C-3F65-4440-9CCB-EAF1B9ED1210","hqmf_version_number":"4.1.000","main_cql_library":"HospitalHarmHyperglycemiainHospitalizedPatients","measure_attributes":[{"code":"OTH","value":"871","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"871","media_type":"text/plain"}},{"code":"OTH","value":"3533e","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"3533e","media_type":"text/plain"}},{"code":"COPY","value":"Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. American Institutes for Research(R), formerly IMPAQ International, disclaims all liability for use or accuracy of any third party codes contained in the specifications.\n\nLOINC(R) copyright 2004-2023 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 copyright 2023 World Health Organization. All Rights Reserved.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. American Institutes for Research(R), formerly IMPAQ International, disclaims all liability for use or accuracy of any third party codes contained in the specifications.\n\nLOINC(R) copyright 2004-2023 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 copyright 2023 World Health Organization. All Rights Reserved.","media_type":"text/plain"}},{"code":"DISC","value":"This performance measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications.\n\nTHE MEASURES AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n\nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"This performance measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications.\n\nTHE MEASURES AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n\nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"RATIO","title":"Ratio"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"OUTCOME","title":"OUTCOME"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Hyperglycemia, i.e., elevated glucose level, is common among hospitalized patients, especially those with preexisting diabetes (Umpierrez et al., 2012) and accounts for over 30% of noncritically ill hospitalized patients (Korytkowski, 2022). Hyperglycemia can also affect individuals with no prior history of diabetes and may be induced by medications such as steroids, or parenteral (intravenous) or enteral (tube) feeding.\n\nSevere hyperglycemia, i.e., extremely elevated glucose level, is significantly associated with a range of harms, including increased in-hospital mortality, infection rates, and hospital length of stay (Pasquel, et al., 2021; Umpierrez et al., 2012, 2015). Lower rates of inpatient severe hyperglycemia may not only improve care for patients, but also reduce costs for healthcare payers (Krinsley et al., 2016). The rate of hyperglycemia varies across hospitals, suggesting opportunities for improvement in inpatient glycemic management (Bersoux et al., 2013; Seisa et al., 2022). The rate of inpatient hyperglycemia can be considered a marker for quality of hospital care, since inpatient hyperglycemia is largely avoidable with proper glycemic management. The use of evidence-based standardized protocols and insulin management protocols have been shown to improve glycemic control and safety (Leroy et al., 2020; Maynard et al., 2015).\n\nIt should be noted that this measure does not aim to measure overall glucose control in hospitalized patients; rather, our goal is to assess the occurrence and extent of severe hyperglycemia. This measure is also intended to be used in combination with its companion measure of hypoglycemia (Hospital Harm – Hypoglycemia) to reduce unintended consequences of measurement.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Hyperglycemia, i.e., elevated glucose level, is common among hospitalized patients, especially those with preexisting diabetes (Umpierrez et al., 2012) and accounts for over 30% of noncritically ill hospitalized patients (Korytkowski, 2022). Hyperglycemia can also affect individuals with no prior history of diabetes and may be induced by medications such as steroids, or parenteral (intravenous) or enteral (tube) feeding.\n\nSevere hyperglycemia, i.e., extremely elevated glucose level, is significantly associated with a range of harms, including increased in-hospital mortality, infection rates, and hospital length of stay (Pasquel, et al., 2021; Umpierrez et al., 2012, 2015). Lower rates of inpatient severe hyperglycemia may not only improve care for patients, but also reduce costs for healthcare payers (Krinsley et al., 2016). The rate of hyperglycemia varies across hospitals, suggesting opportunities for improvement in inpatient glycemic management (Bersoux et al., 2013; Seisa et al., 2022). The rate of inpatient hyperglycemia can be considered a marker for quality of hospital care, since inpatient hyperglycemia is largely avoidable with proper glycemic management. The use of evidence-based standardized protocols and insulin management protocols have been shown to improve glycemic control and safety (Leroy et al., 2020; Maynard et al., 2015).\n\nIt should be noted that this measure does not aim to measure overall glucose control in hospitalized patients; rather, our goal is to assess the occurrence and extent of severe hyperglycemia. This measure is also intended to be used in combination with its companion measure of hypoglycemia (Hospital Harm – Hypoglycemia) to reduce unintended consequences of measurement.","media_type":"text/plain"}},{"code":"CRS","value":"Multiple guidelines address recommended levels of glycemic control, though these do not define severe hyperglycemia: \n\nFrom Section 16, Diabetes Care in the Hospital, in the Standards of Medical Care in Diabetes by the American Diabetes Association, (American Diabetes Association, 2023): \n\n16.4 Insulin therapy should be initiated for the treatment of persistent hyperglycemia starting at a threshold ≥180 mg/dL (10.0 mmol/L) (checked on two occasions). Once insulin therapy is started, a target glucose range of 140–180 mg/dL (7.8–10.0 mmol/L) is recommended for most critically ill and noncritically ill patients.\n\n16.5 More stringent goals, such as 110–140 mg/dL (6.1–7.8 mmol/L) or 100–180 mg/dL (5.6–10.0 mmol/L), may be appropriate for selected patients and are acceptable if they can be achieved without significant hypoglycemia.\n\nFrom the Endocrine Society clinical practice guideline on the Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting (Korytkowski et al., 2022): \n\nRecommendation 10.1\nIn adults with no prior history of diabetes hospitalized for noncritical illness with hyperglycemia [defined as blood glucose (BG) \u003e 140 mg/dL (7.8 mmol/L)] during hospitalization, we suggest initial therapy with correctional insulin over scheduled insulin therapy (defined as basal or basal/bolus insulin) to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L). For patients with persistent hyperglycemia [≥2 point-of-care blood glucose (POC-BG) measurements ≥ 180 mg/dL (≥10.0 mmol/L) in a 24-hour period on correctional insulin alone], we suggest the addition of scheduled insulin therapy. \n\nRecommendation 10.2\nIn adults with diabetes treated with diet or noninsulin diabetes medications prior to admission, we suggest initial therapy with correctional insulin or scheduled insulin therapy to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L). For hospitalized adults started on correctional insulin alone and with persistent hyperglycemia [≥2 point-of-care blood glucose (POC-BG) measurements ≥ 180 mg/dL in a 24-hour period (≥10.0 mmol/L)], we suggest addition of scheduled insulin therapy. We suggest initiation of scheduled insulin therapy for patients with confirmed admission blood glucose (BG) ≥ 180 mg/dL (≥10.0 mmol/L). \n\nRecommendation 10.3\nIn adults with insulin-treated diabetes prior to admission who are hospitalized for noncritical illness, we recommend continuation of the scheduled insulin regimen modified for nutritional status and severity of illness to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L).\n\nRemarks\nReductions in the dose of basal insulin (by 10% to 20%) at time of hospitalization may be required for patients on basal heavy insulin regimens (defined as doses of basal insulin ≥ 0.6 to 1.0 units/kg/day), in which basal insulin is being used inappropriately to cover meal-related excursions in BG.\n\nThere is no clinically accepted cutoff for severe hyperglycemia. Studies have used thresholds of \u003e140, \u003e180 , \u003e300, \u003e350 and \u003e400 mg/dL, among other values (American Diabetes Association, 2023; Umpierrez et al, 2012, 2015; Jamesen et al., 2015; Donihi et al., 2011; Mendez et al, 2015; Seisa et al., 2022). BGL \u003c180 mg/dL is associated with lower rates of mortality and stroke compared with a target glucose \u003c200 mg/dL (Sathya et al., 2013). Glycemic goals may also differ among hospitalized patients. For inpatient management of hyperglycemia in noncritical care, the expert consensus recommends a target range of 100–180 mg/dL (5.6–10.0 mmol/L) for noncritically ill patients with “new” hyperglycemia as well as people with known diabetes prior to admission. Glycemic levels \u003e250 mg/dL (13.9 mmol/L) may be acceptable in terminally ill patients with short life expectancy. In these individuals, less aggressive insulin regimens to minimize glucosuria, dehydration, and electrolyte disturbances are often more appropriate. (ElSayed et al., 2023). In an older patient with a prior history of severe hypoglycemia, some degree of hyperglycemia may be tolerated to maximize safety. Intensive insulin therapy to target glucose of 100 and 140mg/dLin the ICU didn’t significantly reduce perioperative complications compared with target glucose of 141and180mg/dL after coronary artery bypass surgery (Umpierrez et al., 2015). The current recommendation is to maintain a blood glucose level between 140-180 mg/dL (7.8-10.0 mmol/L) in both cardiac and non-cardiac ICU patients (Sreedharan et al., 2022). \n\nFor patients who present with hyperglycemic crises, neurologic status must be monitored closely, with frequent re-examination. Care should be taken to prevent over-correction of hyperglycemia and hyperosmolarity following initial ﬂuid resuscitation of these patients to prevent cerebral edema, which carries a high mortality rate. (Gosmanov et al., 2021).\n\nFrom the Endocrine Society clinical practice guideline on the Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting (Korytkowski et al., 2022):\nRecommendation 1.1\nIn adults with insulin-treated diabetes hospitalized for noncritical illness who are at high risk of hypoglycemia, we suggest the use of real-time continuous glucose monitoring (CGM) with confirmatory bedside point-of-care blood glucose (POC-BG) monitoring for adjustments in insulin dosing rather than point-of-care blood glucose (POC-BG) testing alone in hospital settings where resources and training are available.","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"Multiple guidelines address recommended levels of glycemic control, though these do not define severe hyperglycemia: \n\nFrom Section 16, Diabetes Care in the Hospital, in the Standards of Medical Care in Diabetes by the American Diabetes Association, (American Diabetes Association, 2023): \n\n16.4 Insulin therapy should be initiated for the treatment of persistent hyperglycemia starting at a threshold ≥180 mg/dL (10.0 mmol/L) (checked on two occasions). Once insulin therapy is started, a target glucose range of 140–180 mg/dL (7.8–10.0 mmol/L) is recommended for most critically ill and noncritically ill patients.\n\n16.5 More stringent goals, such as 110–140 mg/dL (6.1–7.8 mmol/L) or 100–180 mg/dL (5.6–10.0 mmol/L), may be appropriate for selected patients and are acceptable if they can be achieved without significant hypoglycemia.\n\nFrom the Endocrine Society clinical practice guideline on the Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting (Korytkowski et al., 2022): \n\nRecommendation 10.1\nIn adults with no prior history of diabetes hospitalized for noncritical illness with hyperglycemia [defined as blood glucose (BG) \u003e 140 mg/dL (7.8 mmol/L)] during hospitalization, we suggest initial therapy with correctional insulin over scheduled insulin therapy (defined as basal or basal/bolus insulin) to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L). For patients with persistent hyperglycemia [≥2 point-of-care blood glucose (POC-BG) measurements ≥ 180 mg/dL (≥10.0 mmol/L) in a 24-hour period on correctional insulin alone], we suggest the addition of scheduled insulin therapy. \n\nRecommendation 10.2\nIn adults with diabetes treated with diet or noninsulin diabetes medications prior to admission, we suggest initial therapy with correctional insulin or scheduled insulin therapy to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L). For hospitalized adults started on correctional insulin alone and with persistent hyperglycemia [≥2 point-of-care blood glucose (POC-BG) measurements ≥ 180 mg/dL in a 24-hour period (≥10.0 mmol/L)], we suggest addition of scheduled insulin therapy. We suggest initiation of scheduled insulin therapy for patients with confirmed admission blood glucose (BG) ≥ 180 mg/dL (≥10.0 mmol/L). \n\nRecommendation 10.3\nIn adults with insulin-treated diabetes prior to admission who are hospitalized for noncritical illness, we recommend continuation of the scheduled insulin regimen modified for nutritional status and severity of illness to maintain glucose targets in the range of 100 to 180 mg/dL (5.6 to 10.0 mmol/L).\n\nRemarks\nReductions in the dose of basal insulin (by 10% to 20%) at time of hospitalization may be required for patients on basal heavy insulin regimens (defined as doses of basal insulin ≥ 0.6 to 1.0 units/kg/day), in which basal insulin is being used inappropriately to cover meal-related excursions in BG.\n\nThere is no clinically accepted cutoff for severe hyperglycemia. Studies have used thresholds of \u003e140, \u003e180 , \u003e300, \u003e350 and \u003e400 mg/dL, among other values (American Diabetes Association, 2023; Umpierrez et al, 2012, 2015; Jamesen et al., 2015; Donihi et al., 2011; Mendez et al, 2015; Seisa et al., 2022). BGL \u003c180 mg/dL is associated with lower rates of mortality and stroke compared with a target glucose \u003c200 mg/dL (Sathya et al., 2013). Glycemic goals may also differ among hospitalized patients. For inpatient management of hyperglycemia in noncritical care, the expert consensus recommends a target range of 100–180 mg/dL (5.6–10.0 mmol/L) for noncritically ill patients with “new” hyperglycemia as well as people with known diabetes prior to admission. Glycemic levels \u003e250 mg/dL (13.9 mmol/L) may be acceptable in terminally ill patients with short life expectancy. In these individuals, less aggressive insulin regimens to minimize glucosuria, dehydration, and electrolyte disturbances are often more appropriate. (ElSayed et al., 2023). In an older patient with a prior history of severe hypoglycemia, some degree of hyperglycemia may be tolerated to maximize safety. Intensive insulin therapy to target glucose of 100 and 140mg/dLin the ICU didn’t significantly reduce perioperative complications compared with target glucose of 141and180mg/dL after coronary artery bypass surgery (Umpierrez et al., 2015). The current recommendation is to maintain a blood glucose level between 140-180 mg/dL (7.8-10.0 mmol/L) in both cardiac and non-cardiac ICU patients (Sreedharan et al., 2022). \n\nFor patients who present with hyperglycemic crises, neurologic status must be monitored closely, with frequent re-examination. Care should be taken to prevent over-correction of hyperglycemia and hyperosmolarity following initial ﬂuid resuscitation of these patients to prevent cerebral edema, which carries a high mortality rate. (Gosmanov et al., 2021).\n\nFrom the Endocrine Society clinical practice guideline on the Management of Hyperglycemia in Hospitalized Patients in Non-critical Care Setting (Korytkowski et al., 2022):\nRecommendation 1.1\nIn adults with insulin-treated diabetes hospitalized for noncritical illness who are at high risk of hypoglycemia, we suggest the use of real-time continuous glucose monitoring (CGM) with confirmatory bedside point-of-care blood glucose (POC-BG) monitoring for adjustments in insulin dosing rather than point-of-care blood glucose (POC-BG) testing alone in hospital settings where resources and training are available.","media_type":"text/plain"}},{"code":"IDUR","value":"A lower measure score indicates higher quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"A lower measure score indicates higher quality","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAmerican Diabetes Association, 16. Diabetes care in the hospital: Standards of care in diabetes—2023. Diabetes Care 1 January 2023; 46 (Supplement_1): S267–S278","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAmerican Diabetes Association, 16. Diabetes care in the hospital: Standards of care in diabetes—2023. Diabetes Care 1 January 2023; 46 (Supplement_1): S267–S278","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBersoux, S., Cook, C.B., Kongable, G.L., \u0026 Shu, J. (2013). Trends in glycemic control over a 2-year period in 126 US hospitals. J Hosp Med. 2013;8(3):121-125. doi:10.1002/jhm.1997","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBersoux, S., Cook, C.B., Kongable, G.L., \u0026 Shu, J. (2013). Trends in glycemic control over a 2-year period in 126 US hospitals. J Hosp Med. 2013;8(3):121-125. doi:10.1002/jhm.1997","media_type":"text/plain"}},{"code":"REF","value":"CITATIONDonihi, A.C., Gibson, J.M., Noschese, M.L., DiNardo, M.M., Koerbel, G.L., Curll, M., \u0026 Korytkowski, M.T. (2011). Effect of a targeted glycemic management program on provider response to inpatient hyperglycemia. Endocr Pract. 2011 Jul-Aug;17(4):552-7. doi: 10.4158/EP10330.OR. PMID: 21454237","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONDonihi, A.C., Gibson, J.M., Noschese, M.L., DiNardo, M.M., Koerbel, G.L., Curll, M., \u0026 Korytkowski, M.T. (2011). Effect of a targeted glycemic management program on provider response to inpatient hyperglycemia. Endocr Pract. 2011 Jul-Aug;17(4):552-7. doi: 10.4158/EP10330.OR. PMID: 21454237","media_type":"text/plain"}},{"code":"REF","value":"CITATIONElSayed, N., Aleppo, G., Aroda, V., Bannuru, R., Brown, F., Bruemmer, D., Collins, B., Hilliard, M., Isaacs, D., Johnson, E., Kahan, S., Khunti, K., Leon, J., Lyons, S., Perry, M., Prahalad, P., Pratley, R., Jeffrie Seley, J., Stanton, R., \u0026 Gabbay, R. (2023). On behalf of the American Diabetes Association, 16. Diabetes care in the hospital: Standards of care in diabetes. Diabetes Care 1 January 2023; 46 (Supplement_1): S267–S278. https://doi.org/10.2337/dc23-S016","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONElSayed, N., Aleppo, G., Aroda, V., Bannuru, R., Brown, F., Bruemmer, D., Collins, B., Hilliard, M., Isaacs, D., Johnson, E., Kahan, S., Khunti, K., Leon, J., Lyons, S., Perry, M., Prahalad, P., Pratley, R., Jeffrie Seley, J., Stanton, R., \u0026 Gabbay, R. (2023). On behalf of the American Diabetes Association, 16. Diabetes care in the hospital: Standards of care in diabetes. Diabetes Care 1 January 2023; 46 (Supplement_1): S267–S278. https://doi.org/10.2337/dc23-S016","media_type":"text/plain"}},{"code":"REF","value":"CITATIONGosmanov, A.R., Gosmanova, E.O., \u0026 Kitabchi, A.E. (2021). Hyperglycemic crises: diabetic ketoacidosis and hyperglycemic hyperosmolar state. [Updated 2021 May 9]. In: Feingold, K.R., Anawalt, B., Boyce, A., et al., editors. Endotext [Internet]. South Dartmouth (MA): MDText.com, Inc.; 2000-. Retrieved from: https://www.ncbi.nlm.nih.gov/books/NBK279052/","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONGosmanov, A.R., Gosmanova, E.O., \u0026 Kitabchi, A.E. (2021). Hyperglycemic crises: diabetic ketoacidosis and hyperglycemic hyperosmolar state. [Updated 2021 May 9]. In: Feingold, K.R., Anawalt, B., Boyce, A., et al., editors. Endotext [Internet]. South Dartmouth (MA): MDText.com, Inc.; 2000-. Retrieved from: https://www.ncbi.nlm.nih.gov/books/NBK279052/","media_type":"text/plain"}},{"code":"REF","value":"CITATIONJamesen, E., Nevalainen, P.L., Eskelinen, A., Kalliovalkama, J., \u0026 Moilanen, T. (2015). Risk factors for perioperative hyperglycemia in primary hip and knee replacements. Acta Orthop. 2015 Apr;86(2):175-82. doi: 10.3109/17453674.2014.987064. Epub 2014 Nov 18. PMID: 25409255; PMCID: PMC4404767","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONJamesen, E., Nevalainen, P.L., Eskelinen, A., Kalliovalkama, J., \u0026 Moilanen, T. (2015). Risk factors for perioperative hyperglycemia in primary hip and knee replacements. Acta Orthop. 2015 Apr;86(2):175-82. doi: 10.3109/17453674.2014.987064. Epub 2014 Nov 18. PMID: 25409255; PMCID: PMC4404767","media_type":"text/plain"}},{"code":"REF","value":"CITATIONKorytkowski, M.T., Muniyappa, R., Antinori-Lent, K., Donihi, A.C., Drincic, A.T, Hirsch, I.B., Luger, A., McDonnell, M.E., Murad, M.H., Nielsen, C., Pegg, C., Rushakoff, R.J., Santesso, N., \u0026 Umpierrez, G.E. (2022). Management of hyperglycemia in hospitalized adult patients in non-critical care settings: An Endocrine Society clinical practice guideline, The Journal of Clinical Endocrinology \u0026 Metabolism, Volume 107, Issue 8, August 2022, Pages 2101–2128,  https://doi.org/10.1210/clinem/dgac278","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONKorytkowski, M.T., Muniyappa, R., Antinori-Lent, K., Donihi, A.C., Drincic, A.T, Hirsch, I.B., Luger, A., McDonnell, M.E., Murad, M.H., Nielsen, C., Pegg, C., Rushakoff, R.J., Santesso, N., \u0026 Umpierrez, G.E. (2022). Management of hyperglycemia in hospitalized adult patients in non-critical care settings: An Endocrine Society clinical practice guideline, The Journal of Clinical Endocrinology \u0026 Metabolism, Volume 107, Issue 8, August 2022, Pages 2101–2128,  https://doi.org/10.1210/clinem/dgac278","media_type":"text/plain"}},{"code":"REF","value":"CITATIONKrinsley, J.S., \u0026 Jones, R.L. (2016). Cost analysis of intensive glycemic control in critically ill adult patients. Chest. 2016;129(3)644-650. doi: 10.1378/chest.129.3.644. PMID: 16537863","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONKrinsley, J.S., \u0026 Jones, R.L. (2016). Cost analysis of intensive glycemic control in critically ill adult patients. Chest. 2016;129(3)644-650. doi: 10.1378/chest.129.3.644. PMID: 16537863","media_type":"text/plain"}},{"code":"REF","value":"CITATIONLeRoy, L., \u0026 Richard, S. (2020). Harms due to diabetic agents (Chapter 8), making healthcare safer III: A critical analysis of existing and emerging patient safety practices. Retrieved from: https://www.ahrq.gov/sites/default/files/wysiwyg/research/findings/making-healthcare-safer/mhs3/diabetes-1.pdf","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONLeRoy, L., \u0026 Richard, S. (2020). Harms due to diabetic agents (Chapter 8), making healthcare safer III: A critical analysis of existing and emerging patient safety practices. Retrieved from: https://www.ahrq.gov/sites/default/files/wysiwyg/research/findings/making-healthcare-safer/mhs3/diabetes-1.pdf","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMaynard, G., Kulasa, K., Ramos, P., Childers, D., Clay, B., Sebasky, M., Fink, E., Field, A., Renvall, M., Juang, P.S., Choe, C., Pearson, D., Serences, B., \u0026 Lohnes, S. (2015). Impact of a hypoglycemic reduction bundle and a systems approach to inpatient glycemic management. Endocr Pract. 2015;21(4):355-367. doi: 10.4158/EP14367.OR. Epub 2014 Dec 22. PMID: 25536971","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMaynard, G., Kulasa, K., Ramos, P., Childers, D., Clay, B., Sebasky, M., Fink, E., Field, A., Renvall, M., Juang, P.S., Choe, C., Pearson, D., Serences, B., \u0026 Lohnes, S. (2015). Impact of a hypoglycemic reduction bundle and a systems approach to inpatient glycemic management. Endocr Pract. 2015;21(4):355-367. doi: 10.4158/EP14367.OR. Epub 2014 Dec 22. PMID: 25536971","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMendez, C.E., Ata, A., Rourke, J.M., Stain, S.C., \u0026 Umpierrez, G. (2015). Daily inpatient glycemic survey (DINGS): A process to remotely identify and assist in the management of hospitalized patients with diabetes and hyperglycemia. Endocr Pract. 2015;21(8):927-935. doi: 10.4158/EP14577.OR. Epub 2015 Jun 29. PMID: 26121456","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMendez, C.E., Ata, A., Rourke, J.M., Stain, S.C., \u0026 Umpierrez, G. (2015). Daily inpatient glycemic survey (DINGS): A process to remotely identify and assist in the management of hospitalized patients with diabetes and hyperglycemia. Endocr Pract. 2015;21(8):927-935. doi: 10.4158/EP14577.OR. Epub 2015 Jun 29. PMID: 26121456","media_type":"text/plain"}},{"code":"REF","value":"CITATIONPasquel, F.J., Lansang, M.C., Dhatariya, K., \u0026 Umpierrez, G.E. (2021). Management of diabetes and hyperglycaemia in the hospital. The Lancet Diabetes \u0026 Endocrinology. 2021; 9: 174–88. doi: 10.1016/S2213-8587(20)30381-8. Epub 2021 Jan 27. PMID: 33515493; PMCID: PMC10423081","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONPasquel, F.J., Lansang, M.C., Dhatariya, K., \u0026 Umpierrez, G.E. (2021). Management of diabetes and hyperglycaemia in the hospital. The Lancet Diabetes \u0026 Endocrinology. 2021; 9: 174–88. doi: 10.1016/S2213-8587(20)30381-8. Epub 2021 Jan 27. PMID: 33515493; PMCID: PMC10423081","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSathya, B., Davis, R., Taveira, T., Whitlatch, H., \u0026 Wu, W.C. (2013). Intensity of peri-operative glycemic control and postoperative outcomes in patients with diabetes: a meta-analysis. Diabetes Res Clin Pract. 2013 Oct;102(1):8-15. doi: 10.1016/j.diabres.2013.05.003. Epub 2013 Jun 6. PMID: 23746852","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSathya, B., Davis, R., Taveira, T., Whitlatch, H., \u0026 Wu, W.C. (2013). Intensity of peri-operative glycemic control and postoperative outcomes in patients with diabetes: a meta-analysis. Diabetes Res Clin Pract. 2013 Oct;102(1):8-15. doi: 10.1016/j.diabres.2013.05.003. Epub 2013 Jun 6. PMID: 23746852","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSeisa, M. O., Saadi, S., Nayfeh, T., Muthusamy, K., Shah, S. H., Firwana, M., Hasan, B., Jawaid, T., Abd-Rabu, R., Korytkowski, M. T., Muniyappa, R., Antinori-Lent, K., Donihi, A. C., Drincic, A. T., Luger, A., Torres Roldan, V. D., Urtecho, M., Wang, Z., \u0026 Murad, M. H. (2022). A systematic review supporting the Endocrine Society clinical practice guideline for the management of hyperglycemia in adults hospitalized for noncritical illness or undergoing elective surgical procedures. The Journal of Clinical Endocrinology and Metabolism, 107(8), 2139–2147. https://doi.org/10.1210/clinem/dgac277","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSeisa, M. O., Saadi, S., Nayfeh, T., Muthusamy, K., Shah, S. H., Firwana, M., Hasan, B., Jawaid, T., Abd-Rabu, R., Korytkowski, M. T., Muniyappa, R., Antinori-Lent, K., Donihi, A. C., Drincic, A. T., Luger, A., Torres Roldan, V. D., Urtecho, M., Wang, Z., \u0026 Murad, M. H. (2022). A systematic review supporting the Endocrine Society clinical practice guideline for the management of hyperglycemia in adults hospitalized for noncritical illness or undergoing elective surgical procedures. The Journal of Clinical Endocrinology and Metabolism, 107(8), 2139–2147. https://doi.org/10.1210/clinem/dgac277","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSreedharan, R., Martini, A., Das, G., Aftab, N., Khanna, S., \u0026 Ruetzler, K. (2022). Clinical challenges of glycemic control in the intensive care unit: A narrative review. World Journal of Clinical Cases, 10(31), 11260–11272. https://doi.org/10.12998/wjcc.v10.i31.11260","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSreedharan, R., Martini, A., Das, G., Aftab, N., Khanna, S., \u0026 Ruetzler, K. (2022). Clinical challenges of glycemic control in the intensive care unit: A narrative review. World Journal of Clinical Cases, 10(31), 11260–11272. https://doi.org/10.12998/wjcc.v10.i31.11260","media_type":"text/plain"}},{"code":"REF","value":"CITATIONUmpierrez, G., Cardona, S., Pasquel, F., Jacobs, S., Peng, L., Unigwe, M., Newton, C.A., Smiley-Byrd, D., Vellanki, P., Halkos, M., Puskas, J.D., Guyton, R.A., \u0026 Thourani, V.H. (2015). Randomized controlled trial of intensive versus conservative glucose control in patients undergoing coronary artery bypass graft surgery: gluco-CABG trial. Diabetes Care. 2015;38(9):1665-1672. doi: 10.2337/dc15-0303. Epub 2015 Jul 15. PMID: 26180108; PMCID: PMC4542267","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONUmpierrez, G., Cardona, S., Pasquel, F., Jacobs, S., Peng, L., Unigwe, M., Newton, C.A., Smiley-Byrd, D., Vellanki, P., Halkos, M., Puskas, J.D., Guyton, R.A., \u0026 Thourani, V.H. (2015). Randomized controlled trial of intensive versus conservative glucose control in patients undergoing coronary artery bypass graft surgery: gluco-CABG trial. Diabetes Care. 2015;38(9):1665-1672. doi: 10.2337/dc15-0303. Epub 2015 Jul 15. PMID: 26180108; PMCID: PMC4542267","media_type":"text/plain"}},{"code":"REF","value":"CITATIONUmpierrez, G.E., Hellman, R., Korytkowski, M.T., Kosiborod, M., Maynard, G.A., Montori, V.M., Seley, J.J., \u0026 Van den Berghe, G.. (2012). Management of hyperglycemia in hospitalized patients in non-critical care setting: An Endocrine Society Clinical Practice Guideline. J Clin Endocrinol Metab. 2012;97, 16-38. doi: 10.1210/jc.2011-2098. PMID: 22223765","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONUmpierrez, G.E., Hellman, R., Korytkowski, M.T., Kosiborod, M., Maynard, G.A., Montori, V.M., Seley, J.J., \u0026 Van den Berghe, G.. (2012). Management of hyperglycemia in hospitalized patients in non-critical care setting: An Endocrine Society Clinical Practice Guideline. J Clin Endocrinol Metab. 2012;97, 16-38. doi: 10.1210/jc.2011-2098. PMID: 22223765","media_type":"text/plain"}},{"code":"DEF","value":"Inpatient hospitalizations: Includes time in the emergency department and observation when the transition between these encounters (if they exist) and the inpatient encounter are within an hour or less of each other. \n\nThis measure defines a severe hyperglycemic day (harm) as either (1) a day with a test (lab or point-of-care (POC)) for glucose with a result of \u003e300 mg/dL, or (2) a day in which a glucose test with a result was not found and it was preceded by two consecutive days where at least one lab or point-of-care (POC) test during each of the two days for glucose had a result \u003e=200 mg/dL. \n\nHospital days are not defined as midnight-to-midnight but are full 24-hour periods that start at the time of admission to the hospital (including emergency department and observation), excluding the last period before discharge from hospital inpatient if it is less than 24 hours.","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations: Includes time in the emergency department and observation when the transition between these encounters (if they exist) and the inpatient encounter are within an hour or less of each other. \n\nThis measure defines a severe hyperglycemic day (harm) as either (1) a day with a test (lab or point-of-care (POC)) for glucose with a result of \u003e300 mg/dL, or (2) a day in which a glucose test with a result was not found and it was preceded by two consecutive days where at least one lab or point-of-care (POC) test during each of the two days for glucose had a result \u003e=200 mg/dL. \n\nHospital days are not defined as midnight-to-midnight but are full 24-hour periods that start at the time of admission to the hospital (including emergency department and observation), excluding the last period before discharge from hospital inpatient if it is less than 24 hours.","media_type":"text/plain"}},{"code":"GUIDE","value":"The measure is using mg/dL as the unit of measurement for glucose results.\n\nWhen evaluating for days with a glucose level \u003e300 mg/dL, the first 24-hour period after admission to the hospital is not evaluated to account for potentially poor glucose control outside of the hospital setting or that preceded the start of hospital care. The admission starts in the emergency department (ED) or observation when the transition between the ED encounter, observation encounter, and the inpatient encounter are within an hour or less of each other.\n\nThis measure evaluates the first 10 days of an eligible inpatient hospitalization in determining eligible days for the denominator and numerator (i.e., the length of stay is truncated to \u003c=10 days when the length exceeds 10 days). Patients admitted for longer length of stays are more likely to have more complex medical conditions.  \n\nThe “Days in Hospitalization” logic within Measure Observation 1 (associated with the denominator), in conjunction with other logic, returns the day number (e.g., day 1 to day 10) for each day within the hospitalization period to determine the eligible hospital days (e.g., from day 2 to day 10). \n\nThe “Days in Hospitalization” logic within Measure Observation 2 (associated with the numerator), in conjunction with other logic, returns the day number (e.g., day 1 to day 10) for each day within the hospitalization period to determine the eligible hyperglycemic event days (e.g., from day 2 to day 10).\n\nSince the measure does not count any hyperglycemic events that occur in the first 24 hours, day 1 is not considered an eligible hospital day for the Measure Observations. Eligible days range from day 2 up to day 10.\n\nAlthough the measure does not count any hyperglycemic events that occur in the first 24 hours as a hyperglycemic event day in Measure Observation 2, the first 24 hours of the encounter is considered day 1. This is because if there was a day during the encounter where a glucose result is not found, the measure evaluates the two days preceding to see if each had a glucose value \u003e=200 mg/dL. The measure allows the first 24 hours of the encounter, i.e., day 1, to be one of the preceding days.\n\nMultiple hyperglycemic events can occur during a ‘day’, but this is still considered one hyperglycemic event day.\n\nThe numerator returns the first eligible encounter that meets the qualifying criteria: an inpatient\nhospitalization with a hyperglycemic event. Only one numerator is counted per encounter. Note that the\nNumerator returns the encounters, not days, that meet the criteria.\n\nIn ratio measures, both the Denominator and Numerator populations flow separately from the same Initial Population. Therefore, the same exclusion criteria must be applied to both the Denominator and Numerator to prevent excluded cases from being considered.\n\nThe specimen source for the glucose test is blood, serum, plasma, or interstitial fluid, and can be obtained by a laboratory test, a Point of Care (POC) test, or a continuous glucose monitor (CGM).\nGlucose test results from urine specimens are not considered.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or\nencounter that ends during the measurement period.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center\n(https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"The measure is using mg/dL as the unit of measurement for glucose results.\n\nWhen evaluating for days with a glucose level \u003e300 mg/dL, the first 24-hour period after admission to the hospital is not evaluated to account for potentially poor glucose control outside of the hospital setting or that preceded the start of hospital care. The admission starts in the emergency department (ED) or observation when the transition between the ED encounter, observation encounter, and the inpatient encounter are within an hour or less of each other.\n\nThis measure evaluates the first 10 days of an eligible inpatient hospitalization in determining eligible days for the denominator and numerator (i.e., the length of stay is truncated to \u003c=10 days when the length exceeds 10 days). Patients admitted for longer length of stays are more likely to have more complex medical conditions.  \n\nThe “Days in Hospitalization” logic within Measure Observation 1 (associated with the denominator), in conjunction with other logic, returns the day number (e.g., day 1 to day 10) for each day within the hospitalization period to determine the eligible hospital days (e.g., from day 2 to day 10). \n\nThe “Days in Hospitalization” logic within Measure Observation 2 (associated with the numerator), in conjunction with other logic, returns the day number (e.g., day 1 to day 10) for each day within the hospitalization period to determine the eligible hyperglycemic event days (e.g., from day 2 to day 10).\n\nSince the measure does not count any hyperglycemic events that occur in the first 24 hours, day 1 is not considered an eligible hospital day for the Measure Observations. Eligible days range from day 2 up to day 10.\n\nAlthough the measure does not count any hyperglycemic events that occur in the first 24 hours as a hyperglycemic event day in Measure Observation 2, the first 24 hours of the encounter is considered day 1. This is because if there was a day during the encounter where a glucose result is not found, the measure evaluates the two days preceding to see if each had a glucose value \u003e=200 mg/dL. The measure allows the first 24 hours of the encounter, i.e., day 1, to be one of the preceding days.\n\nMultiple hyperglycemic events can occur during a ‘day’, but this is still considered one hyperglycemic event day.\n\nThe numerator returns the first eligible encounter that meets the qualifying criteria: an inpatient\nhospitalization with a hyperglycemic event. Only one numerator is counted per encounter. Note that the\nNumerator returns the encounters, not days, that meet the criteria.\n\nIn ratio measures, both the Denominator and Numerator populations flow separately from the same Initial Population. Therefore, the same exclusion criteria must be applied to both the Denominator and Numerator to prevent excluded cases from being considered.\n\nThe specimen source for the glucose test is blood, serum, plasma, or interstitial fluid, and can be obtained by a laboratory test, a Point of Care (POC) test, or a continuous glucose monitor (CGM).\nGlucose test results from urine specimens are not considered.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or\nencounter that ends during the measurement period.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center\n(https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"Inpatient hospitalizations for patients age 18 and older that end during the measurement period, as well as either: \n\n- A diagnosis of diabetes that starts before the end of the encounter; or\n- Administration of at least one dose of insulin or any hypoglycemic medication that starts during the encounter; or\n- Presence of at least one glucose value \u003e=200 mg/dL at any time during the encounter.","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients age 18 and older that end during the measurement period, as well as either: \n\n- A diagnosis of diabetes that starts before the end of the encounter; or\n- Administration of at least one dose of insulin or any hypoglycemic medication that starts during the encounter; or\n- Presence of at least one glucose value \u003e=200 mg/dL at any time during the encounter.","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial Population","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial Population","media_type":"text/plain"}},{"code":"DENEX","value":"-Inpatient hospitalizations for patients with a glucose result of \u003e=1000 mg/dL anytime between 1 hour prior to the start of the encounter to 6 hours after the start of the encounter.\n\n-Inpatient hospitalizations for patients who have comfort care measures ordered or provided during the encounter.\n\n-Inpatient hospitalizations for patients who have a discharge disposition to home or to a health care facility for hospice care.","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"-Inpatient hospitalizations for patients with a glucose result of \u003e=1000 mg/dL anytime between 1 hour prior to the start of the encounter to 6 hours after the start of the encounter.\n\n-Inpatient hospitalizations for patients who have comfort care measures ordered or provided during the encounter.\n\n-Inpatient hospitalizations for patients who have a discharge disposition to home or to a health care facility for hospice care.","media_type":"text/plain"}},{"code":"NUMER","value":"Inpatient hospitalizations with a hyperglycemic event within the first 10 days of the encounter minus the first 24 hours, and minus the last period before discharge from the hospital if less than 24 hours.\n\nA hyperglycemic event is defined as: \n\n- A day with at least one glucose value \u003e300 mg/dL.\n\nOR\n\n- A day where a glucose test and result was not found, and it was immediately preceded by two contiguous, consecutive days where at least one glucose value during each of the two days was \u003e=200 mg/dL.","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations with a hyperglycemic event within the first 10 days of the encounter minus the first 24 hours, and minus the last period before discharge from the hospital if less than 24 hours.\n\nA hyperglycemic event is defined as: \n\n- A day with at least one glucose value \u003e300 mg/dL.\n\nOR\n\n- A day where a glucose test and result was not found, and it was immediately preceded by two contiguous, consecutive days where at least one glucose value during each of the two days was \u003e=200 mg/dL.","media_type":"text/plain"}},{"code":"NUMEX","value":"Inpatient hospitalizations that meet the Denominator Exclusions:\n\n-Inpatient hospitalizations for patients with a glucose result of \u003e=1000 mg/dL anytime between 1 hour prior to the start of the encounter to 6 hours after the start of the encounter.\n\n-Inpatient hospitalizations for patients who have comfort care measures ordered or provided during the encounter.\n\n-Inpatient hospitalizations for patients who have a discharge disposition to home or to a health care facility for hospice care.","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations that meet the Denominator Exclusions:\n\n-Inpatient hospitalizations for patients with a glucose result of \u003e=1000 mg/dL anytime between 1 hour prior to the start of the encounter to 6 hours after the start of the encounter.\n\n-Inpatient hospitalizations for patients who have comfort care measures ordered or provided during the encounter.\n\n-Inpatient hospitalizations for patients who have a discharge disposition to home or to a health care facility for hospice care.","media_type":"text/plain"}},{"code":"MSROBS","value":"There are two Measure Observations:  \n\nEncounter Observation 2, associated with the numerator of the ratio: The total number of hyperglycemic days during the inpatient hospitalization that meet the numerator criteria and did not meet the numerator exclusion criteria. Days with a hyperglycemic event are defined as: \n\n- All days with a glucose level \u003e300 mg/dL (except those occurring in the first 24-hour period after \nadmission to the hospital (including the emergency department and observation))\nOR\n- All days where a glucose was not measured, and it was immediately preceded by two contiguous, consecutive days where at least one glucose value during each of the two days was \u003e=200 mg/dL.\n\nEncounter Observation 1, associated with the denominator of the ratio: The total number of eligible days of the inpatient hospitalization which match the initial population/denominator criteria and did not meet the denominator exclusion criteria.\n\nThe length of stay for all eligible inpatient hospitalizations is truncated to \u003c=10 days when the length exceeds 10 days.\n\nDo not count the last day if it was less than a 24-hour period as this is not considered a full day.","name":"Measure Observation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSROBS","title":"Measure Observation"},"value_obj":{"type":"ED","value":"There are two Measure Observations:  \n\nEncounter Observation 2, associated with the numerator of the ratio: The total number of hyperglycemic days during the inpatient hospitalization that meet the numerator criteria and did not meet the numerator exclusion criteria. Days with a hyperglycemic event are defined as: \n\n- All days with a glucose level \u003e300 mg/dL (except those occurring in the first 24-hour period after \nadmission to the hospital (including the emergency department and observation))\nOR\n- All days where a glucose was not measured, and it was immediately preceded by two contiguous, consecutive days where at least one glucose value during each of the two days was \u003e=200 mg/dL.\n\nEncounter Observation 1, associated with the denominator of the ratio: The total number of eligible days of the inpatient hospitalization which match the initial population/denominator criteria and did not meet the denominator exclusion criteria.\n\nThe length of stay for all eligible inpatient hospitalizations is truncated to \u003c=10 days when the length exceeds 10 days.\n\nDo not count the last day if it was less than a 24-hour period as this is not considered a full day.","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"RATIO","population_criteria":{"OBSERV":{"conjunction?":false,"type":"OBSERV","hqmf_id":"34433EA7-5535-4CE6-B977-939A57DD9FBD","aggregator":"SUM"},"OBSERV_1":{"conjunction?":false,"type":"OBSERV","hqmf_id":"6B7E0BE7-FAEF-4E5F-BB51-528229423377","aggregator":"SUM"},"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"AC4912FE-7597-4C6C-A7CB-88C1EBE9B432","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"HospitalHarmHyperglycemiainHospitalizedPatients__Initial_Population__98224522_0813_40C8_9823_D7D280ED3A59"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"79FED0D8-DAB0-445B-ADFE-803B9752CD69","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"HospitalHarmHyperglycemiainHospitalizedPatients__Denominator__98224522_0813_40C8_9823_D7D280ED3A59"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"51680212-DFD5-4558-9486-2063C41C3FB8","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"HospitalHarmHyperglycemiainHospitalizedPatients__Numerator__98224522_0813_40C8_9823_D7D280ED3A59"}],"conjunction_code":"allTrue"}]},"NUMEX":{"conjunction?":true,"type":"NUMEX","hqmf_id":"1F87DF55-1C03-44F9-8D71-3BD6905DF23E","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"HospitalHarmHyperglycemiainHospitalizedPatients__Numerator_Exclusions__98224522_0813_40C8_9823_D7D280ED3A59"}],"conjunction_code":"atLeastOneTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"E19759AE-342A-45BB-9560-2964D48CEF77","preconditions":[{"id":10,"preconditions":[{"id":9,"reference":"HospitalHarmHyperglycemiainHospitalizedPatients__Denominator_Exclusions__98224522_0813_40C8_9823_D7D280ED3A59"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"68923fdda83e15671c2e7244","observations":[{"_id":"68923fdda83e15671c2e722e","aggregation_type":"SUM","hqmf_id":"34433EA7-5535-4CE6-B977-939A57DD9FBD","observation_function":{"_id":"68923fdda83e15671c2e7245","hqmf_id":"34433EA7-5535-4CE6-B977-939A57DD9FBD","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"DenominatorObservations"},"observation_parameter":{"_id":"68923fdda83e15671c2e7246","hqmf_id":"34433EA7-5535-4CE6-B977-939A57DD9FBD","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Denominator"}},{"_id":"68923fdda83e15671c2e722f","aggregation_type":"SUM","hqmf_id":"6B7E0BE7-FAEF-4E5F-BB51-528229423377","observation_function":{"_id":"68923fdda83e15671c2e7247","hqmf_id":"6B7E0BE7-FAEF-4E5F-BB51-528229423377","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"NumeratorObservations"},"observation_parameter":{"_id":"68923fdda83e15671c2e7248","hqmf_id":"6B7E0BE7-FAEF-4E5F-BB51-528229423377","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Numerator"}}],"population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"68923fdda83e15671c2e7249","hqmf_id":"E19759AE-342A-45BB-9560-2964D48CEF77","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Denominator Exclusions"},"DENOM":{"_id":"68923fdda83e15671c2e724a","hqmf_id":"79FED0D8-DAB0-445B-ADFE-803B9752CD69","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Denominator"},"IPP":{"_id":"68923fdda83e15671c2e724b","hqmf_id":"AC4912FE-7597-4C6C-A7CB-88C1EBE9B432","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Initial Population"},"NUMER":{"_id":"68923fdda83e15671c2e724c","hqmf_id":"51680212-DFD5-4558-9486-2063C41C3FB8","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Numerator"},"NUMEX":{"_id":"68923fdda83e15671c2e724d","hqmf_id":"1F87DF55-1C03-44F9-8D71-3BD6905DF23E","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"Numerator Exclusions"},"_id":"68923fdda83e15671c2e724e","_type":"CQM::RatioPopulationMap"},"supplemental_data_elements":[{"_id":"68923fd7a83e15671c2e6d2e","hqmf_id":"31D2D4D4-691F-4269-81D0-20F256749B02","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"SDE Ethnicity"},{"_id":"68923fd7a83e15671c2e6d2f","hqmf_id":"617AD105-561B-492D-8B33-576AA9432764","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"SDE Payer"},{"_id":"68923fd7a83e15671c2e6d30","hqmf_id":"C88BC0AB-EC05-4DE3-9DFD-9B2B0FC87DB2","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"SDE Race"},{"_id":"68923fd7a83e15671c2e6d31","hqmf_id":"3A5227D4-3D6F-4A37-ACD9-C38E13A3A73E","library_name":"HospitalHarmHyperglycemiainHospitalizedPatients","statement_name":"SDE Sex"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"68923fd7a83e15671c2e6d72","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923fd7a83e15671c2e6d72","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923fdda83e15671c2e724f","_type":"QDM::InterventionOrder","authorDatetime":null,"codeListId":"1.3.6.1.4.1.33895.1.3.0.45","dataElementCodes":[],"description":"Intervention, Order: ComfortMeasures","hqmfOid":"2.16.840.1.113883.10.20.28.4.35","id":"68923fdda83e15671c2e724f","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"order","qdmTitle":"Intervention, Order","qdmVersion":"5.6","reason":null},{"_id":"68923fdda83e15671c2e7250","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"1.3.6.1.4.1.33895.1.3.0.45","dataElementCodes":[],"description":"Intervention, Performed: ComfortMeasures","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"68923fdda83e15671c2e7250","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"68923fdda83e15671c2e7251","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"68923fdda83e15671c2e7251","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"68923fdda83e15671c2e7252","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"68923fdda83e15671c2e7252","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"68923fdda83e15671c2e7253","_type":"QDM::LaboratoryTestPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1248.34","components":null,"dataElementCodes":[],"description":"Laboratory Test, Performed: GlucoseLabTestMassPerVolume","hqmfOid":"2.16.840.1.113883.10.20.28.4.42","id":"68923fdda83e15671c2e7253","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"laboratory_test","qdmStatus":"performed","qdmTitle":"Laboratory Test, Performed","qdmVersion":"5.6","reason":null,"referenceRange":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"resultDatetime":null,"status":null},{"_id":"68923fd7a83e15671c2e6d73","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.117.1.7.1.292","dataElementCodes":[],"description":"Encounter, Performed: EmergencyDepartmentVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923fd7a83e15671c2e6d73","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923fd7a83e15671c2e6d74","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113762.1.4.1111.143","dataElementCodes":[],"description":"Encounter, Performed: ObservationServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923fd7a83e15671c2e6d74","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923fdda83e15671c2e7254","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"68923fdda83e15671c2e7254","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"68923fdda83e15671c2e7255","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.103.12.1001","dataElementCodes":[],"description":"Diagnosis: Diabetes","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"68923fdda83e15671c2e7255","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"68923fdda83e15671c2e7256","_type":"QDM::MedicationAdministered","authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1196.394","dataElementCodes":[],"description":"Medication, Administered: HypoglycemicsTreatmentMedications","dosage":null,"frequency":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.45","id":"68923fdda83e15671c2e7256","negationRationale":null,"qdmCategory":"medication","qdmStatus":"administered","qdmTitle":"Medication, Administered","qdmVersion":"5.6","reason":null,"relevantDatetime":null,"relevantPeriod":null,"route":null},{"_id":"68923fdda83e15671c2e7257","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"68923fdda83e15671c2e7257","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null}],"title":"Hospital Harm - Severe Hyperglycemia","updated_at":null,"value_set_ids":["68923fdda83e15671c2e721f","68923fdda83e15671c2e7220","68923fdda83e15671c2e7221","68923fdda83e15671c2e7222","68923fdda83e15671c2e7223","68923fdda83e15671c2e7224","68923fdda83e15671c2e7225","68923fdda83e15671c2e7226","68923fdda83e15671c2e7227","68923fdda83e15671c2e7228","68923fdda83e15671c2e7229","68923fdda83e15671c2e722a","68923fdda83e15671c2e722b","68923fdda83e15671c2e722c","68923fdda83e15671c2e722d"]}