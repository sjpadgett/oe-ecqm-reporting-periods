{"_id":"68923ecda83e15671c2dfac1","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS334v6","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"68923ec9a83e15671c2df88e","cql":"library CesareanBirth version '6.1.000'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude MATGlobalCommonFunctionsQDM version '8.0.000' called Global\r\ninclude PCMaternalQDM version '4.0.000' called PCMaternal\r\n\r\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1'\r\n\r\nvalueset \"37 to 42 Plus Weeks Gestation\": 'urn:oid:2.16.840.1.113762.1.4.1110.68'\r\nvalueset \"Abnormal Presentation\": 'urn:oid:2.16.840.1.113762.1.4.1045.105'\r\nvalueset \"Cesarean Birth\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.282'\r\nvalueset \"Delivery of Singleton\": 'urn:oid:2.16.840.1.113762.1.4.1045.99'\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"Genital Herpes\": 'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1049'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Placenta Accreta Spectrum Previa or Vasa Previa\": 'urn:oid:2.16.840.1.113762.1.4.1110.37'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\n\r\ncode \"[#] Births.preterm\": '11637-6' from \"LOINC\" display '[#] Births.preterm'\r\ncode \"[#] Births.term\": '11639-2' from \"LOINC\" display '[#] Births.term'\r\ncode \"[#] Parity\": '11977-6' from \"LOINC\" display '[#] Parity'\r\ncode \"[#] Pregnancies\": '11996-6' from \"LOINC\" display '[#] Pregnancies'\r\n\r\ncontext Patient\r\n\r\ndefine \"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\":\r\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\r\n    where PCMaternal.\"CalculatedGestationalAge\" ( DeliveryEncounter ) \u003e= 37\r\n\r\ndefine \"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\":\r\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\r\n    where PCMaternal.\"CalculatedGestationalAge\" ( DeliveryEncounter ) is null\r\n      and PCMaternal.\"LastEstimatedGestationalAge\" ( DeliveryEncounter ) \u003e= 37 weeks\r\n\r\ndefine \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\":\r\n  \"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\"\r\n    union \"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\"\r\n    union \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\"\r\n\r\ndefine \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\":\r\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\r\n    let CGA: PCMaternal.\"CalculatedGestationalAge\" ( DeliveryEncounter ),\r\n    EGA: PCMaternal.\"LastEstimatedGestationalAge\" ( DeliveryEncounter )\r\n    where CGA is null\r\n      and EGA is null\r\n      and exists ( DeliveryEncounter.diagnoses EncounterDiagnoses\r\n          where EncounterDiagnoses.code in \"37 to 42 Plus Weeks Gestation\"\r\n      )\r\n\r\ndefine \"Denominator\":\r\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\"\r\n\r\ndefine \"Encounter with Singleton Delivery\":\r\n  PCMaternal.\"Delivery Encounter with Age Range\" DeliveryEncounter\r\n    where exists ( DeliveryEncounter.diagnoses EncounterDiagnoses\r\n        where EncounterDiagnoses.code in \"Delivery of Singleton\"\r\n    )\r\n\r\ndefine \"Initial Population\":\r\n  PCMaternal.\"Delivery Encounter with Age Range\"\r\n\r\ndefine \"Numerator\":\r\n  \"Delivery Encounter with Cesarean Birth\"\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"Delivery Encounter with Cesarean Birth\":\r\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtysevenWeeksPlusEncounter\r\n    with [\"Procedure, Performed\": \"Cesarean Birth\"] CSection\r\n      such that Global.\"NormalizeInterval\" ( CSection.relevantDatetime, CSection.relevantPeriod ) during PCMaternal.\"HospitalizationWithEDOBTriageObservation\" ( ThirtysevenWeeksPlusEncounter )\r\n\r\ndefine \"Denominator Exclusions\":\r\n  \"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\"\r\n\r\ndefine \"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\":\r\n  \"Encounter with Abnormal Presentation\"\r\n    union \"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\"\r\n\r\ndefine \"SDE Variable Calculated Gestational Age\":\r\n  PCMaternal.\"Variable Calculated Gestational Age\"\r\n\r\ndefine \"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\":\r\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtysevenWeeksPlusEncounter\r\n    where exists ( ThirtysevenWeeksPlusEncounter.diagnoses EncounterDiagnoses\r\n        where EncounterDiagnoses.code in \"Placenta Accreta Spectrum Previa or Vasa Previa\"\r\n          or EncounterDiagnoses.code in \"Genital Herpes\"\r\n    )\r\n\r\ndefine \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\":\r\n  ( \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\"\r\n    intersect \"Encounter with Singleton Delivery\" ) SingletonEncounterGE37Weeks\r\n    where ( ( \"LastGravida\"(SingletonEncounterGE37Weeks) = 1 )\r\n        or ( \"LastParity\"(SingletonEncounterGE37Weeks) = 0 )\r\n        or ( ( \"LastHistoryPretermBirth\"(SingletonEncounterGE37Weeks) = 0 )\r\n            and ( \"LastHistoryTermBirth\"(SingletonEncounterGE37Weeks) = 0 )\r\n        )\r\n    )\r\n\r\ndefine \"Encounter with Abnormal Presentation\":\r\n  \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtysevenWeeksPlusEncounter\r\n    let LastAbnormalPresentation: Last([\"Assessment, Performed\": \"Abnormal Presentation\"] AbnormalPresentation\r\n        where Global.\"EarliestOf\"(AbnormalPresentation.relevantDatetime, AbnormalPresentation.relevantPeriod) before or on PCMaternal.\"LastTimeOfDelivery\"(ThirtysevenWeeksPlusEncounter)\r\n        sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\r\n    )\r\n    where Global.\"EarliestOf\" ( LastAbnormalPresentation.relevantDatetime, LastAbnormalPresentation.relevantPeriod ) during PCMaternal.\"HospitalizationWithEDOBTriageObservation\" ( ThirtysevenWeeksPlusEncounter )\r\n      or exists ( ThirtysevenWeeksPlusEncounter.diagnoses EncounterDiagnoses\r\n          where EncounterDiagnoses.code in \"Abnormal Presentation\"\r\n      )\r\n\r\ndefine function \"LastGravida\"(Encounter \"Encounter, Performed\"):\r\n  Last([\"Assessment, Performed\": \"[#] Pregnancies\"] Gravida\r\n      where Global.\"EarliestOf\"(Gravida.relevantDatetime, Gravida.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\r\n        and Gravida.result is not null\r\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\r\n  ).result as Integer\r\n\r\ndefine function \"LastHistoryPretermBirth\"(Encounter \"Encounter, Performed\"):\r\n  Last([\"Assessment, Performed\": \"[#] Births.preterm\"] PretermBirth\r\n      where Global.\"EarliestOf\"(PretermBirth.relevantDatetime, PretermBirth.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\r\n        and PretermBirth.result is not null\r\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\r\n  ).result as Integer\r\n\r\ndefine function \"LastHistoryTermBirth\"(Encounter \"Encounter, Performed\"):\r\n  Last([\"Assessment, Performed\": \"[#] Births.term\"] TermBirth\r\n      where Global.\"EarliestOf\"(TermBirth.relevantDatetime, TermBirth.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\r\n        and TermBirth.result is not null\r\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\r\n  ).result as Integer\r\n\r\ndefine function \"LastParity\"(Encounter \"Encounter, Performed\"):\r\n  Last([\"Assessment, Performed\": \"[#] Parity\"] Parity\r\n      where Global.\"EarliestOf\"(Parity.relevantDatetime, Parity.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\r\n        and Parity.result is not null\r\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\r\n  ).result as Integer","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"344","s":[{"value":["","library CesareanBirth version '6.1.000'"]}]}}],"identifier":{"id":"CesareanBirth","version":"6.1.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:67","localIdentifier":"Global","path":"MATGlobalCommonFunctionsQDM","version":"8.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctionsQDM"]}]},{"value":[" version ","'8.0.000'"," called ","Global"]}]}}]},{"localId":"3","locator":"6:1-6:57","localIdentifier":"PCMaternal","path":"PCMaternalQDM","version":"4.0.000","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","include "]},{"s":[{"value":["PCMaternalQDM"]}]},{"value":[" version ","'4.0.000'"," called ","PCMaternal"]}]}}]}]},"codeSystems":{"def":[{"localId":"4","locator":"8:1-8:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:81","name":"37 to 42 Plus Weeks Gestation","id":"2.16.840.1.113762.1.4.1110.68","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"37 to 42 Plus Weeks Gestation\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.68'"]}]}}]},{"localId":"6","locator":"11:1-11:74","name":"Abnormal Presentation","id":"2.16.840.1.113762.1.4.1045.105","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Abnormal Presentation\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.105'"]}]}}]},{"localId":"7","locator":"12:1-12:70","name":"Cesarean Birth","id":"2.16.840.1.113883.3.117.1.7.1.282","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Cesarean Birth\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.282'"]}]}}]},{"localId":"8","locator":"13:1-13:73","name":"Delivery of Singleton","id":"2.16.840.1.113762.1.4.1045.99","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Delivery of Singleton\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.99'"]}]}}]},{"localId":"9","locator":"14:1-14:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}]},{"localId":"10","locator":"15:1-15:77","name":"Genital Herpes","id":"2.16.840.1.113883.3.464.1003.110.12.1049","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","valueset ","\"Genital Herpes\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1049'"]}]}}]},{"localId":"11","locator":"16:1-16:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","valueset ","\"ONC Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1'"]}]}}]},{"localId":"12","locator":"17:1-17:60","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}]},{"localId":"13","locator":"18:1-18:99","name":"Placenta Accreta Spectrum Previa or Vasa Previa","id":"2.16.840.1.113762.1.4.1110.37","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","valueset ","\"Placenta Accreta Spectrum Previa or Vasa Previa\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.37'"]}]}}]},{"localId":"14","locator":"19:1-19:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"14","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}]}]},"codes":{"def":[{"localId":"16","locator":"21:1-21:78","name":"[#] Births.preterm","id":"11637-6","display":"[#] Births.preterm","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","code ","\"[#] Births.preterm\"",": ","'11637-6'"," from "]},{"r":"15","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Births.preterm'"]}]}}],"codeSystem":{"localId":"15","locator":"21:43-21:49","name":"LOINC"}},{"localId":"18","locator":"22:1-22:72","name":"[#] Births.term","id":"11639-2","display":"[#] Births.term","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"18","s":[{"value":["","code ","\"[#] Births.term\"",": ","'11639-2'"," from "]},{"r":"17","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Births.term'"]}]}}],"codeSystem":{"localId":"17","locator":"22:40-22:46","name":"LOINC"}},{"localId":"20","locator":"23:1-23:62","name":"[#] Parity","id":"11977-6","display":"[#] Parity","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"20","s":[{"value":["","code ","\"[#] Parity\"",": ","'11977-6'"," from "]},{"r":"19","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Parity'"]}]}}],"codeSystem":{"localId":"19","locator":"23:35-23:41","name":"LOINC"}},{"localId":"22","locator":"24:1-24:72","name":"[#] Pregnancies","id":"11996-6","display":"[#] Pregnancies","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"22","s":[{"value":["","code ","\"[#] Pregnancies\"",": ","'11996-6'"," from "]},{"r":"21","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Pregnancies'"]}]}}],"codeSystem":{"localId":"21","locator":"24:40-24:46","name":"LOINC"}}]},"contexts":{"def":[{"locator":"26:1-26:15","name":"Patient"}]},"statements":{"def":[{"locator":"26:1-26:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"26:1-26:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"31","locator":"28:1-30:75","name":"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"31","s":[{"value":["","define ","\"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\"",":\n  "]},{"r":"30","s":[{"s":[{"r":"24","s":[{"r":"23","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter with Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"r":"29","s":[{"value":["where "]},{"r":"29","s":[{"r":"27","s":[{"r":"25","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"27","s":[{"value":["\"CalculatedGestationalAge\""," ( "]},{"r":"26","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]},{"r":"28","value":[" ","\u003e="," ","37"]}]}]}]}]}}],"expression":{"localId":"30","locator":"29:3-30:75","type":"Query","source":[{"localId":"24","locator":"29:3-29:66","alias":"DeliveryEncounter","expression":{"localId":"23","locator":"29:3-29:48","name":"Delivery Encounter with Age Range","libraryName":"PCMaternal","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"29","locator":"30:5-30:75","type":"GreaterOrEqual","operand":[{"localId":"27","locator":"30:11-30:69","name":"CalculatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"26","locator":"30:51-30:67","name":"DeliveryEncounter","type":"AliasRef"}]},{"localId":"28","locator":"30:74-30:75","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"37","type":"Literal"}]}}},{"localId":"45","locator":"32:1-35:84","name":"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"45","s":[{"value":["","define ","\"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\"",":\n  "]},{"r":"44","s":[{"s":[{"r":"33","s":[{"r":"32","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter with Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"r":"43","s":[{"value":["where "]},{"r":"43","s":[{"r":"37","s":[{"r":"36","s":[{"r":"34","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"36","s":[{"value":["\"CalculatedGestationalAge\""," ( "]},{"r":"35","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]},{"value":[" is null"]}]},{"value":["\n      and "]},{"r":"42","s":[{"r":"40","s":[{"r":"38","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"40","s":[{"value":["\"LastEstimatedGestationalAge\""," ( "]},{"r":"39","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]},{"value":[" ","\u003e="," "]},{"r":"41","s":[{"value":["37 ","weeks"]}]}]}]}]}]}]}}],"expression":{"localId":"44","locator":"33:3-35:84","type":"Query","source":[{"localId":"33","locator":"33:3-33:66","alias":"DeliveryEncounter","expression":{"localId":"32","locator":"33:3-33:48","name":"Delivery Encounter with Age Range","libraryName":"PCMaternal","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"43","locator":"34:5-35:84","type":"And","operand":[{"localId":"37","locator":"34:11-34:77","type":"IsNull","operand":{"localId":"36","locator":"34:11-34:69","name":"CalculatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"35","locator":"34:51-34:67","name":"DeliveryEncounter","type":"AliasRef"}]}},{"localId":"42","locator":"35:11-35:84","type":"GreaterOrEqual","operand":[{"localId":"40","locator":"35:11-35:72","name":"LastEstimatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"39","locator":"35:54-35:70","name":"DeliveryEncounter","type":"AliasRef"}]},{"localId":"41","locator":"35:77-35:84","value":37,"unit":"weeks","type":"Quantity"}]}]}}},{"localId":"74","locator":"42:1-50:7","name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"74","s":[{"value":["","define ","\"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\"",":\n  "]},{"r":"73","s":[{"s":[{"r":"50","s":[{"r":"49","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter with Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"54","s":[{"value":["CGA",": "]},{"r":"53","s":[{"r":"51","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"53","s":[{"value":["\"CalculatedGestationalAge\""," ( "]},{"r":"52","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]}]},{"value":[",\n    "]},{"r":"58","s":[{"value":["EGA",": "]},{"r":"57","s":[{"r":"55","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"57","s":[{"value":["\"LastEstimatedGestationalAge\""," ( "]},{"r":"56","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]}]}]},{"value":["\n    "]},{"r":"72","s":[{"value":["where "]},{"r":"72","s":[{"r":"63","s":[{"r":"60","s":[{"r":"59","s":[{"value":["CGA"]}]},{"value":[" is null"]}]},{"value":["\n      and "]},{"r":"62","s":[{"r":"61","s":[{"value":["EGA"]}]},{"value":[" is null"]}]}]},{"value":["\n      and "]},{"r":"71","s":[{"value":["exists "]},{"r":"70","s":[{"value":["( "]},{"r":"70","s":[{"s":[{"r":"65","s":[{"r":"64","s":[{"s":[{"value":["DeliveryEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n          "]},{"r":"69","s":[{"value":["where "]},{"r":"69","s":[{"r":"67","s":[{"r":"66","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"67","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"68","s":[{"value":["\"37 to 42 Plus Weeks Gestation\""]}]}]}]}]},{"value":["\n      )"]}]}]}]}]}]}]}}],"expression":{"localId":"73","locator":"43:3-50:7","type":"Query","source":[{"localId":"50","locator":"43:3-43:66","alias":"DeliveryEncounter","expression":{"localId":"49","locator":"43:3-43:48","name":"Delivery Encounter with Age Range","libraryName":"PCMaternal","type":"ExpressionRef"}}],"let":[{"localId":"54","locator":"44:9-44:72","identifier":"CGA","expression":{"localId":"53","locator":"44:14-44:72","name":"CalculatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"52","locator":"44:54-44:70","name":"DeliveryEncounter","type":"AliasRef"}]}},{"localId":"58","locator":"45:5-45:71","identifier":"EGA","expression":{"localId":"57","locator":"45:10-45:71","name":"LastEstimatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"56","locator":"45:53-45:69","name":"DeliveryEncounter","type":"AliasRef"}]}}],"relationship":[],"where":{"localId":"72","locator":"46:5-50:7","type":"And","operand":[{"localId":"63","locator":"46:11-47:21","type":"And","operand":[{"localId":"60","locator":"46:11-46:21","type":"IsNull","operand":{"localId":"59","locator":"46:11-46:13","name":"CGA","type":"QueryLetRef"}},{"localId":"62","locator":"47:11-47:21","type":"IsNull","operand":{"localId":"61","locator":"47:11-47:13","name":"EGA","type":"QueryLetRef"}}]},{"localId":"71","locator":"48:11-50:7","type":"Exists","operand":{"localId":"70","locator":"48:18-50:7","type":"Query","source":[{"localId":"65","locator":"48:20-48:65","alias":"EncounterDiagnoses","expression":{"localId":"64","locator":"48:20-48:46","path":"diagnoses","scope":"DeliveryEncounter","type":"Property"}}],"relationship":[],"where":{"localId":"69","locator":"49:11-49:74","type":"InValueSet","code":{"localId":"67","locator":"49:17-49:39","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"68","locator":"49:44-49:74","name":"37 to 42 Plus Weeks Gestation","preserve":true}}}}]}}},{"localId":"77","locator":"37:1-40:101","name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"77","s":[{"value":["","define ","\"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\"",":\n  "]},{"r":"76","s":[{"r":"48","s":[{"r":"46","s":[{"value":["\"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\""]}]},{"value":["\n    union "]},{"r":"47","s":[{"value":["\"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\""]}]}]},{"value":["\n    union "]},{"r":"75","s":[{"value":["\"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\""]}]}]}]}}],"expression":{"localId":"76","locator":"38:3-40:101","type":"Union","operand":[{"localId":"48","locator":"38:3-39:95","type":"Union","operand":[{"localId":"46","locator":"38:3-38:88","name":"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks","type":"ExpressionRef"},{"localId":"47","locator":"39:11-39:95","name":"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks","type":"ExpressionRef"}]},{"localId":"75","locator":"40:11-40:101","name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding","type":"ExpressionRef"}]}},{"localId":"90","locator":"55:1-59:5","name":"Encounter with Singleton Delivery","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"90","s":[{"value":["","define ","\"Encounter with Singleton Delivery\"",":\n  "]},{"r":"89","s":[{"s":[{"r":"80","s":[{"r":"79","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter with Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"r":"88","s":[{"value":["where "]},{"r":"88","s":[{"value":["exists "]},{"r":"87","s":[{"value":["( "]},{"r":"87","s":[{"s":[{"r":"82","s":[{"r":"81","s":[{"s":[{"value":["DeliveryEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n        "]},{"r":"86","s":[{"value":["where "]},{"r":"86","s":[{"r":"84","s":[{"r":"83","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"84","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"85","s":[{"value":["\"Delivery of Singleton\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}]}}],"expression":{"localId":"89","locator":"56:3-59:5","type":"Query","source":[{"localId":"80","locator":"56:3-56:66","alias":"DeliveryEncounter","expression":{"localId":"79","locator":"56:3-56:48","name":"Delivery Encounter with Age Range","libraryName":"PCMaternal","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"88","locator":"57:5-59:5","type":"Exists","operand":{"localId":"87","locator":"57:18-59:5","type":"Query","source":[{"localId":"82","locator":"57:20-57:65","alias":"EncounterDiagnoses","expression":{"localId":"81","locator":"57:20-57:46","path":"diagnoses","scope":"DeliveryEncounter","type":"Property"}}],"relationship":[],"where":{"localId":"86","locator":"58:9-58:64","type":"InValueSet","code":{"localId":"84","locator":"58:15-58:37","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"85","locator":"58:42-58:64","name":"Delivery of Singleton","preserve":true}}}}}},{"localId":"124","locator":"122:1-127:21","name":"LastGravida","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"124","s":[{"value":["","define function ","\"LastGravida\"","(","Encounter"," "]},{"r":"95","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"123","s":[{"r":"123","s":[{"r":"121","s":[{"r":"120","s":[{"value":["Last","("]},{"r":"119","s":[{"s":[{"r":"97","s":[{"r":"96","s":[{"r":"96","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Pregnancies\""]}]},{"value":["]"]}]}]},{"value":[" ","Gravida"]}]}]},{"value":["\n      "]},{"r":"112","s":[{"value":["where "]},{"r":"112","s":[{"r":"108","s":[{"r":"103","s":[{"r":"98","s":[{"value":["Global"]}]},{"value":["."]},{"r":"103","s":[{"value":["\"EarliestOf\"","("]},{"r":"100","s":[{"r":"99","s":[{"value":["Gravida"]}]},{"value":["."]},{"r":"100","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"102","s":[{"r":"101","s":[{"value":["Gravida"]}]},{"value":["."]},{"r":"102","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"108","s":[{"r":"107","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"106","s":[{"r":"104","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"106","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"105","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"111","s":[{"r":"110","s":[{"r":"109","s":[{"value":["Gravida"]}]},{"value":["."]},{"r":"110","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"118","s":[{"value":["sort by "]},{"r":"117","s":[{"r":"116","s":[{"r":"113","s":[{"value":["Global"]}]},{"value":["."]},{"r":"116","s":[{"value":["\"EarliestOf\"","("]},{"r":"114","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"115","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"121","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"122","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"123","locator":"123:3-127:21","strict":false,"type":"As","operand":{"localId":"121","locator":"123:3-127:10","path":"result","type":"Property","source":{"localId":"120","locator":"123:3-127:3","type":"Last","source":{"localId":"119","locator":"123:8-126:67","type":"Query","source":[{"localId":"97","locator":"123:8-123:59","alias":"Gravida","expression":{"localId":"96","locator":"123:8-123:51","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"123:34-123:50","name":"[#] Pregnancies","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"112","locator":"124:7-125:38","type":"And","operand":[{"localId":"108","locator":"124:13-124:148","type":"And","operand":[{"locator":"124:83-124:98","type":"In","operand":[{"localId":"103","locator":"124:13-124:81","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"100","locator":"124:33-124:56","path":"relevantDatetime","scope":"Gravida","type":"Property"},{"localId":"102","locator":"124:59-124:80","path":"relevantPeriod","scope":"Gravida","type":"Property"}]},{"locator":"124:83-124:98","lowClosed":true,"highClosed":false,"type":"Interval","low":{"locator":"124:118-124:148","type":"Subtract","operand":[{"localId":"106","locator":"124:107-124:148","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"105","locator":"124:139-124:147","name":"Encounter","type":"OperandRef"}]},{"localId":"107","locator":"124:83-124:90","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"106","locator":"124:107-124:148","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"105","locator":"124:139-124:147","name":"Encounter","type":"OperandRef"}]}}]},{"locator":"124:83-124:98","type":"Not","operand":{"locator":"124:83-124:98","type":"IsNull","operand":{"localId":"106","locator":"124:107-124:148","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"105","locator":"124:139-124:147","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"111","locator":"125:13-125:38","type":"Not","operand":{"locator":"125:13-125:38","type":"IsNull","operand":{"localId":"110","locator":"125:13-125:26","path":"result","scope":"Gravida","type":"Property"}}}]},"sort":{"localId":"118","locator":"126:7-126:67","by":[{"localId":"117","locator":"126:15-126:67","direction":"asc","type":"ByExpression","expression":{"localId":"116","locator":"126:15-126:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"114","locator":"126:35-126:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"115","locator":"126:53-126:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"122","locator":"127:15-127:21","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"95","locator":"122:41-122:62","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"158","locator":"143:1-148:21","name":"LastParity","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"158","s":[{"value":["","define function ","\"LastParity\"","(","Encounter"," "]},{"r":"129","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"157","s":[{"r":"157","s":[{"r":"155","s":[{"r":"154","s":[{"value":["Last","("]},{"r":"153","s":[{"s":[{"r":"131","s":[{"r":"130","s":[{"r":"130","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Parity\""]}]},{"value":["]"]}]}]},{"value":[" ","Parity"]}]}]},{"value":["\n      "]},{"r":"146","s":[{"value":["where "]},{"r":"146","s":[{"r":"142","s":[{"r":"137","s":[{"r":"132","s":[{"value":["Global"]}]},{"value":["."]},{"r":"137","s":[{"value":["\"EarliestOf\"","("]},{"r":"134","s":[{"r":"133","s":[{"value":["Parity"]}]},{"value":["."]},{"r":"134","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"136","s":[{"r":"135","s":[{"value":["Parity"]}]},{"value":["."]},{"r":"136","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"142","s":[{"r":"141","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"140","s":[{"r":"138","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"140","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"139","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"145","s":[{"r":"144","s":[{"r":"143","s":[{"value":["Parity"]}]},{"value":["."]},{"r":"144","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"152","s":[{"value":["sort by "]},{"r":"151","s":[{"r":"150","s":[{"r":"147","s":[{"value":["Global"]}]},{"value":["."]},{"r":"150","s":[{"value":["\"EarliestOf\"","("]},{"r":"148","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"149","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"155","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"156","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"157","locator":"144:3-148:21","strict":false,"type":"As","operand":{"localId":"155","locator":"144:3-148:10","path":"result","type":"Property","source":{"localId":"154","locator":"144:3-148:3","type":"Last","source":{"localId":"153","locator":"144:8-147:67","type":"Query","source":[{"localId":"131","locator":"144:8-144:53","alias":"Parity","expression":{"localId":"130","locator":"144:8-144:46","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"144:34-144:45","name":"[#] Parity","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"146","locator":"145:7-146:37","type":"And","operand":[{"localId":"142","locator":"145:13-145:146","type":"And","operand":[{"locator":"145:81-145:96","type":"In","operand":[{"localId":"137","locator":"145:13-145:79","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"134","locator":"145:33-145:55","path":"relevantDatetime","scope":"Parity","type":"Property"},{"localId":"136","locator":"145:58-145:78","path":"relevantPeriod","scope":"Parity","type":"Property"}]},{"locator":"145:81-145:96","lowClosed":true,"highClosed":false,"type":"Interval","low":{"locator":"145:116-145:146","type":"Subtract","operand":[{"localId":"140","locator":"145:105-145:146","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"139","locator":"145:137-145:145","name":"Encounter","type":"OperandRef"}]},{"localId":"141","locator":"145:81-145:88","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"140","locator":"145:105-145:146","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"139","locator":"145:137-145:145","name":"Encounter","type":"OperandRef"}]}}]},{"locator":"145:81-145:96","type":"Not","operand":{"locator":"145:81-145:96","type":"IsNull","operand":{"localId":"140","locator":"145:105-145:146","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"139","locator":"145:137-145:145","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"145","locator":"146:13-146:37","type":"Not","operand":{"locator":"146:13-146:37","type":"IsNull","operand":{"localId":"144","locator":"146:13-146:25","path":"result","scope":"Parity","type":"Property"}}}]},"sort":{"localId":"152","locator":"147:7-147:67","by":[{"localId":"151","locator":"147:15-147:67","direction":"asc","type":"ByExpression","expression":{"localId":"150","locator":"147:15-147:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"148","locator":"147:35-147:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"149","locator":"147:53-147:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"156","locator":"148:15-148:21","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"129","locator":"143:40-143:61","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"193","locator":"129:1-134:21","name":"LastHistoryPretermBirth","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"193","s":[{"value":["","define function ","\"LastHistoryPretermBirth\"","(","Encounter"," "]},{"r":"164","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"192","s":[{"r":"192","s":[{"r":"190","s":[{"r":"189","s":[{"value":["Last","("]},{"r":"188","s":[{"s":[{"r":"166","s":[{"r":"165","s":[{"r":"165","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Births.preterm\""]}]},{"value":["]"]}]}]},{"value":[" ","PretermBirth"]}]}]},{"value":["\n      "]},{"r":"181","s":[{"value":["where "]},{"r":"181","s":[{"r":"177","s":[{"r":"172","s":[{"r":"167","s":[{"value":["Global"]}]},{"value":["."]},{"r":"172","s":[{"value":["\"EarliestOf\"","("]},{"r":"169","s":[{"r":"168","s":[{"value":["PretermBirth"]}]},{"value":["."]},{"r":"169","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"171","s":[{"r":"170","s":[{"value":["PretermBirth"]}]},{"value":["."]},{"r":"171","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"177","s":[{"r":"176","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"175","s":[{"r":"173","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"175","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"174","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"180","s":[{"r":"179","s":[{"r":"178","s":[{"value":["PretermBirth"]}]},{"value":["."]},{"r":"179","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"187","s":[{"value":["sort by "]},{"r":"186","s":[{"r":"185","s":[{"r":"182","s":[{"value":["Global"]}]},{"value":["."]},{"r":"185","s":[{"value":["\"EarliestOf\"","("]},{"r":"183","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"184","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"190","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"191","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"192","locator":"130:3-134:21","strict":false,"type":"As","operand":{"localId":"190","locator":"130:3-134:10","path":"result","type":"Property","source":{"localId":"189","locator":"130:3-134:3","type":"Last","source":{"localId":"188","locator":"130:8-133:67","type":"Query","source":[{"localId":"166","locator":"130:8-130:67","alias":"PretermBirth","expression":{"localId":"165","locator":"130:8-130:54","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"130:34-130:53","name":"[#] Births.preterm","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"181","locator":"131:7-132:43","type":"And","operand":[{"localId":"177","locator":"131:13-131:158","type":"And","operand":[{"locator":"131:93-131:108","type":"In","operand":[{"localId":"172","locator":"131:13-131:91","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"169","locator":"131:33-131:61","path":"relevantDatetime","scope":"PretermBirth","type":"Property"},{"localId":"171","locator":"131:64-131:90","path":"relevantPeriod","scope":"PretermBirth","type":"Property"}]},{"locator":"131:93-131:108","lowClosed":true,"highClosed":false,"type":"Interval","low":{"locator":"131:128-131:158","type":"Subtract","operand":[{"localId":"175","locator":"131:117-131:158","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"174","locator":"131:149-131:157","name":"Encounter","type":"OperandRef"}]},{"localId":"176","locator":"131:93-131:100","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"175","locator":"131:117-131:158","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"174","locator":"131:149-131:157","name":"Encounter","type":"OperandRef"}]}}]},{"locator":"131:93-131:108","type":"Not","operand":{"locator":"131:93-131:108","type":"IsNull","operand":{"localId":"175","locator":"131:117-131:158","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"174","locator":"131:149-131:157","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"180","locator":"132:13-132:43","type":"Not","operand":{"locator":"132:13-132:43","type":"IsNull","operand":{"localId":"179","locator":"132:13-132:31","path":"result","scope":"PretermBirth","type":"Property"}}}]},"sort":{"localId":"187","locator":"133:7-133:67","by":[{"localId":"186","locator":"133:15-133:67","direction":"asc","type":"ByExpression","expression":{"localId":"185","locator":"133:15-133:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"183","locator":"133:35-133:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"184","locator":"133:53-133:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"191","locator":"134:15-134:21","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"164","locator":"129:53-129:74","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"227","locator":"136:1-141:21","name":"LastHistoryTermBirth","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"227","s":[{"value":["","define function ","\"LastHistoryTermBirth\"","(","Encounter"," "]},{"r":"198","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"226","s":[{"r":"226","s":[{"r":"224","s":[{"r":"223","s":[{"value":["Last","("]},{"r":"222","s":[{"s":[{"r":"200","s":[{"r":"199","s":[{"r":"199","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Births.term\""]}]},{"value":["]"]}]}]},{"value":[" ","TermBirth"]}]}]},{"value":["\n      "]},{"r":"215","s":[{"value":["where "]},{"r":"215","s":[{"r":"211","s":[{"r":"206","s":[{"r":"201","s":[{"value":["Global"]}]},{"value":["."]},{"r":"206","s":[{"value":["\"EarliestOf\"","("]},{"r":"203","s":[{"r":"202","s":[{"value":["TermBirth"]}]},{"value":["."]},{"r":"203","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"205","s":[{"r":"204","s":[{"value":["TermBirth"]}]},{"value":["."]},{"r":"205","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"211","s":[{"r":"210","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"209","s":[{"r":"207","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"209","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"208","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"214","s":[{"r":"213","s":[{"r":"212","s":[{"value":["TermBirth"]}]},{"value":["."]},{"r":"213","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"221","s":[{"value":["sort by "]},{"r":"220","s":[{"r":"219","s":[{"r":"216","s":[{"value":["Global"]}]},{"value":["."]},{"r":"219","s":[{"value":["\"EarliestOf\"","("]},{"r":"217","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"218","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"224","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"225","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"226","locator":"137:3-141:21","strict":false,"type":"As","operand":{"localId":"224","locator":"137:3-141:10","path":"result","type":"Property","source":{"localId":"223","locator":"137:3-141:3","type":"Last","source":{"localId":"222","locator":"137:8-140:67","type":"Query","source":[{"localId":"200","locator":"137:8-137:61","alias":"TermBirth","expression":{"localId":"199","locator":"137:8-137:51","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"137:34-137:50","name":"[#] Births.term","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"215","locator":"138:7-139:40","type":"And","operand":[{"localId":"211","locator":"138:13-138:152","type":"And","operand":[{"locator":"138:87-138:102","type":"In","operand":[{"localId":"206","locator":"138:13-138:85","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"203","locator":"138:33-138:58","path":"relevantDatetime","scope":"TermBirth","type":"Property"},{"localId":"205","locator":"138:61-138:84","path":"relevantPeriod","scope":"TermBirth","type":"Property"}]},{"locator":"138:87-138:102","lowClosed":true,"highClosed":false,"type":"Interval","low":{"locator":"138:122-138:152","type":"Subtract","operand":[{"localId":"209","locator":"138:111-138:152","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"208","locator":"138:143-138:151","name":"Encounter","type":"OperandRef"}]},{"localId":"210","locator":"138:87-138:94","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"209","locator":"138:111-138:152","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"208","locator":"138:143-138:151","name":"Encounter","type":"OperandRef"}]}}]},{"locator":"138:87-138:102","type":"Not","operand":{"locator":"138:87-138:102","type":"IsNull","operand":{"localId":"209","locator":"138:111-138:152","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"208","locator":"138:143-138:151","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"214","locator":"139:13-139:40","type":"Not","operand":{"locator":"139:13-139:40","type":"IsNull","operand":{"localId":"213","locator":"139:13-139:28","path":"result","scope":"TermBirth","type":"Property"}}}]},"sort":{"localId":"221","locator":"140:7-140:67","by":[{"localId":"220","locator":"140:15-140:67","direction":"asc","type":"ByExpression","expression":{"localId":"219","locator":"140:15-140:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"217","locator":"140:35-140:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"218","locator":"140:53-140:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"225","locator":"141:15-141:21","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"198","locator":"136:50-136:71","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"234","locator":"101:1-109:5","name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"234","s":[{"value":["","define ","\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\"",":\n  "]},{"r":"233","s":[{"s":[{"r":"93","s":[{"r":"92","s":[{"value":["( "]},{"r":"92","s":[{"r":"78","s":[{"value":["\"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\""]}]},{"value":["\n    intersect "]},{"r":"91","s":[{"value":["\"Encounter with Singleton Delivery\""]}]}]},{"value":[" )"]}]},{"value":[" ","SingletonEncounterGE37Weeks"]}]}]},{"value":["\n    "]},{"r":"232","s":[{"value":["where "]},{"r":"232","s":[{"value":["( "]},{"r":"232","s":[{"r":"162","s":[{"r":"127","s":[{"value":["( "]},{"r":"127","s":[{"r":"125","s":[{"value":["\"LastGravida\"","("]},{"r":"94","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"126","value":[" ","="," ","1"]}]},{"value":[" )"]}]},{"value":["\n        or "]},{"r":"161","s":[{"value":["( "]},{"r":"161","s":[{"r":"159","s":[{"value":["\"LastParity\"","("]},{"r":"128","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"160","value":[" ","="," ","0"]}]},{"value":[" )"]}]}]},{"value":["\n        or "]},{"r":"231","s":[{"value":["( "]},{"r":"231","s":[{"r":"196","s":[{"value":["( "]},{"r":"196","s":[{"r":"194","s":[{"value":["\"LastHistoryPretermBirth\"","("]},{"r":"163","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"195","value":[" ","="," ","0"]}]},{"value":[" )"]}]},{"value":["\n            and "]},{"r":"230","s":[{"value":["( "]},{"r":"230","s":[{"r":"228","s":[{"value":["\"LastHistoryTermBirth\"","("]},{"r":"197","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"229","value":[" ","="," ","0"]}]},{"value":[" )"]}]}]},{"value":["\n        )"]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"233","locator":"102:3-109:5","type":"Query","source":[{"localId":"93","locator":"102:3-103:79","alias":"SingletonEncounterGE37Weeks","expression":{"localId":"92","locator":"102:3-103:51","type":"Intersect","operand":[{"localId":"78","locator":"102:5-102:79","name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks","type":"ExpressionRef"},{"localId":"91","locator":"103:15-103:49","name":"Encounter with Singleton Delivery","type":"ExpressionRef"}]}}],"relationship":[],"where":{"localId":"232","locator":"104:5-109:5","type":"Or","operand":[{"localId":"162","locator":"104:13-105:60","type":"Or","operand":[{"localId":"127","locator":"104:13-104:62","type":"Equal","operand":[{"localId":"125","locator":"104:15-104:56","name":"LastGravida","type":"FunctionRef","operand":[{"localId":"94","locator":"104:29-104:55","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"126","locator":"104:60","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1","type":"Literal"}]},{"localId":"161","locator":"105:12-105:60","type":"Equal","operand":[{"localId":"159","locator":"105:14-105:54","name":"LastParity","type":"FunctionRef","operand":[{"localId":"128","locator":"105:27-105:53","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"160","locator":"105:58","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"}]}]},{"localId":"231","locator":"106:12-108:9","type":"And","operand":[{"localId":"196","locator":"106:14-106:75","type":"Equal","operand":[{"localId":"194","locator":"106:16-106:69","name":"LastHistoryPretermBirth","type":"FunctionRef","operand":[{"localId":"163","locator":"106:42-106:68","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"195","locator":"106:73","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"}]},{"localId":"230","locator":"107:17-107:75","type":"Equal","operand":[{"localId":"228","locator":"107:19-107:69","name":"LastHistoryTermBirth","type":"FunctionRef","operand":[{"localId":"197","locator":"107:42-107:68","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"229","locator":"107:73","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"}]}]}]}}},{"localId":"236","locator":"52:1-53:89","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"236","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"235","s":[{"value":["\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]}}],"expression":{"localId":"235","locator":"53:3-53:89","name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef"}},{"localId":"239","locator":"61:1-62:48","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"239","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"238","s":[{"r":"237","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"238","s":[{"value":["\"Delivery Encounter with Age Range\""]}]}]}]}}],"expression":{"localId":"238","locator":"62:3-62:48","name":"Delivery Encounter with Age Range","libraryName":"PCMaternal","type":"ExpressionRef"}},{"localId":"256","locator":"79:1-82:192","name":"Delivery Encounter with Cesarean Birth","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"256","s":[{"value":["","define ","\"Delivery Encounter with Cesarean Birth\"",":\n  "]},{"r":"255","s":[{"s":[{"r":"241","s":[{"r":"240","s":[{"s":[{"value":["\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]},{"value":[" ","ThirtysevenWeeksPlusEncounter"]}]}]},{"value":["\n    "]},{"r":"254","s":[{"value":["with "]},{"r":"243","s":[{"r":"242","s":[{"r":"242","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Cesarean Birth\""]}]},{"value":["]"]}]}]},{"value":[" ","CSection"]}]},{"value":["\n      such that "]},{"r":"253","s":[{"r":"249","s":[{"r":"244","s":[{"value":["Global"]}]},{"value":["."]},{"r":"249","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"246","s":[{"r":"245","s":[{"value":["CSection"]}]},{"value":["."]},{"r":"246","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"248","s":[{"r":"247","s":[{"value":["CSection"]}]},{"value":["."]},{"r":"248","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"253","value":[" ","during"," "]},{"r":"252","s":[{"r":"250","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"252","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\""," ( "]},{"r":"251","s":[{"value":["ThirtysevenWeeksPlusEncounter"]}]},{"value":[" )"]}]}]}]}]}]}]}}],"expression":{"localId":"255","locator":"80:3-82:192","type":"Query","source":[{"localId":"241","locator":"80:3-80:119","alias":"ThirtysevenWeeksPlusEncounter","expression":{"localId":"240","locator":"80:3-80:89","name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef"}}],"relationship":[{"localId":"254","locator":"81:5-82:192","alias":"CSection","type":"With","expression":{"localId":"242","locator":"81:10-81:51","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"81:35-81:50","name":"Cesarean Birth","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"253","locator":"82:17-82:192","type":"IncludedIn","operand":[{"localId":"249","locator":"82:17-82:97","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"246","locator":"82:46-82:70","path":"relevantDatetime","scope":"CSection","type":"Property"},{"localId":"248","locator":"82:73-82:95","path":"relevantPeriod","scope":"CSection","type":"Property"}]},{"localId":"252","locator":"82:106-82:192","name":"HospitalizationWithEDOBTriageObservation","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"251","locator":"82:162-82:190","name":"ThirtysevenWeeksPlusEncounter","type":"AliasRef"}]}]}}]}},{"localId":"258","locator":"64:1-65:42","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"258","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"257","s":[{"value":["\"Delivery Encounter with Cesarean Birth\""]}]}]}}],"expression":{"localId":"257","locator":"65:3-65:42","name":"Delivery Encounter with Cesarean Birth","type":"ExpressionRef"}},{"localId":"260","locator":"67:1-68:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"260","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"259","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"259","locator":"68:3-68:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"68:40-68:50","name":"Ethnicity","preserve":true,"type":"ValueSetRef"}}},{"localId":"262","locator":"70:1-71:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"262","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"261","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"261","locator":"71:3-71:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"71:36-71:47","name":"Payer Type","preserve":true,"type":"ValueSetRef"}}},{"localId":"264","locator":"73:1-74:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"264","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"263","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"263","locator":"74:3-74:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"74:35-74:40","name":"Race","preserve":true,"type":"ValueSetRef"}}},{"localId":"266","locator":"76:1-77:58","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"266","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"265","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"265","locator":"77:3-77:58","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"77:34-77:57","name":"ONC Administrative Sex","preserve":true,"type":"ValueSetRef"}}},{"localId":"310","locator":"111:1-120:7","name":"Encounter with Abnormal Presentation","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"310","s":[{"value":["","define ","\"Encounter with Abnormal Presentation\"",":\n  "]},{"r":"309","s":[{"s":[{"r":"268","s":[{"r":"267","s":[{"s":[{"value":["\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]},{"value":[" ","ThirtysevenWeeksPlusEncounter"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"289","s":[{"value":["LastAbnormalPresentation",": "]},{"r":"288","s":[{"value":["Last","("]},{"r":"287","s":[{"s":[{"r":"270","s":[{"r":"269","s":[{"r":"269","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Abnormal Presentation\""]}]},{"value":["]"]}]}]},{"value":[" ","AbnormalPresentation"]}]}]},{"value":["\n        "]},{"r":"280","s":[{"value":["where "]},{"r":"280","s":[{"r":"276","s":[{"r":"271","s":[{"value":["Global"]}]},{"value":["."]},{"r":"276","s":[{"value":["\"EarliestOf\"","("]},{"r":"273","s":[{"r":"272","s":[{"value":["AbnormalPresentation"]}]},{"value":["."]},{"r":"273","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"275","s":[{"r":"274","s":[{"value":["AbnormalPresentation"]}]},{"value":["."]},{"r":"275","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"280","value":[" ","before or on"," "]},{"r":"279","s":[{"r":"277","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"279","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"278","s":[{"value":["ThirtysevenWeeksPlusEncounter"]}]},{"value":[")"]}]}]}]}]},{"value":["\n        "]},{"r":"286","s":[{"value":["sort by "]},{"r":"285","s":[{"r":"284","s":[{"r":"281","s":[{"value":["Global"]}]},{"value":["."]},{"r":"284","s":[{"value":["\"EarliestOf\"","("]},{"r":"282","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"283","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    "]},{"r":"308","s":[{"value":["where "]},{"r":"308","s":[{"r":"299","s":[{"r":"295","s":[{"r":"290","s":[{"value":["Global"]}]},{"value":["."]},{"r":"295","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"292","s":[{"r":"291","s":[{"value":["LastAbnormalPresentation"]}]},{"value":["."]},{"r":"292","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"294","s":[{"r":"293","s":[{"value":["LastAbnormalPresentation"]}]},{"value":["."]},{"r":"294","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"299","value":[" ","during"," "]},{"r":"298","s":[{"r":"296","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"298","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\""," ( "]},{"r":"297","s":[{"value":["ThirtysevenWeeksPlusEncounter"]}]},{"value":[" )"]}]}]}]},{"value":["\n      or "]},{"r":"307","s":[{"value":["exists "]},{"r":"306","s":[{"value":["( "]},{"r":"306","s":[{"s":[{"r":"301","s":[{"r":"300","s":[{"s":[{"value":["ThirtysevenWeeksPlusEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n          "]},{"r":"305","s":[{"value":["where "]},{"r":"305","s":[{"r":"303","s":[{"r":"302","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"303","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"304","s":[{"value":["\"Abnormal Presentation\""]}]}]}]}]},{"value":["\n      )"]}]}]}]}]}]}]}}],"expression":{"localId":"309","locator":"112:3-120:7","type":"Query","source":[{"localId":"268","locator":"112:3-112:119","alias":"ThirtysevenWeeksPlusEncounter","expression":{"localId":"267","locator":"112:3-112:89","name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef"}}],"let":[{"localId":"289","locator":"113:9-116:5","identifier":"LastAbnormalPresentation","expression":{"localId":"288","locator":"113:35-116:5","type":"Last","source":{"localId":"287","locator":"113:40-115:69","type":"Query","source":[{"localId":"270","locator":"113:40-113:110","alias":"AbnormalPresentation","expression":{"localId":"269","locator":"113:40-113:89","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"113:66-113:88","name":"Abnormal Presentation","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"280","locator":"114:9-114:185","type":"SameOrBefore","operand":[{"localId":"276","locator":"114:15-114:109","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"273","locator":"114:35-114:71","path":"relevantDatetime","scope":"AbnormalPresentation","type":"Property"},{"localId":"275","locator":"114:74-114:108","path":"relevantPeriod","scope":"AbnormalPresentation","type":"Property"}]},{"localId":"279","locator":"114:124-114:185","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"278","locator":"114:156-114:184","name":"ThirtysevenWeeksPlusEncounter","type":"AliasRef"}]}]},"sort":{"localId":"286","locator":"115:9-115:69","by":[{"localId":"285","locator":"115:17-115:69","direction":"asc","type":"ByExpression","expression":{"localId":"284","locator":"115:17-115:69","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"282","locator":"115:37-115:52","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"283","locator":"115:55-115:68","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}}],"relationship":[],"where":{"localId":"308","locator":"117:5-120:7","type":"Or","operand":[{"localId":"299","locator":"117:11-117:211","type":"In","operand":[{"localId":"295","locator":"117:11-117:116","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"292","locator":"117:33-117:73","path":"relevantDatetime","type":"Property","source":{"localId":"291","locator":"117:33-117:56","name":"LastAbnormalPresentation","type":"QueryLetRef"}},{"localId":"294","locator":"117:76-117:114","path":"relevantPeriod","type":"Property","source":{"localId":"293","locator":"117:76-117:99","name":"LastAbnormalPresentation","type":"QueryLetRef"}}]},{"localId":"298","locator":"117:125-117:211","name":"HospitalizationWithEDOBTriageObservation","libraryName":"PCMaternal","type":"FunctionRef","operand":[{"localId":"297","locator":"117:181-117:209","name":"ThirtysevenWeeksPlusEncounter","type":"AliasRef"}]}]},{"localId":"307","locator":"118:10-120:7","type":"Exists","operand":{"localId":"306","locator":"118:17-120:7","type":"Query","source":[{"localId":"301","locator":"118:19-118:76","alias":"EncounterDiagnoses","expression":{"localId":"300","locator":"118:19-118:57","path":"diagnoses","scope":"ThirtysevenWeeksPlusEncounter","type":"Property"}}],"relationship":[],"where":{"localId":"305","locator":"119:11-119:66","type":"InValueSet","code":{"localId":"303","locator":"119:17-119:39","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"304","locator":"119:44-119:66","name":"Abnormal Presentation","preserve":true}}}}]}}},{"localId":"328","locator":"94:1-99:5","name":"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"328","s":[{"value":["","define ","\"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\"",":\n  "]},{"r":"327","s":[{"s":[{"r":"313","s":[{"r":"312","s":[{"s":[{"value":["\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]},{"value":[" ","ThirtysevenWeeksPlusEncounter"]}]}]},{"value":["\n    "]},{"r":"326","s":[{"value":["where "]},{"r":"326","s":[{"value":["exists "]},{"r":"325","s":[{"value":["( "]},{"r":"325","s":[{"s":[{"r":"315","s":[{"r":"314","s":[{"s":[{"value":["ThirtysevenWeeksPlusEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n        "]},{"r":"324","s":[{"value":["where "]},{"r":"324","s":[{"r":"319","s":[{"r":"317","s":[{"r":"316","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"317","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"318","s":[{"value":["\"Placenta Accreta Spectrum Previa or Vasa Previa\""]}]}]},{"value":["\n          or "]},{"r":"323","s":[{"r":"321","s":[{"r":"320","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"321","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"322","s":[{"value":["\"Genital Herpes\""]}]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}]}}],"expression":{"localId":"327","locator":"95:3-99:5","type":"Query","source":[{"localId":"313","locator":"95:3-95:119","alias":"ThirtysevenWeeksPlusEncounter","expression":{"localId":"312","locator":"95:3-95:89","name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"326","locator":"96:5-99:5","type":"Exists","operand":{"localId":"325","locator":"96:18-99:5","type":"Query","source":[{"localId":"315","locator":"96:20-96:77","alias":"EncounterDiagnoses","expression":{"localId":"314","locator":"96:20-96:58","path":"diagnoses","scope":"ThirtysevenWeeksPlusEncounter","type":"Property"}}],"relationship":[],"where":{"localId":"324","locator":"97:9-98:56","type":"Or","operand":[{"localId":"319","locator":"97:15-97:90","type":"InValueSet","code":{"localId":"317","locator":"97:15-97:37","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"318","locator":"97:42-97:90","name":"Placenta Accreta Spectrum Previa or Vasa Previa","preserve":true}},{"localId":"323","locator":"98:14-98:56","type":"InValueSet","code":{"localId":"321","locator":"98:14-98:36","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"322","locator":"98:41-98:56","name":"Genital Herpes","preserve":true}}]}}}}},{"localId":"331","locator":"87:1-89:100","name":"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"331","s":[{"value":["","define ","\"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\"",":\n  "]},{"r":"330","s":[{"r":"311","s":[{"value":["\"Encounter with Abnormal Presentation\""]}]},{"value":["\n    union "]},{"r":"329","s":[{"value":["\"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\""]}]}]}]}}],"expression":{"localId":"330","locator":"88:3-89:100","type":"Union","operand":[{"localId":"311","locator":"88:3-88:40","name":"Encounter with Abnormal Presentation","type":"ExpressionRef"},{"localId":"329","locator":"89:11-89:100","name":"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum","type":"ExpressionRef"}]}},{"localId":"333","locator":"84:1-85:124","name":"Denominator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"333","s":[{"value":["","define ","\"Denominator Exclusions\"",":\n  "]},{"r":"332","s":[{"value":["\"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\""]}]}]}}],"expression":{"localId":"332","locator":"85:3-85:124","name":"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum","type":"ExpressionRef"}},{"localId":"336","locator":"91:1-92:50","name":"SDE Variable Calculated Gestational Age","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"336","s":[{"value":["","define ","\"SDE Variable Calculated Gestational Age\"",":\n  "]},{"r":"335","s":[{"r":"334","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"335","s":[{"value":["\"Variable Calculated Gestational Age\""]}]}]}]}}],"expression":{"localId":"335","locator":"92:3-92:50","name":"Variable Calculated Gestational Age","libraryName":"PCMaternal","type":"ExpressionRef"}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter with Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"23"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"24"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"25"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"26"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"27"}],"node_type":"FunctionRef","ref_id":"27"},{"children":[{"text":" \u003e= 37"}],"node_type":"Literal","ref_id":"28"}],"ref_id":"29"}],"ref_id":"29"}],"node_type":"Query","ref_id":"30"}],"ref_id":"31"}],"define_name":"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter with Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"32"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"33"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"34"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"35"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"36"}],"node_type":"FunctionRef","ref_id":"36"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"37"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"38"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastEstimatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"39"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"40"}],"node_type":"FunctionRef","ref_id":"40"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"37 weeks"}]}],"node_type":"Quantity","ref_id":"41"}],"node_type":"GreaterOrEqual","ref_id":"42"}],"ref_id":"43"}],"ref_id":"43"}],"node_type":"Query","ref_id":"44"}],"ref_id":"45"}],"define_name":"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter with Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"49"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"50"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"CGA: "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"51"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"52"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"53"}],"node_type":"FunctionRef","ref_id":"53"}],"ref_id":"54"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EGA: "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"55"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastEstimatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"56"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"57"}],"node_type":"FunctionRef","ref_id":"57"}],"ref_id":"58"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"CGA"}]}],"node_type":"QueryLetRef","ref_id":"59"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"60"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"EGA"}]}],"node_type":"QueryLetRef","ref_id":"61"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"62"}],"node_type":"And","ref_id":"63"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"DeliveryEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"64"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"65"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"66"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"67"}],"ref_id":"67"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"37 to 42 Plus Weeks Gestation\""}]}],"ref_id":"68"}],"ref_id":"69"}],"ref_id":"69"}],"node_type":"Query","ref_id":"70"},{"children":[{"text":"\n      )"}]}],"node_type":"Query","ref_id":"70"}],"node_type":"Exists","ref_id":"71"}],"ref_id":"72"}],"ref_id":"72"}],"node_type":"Query","ref_id":"73"}],"ref_id":"74"}],"define_name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks\""}]}],"node_type":"ExpressionRef","ref_id":"46"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks\""}]}],"node_type":"ExpressionRef","ref_id":"47"}],"node_type":"Union","ref_id":"48"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding\""}]}],"node_type":"ExpressionRef","ref_id":"75"}],"node_type":"Union","ref_id":"76"}],"ref_id":"77"}],"define_name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Singleton Delivery\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter with Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"79"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"80"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"DeliveryEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"81"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"82"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"83"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"84"}],"ref_id":"84"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Delivery of Singleton\""}]}],"ref_id":"85"}],"ref_id":"86"}],"ref_id":"86"}],"node_type":"Query","ref_id":"87"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"87"}],"ref_id":"88"}],"ref_id":"88"}],"node_type":"Query","ref_id":"89"}],"ref_id":"90"}],"define_name":"Encounter with Singleton Delivery"},{"children":[{"children":[{"children":[{"text":"define function \"LastGravida\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"95"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Pregnancies\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"96"}],"node_type":"Retrieve","ref_id":"96"},{"children":[{"text":" Gravida"}]}],"ref_id":"97"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"98"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"Gravida"}]}],"ref_id":"99"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"100"}],"node_type":"Property","ref_id":"100"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Gravida"}]}],"ref_id":"101"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"102"}],"node_type":"Property","ref_id":"102"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"103"}],"node_type":"FunctionRef","ref_id":"103"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"107"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"108"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"104"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"105"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"106"}],"node_type":"FunctionRef","ref_id":"106"}],"node_type":"And","ref_id":"108"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Gravida"}]}],"ref_id":"109"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"110"}],"node_type":"Property","ref_id":"110"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"111"}],"ref_id":"112"}],"ref_id":"112"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"113"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"114"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"115"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"116"}],"node_type":"FunctionRef","ref_id":"116"}],"ref_id":"117"}],"ref_id":"118"}],"ref_id":"119"},{"children":[{"text":"\n  )"}]}],"ref_id":"120"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"121"}],"node_type":"Property","ref_id":"121"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"122"}],"node_type":"As","ref_id":"123"}],"node_type":"As","ref_id":"123"}],"ref_id":"124"}],"define_name":"LastGravida"},{"children":[{"children":[{"children":[{"text":"define function \"LastParity\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"129"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Parity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"130"}],"node_type":"Retrieve","ref_id":"130"},{"children":[{"text":" Parity"}]}],"ref_id":"131"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"132"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"Parity"}]}],"ref_id":"133"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"134"}],"node_type":"Property","ref_id":"134"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Parity"}]}],"ref_id":"135"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"136"}],"node_type":"Property","ref_id":"136"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"137"}],"node_type":"FunctionRef","ref_id":"137"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"141"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"142"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"138"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"139"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"140"}],"node_type":"FunctionRef","ref_id":"140"}],"node_type":"And","ref_id":"142"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Parity"}]}],"ref_id":"143"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"144"}],"node_type":"Property","ref_id":"144"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"145"}],"ref_id":"146"}],"ref_id":"146"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"147"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"148"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"149"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"150"}],"node_type":"FunctionRef","ref_id":"150"}],"ref_id":"151"}],"ref_id":"152"}],"ref_id":"153"},{"children":[{"text":"\n  )"}]}],"ref_id":"154"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"155"}],"node_type":"Property","ref_id":"155"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"156"}],"node_type":"As","ref_id":"157"}],"node_type":"As","ref_id":"157"}],"ref_id":"158"}],"define_name":"LastParity"},{"children":[{"children":[{"children":[{"text":"define function \"LastHistoryPretermBirth\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"164"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Births.preterm\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"165"}],"node_type":"Retrieve","ref_id":"165"},{"children":[{"text":" PretermBirth"}]}],"ref_id":"166"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"167"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"PretermBirth"}]}],"ref_id":"168"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"169"}],"node_type":"Property","ref_id":"169"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"PretermBirth"}]}],"ref_id":"170"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"171"}],"node_type":"Property","ref_id":"171"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"172"}],"node_type":"FunctionRef","ref_id":"172"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"176"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"177"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"173"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"174"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"175"}],"node_type":"FunctionRef","ref_id":"175"}],"node_type":"And","ref_id":"177"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PretermBirth"}]}],"ref_id":"178"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"179"}],"node_type":"Property","ref_id":"179"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"180"}],"ref_id":"181"}],"ref_id":"181"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"182"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"183"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"184"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"185"}],"node_type":"FunctionRef","ref_id":"185"}],"ref_id":"186"}],"ref_id":"187"}],"ref_id":"188"},{"children":[{"text":"\n  )"}]}],"ref_id":"189"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"190"}],"node_type":"Property","ref_id":"190"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"191"}],"node_type":"As","ref_id":"192"}],"node_type":"As","ref_id":"192"}],"ref_id":"193"}],"define_name":"LastHistoryPretermBirth"},{"children":[{"children":[{"children":[{"text":"define function \"LastHistoryTermBirth\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"198"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Births.term\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"199"}],"node_type":"Retrieve","ref_id":"199"},{"children":[{"text":" TermBirth"}]}],"ref_id":"200"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"201"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"TermBirth"}]}],"ref_id":"202"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"203"}],"node_type":"Property","ref_id":"203"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TermBirth"}]}],"ref_id":"204"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"205"}],"node_type":"Property","ref_id":"205"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"206"}],"node_type":"FunctionRef","ref_id":"206"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"210"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"211"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"207"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"208"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"209"}],"node_type":"FunctionRef","ref_id":"209"}],"node_type":"And","ref_id":"211"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"TermBirth"}]}],"ref_id":"212"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"213"}],"node_type":"Property","ref_id":"213"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"214"}],"ref_id":"215"}],"ref_id":"215"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"216"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"217"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"218"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"219"}],"node_type":"FunctionRef","ref_id":"219"}],"ref_id":"220"}],"ref_id":"221"}],"ref_id":"222"},{"children":[{"text":"\n  )"}]}],"ref_id":"223"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"224"}],"node_type":"Property","ref_id":"224"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"225"}],"node_type":"As","ref_id":"226"}],"node_type":"As","ref_id":"226"}],"ref_id":"227"}],"define_name":"LastHistoryTermBirth"},{"children":[{"children":[{"children":[{"text":"define \"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks\""}]}],"node_type":"ExpressionRef","ref_id":"78"},{"children":[{"text":"\n    intersect "}]},{"children":[{"children":[{"text":"\"Encounter with Singleton Delivery\""}]}],"node_type":"ExpressionRef","ref_id":"91"}],"node_type":"Intersect","ref_id":"92"},{"children":[{"text":" )"}]}],"node_type":"Intersect","ref_id":"92"},{"children":[{"text":" SingletonEncounterGE37Weeks"}]}],"ref_id":"93"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastGravida\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"94"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"125"},{"children":[{"text":" = 1"}],"node_type":"Literal","ref_id":"126"}],"node_type":"Equal","ref_id":"127"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"127"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastParity\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"128"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"159"},{"children":[{"text":" = 0"}],"node_type":"Literal","ref_id":"160"}],"node_type":"Equal","ref_id":"161"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"161"}],"node_type":"Or","ref_id":"162"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastHistoryPretermBirth\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"163"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"194"},{"children":[{"text":" = 0"}],"node_type":"Literal","ref_id":"195"}],"node_type":"Equal","ref_id":"196"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"196"},{"children":[{"text":"\n            and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastHistoryTermBirth\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"197"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"228"},{"children":[{"text":" = 0"}],"node_type":"Literal","ref_id":"229"}],"node_type":"Equal","ref_id":"230"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"230"}],"node_type":"And","ref_id":"231"},{"children":[{"text":"\n        )"}]}],"node_type":"And","ref_id":"231"}],"ref_id":"232"},{"children":[{"text":"\n    )"}]}],"ref_id":"232"}],"ref_id":"232"}],"node_type":"Query","ref_id":"233"}],"ref_id":"234"}],"define_name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}],"node_type":"ExpressionRef","ref_id":"235"}],"ref_id":"236"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"237"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Delivery Encounter with Age Range\""}]}],"node_type":"ExpressionRef","ref_id":"238"}],"node_type":"ExpressionRef","ref_id":"238"}],"ref_id":"239"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Cesarean Birth\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}]}],"node_type":"ExpressionRef","ref_id":"240"},{"children":[{"text":" ThirtysevenWeeksPlusEncounter"}]}],"ref_id":"241"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Cesarean Birth\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"242"}],"node_type":"Retrieve","ref_id":"242"},{"children":[{"text":" CSection"}]}],"ref_id":"243"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"CSection"}]}],"ref_id":"245"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"246"}],"node_type":"Property","ref_id":"246"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"CSection"}]}],"ref_id":"247"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"248"}],"node_type":"Property","ref_id":"248"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"249"}],"node_type":"FunctionRef","ref_id":"249"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"253"},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"250"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\" ( "}]},{"children":[{"children":[{"text":"ThirtysevenWeeksPlusEncounter"}]}],"node_type":"AliasRef","ref_id":"251"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"252"}],"node_type":"FunctionRef","ref_id":"252"}],"node_type":"IncludedIn","ref_id":"253"}],"ref_id":"254"}],"node_type":"Query","ref_id":"255"}],"ref_id":"256"}],"define_name":"Delivery Encounter with Cesarean Birth"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"text":"\"Delivery Encounter with Cesarean Birth\""}]}],"node_type":"ExpressionRef","ref_id":"257"}],"ref_id":"258"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"259"}],"ref_id":"260"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"261"}],"ref_id":"262"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"263"}],"ref_id":"264"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"265"}],"ref_id":"266"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Abnormal Presentation\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}]}],"node_type":"ExpressionRef","ref_id":"267"},{"children":[{"text":" ThirtysevenWeeksPlusEncounter"}]}],"ref_id":"268"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"LastAbnormalPresentation: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Abnormal Presentation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"269"}],"node_type":"Retrieve","ref_id":"269"},{"children":[{"text":" AbnormalPresentation"}]}],"ref_id":"270"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"271"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"AbnormalPresentation"}]}],"ref_id":"272"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"273"}],"node_type":"Property","ref_id":"273"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"AbnormalPresentation"}]}],"ref_id":"274"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"275"}],"node_type":"Property","ref_id":"275"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"276"}],"node_type":"FunctionRef","ref_id":"276"},{"children":[{"text":" before or on "}],"ref_id":"280"},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"277"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"ThirtysevenWeeksPlusEncounter"}]}],"node_type":"AliasRef","ref_id":"278"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"279"}],"node_type":"FunctionRef","ref_id":"279"}],"ref_id":"280"}],"ref_id":"280"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"281"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"282"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"283"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"284"}],"node_type":"FunctionRef","ref_id":"284"}],"ref_id":"285"}],"ref_id":"286"}],"ref_id":"287"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"288"}],"ref_id":"289"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"290"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"LastAbnormalPresentation"}]}],"ref_id":"291"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"292"}],"node_type":"Property","ref_id":"292"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"LastAbnormalPresentation"}]}],"ref_id":"293"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"294"}],"node_type":"Property","ref_id":"294"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"295"}],"node_type":"FunctionRef","ref_id":"295"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"299"},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\" ( "}]},{"children":[{"children":[{"text":"ThirtysevenWeeksPlusEncounter"}]}],"node_type":"AliasRef","ref_id":"297"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"298"}],"node_type":"FunctionRef","ref_id":"298"}],"node_type":"In","ref_id":"299"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ThirtysevenWeeksPlusEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"300"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"301"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"302"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"303"}],"ref_id":"303"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Abnormal Presentation\""}]}],"ref_id":"304"}],"ref_id":"305"}],"ref_id":"305"}],"node_type":"Query","ref_id":"306"},{"children":[{"text":"\n      )"}]}],"node_type":"Query","ref_id":"306"}],"node_type":"Exists","ref_id":"307"}],"ref_id":"308"}],"ref_id":"308"}],"node_type":"Query","ref_id":"309"}],"ref_id":"310"}],"define_name":"Encounter with Abnormal Presentation"},{"children":[{"children":[{"children":[{"text":"define \"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}]}],"node_type":"ExpressionRef","ref_id":"312"},{"children":[{"text":" ThirtysevenWeeksPlusEncounter"}]}],"ref_id":"313"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ThirtysevenWeeksPlusEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"314"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"315"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"316"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"317"}],"ref_id":"317"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Placenta Accreta Spectrum Previa or Vasa Previa\""}]}],"ref_id":"318"}],"node_type":"InValueSet","ref_id":"319"},{"children":[{"text":"\n          or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"320"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"321"}],"ref_id":"321"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Genital Herpes\""}]}],"ref_id":"322"}],"node_type":"InValueSet","ref_id":"323"}],"ref_id":"324"}],"ref_id":"324"}],"node_type":"Query","ref_id":"325"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"325"}],"ref_id":"326"}],"ref_id":"326"}],"node_type":"Query","ref_id":"327"}],"ref_id":"328"}],"define_name":"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\":\n  "}]},{"children":[{"children":[{"children":[{"text":"\"Encounter with Abnormal Presentation\""}]}],"node_type":"ExpressionRef","ref_id":"311"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\""}]}],"node_type":"ExpressionRef","ref_id":"329"}],"node_type":"Union","ref_id":"330"}],"ref_id":"331"}],"define_name":"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusions\":\n  "}]},{"children":[{"children":[{"text":"\"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum\""}]}],"node_type":"ExpressionRef","ref_id":"332"}],"ref_id":"333"}],"define_name":"Denominator Exclusions"},{"children":[{"children":[{"children":[{"text":"define \"SDE Variable Calculated Gestational Age\":\n  "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"334"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Variable Calculated Gestational Age\""}]}],"node_type":"ExpressionRef","ref_id":"335"}],"node_type":"ExpressionRef","ref_id":"335"}],"ref_id":"336"}],"define_name":"SDE Variable Calculated Gestational Age"}],"identifier":{"id":"CesareanBirth","version":"6.1.000"}},"is_main_library":true,"is_top_level":true,"library_name":"CesareanBirth","library_version":"6.1.000","statement_dependencies":[{"_id":"68923ec9a83e15671c2df856","statement_name":"Patient"},{"_id":"68923ec9a83e15671c2df857","statement_name":"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks","statement_references":[{"_id":"68923ec9a83e15671c2df834","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter with Age Range"},{"_id":"68923ec9a83e15671c2df835","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"}]},{"_id":"68923ec9a83e15671c2df858","statement_name":"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks","statement_references":[{"_id":"68923ec9a83e15671c2df836","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter with Age Range"},{"_id":"68923ec9a83e15671c2df837","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"},{"_id":"68923ec9a83e15671c2df838","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastEstimatedGestationalAge"}]},{"_id":"68923ec9a83e15671c2df859","statement_name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding","statement_references":[{"_id":"68923ec9a83e15671c2df839","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter with Age Range"},{"_id":"68923ec9a83e15671c2df83a","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"},{"_id":"68923ec9a83e15671c2df83b","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastEstimatedGestationalAge"}]},{"_id":"68923ec9a83e15671c2df85a","statement_name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks","statement_references":[{"_id":"68923ec9a83e15671c2df83c","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Delivery Encounter with Calculated Gestational Age Greater than or Equal to 37 Weeks"},{"_id":"68923ec9a83e15671c2df83d","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Delivery Encounter with Estimated Gestational Age Greater than or Equal to 37 Weeks"},{"_id":"68923ec9a83e15671c2df83e","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks Based on Coding"}]},{"_id":"68923ec9a83e15671c2df85b","statement_name":"Encounter with Singleton Delivery","statement_references":[{"_id":"68923ecda83e15671c2dfaca","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter with Age Range"}]},{"_id":"68923ec9a83e15671c2df85c","statement_name":"LastGravida","statement_references":[{"_id":"68923ec9a83e15671c2df83f","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df840","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"68923ec9a83e15671c2df85d","statement_name":"LastParity","statement_references":[{"_id":"68923ec9a83e15671c2df841","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df842","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"68923ec9a83e15671c2df85e","statement_name":"LastHistoryPretermBirth","statement_references":[{"_id":"68923ec9a83e15671c2df843","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df844","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"68923ec9a83e15671c2df85f","statement_name":"LastHistoryTermBirth","statement_references":[{"_id":"68923ec9a83e15671c2df845","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df846","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"68923ec9a83e15671c2df860","statement_name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","statement_references":[{"_id":"68923ec9a83e15671c2df847","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Delivery Encounter with Gestational Age Greater than or Equal to 37 Weeks"},{"_id":"68923ec9a83e15671c2df848","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Encounter with Singleton Delivery"},{"_id":"68923ec9a83e15671c2df849","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"LastGravida"},{"_id":"68923ec9a83e15671c2df84a","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"LastParity"},{"_id":"68923ec9a83e15671c2df84b","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"LastHistoryPretermBirth"},{"_id":"68923ec9a83e15671c2df84c","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"LastHistoryTermBirth"}]},{"_id":"68923ec9a83e15671c2df861","statement_name":"Denominator","statement_references":[{"_id":"68923ecda83e15671c2dfacb","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"}]},{"_id":"68923ec9a83e15671c2df862","statement_name":"Initial Population","statement_references":[{"_id":"68923ecda83e15671c2dfacc","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter with Age Range"}]},{"_id":"68923ec9a83e15671c2df863","statement_name":"Delivery Encounter with Cesarean Birth","statement_references":[{"_id":"68923ec9a83e15671c2df84d","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"},{"_id":"68923ec9a83e15671c2df84e","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"},{"_id":"68923ec9a83e15671c2df84f","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"68923ec9a83e15671c2df864","statement_name":"Numerator","statement_references":[{"_id":"68923ecda83e15671c2dfacd","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Delivery Encounter with Cesarean Birth"}]},{"_id":"68923ec9a83e15671c2df865","statement_name":"SDE Ethnicity"},{"_id":"68923ec9a83e15671c2df866","statement_name":"SDE Payer"},{"_id":"68923ec9a83e15671c2df867","statement_name":"SDE Race"},{"_id":"68923ec9a83e15671c2df868","statement_name":"SDE Sex"},{"_id":"68923ec9a83e15671c2df869","statement_name":"Encounter with Abnormal Presentation","statement_references":[{"_id":"68923ec9a83e15671c2df850","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"},{"_id":"68923ec9a83e15671c2df851","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df852","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"},{"_id":"68923ec9a83e15671c2df853","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"68923ec9a83e15671c2df86a","statement_name":"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum","statement_references":[{"_id":"68923ecda83e15671c2dface","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Singleton Delivery Encounters at 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"}]},{"_id":"68923ec9a83e15671c2df86b","statement_name":"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum","statement_references":[{"_id":"68923ec9a83e15671c2df854","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Encounter with Abnormal Presentation"},{"_id":"68923ec9a83e15671c2df855","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Encounter with Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum"}]},{"_id":"68923ec9a83e15671c2df86c","statement_name":"Denominator Exclusions","statement_references":[{"_id":"68923ecda83e15671c2dfacf","hqmf_id":null,"library_name":"CesareanBirth","statement_name":"Delivery Encounter with Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa or Placenta Accreta Spectrum"}]},{"_id":"68923ec9a83e15671c2df86d","statement_name":"SDE Variable Calculated Gestational Age","statement_references":[{"_id":"68923ecda83e15671c2dfad0","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Variable Calculated Gestational Age"}]}]},{"_id":"68923ec9a83e15671c2df88f","cql":"library MATGlobalCommonFunctionsQDM version '8.0.000'\n\n/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"395","s":[{"value":["","library MATGlobalCommonFunctionsQDM version '8.0.000'"]}]}}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["/*1. Upversion to 8.0.000 to support 2024 AU efforts.  No content changes were made from version 7.2.000 to this version 8.0.000*/\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"9","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"8","s":[{"value":["Interval\u003c"]},{"r":"7","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"8","locator":"13:32-13:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"13:41-13:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"7:1-7:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}]},{"localId":"3","locator":"8:1-8:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"4","locator":"9:1-9:72","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}]},{"localId":"5","locator":"10:1-10:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]},{"localId":"6","locator":"11:1-11:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}]}]},"contexts":{"def":[{"locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"11","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"10","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"18:28-18:55","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}},{"localId":"19","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"18","s":[{"s":[{"r":"13","s":[{"r":"12","s":[{"r":"12","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"17","s":[{"value":["where "]},{"r":"17","s":[{"r":"15","s":[{"r":"14","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"15","s":[{"value":["relevantPeriod"]}]}]},{"r":"17","value":[" ","ends during day of"," "]},{"r":"16","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"18","locator":"21:3-22:83","type":"Query","source":[{"localId":"13","locator":"21:3-21:68","alias":"EncounterInpatient","expression":{"localId":"12","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"21:28-21:48","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"17","locator":"22:5-22:83","precision":"Day","type":"In","operand":[{"locator":"22:45-22:48","type":"End","operand":{"localId":"15","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"16","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"29","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"29","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function ","\"ToDateInterval\"","(","period"," "]},{"r":"21","s":[{"value":["Interval\u003c"]},{"r":"20","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"28","s":[{"r":"28","s":[{"value":["Interval["]},{"r":"24","s":[{"value":["date from "]},{"r":"23","s":[{"value":["start of "]},{"r":"22","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"27","s":[{"value":["date from "]},{"r":"26","s":[{"value":["end of "]},{"r":"25","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"28","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"24","locator":"30:12-30:36","type":"DateFrom","operand":{"localId":"23","locator":"30:22-30:36","type":"Start","operand":{"localId":"22","locator":"30:31-30:36","name":"period","type":"OperandRef"}}},"high":{"localId":"27","locator":"30:39-30:61","type":"DateFrom","operand":{"localId":"26","locator":"30:49-30:61","type":"End","operand":{"localId":"25","locator":"30:56-30:61","name":"period","type":"OperandRef"}}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"21","locator":"29:41-29:58","type":"IntervalTypeSpecifier","pointType":{"localId":"20","locator":"29:50-29:57","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"37","locator":"33:1-34:60","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"37","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function ","\"LengthInDays\"","(","Value"," "]},{"r":"31","s":[{"value":["Interval\u003c"]},{"r":"30","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"36","s":[{"r":"36","s":[{"value":["difference in days between "]},{"r":"33","s":[{"value":["start of "]},{"r":"32","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"35","s":[{"value":["end of "]},{"r":"34","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"36","locator":"34:3-34:60","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"33","locator":"34:30-34:43","type":"Start","operand":{"localId":"32","locator":"34:39-34:43","name":"Value","type":"OperandRef"}},{"localId":"35","locator":"34:49-34:60","type":"End","operand":{"localId":"34","locator":"34:56-34:60","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"31","locator":"33:38-33:55","type":"IntervalTypeSpecifier","pointType":{"localId":"30","locator":"33:47-33:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"70","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"70","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"38","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"69","s":[{"r":"69","s":[{"s":[{"r":"40","s":[{"r":"39","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"56","s":[{"value":["EDVisit",": "]},{"r":"55","s":[{"value":["Last","("]},{"r":"54","s":[{"s":[{"r":"42","s":[{"r":"41","s":[{"r":"41","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"49","s":[{"value":["where "]},{"r":"49","s":[{"r":"44","s":[{"r":"43","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"44","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"49","s":[{"value":["ends "]},{"r":"48","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"47","s":[{"value":["start of "]},{"r":"46","s":[{"r":"45","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"46","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"53","s":[{"value":["sort by \n  \t\t\t"]},{"r":"52","s":[{"r":"51","s":[{"value":["end of "]},{"r":"50","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"68","s":[{"value":["return "]},{"r":"67","s":[{"value":["if "]},{"r":"58","s":[{"r":"57","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"60","s":[{"r":"59","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"60","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"66","s":[{"value":["flatten "]},{"r":"65","s":[{"value":["{ "]},{"r":"62","s":[{"r":"61","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"62","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"64","s":[{"r":"63","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"64","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"69","locator":"38:3-45:71","type":"Query","source":[{"localId":"40","locator":"38:3-38:17","alias":"Visit","expression":{"localId":"39","locator":"38:3-38:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"56","locator":"39:8-43:4","identifier":"EDVisit","expression":{"localId":"55","locator":"39:17-43:4","type":"Last","source":{"localId":"54","locator":"39:22-42:26","type":"Query","source":[{"localId":"42","locator":"39:22-39:82","alias":"LastED","expression":{"localId":"41","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"39:47-39:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"49","locator":"40:6-40:95","type":"And","operand":[{"locator":"40:39-40:52","type":"In","operand":[{"locator":"40:34-40:37","type":"End","operand":{"localId":"44","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"40:67-40:95","type":"Subtract","operand":[{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"48","locator":"40:39-40:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"40:39-40:52","type":"Not","operand":{"locator":"40:39-40:52","type":"IsNull","operand":{"localId":"47","locator":"40:67-40:95","type":"Start","operand":{"localId":"46","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"53","locator":"41:6-42:26","by":[{"localId":"52","locator":"42:6-42:26","direction":"asc","type":"ByExpression","expression":{"localId":"51","locator":"42:6-42:26","type":"End","operand":{"localId":"50","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"68","locator":"44:4-45:71","expression":{"localId":"67","locator":"44:11-45:71","type":"If","condition":{"localId":"58","locator":"44:14-44:28","type":"IsNull","operand":{"localId":"57","locator":"44:14-44:20","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"60","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"66","locator":"45:10-45:71","type":"Flatten","operand":{"localId":"65","locator":"45:18-45:71","type":"List","element":[{"localId":"62","locator":"45:20-45:44","path":"facilityLocations","type":"Property","source":{"localId":"61","locator":"45:20-45:26","name":"EDVisit","type":"QueryLetRef"}},{"localId":"64","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"38","locator":"37:54-37:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"87","locator":"48:1-52:18","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"87","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"71","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"86","s":[{"r":"86","s":[{"value":["start of "]},{"r":"85","s":[{"r":"84","s":[{"value":["First","("]},{"r":"83","s":[{"s":[{"r":"74","s":[{"r":"73","s":[{"value":["("]},{"r":"73","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"72","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"78","s":[{"value":["where "]},{"r":"78","s":[{"r":"76","s":[{"r":"75","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"76","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"77","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"82","s":[{"value":["sort by "]},{"r":"81","s":[{"r":"80","s":[{"value":["start of "]},{"r":"79","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"85","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"86","locator":"49:3-52:18","type":"Start","operand":{"localId":"85","locator":"49:12-52:18","path":"locationPeriod","type":"Property","source":{"localId":"84","locator":"49:12-52:3","type":"First","source":{"localId":"83","locator":"49:18-51:35","type":"Query","source":[{"localId":"74","locator":"49:18-49:72","alias":"HospitalLocation","expression":{"localId":"73","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"72","locator":"49:46-49:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"78","locator":"50:5-50:63","type":"InValueSet","code":{"localId":"76","locator":"50:11-50:31","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"77","locator":"50:36-50:63","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"82","locator":"51:5-51:35","by":[{"localId":"81","locator":"51:13-51:35","direction":"asc","type":"ByExpression","expression":{"localId":"80","locator":"51:13-51:35","type":"Start","operand":{"localId":"79","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"71","locator":"48:60-48:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"122","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"122","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"90","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"121","s":[{"r":"121","s":[{"s":[{"r":"92","s":[{"r":"91","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"108","s":[{"value":["EDVisit",": "]},{"r":"107","s":[{"value":["Last","("]},{"r":"106","s":[{"s":[{"r":"94","s":[{"r":"93","s":[{"r":"93","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"101","s":[{"value":["where "]},{"r":"101","s":[{"r":"96","s":[{"r":"95","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"96","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"101","s":[{"value":["ends "]},{"r":"100","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"99","s":[{"value":["start of "]},{"r":"98","s":[{"r":"97","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"98","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"105","s":[{"value":["sort by \n  \t\t\t"]},{"r":"104","s":[{"r":"103","s":[{"value":["end of "]},{"r":"102","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"120","s":[{"value":["return "]},{"r":"119","s":[{"value":["Interval["]},{"r":"115","s":[{"value":["Coalesce","("]},{"r":"111","s":[{"value":["start of "]},{"r":"110","s":[{"r":"109","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"110","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"114","s":[{"value":["start of "]},{"r":"113","s":[{"r":"112","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"113","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"118","s":[{"value":["end of "]},{"r":"117","s":[{"r":"116","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"117","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"121","locator":"66:3-73:31","type":"Query","source":[{"localId":"92","locator":"66:3-66:17","alias":"Visit","expression":{"localId":"91","locator":"66:3-66:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"108","locator":"67:8-71:4","identifier":"EDVisit","expression":{"localId":"107","locator":"67:17-71:4","type":"Last","source":{"localId":"106","locator":"67:22-70:26","type":"Query","source":[{"localId":"94","locator":"67:22-67:82","alias":"LastED","expression":{"localId":"93","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"67:47-67:74","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"101","locator":"68:6-68:95","type":"And","operand":[{"locator":"68:39-68:52","type":"In","operand":[{"locator":"68:34-68:37","type":"End","operand":{"localId":"96","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"68:67-68:95","type":"Subtract","operand":[{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"100","locator":"68:39-68:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"68:39-68:52","type":"Not","operand":{"locator":"68:39-68:52","type":"IsNull","operand":{"localId":"99","locator":"68:67-68:95","type":"Start","operand":{"localId":"98","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"105","locator":"69:6-70:26","by":[{"localId":"104","locator":"70:6-70:26","direction":"asc","type":"ByExpression","expression":{"localId":"103","locator":"70:6-70:26","type":"End","operand":{"localId":"102","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"120","locator":"72:4-73:31","expression":{"localId":"119","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"115","locator":"72:20-72:91","type":"Coalesce","operand":[{"localId":"111","locator":"72:29-72:59","type":"Start","operand":{"localId":"110","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","source":{"localId":"109","locator":"72:38-72:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"114","locator":"72:62-72:90","type":"Start","operand":{"localId":"113","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"118","locator":"73:4-73:30","type":"End","operand":{"localId":"117","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"90","locator":"65:45-65:66","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"125","locator":"55:1-56:39","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"125","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"88","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"124","s":[{"r":"124","s":[{"value":["start of "]},{"r":"123","s":[{"value":["\"Hospitalization\"","("]},{"r":"89","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"124","locator":"56:3-56:39","type":"Start","operand":{"localId":"123","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"89","locator":"56:30-56:38","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"88","locator":"55:51-55:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"138","locator":"59:1-62:18","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"138","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"126","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"137","s":[{"r":"137","s":[{"value":["start of "]},{"r":"136","s":[{"r":"135","s":[{"value":["First","("]},{"r":"134","s":[{"s":[{"r":"129","s":[{"r":"128","s":[{"value":["("]},{"r":"128","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"127","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"133","s":[{"value":["sort by "]},{"r":"132","s":[{"r":"131","s":[{"value":["start of "]},{"r":"130","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"136","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"137","locator":"60:3-62:18","type":"Start","operand":{"localId":"136","locator":"60:12-62:18","path":"locationPeriod","type":"Property","source":{"localId":"135","locator":"60:12-62:3","type":"First","source":{"localId":"134","locator":"60:18-61:35","type":"Query","source":[{"localId":"129","locator":"60:18-60:72","alias":"HospitalLocation","expression":{"localId":"128","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"127","locator":"60:46-60:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"133","locator":"61:5-61:35","by":[{"localId":"132","locator":"61:13-61:35","direction":"asc","type":"ByExpression","expression":{"localId":"131","locator":"61:13-61:35","type":"Start","operand":{"localId":"130","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"126","locator":"59:49-59:70","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"145","locator":"76:1-77:44","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"145","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"141","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"144","s":[{"r":"144","s":[{"value":["LengthInDays","("]},{"r":"143","s":[{"value":["\"Hospitalization\"","("]},{"r":"142","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"144","locator":"77:3-77:44","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"143","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"142","locator":"77:34-77:42","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"141","locator":"76:57-76:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"158","locator":"80:1-83:18","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"158","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"146","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"157","s":[{"r":"157","s":[{"value":["end of "]},{"r":"156","s":[{"r":"155","s":[{"value":["Last","("]},{"r":"154","s":[{"s":[{"r":"149","s":[{"r":"148","s":[{"value":["("]},{"r":"148","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"147","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"153","s":[{"value":["sort by "]},{"r":"152","s":[{"r":"151","s":[{"value":["start of "]},{"r":"150","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"156","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"157","locator":"81:3-83:18","type":"End","operand":{"localId":"156","locator":"81:10-83:18","path":"locationPeriod","type":"Property","source":{"localId":"155","locator":"81:10-83:3","type":"Last","source":{"localId":"154","locator":"81:15-82:35","type":"Query","source":[{"localId":"149","locator":"81:15-81:69","alias":"HospitalLocation","expression":{"localId":"148","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"147","locator":"81:43-81:51","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"153","locator":"82:5-82:35","by":[{"localId":"152","locator":"82:13-82:35","direction":"asc","type":"ByExpression","expression":{"localId":"151","locator":"82:13-82:35","type":"Start","operand":{"localId":"150","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"146","locator":"80:51-80:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"163","locator":"86:1-87:33","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"163","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"159","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"162","s":[{"r":"162","s":[{"value":["end of "]},{"r":"161","s":[{"r":"160","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"161","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"162","locator":"87:3-87:33","type":"End","operand":{"localId":"161","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","source":{"localId":"160","locator":"87:10-87:18","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"159","locator":"86:51-86:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"236","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"236","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"164","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"235","s":[{"r":"235","s":[{"s":[{"r":"166","s":[{"r":"165","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"182","s":[{"value":["ObsVisit",": "]},{"r":"181","s":[{"value":["Last","("]},{"r":"180","s":[{"s":[{"r":"168","s":[{"r":"167","s":[{"r":"167","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"175","s":[{"value":["where "]},{"r":"175","s":[{"r":"170","s":[{"r":"169","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"175","s":[{"value":["ends "]},{"r":"174","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"173","s":[{"value":["start of "]},{"r":"172","s":[{"r":"171","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"172","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"179","s":[{"value":["sort by \n  \t\t\t"]},{"r":"178","s":[{"r":"177","s":[{"value":["end of "]},{"r":"176","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"190","s":[{"value":["VisitStart",": "]},{"r":"189","s":[{"value":["Coalesce","("]},{"r":"185","s":[{"value":["start of "]},{"r":"184","s":[{"r":"183","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"184","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"188","s":[{"value":["start of "]},{"r":"187","s":[{"r":"186","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"187","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"204","s":[{"value":["EDVisit",": "]},{"r":"203","s":[{"value":["Last","("]},{"r":"202","s":[{"s":[{"r":"192","s":[{"r":"191","s":[{"r":"191","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"197","s":[{"value":["where "]},{"r":"197","s":[{"r":"194","s":[{"r":"193","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"194","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"197","s":[{"value":["ends "]},{"r":"196","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"195","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"201","s":[{"value":["sort by \n  \t\t\t"]},{"r":"200","s":[{"r":"199","s":[{"value":["end of "]},{"r":"198","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"210","s":[{"value":["VisitStartWithED",": "]},{"r":"209","s":[{"value":["Coalesce","("]},{"r":"207","s":[{"value":["start of "]},{"r":"206","s":[{"r":"205","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"206","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"208","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"224","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"223","s":[{"value":["Last","("]},{"r":"222","s":[{"s":[{"r":"212","s":[{"r":"211","s":[{"r":"211","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"217","s":[{"value":["where "]},{"r":"217","s":[{"r":"214","s":[{"r":"213","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"214","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"217","s":[{"value":["ends "]},{"r":"216","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"215","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"221","s":[{"value":["sort by \n  \t\t\t"]},{"r":"220","s":[{"r":"219","s":[{"value":["end of "]},{"r":"218","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"234","s":[{"value":["return "]},{"r":"233","s":[{"value":["Interval["]},{"r":"229","s":[{"value":["Coalesce","("]},{"r":"227","s":[{"value":["start of "]},{"r":"226","s":[{"r":"225","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"226","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"228","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"232","s":[{"value":["end of "]},{"r":"231","s":[{"r":"230","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"231","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"235","locator":"91:3-110:31","type":"Query","source":[{"localId":"166","locator":"91:3-91:17","alias":"Visit","expression":{"localId":"165","locator":"91:3-91:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"182","locator":"92:8-96:4","identifier":"ObsVisit","expression":{"localId":"181","locator":"92:18-96:4","type":"Last","source":{"localId":"180","locator":"92:23-95:26","type":"Query","source":[{"localId":"168","locator":"92:23-92:78","alias":"LastObs","expression":{"localId":"167","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"92:48-92:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"175","locator":"93:6-93:96","type":"And","operand":[{"locator":"93:40-93:53","type":"In","operand":[{"locator":"93:35-93:38","type":"End","operand":{"localId":"170","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"93:68-93:96","type":"Subtract","operand":[{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"174","locator":"93:40-93:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"93:40-93:53","type":"Not","operand":{"locator":"93:40-93:53","type":"IsNull","operand":{"localId":"173","locator":"93:68-93:96","type":"Start","operand":{"localId":"172","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"179","locator":"94:6-95:26","by":[{"localId":"178","locator":"95:6-95:26","direction":"asc","type":"ByExpression","expression":{"localId":"177","locator":"95:6-95:26","type":"End","operand":{"localId":"176","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"190","locator":"97:4-97:88","identifier":"VisitStart","expression":{"localId":"189","locator":"97:16-97:88","type":"Coalesce","operand":[{"localId":"185","locator":"97:25-97:56","type":"Start","operand":{"localId":"184","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","source":{"localId":"183","locator":"97:34-97:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"188","locator":"97:59-97:87","type":"Start","operand":{"localId":"187","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"204","locator":"98:4-102:4","identifier":"EDVisit","expression":{"localId":"203","locator":"98:13-102:4","type":"Last","source":{"localId":"202","locator":"98:18-101:26","type":"Query","source":[{"localId":"192","locator":"98:18-98:78","alias":"LastED","expression":{"localId":"191","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"98:43-98:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"197","locator":"99:6-99:76","type":"And","operand":[{"locator":"99:39-99:52","type":"In","operand":[{"locator":"99:34-99:37","type":"End","operand":{"localId":"194","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"99:67-99:76","type":"Subtract","operand":[{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"196","locator":"99:39-99:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"99:39-99:52","type":"Not","operand":{"locator":"99:39-99:52","type":"IsNull","operand":{"localId":"195","locator":"99:67-99:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"201","locator":"100:6-101:26","by":[{"localId":"200","locator":"101:6-101:26","direction":"asc","type":"ByExpression","expression":{"localId":"199","locator":"101:6-101:26","type":"End","operand":{"localId":"198","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"210","locator":"103:4-103:74","identifier":"VisitStartWithED","expression":{"localId":"209","locator":"103:22-103:74","type":"Coalesce","operand":[{"localId":"207","locator":"103:31-103:61","type":"Start","operand":{"localId":"206","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","source":{"localId":"205","locator":"103:40-103:46","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"208","locator":"103:64-103:73","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"224","locator":"104:4-108:4","identifier":"OutpatientSurgeryVisit","expression":{"localId":"223","locator":"104:28-108:4","type":"Last","source":{"localId":"222","locator":"104:33-107:26","type":"Query","source":[{"localId":"212","locator":"104:33-104:100","alias":"LastSurgeryOP","expression":{"localId":"211","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"104:58-104:85","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"217","locator":"105:6-105:89","type":"And","operand":[{"locator":"105:46-105:59","type":"In","operand":[{"locator":"105:41-105:44","type":"End","operand":{"localId":"214","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"105:74-105:89","type":"Subtract","operand":[{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"216","locator":"105:46-105:51","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"locator":"105:46-105:59","type":"Not","operand":{"locator":"105:46-105:59","type":"IsNull","operand":{"localId":"215","locator":"105:74-105:89","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"221","locator":"106:6-107:26","by":[{"localId":"220","locator":"107:6-107:26","direction":"asc","type":"ByExpression","expression":{"localId":"219","locator":"107:6-107:26","type":"End","operand":{"localId":"218","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"234","locator":"109:4-110:31","expression":{"localId":"233","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"229","locator":"109:20-109:93","type":"Coalesce","operand":[{"localId":"227","locator":"109:29-109:74","type":"Start","operand":{"localId":"226","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","source":{"localId":"225","locator":"109:38-109:59","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"228","locator":"109:77-109:92","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"232","locator":"110:4-110:30","type":"End","operand":{"localId":"231","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"164","locator":"90:87-90:108","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"289","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"289","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"237","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"288","s":[{"r":"288","s":[{"s":[{"r":"239","s":[{"r":"238","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"255","s":[{"value":["ObsVisit",": "]},{"r":"254","s":[{"value":["Last","("]},{"r":"253","s":[{"s":[{"r":"241","s":[{"r":"240","s":[{"r":"240","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"248","s":[{"value":["where "]},{"r":"248","s":[{"r":"243","s":[{"r":"242","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"243","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"248","s":[{"value":["ends "]},{"r":"247","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"246","s":[{"value":["start of "]},{"r":"245","s":[{"r":"244","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"245","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"252","s":[{"value":["sort by \n  \t\t\t"]},{"r":"251","s":[{"r":"250","s":[{"value":["end of "]},{"r":"249","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"263","s":[{"value":["VisitStart",": "]},{"r":"262","s":[{"value":["Coalesce","("]},{"r":"258","s":[{"value":["start of "]},{"r":"257","s":[{"r":"256","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"257","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"261","s":[{"value":["start of "]},{"r":"260","s":[{"r":"259","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"260","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"277","s":[{"value":["EDVisit",": "]},{"r":"276","s":[{"value":["Last","("]},{"r":"275","s":[{"s":[{"r":"265","s":[{"r":"264","s":[{"r":"264","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"270","s":[{"value":["where "]},{"r":"270","s":[{"r":"267","s":[{"r":"266","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"267","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"270","s":[{"value":["ends "]},{"r":"269","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"268","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"274","s":[{"value":["sort by \n  \t\t\t"]},{"r":"273","s":[{"r":"272","s":[{"value":["end of "]},{"r":"271","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"287","s":[{"value":["return "]},{"r":"286","s":[{"value":["Interval["]},{"r":"282","s":[{"value":["Coalesce","("]},{"r":"280","s":[{"value":["start of "]},{"r":"279","s":[{"r":"278","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"279","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"281","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"285","s":[{"value":["end of "]},{"r":"284","s":[{"r":"283","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"284","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"288","locator":"114:3-127:31","type":"Query","source":[{"localId":"239","locator":"114:3-114:17","alias":"Visit","expression":{"localId":"238","locator":"114:3-114:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"255","locator":"115:8-119:4","identifier":"ObsVisit","expression":{"localId":"254","locator":"115:18-119:4","type":"Last","source":{"localId":"253","locator":"115:23-118:26","type":"Query","source":[{"localId":"241","locator":"115:23-115:78","alias":"LastObs","expression":{"localId":"240","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"115:48-115:69","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"248","locator":"116:6-116:96","type":"And","operand":[{"locator":"116:40-116:53","type":"In","operand":[{"locator":"116:35-116:38","type":"End","operand":{"localId":"243","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"116:68-116:96","type":"Subtract","operand":[{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"247","locator":"116:40-116:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"116:40-116:53","type":"Not","operand":{"locator":"116:40-116:53","type":"IsNull","operand":{"localId":"246","locator":"116:68-116:96","type":"Start","operand":{"localId":"245","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"252","locator":"117:6-118:26","by":[{"localId":"251","locator":"118:6-118:26","direction":"asc","type":"ByExpression","expression":{"localId":"250","locator":"118:6-118:26","type":"End","operand":{"localId":"249","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"263","locator":"120:4-120:88","identifier":"VisitStart","expression":{"localId":"262","locator":"120:16-120:88","type":"Coalesce","operand":[{"localId":"258","locator":"120:25-120:56","type":"Start","operand":{"localId":"257","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","source":{"localId":"256","locator":"120:34-120:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"261","locator":"120:59-120:87","type":"Start","operand":{"localId":"260","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"277","locator":"121:4-125:4","identifier":"EDVisit","expression":{"localId":"276","locator":"121:13-125:4","type":"Last","source":{"localId":"275","locator":"121:18-124:26","type":"Query","source":[{"localId":"265","locator":"121:18-121:78","alias":"LastED","expression":{"localId":"264","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"121:43-121:70","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"270","locator":"122:6-122:76","type":"And","operand":[{"locator":"122:39-122:52","type":"In","operand":[{"locator":"122:34-122:37","type":"End","operand":{"localId":"267","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"122:67-122:76","type":"Subtract","operand":[{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"269","locator":"122:39-122:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"122:39-122:52","type":"Not","operand":{"locator":"122:39-122:52","type":"IsNull","operand":{"localId":"268","locator":"122:67-122:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"274","locator":"123:6-124:26","by":[{"localId":"273","locator":"124:6-124:26","direction":"asc","type":"ByExpression","expression":{"localId":"272","locator":"124:6-124:26","type":"End","operand":{"localId":"271","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"287","locator":"126:4-127:31","expression":{"localId":"286","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"282","locator":"126:20-126:72","type":"Coalesce","operand":[{"localId":"280","locator":"126:29-126:59","type":"Start","operand":{"localId":"279","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","source":{"localId":"278","locator":"126:38-126:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"281","locator":"126:62-126:71","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"285","locator":"127:4-127:30","type":"End","operand":{"localId":"284","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"237","locator":"113:60-113:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"294","locator":"130:1-131:61","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"294","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function ","\"HospitalizationWithObservationLengthofStay\"","(","Encounter"," "]},{"r":"290","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"293","s":[{"r":"293","s":[{"value":["\"LengthInDays\"","("]},{"r":"292","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"291","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"293","locator":"131:3-131:61","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"292","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","operand":[{"localId":"291","locator":"131:51-131:59","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"290","locator":"130:72-130:93","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"315","locator":"134:1-139:3","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"315","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"295","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"314","s":[{"r":"314","s":[{"value":["First","("]},{"r":"313","s":[{"s":[{"r":"298","s":[{"r":"297","s":[{"value":["("]},{"r":"297","s":[{"r":"296","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"297","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"308","s":[{"value":["where "]},{"r":"308","s":[{"r":"302","s":[{"r":"300","s":[{"r":"299","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"300","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"301","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"307","s":[{"r":"304","s":[{"r":"303","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"304","s":[{"value":["locationPeriod"]}]}]},{"r":"307","value":[" ","during"," "]},{"r":"306","s":[{"r":"305","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"306","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"312","s":[{"value":["sort by "]},{"r":"311","s":[{"r":"310","s":[{"value":["start of "]},{"r":"309","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"314","locator":"135:3-139:3","type":"First","source":{"localId":"313","locator":"135:9-138:37","type":"Query","source":[{"localId":"298","locator":"135:9-135:53","alias":"HospitalLocation","expression":{"localId":"297","locator":"135:9-135:37","path":"facilityLocations","type":"Property","source":{"localId":"296","locator":"135:10-135:18","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"308","locator":"136:7-137:75","type":"And","operand":[{"localId":"302","locator":"136:13-136:58","type":"InValueSet","code":{"localId":"300","locator":"136:13-136:33","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"301","locator":"136:38-136:58","name":"Intensive Care Unit","preserve":true}},{"localId":"307","locator":"137:13-137:75","type":"IncludedIn","operand":[{"localId":"304","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"306","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","source":{"localId":"305","locator":"137:52-137:60","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"312","locator":"138:7-138:37","by":[{"localId":"311","locator":"138:15-138:37","direction":"asc","type":"ByExpression","expression":{"localId":"310","locator":"138:15-138:37","type":"Start","operand":{"localId":"309","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"295","locator":"134:61-134:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"333","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"333","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function ","\"NormalizeInterval\"","(","pointInTime"," "]},{"r":"316","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"318","s":[{"value":["Interval\u003c"]},{"r":"317","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"332","s":[{"r":"332","s":[{"value":["if "]},{"r":"320","s":[{"r":"319","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"323","s":[{"value":["Interval["]},{"r":"321","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"322","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"331","s":[{"value":["if "]},{"r":"325","s":[{"r":"324","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"326","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"330","s":[{"r":"327","value":["null"," as "]},{"r":"329","s":[{"value":["Interval\u003c"]},{"r":"328","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"expression":{"localId":"332","locator":"143:3-145:35","type":"If","condition":{"localId":"320","locator":"143:6-143:28","type":"Not","operand":{"locator":"143:6-143:28","type":"IsNull","operand":{"localId":"319","locator":"143:6-143:16","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"323","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"321","locator":"143:44-143:54","name":"pointInTime","type":"OperandRef"},"high":{"localId":"322","locator":"143:57-143:67","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"331","locator":"144:10-145:35","type":"If","condition":{"localId":"325","locator":"144:13-144:30","type":"Not","operand":{"locator":"144:13-144:30","type":"IsNull","operand":{"localId":"324","locator":"144:13-144:18","name":"period","type":"OperandRef"}}},"then":{"localId":"326","locator":"144:37-144:42","name":"period","type":"OperandRef"},"else":{"localId":"330","locator":"145:10-145:35","strict":false,"type":"As","operand":{"localId":"327","locator":"145:10-145:13","type":"Null"},"asTypeSpecifier":{"localId":"329","locator":"145:18-145:35","type":"IntervalTypeSpecifier","pointType":{"localId":"328","locator":"145:27-145:34","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"316","locator":"142:49-142:56","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"318","locator":"142:66-142:83","type":"IntervalTypeSpecifier","pointType":{"localId":"317","locator":"142:75-142:82","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"346","locator":"148:1-151:3","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"346","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function ","\"HasStart\"","(","period"," "]},{"r":"335","s":[{"value":["Interval\u003c"]},{"r":"334","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"345","s":[{"r":"345","s":[{"value":["not "]},{"r":"344","s":[{"value":["( "]},{"r":"344","s":[{"r":"338","s":[{"r":"337","s":[{"value":["start of "]},{"r":"336","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"343","s":[{"r":"340","s":[{"value":["start of "]},{"r":"339","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"342","s":[{"value":["minimum"," "]},{"r":"341","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"345","locator":"149:3-151:3","type":"Not","operand":{"localId":"344","locator":"149:7-151:3","type":"Or","operand":[{"localId":"338","locator":"149:9-149:31","type":"IsNull","operand":{"localId":"337","locator":"149:9-149:23","type":"Start","operand":{"localId":"336","locator":"149:18-149:23","name":"period","type":"OperandRef"}}},{"localId":"343","locator":"150:10-150:43","type":"Equal","operand":[{"localId":"340","locator":"150:10-150:24","type":"Start","operand":{"localId":"339","locator":"150:19-150:24","name":"period","type":"OperandRef"}},{"localId":"342","locator":"150:28-150:43","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"335","locator":"148:35-148:52","type":"IntervalTypeSpecifier","pointType":{"localId":"334","locator":"148:44-148:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"359","locator":"154:1-159:3","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"359","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function ","\"HasEnd\"","(","period"," "]},{"r":"348","s":[{"value":["Interval\u003c"]},{"r":"347","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"358","s":[{"r":"358","s":[{"value":["not "]},{"r":"357","s":[{"value":["( \n    "]},{"r":"357","s":[{"r":"351","s":[{"r":"350","s":[{"value":["end of "]},{"r":"349","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"356","s":[{"r":"353","s":[{"value":["end of "]},{"r":"352","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"355","s":[{"value":["maximum"," "]},{"r":"354","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"358","locator":"155:3-159:3","type":"Not","operand":{"localId":"357","locator":"155:7-159:3","type":"Or","operand":[{"localId":"351","locator":"156:5-156:25","type":"IsNull","operand":{"localId":"350","locator":"156:5-156:17","type":"End","operand":{"localId":"349","locator":"156:12-156:17","name":"period","type":"OperandRef"}}},{"localId":"356","locator":"158:7-158:38","type":"Equal","operand":[{"localId":"353","locator":"158:7-158:19","type":"End","operand":{"localId":"352","locator":"158:14-158:19","name":"period","type":"OperandRef"}},{"localId":"355","locator":"158:23-158:38","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"348","locator":"154:33-154:50","type":"IntervalTypeSpecifier","pointType":{"localId":"347","locator":"154:42-154:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"369","locator":"162:1-165:24","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"369","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function ","\"Latest\"","(","period"," "]},{"r":"361","s":[{"value":["Interval\u003c"]},{"r":"360","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"368","s":[{"r":"368","s":[{"value":["if "]},{"r":"363","s":[{"value":["( "]},{"r":"363","s":[{"value":["HasEnd","("]},{"r":"362","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"365","s":[{"value":["end of "]},{"r":"364","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"367","s":[{"value":["start of "]},{"r":"366","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"368","locator":"163:3-165:24","type":"If","condition":{"localId":"363","locator":"163:6-163:22","name":"HasEnd","type":"FunctionRef","operand":[{"localId":"362","locator":"163:15-163:20","name":"period","type":"OperandRef"}]},"then":{"localId":"365","locator":"164:3-164:15","type":"End","operand":{"localId":"364","locator":"164:10-164:15","name":"period","type":"OperandRef"}},"else":{"localId":"367","locator":"165:10-165:24","type":"Start","operand":{"localId":"366","locator":"165:19-165:24","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"361","locator":"162:33-162:50","type":"IntervalTypeSpecifier","pointType":{"localId":"360","locator":"162:42-162:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"379","locator":"168:1-171:15","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"379","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function ","\"Earliest\"","(","period"," "]},{"r":"371","s":[{"value":["Interval\u003c"]},{"r":"370","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"378","s":[{"r":"378","s":[{"value":["if "]},{"r":"373","s":[{"value":["( "]},{"r":"373","s":[{"value":["HasStart","("]},{"r":"372","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"375","s":[{"value":["start of "]},{"r":"374","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"377","s":[{"value":["end of "]},{"r":"376","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"378","locator":"169:3-171:15","type":"If","condition":{"localId":"373","locator":"169:6-169:24","name":"HasStart","type":"FunctionRef","operand":[{"localId":"372","locator":"169:17-169:22","name":"period","type":"OperandRef"}]},"then":{"localId":"375","locator":"169:31-169:45","type":"Start","operand":{"localId":"374","locator":"169:40-169:45","name":"period","type":"OperandRef"}},"else":{"localId":"377","locator":"171:3-171:15","type":"End","operand":{"localId":"376","locator":"171:10-171:15","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"371","locator":"168:35-168:52","type":"IntervalTypeSpecifier","pointType":{"localId":"370","locator":"168:44-168:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"387","locator":"174:1-175:48","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"387","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function ","\"LatestOf\"","(","pointInTime"," "]},{"r":"380","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"382","s":[{"value":["Interval\u003c"]},{"r":"381","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"386","s":[{"r":"386","s":[{"value":["Latest","("]},{"r":"385","s":[{"value":["NormalizeInterval","("]},{"r":"383","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"384","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"386","locator":"175:3-175:48","name":"Latest","type":"FunctionRef","operand":[{"localId":"385","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"383","locator":"175:28-175:38","name":"pointInTime","type":"OperandRef"},{"localId":"384","locator":"175:41-175:46","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"380","locator":"174:40-174:47","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"382","locator":"174:57-174:74","type":"IntervalTypeSpecifier","pointType":{"localId":"381","locator":"174:66-174:73","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"178:1-179:50","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function ","\"EarliestOf\"","(","pointInTime"," "]},{"r":"388","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"390","s":[{"value":["Interval\u003c"]},{"r":"389","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"394","s":[{"r":"394","s":[{"value":["Earliest","("]},{"r":"393","s":[{"value":["NormalizeInterval","("]},{"r":"391","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"392","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"394","locator":"179:3-179:50","name":"Earliest","type":"FunctionRef","operand":[{"localId":"393","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"391","locator":"179:30-179:40","name":"pointInTime","type":"OperandRef"},{"localId":"392","locator":"179:43-179:48","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"388","locator":"178:42-178:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"390","locator":"178:59-178:76","type":"IntervalTypeSpecifier","pointType":{"localId":"389","locator":"178:68-178:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"ref_id":"11"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"12"}],"node_type":"Retrieve","ref_id":"12"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"13"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"14"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"15"}],"node_type":"Property","ref_id":"15"},{"children":[{"text":" ends during day of "}],"ref_id":"17"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"16"}],"ref_id":"17"}],"ref_id":"17"}],"node_type":"Query","ref_id":"18"}],"ref_id":"19"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[]},{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"20"},{"children":[{"text":"\u003e"}]}],"ref_id":"21"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"22"}],"node_type":"Start","ref_id":"23"}],"ref_id":"24"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"25"}],"node_type":"End","ref_id":"26"}],"ref_id":"27"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"28"}],"node_type":"Interval","ref_id":"28"}],"ref_id":"29"}],"define_name":"ToDateInterval"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"30"},{"children":[{"text":"\u003e"}]}],"ref_id":"31"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"32"}],"node_type":"Start","ref_id":"33"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"34"}],"node_type":"End","ref_id":"35"}],"node_type":"DifferenceBetween","ref_id":"36"}],"node_type":"DifferenceBetween","ref_id":"36"}],"ref_id":"37"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"38"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"39"},{"children":[{"text":" Visit"}]}],"ref_id":"40"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"41"}],"node_type":"Retrieve","ref_id":"41"},{"children":[{"text":" LastED"}]}],"ref_id":"42"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"43"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"44"}],"node_type":"Property","ref_id":"44"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"48"},{"children":[{"text":" or less on or before"}]}],"ref_id":"49"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"45"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"46"}],"node_type":"Property","ref_id":"46"}],"node_type":"Start","ref_id":"47"}],"ref_id":"49"}],"ref_id":"49"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"50"}],"node_type":"End","ref_id":"51"}],"ref_id":"52"}],"ref_id":"53"}],"ref_id":"54"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"55"}],"ref_id":"56"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"57"},{"children":[{"text":" is null"}]}],"ref_id":"58"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"59"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"60"}],"ref_id":"60"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"61"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"62"}],"ref_id":"62"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"63"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"64"}],"ref_id":"64"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"65"}],"ref_id":"66"}],"node_type":"If","ref_id":"67"}],"ref_id":"68"}],"node_type":"Query","ref_id":"69"}],"node_type":"Query","ref_id":"69"}],"ref_id":"70"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"71"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"72"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"74"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"76"}],"ref_id":"76"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"77"}],"ref_id":"78"}],"ref_id":"78"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"79"}],"node_type":"Start","ref_id":"80"}],"ref_id":"81"}],"ref_id":"82"}],"ref_id":"83"},{"children":[{"text":"\n  )"}]}],"ref_id":"84"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"85"}],"node_type":"Property","ref_id":"85"}],"node_type":"Start","ref_id":"86"}],"node_type":"Start","ref_id":"86"}],"ref_id":"87"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"90"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"91"},{"children":[{"text":" Visit"}]}],"ref_id":"92"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"93"}],"node_type":"Retrieve","ref_id":"93"},{"children":[{"text":" LastED"}]}],"ref_id":"94"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"95"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"96"}],"node_type":"Property","ref_id":"96"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"100"},{"children":[{"text":" or less on or before"}]}],"ref_id":"101"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"97"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"98"}],"node_type":"Property","ref_id":"98"}],"node_type":"Start","ref_id":"99"}],"ref_id":"101"}],"ref_id":"101"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"102"}],"node_type":"End","ref_id":"103"}],"ref_id":"104"}],"ref_id":"105"}],"ref_id":"106"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"107"}],"ref_id":"108"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"109"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"110"}],"node_type":"Property","ref_id":"110"}],"node_type":"Start","ref_id":"111"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"112"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"113"}],"node_type":"Property","ref_id":"113"}],"node_type":"Start","ref_id":"114"},{"children":[{"text":")"}]}],"ref_id":"115"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"116"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"117"}],"node_type":"Property","ref_id":"117"}],"ref_id":"118"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"119"}],"ref_id":"120"}],"node_type":"Query","ref_id":"121"}],"node_type":"Query","ref_id":"121"}],"ref_id":"122"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"88"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"89"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"123"}],"node_type":"Start","ref_id":"124"}],"node_type":"Start","ref_id":"124"}],"ref_id":"125"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"126"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"127"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"128"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"129"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"130"}],"node_type":"Start","ref_id":"131"}],"ref_id":"132"}],"ref_id":"133"}],"ref_id":"134"},{"children":[{"text":"\n  )"}]}],"ref_id":"135"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"136"}],"node_type":"Property","ref_id":"136"}],"node_type":"Start","ref_id":"137"}],"node_type":"Start","ref_id":"137"}],"ref_id":"138"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"141"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"142"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"143"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"144"}],"node_type":"FunctionRef","ref_id":"144"}],"ref_id":"145"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"146"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"147"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"148"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"149"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"150"}],"node_type":"Start","ref_id":"151"}],"ref_id":"152"}],"ref_id":"153"}],"ref_id":"154"},{"children":[{"text":"\n  )"}]}],"ref_id":"155"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"156"}],"node_type":"Property","ref_id":"156"}],"node_type":"End","ref_id":"157"}],"node_type":"End","ref_id":"157"}],"ref_id":"158"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"159"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"160"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"161"}],"node_type":"Property","ref_id":"161"}],"node_type":"End","ref_id":"162"}],"node_type":"End","ref_id":"162"}],"ref_id":"163"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"164"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"165"},{"children":[{"text":" Visit"}]}],"ref_id":"166"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"167"}],"node_type":"Retrieve","ref_id":"167"},{"children":[{"text":" LastObs"}]}],"ref_id":"168"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"174"},{"children":[{"text":" or less on or before"}]}],"ref_id":"175"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"171"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"172"}],"node_type":"Property","ref_id":"172"}],"node_type":"Start","ref_id":"173"}],"ref_id":"175"}],"ref_id":"175"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"176"}],"node_type":"End","ref_id":"177"}],"ref_id":"178"}],"ref_id":"179"}],"ref_id":"180"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"181"}],"ref_id":"182"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"183"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"184"}],"node_type":"Property","ref_id":"184"}],"node_type":"Start","ref_id":"185"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"186"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"187"}],"node_type":"Property","ref_id":"187"}],"node_type":"Start","ref_id":"188"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"189"}],"ref_id":"190"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"191"}],"node_type":"Retrieve","ref_id":"191"},{"children":[{"text":" LastED"}]}],"ref_id":"192"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"193"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"194"}],"node_type":"Property","ref_id":"194"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"196"},{"children":[{"text":" or less on or before"}]}],"ref_id":"197"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"195"}],"ref_id":"197"}],"ref_id":"197"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"198"}],"node_type":"End","ref_id":"199"}],"ref_id":"200"}],"ref_id":"201"}],"ref_id":"202"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"203"}],"ref_id":"204"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"205"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"206"}],"node_type":"Property","ref_id":"206"}],"node_type":"Start","ref_id":"207"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"208"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"209"}],"ref_id":"210"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"211"}],"node_type":"Retrieve","ref_id":"211"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"212"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"213"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"214"}],"node_type":"Property","ref_id":"214"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"216"},{"children":[{"text":" or less on or before"}]}],"ref_id":"217"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"215"}],"ref_id":"217"}],"ref_id":"217"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"218"}],"node_type":"End","ref_id":"219"}],"ref_id":"220"}],"ref_id":"221"}],"ref_id":"222"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"223"}],"ref_id":"224"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"225"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"226"}],"node_type":"Property","ref_id":"226"}],"node_type":"Start","ref_id":"227"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"228"},{"children":[{"text":")"}]}],"ref_id":"229"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"230"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"231"}],"node_type":"Property","ref_id":"231"}],"ref_id":"232"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"233"}],"ref_id":"234"}],"node_type":"Query","ref_id":"235"}],"node_type":"Query","ref_id":"235"}],"ref_id":"236"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"237"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"238"},{"children":[{"text":" Visit"}]}],"ref_id":"239"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"240"}],"node_type":"Retrieve","ref_id":"240"},{"children":[{"text":" LastObs"}]}],"ref_id":"241"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"242"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"243"}],"node_type":"Property","ref_id":"243"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"247"},{"children":[{"text":" or less on or before"}]}],"ref_id":"248"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"244"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"245"}],"node_type":"Property","ref_id":"245"}],"node_type":"Start","ref_id":"246"}],"ref_id":"248"}],"ref_id":"248"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"249"}],"node_type":"End","ref_id":"250"}],"ref_id":"251"}],"ref_id":"252"}],"ref_id":"253"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"254"}],"ref_id":"255"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"256"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"257"}],"node_type":"Property","ref_id":"257"}],"node_type":"Start","ref_id":"258"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"259"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"260"}],"node_type":"Property","ref_id":"260"}],"node_type":"Start","ref_id":"261"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"262"}],"ref_id":"263"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"264"}],"node_type":"Retrieve","ref_id":"264"},{"children":[{"text":" LastED"}]}],"ref_id":"265"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"266"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"267"}],"node_type":"Property","ref_id":"267"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"269"},{"children":[{"text":" or less on or before"}]}],"ref_id":"270"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"268"}],"ref_id":"270"}],"ref_id":"270"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"271"}],"node_type":"End","ref_id":"272"}],"ref_id":"273"}],"ref_id":"274"}],"ref_id":"275"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"276"}],"ref_id":"277"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"278"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"279"}],"node_type":"Property","ref_id":"279"}],"node_type":"Start","ref_id":"280"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"281"},{"children":[{"text":")"}]}],"ref_id":"282"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"283"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"284"}],"node_type":"Property","ref_id":"284"}],"ref_id":"285"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"286"}],"ref_id":"287"}],"node_type":"Query","ref_id":"288"}],"node_type":"Query","ref_id":"288"}],"ref_id":"289"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"290"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"291"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"292"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"293"}],"node_type":"FunctionRef","ref_id":"293"}],"ref_id":"294"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"295"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"297"}],"node_type":"Property","ref_id":"297"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"297"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"298"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"299"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"300"}],"ref_id":"300"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"301"}],"node_type":"InValueSet","ref_id":"302"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"303"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"304"}],"node_type":"Property","ref_id":"304"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"307"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"305"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"306"}],"node_type":"Property","ref_id":"306"}],"node_type":"IncludedIn","ref_id":"307"}],"ref_id":"308"}],"ref_id":"308"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"309"}],"node_type":"Start","ref_id":"310"}],"ref_id":"311"}],"ref_id":"312"}],"ref_id":"313"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"314"}],"node_type":"First","ref_id":"314"}],"ref_id":"315"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"316"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"317"},{"children":[{"text":"\u003e"}]}],"ref_id":"318"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"319"},{"children":[{"text":" is not null"}]}],"ref_id":"320"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"321"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"322"},{"children":[{"text":"]"}]}],"ref_id":"323"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"324"},{"children":[{"text":" is not null"}]}],"ref_id":"325"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"326"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"327"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"328"},{"children":[{"text":"\u003e"}]}],"ref_id":"329"}],"ref_id":"330"}],"ref_id":"331"}],"node_type":"If","ref_id":"332"}],"node_type":"If","ref_id":"332"}],"ref_id":"333"}],"define_name":"NormalizeInterval"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"334"},{"children":[{"text":"\u003e"}]}],"ref_id":"335"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"336"}],"node_type":"Start","ref_id":"337"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"338"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"339"}],"node_type":"Start","ref_id":"340"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"341"}],"node_type":"MinValue","ref_id":"342"}],"node_type":"Equal","ref_id":"343"}],"node_type":"Or","ref_id":"344"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"344"}],"node_type":"Not","ref_id":"345"}],"node_type":"Not","ref_id":"345"}],"ref_id":"346"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"347"},{"children":[{"text":"\u003e"}]}],"ref_id":"348"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"349"}],"node_type":"End","ref_id":"350"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"351"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"352"}],"node_type":"End","ref_id":"353"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"354"}],"node_type":"MaxValue","ref_id":"355"}],"node_type":"Equal","ref_id":"356"}],"node_type":"Or","ref_id":"357"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"357"}],"node_type":"Not","ref_id":"358"}],"node_type":"Not","ref_id":"358"}],"ref_id":"359"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"360"},{"children":[{"text":"\u003e"}]}],"ref_id":"361"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"362"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":")"}]}],"ref_id":"363"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"364"}],"ref_id":"365"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"366"}],"ref_id":"367"}],"node_type":"If","ref_id":"368"}],"node_type":"If","ref_id":"368"}],"ref_id":"369"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"370"},{"children":[{"text":"\u003e"}]}],"ref_id":"371"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"372"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":")"}]}],"ref_id":"373"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"374"}],"ref_id":"375"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"376"}],"ref_id":"377"}],"node_type":"If","ref_id":"378"}],"node_type":"If","ref_id":"378"}],"ref_id":"379"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"380"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"381"},{"children":[{"text":"\u003e"}]}],"ref_id":"382"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"383"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"384"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"385"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"386"}],"node_type":"FunctionRef","ref_id":"386"}],"ref_id":"387"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"388"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"389"},{"children":[{"text":"\u003e"}]}],"ref_id":"390"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"391"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"392"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"394"}],"node_type":"FunctionRef","ref_id":"394"}],"ref_id":"395"}],"define_name":"EarliestOf"}],"identifier":{"id":"MATGlobalCommonFunctionsQDM","version":"8.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctionsQDM","library_version":"8.0.000","statement_dependencies":[{"_id":"68923ec9a83e15671c2df870","statement_name":"Inpatient Encounter"},{"_id":"68923ec9a83e15671c2df871","statement_name":"NormalizeInterval"},{"_id":"68923ec9a83e15671c2df872","statement_name":"EarliestOf","statement_references":[{"_id":"68923ec9a83e15671c2df86e","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"Earliest"},{"_id":"68923ec9a83e15671c2df86f","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"}]},{"_id":"68923ec9a83e15671c2df873","statement_name":"Earliest","statement_references":[{"_id":"68923ecda83e15671c2dfad1","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"HasStart"}]},{"_id":"68923ec9a83e15671c2df874","statement_name":"HasStart"}]},{"_id":"68923ec9a83e15671c2df890","cql":"library PCMaternalQDM version '4.0.000'\n\nusing QDM version '5.6'\n\ninclude MATGlobalCommonFunctionsQDM version '8.0.000' called Global\n\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\nvalueset \"Delivery Procedures\": 'urn:oid:2.16.840.1.113762.1.4.1045.59' \nvalueset \"ED Visit and OB Triage\": 'urn:oid:2.16.840.1.113762.1.4.1029.369' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Estimated Gestational Age at Delivery\": 'urn:oid:2.16.840.1.113762.1.4.1045.26' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \n\ncode \"Date and time of obstetric delivery\": '93857-1' from \"LOINC\" display 'Date and time of obstetric delivery'\ncode \"Delivery date Estimated\": '11778-8' from \"LOINC\" display 'Delivery date Estimated'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Encounter with Age Range\":\n  Global.\"Inpatient Encounter\" InpatientEncounter\n    where AgeInYearsAt(date from start of InpatientEncounter.relevantPeriod) \u003e= 8\n      and AgeInYearsAt(date from start of InpatientEncounter.relevantPeriod) \u003c 65\n\ndefine \"Delivery Encounter with Age Range\":\n  \"Encounter with Age Range\" EncounterWithAge\n    with [\"Procedure, Performed\": \"Delivery Procedures\"] DeliveryProcedure\n      such that Global.\"NormalizeInterval\" ( DeliveryProcedure.relevantDatetime, DeliveryProcedure.relevantPeriod ) starts during \"HospitalizationWithEDOBTriageObservation\"(EncounterWithAge)\n\ndefine \"Variable Calculated Gestational Age\":\n  //This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition.  \n  \n  \"Delivery Encounter with Age Range\" DeliveryEncounter\n    let CGA: \"CalculatedGestationalAge\"(DeliveryEncounter)\n    return { DeliveryEncounter, CGA }\n\ndefine function \"LastTimeOfDelivery\"(Encounter \"Encounter, Performed\" ):\n  Last([\"Assessment, Performed\": \"Date and time of obstetric delivery\"] TimeOfDelivery\n      where Global.\"EarliestOf\"(TimeOfDelivery.relevantDatetime, TimeOfDelivery.relevantPeriod)during \"HospitalizationWithEDOBTriageObservation\"(Encounter)\n        and TimeOfDelivery.result as DateTime during \"HospitalizationWithEDOBTriageObservation\"(Encounter)\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as DateTime\n\ndefine function \"HospitalizationWithEDOBTriageObservation\"(Encounter \"Encounter, Performed\" ):\n  //HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter.\n  Encounter Visit\n    let ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n        where LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n        sort by \n        end of relevantPeriod\n    ),\n    VisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n    EDOBTriageVisit: Last([\"Encounter, Performed\": \"ED Visit and OB Triage\"] LastEDOBTriage\n        where LastEDOBTriage.relevantPeriod ends 1 hour or less on or before VisitStart\n        sort by \n        end of relevantPeriod\n    )\n    return Interval[Coalesce(start of EDOBTriageVisit.relevantPeriod, VisitStart), \n    end of Visit.relevantPeriod]\n\ndefine function \"LastEstimatedDeliveryDate\"(Encounter \"Encounter, Performed\" ):\n  //This function identifies the last time the Estimated Delivery Date was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.  \n  Last([\"Assessment, Performed\": \"Delivery date Estimated\"] EstimatedDateOfDelivery\n      where Global.\"EarliestOf\"(EstimatedDateOfDelivery.relevantDatetime, EstimatedDateOfDelivery.relevantPeriod)42 weeks or less before or on \"LastTimeOfDelivery\"(Encounter)\n        and EstimatedDateOfDelivery.result is not null\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as DateTime\n\ndefine function \"CalculatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  // Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n  \n  ( 280 - ( difference in days between \"LastTimeOfDelivery\"(Encounter) and \"LastEstimatedDeliveryDate\"(Encounter) ) ) div 7\n\ndefine function \"LastEstimatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  Last([\"Assessment, Performed\": \"Estimated Gestational Age at Delivery\"] EstimatedGestationalAge\n      let EGATiming: Global.\"EarliestOf\"(EstimatedGestationalAge.relevantDatetime, EstimatedGestationalAge.relevantPeriod)\n      where(EGATiming 24 hours or less before or on \"LastTimeOfDelivery\"(Encounter)\n          and EstimatedGestationalAge.result is not null\n      )\n        or(EGATiming same day as \"LastTimeOfDelivery\"(Encounter)\n            and EGATiming during \"HospitalizationWithEDOBTriageObservation\"(Encounter)\n            and EstimatedGestationalAge.result is not null\n        )\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as Quantity\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"239","s":[{"value":["","library PCMaternalQDM version '4.0.000'"]}]}}],"identifier":{"id":"PCMaternalQDM","version":"4.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:67","localIdentifier":"Global","path":"MATGlobalCommonFunctionsQDM","version":"8.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctionsQDM"]}]},{"value":[" version ","'8.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"15","locator":"18:1-18:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"15","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"14","s":[{"value":["Interval\u003c"]},{"r":"13","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"14","locator":"18:32-18:49","type":"IntervalTypeSpecifier","pointType":{"localId":"13","locator":"18:41-18:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"3","locator":"7:1-7:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"4","locator":"9:1-9:71","name":"Delivery Procedures","id":"2.16.840.1.113762.1.4.1045.59","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Delivery Procedures\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.59'"]}]}}]},{"localId":"5","locator":"10:1-10:75","name":"ED Visit and OB Triage","id":"2.16.840.1.113762.1.4.1029.369","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"ED Visit and OB Triage\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.369'"]}]}}]},{"localId":"6","locator":"11:1-11:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"7","locator":"12:1-12:89","name":"Estimated Gestational Age at Delivery","id":"2.16.840.1.113762.1.4.1045.26","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Estimated Gestational Age at Delivery\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.26'"]}]}}]},{"localId":"8","locator":"13:1-13:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]}]},"codes":{"def":[{"localId":"10","locator":"15:1-15:112","name":"Date and time of obstetric delivery","id":"93857-1","display":"Date and time of obstetric delivery","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","code ","\"Date and time of obstetric delivery\"",": ","'93857-1'"," from "]},{"r":"9","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Date and time of obstetric delivery'"]}]}}],"codeSystem":{"localId":"9","locator":"15:60-15:66","name":"LOINC"}},{"localId":"12","locator":"16:1-16:88","name":"Delivery date Estimated","id":"11778-8","display":"Delivery date Estimated","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","code ","\"Delivery date Estimated\"",": ","'11778-8'"," from "]},{"r":"11","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Delivery date Estimated'"]}]}}],"codeSystem":{"localId":"11","locator":"16:48-16:54","name":"LOINC"}}]},"contexts":{"def":[{"locator":"20:1-20:15","name":"Patient"}]},"statements":{"def":[{"locator":"20:1-20:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"20:1-20:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"34","locator":"22:1-25:81","name":"Encounter with Age Range","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"34","s":[{"value":["","define ","\"Encounter with Age Range\"",":\n  "]},{"r":"33","s":[{"s":[{"r":"17","s":[{"r":"16","s":[{"s":[{"value":["Global",".","\"Inpatient Encounter\""]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n    "]},{"r":"32","s":[{"value":["where "]},{"r":"32","s":[{"r":"24","s":[{"r":"22","s":[{"value":["AgeInYearsAt","("]},{"r":"21","s":[{"value":["date from "]},{"r":"20","s":[{"value":["start of "]},{"r":"19","s":[{"r":"18","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"19","s":[{"value":["relevantPeriod"]}]}]}]}]},{"value":[")"]}]},{"r":"23","value":[" ","\u003e="," ","8"]}]},{"value":["\n      and "]},{"r":"31","s":[{"r":"29","s":[{"value":["AgeInYearsAt","("]},{"r":"28","s":[{"value":["date from "]},{"r":"27","s":[{"value":["start of "]},{"r":"26","s":[{"r":"25","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"26","s":[{"value":["relevantPeriod"]}]}]}]}]},{"value":[")"]}]},{"r":"30","value":[" ","\u003c"," ","65"]}]}]}]}]}]}}],"expression":{"localId":"33","locator":"23:3-25:81","type":"Query","source":[{"localId":"17","locator":"23:3-23:49","alias":"InpatientEncounter","expression":{"localId":"16","locator":"23:3-23:30","name":"Inpatient Encounter","libraryName":"Global","type":"ExpressionRef"}}],"relationship":[],"where":{"localId":"32","locator":"24:5-25:81","type":"And","operand":[{"localId":"24","locator":"24:11-24:81","type":"GreaterOrEqual","operand":[{"localId":"22","locator":"24:11-24:76","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"21","locator":"24:24-24:75","type":"DateFrom","operand":{"localId":"20","locator":"24:34-24:75","type":"Start","operand":{"localId":"19","locator":"24:43-24:75","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}}}]},{"localId":"23","locator":"24:81","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"8","type":"Literal"}]},{"localId":"31","locator":"25:11-25:81","type":"Less","operand":[{"localId":"29","locator":"25:11-25:76","precision":"Year","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"28","locator":"25:24-25:75","type":"DateFrom","operand":{"localId":"27","locator":"25:34-25:75","type":"Start","operand":{"localId":"26","locator":"25:43-25:75","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}}}]},{"localId":"30","locator":"25:80-25:81","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"65","type":"Literal"}]}]}}},{"localId":"98","locator":"46:1-61:32","name":"HospitalizationWithEDOBTriageObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"98","s":[{"value":["","define function ","\"HospitalizationWithEDOBTriageObservation\"","(","Encounter"," "]},{"r":"46","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  //HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter.\n  "]},{"r":"97","s":[{"r":"97","s":[{"s":[{"r":"48","s":[{"r":"47","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"64","s":[{"value":["ObsVisit",": "]},{"r":"63","s":[{"value":["Last","("]},{"r":"62","s":[{"s":[{"r":"50","s":[{"r":"49","s":[{"r":"49","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n        "]},{"r":"57","s":[{"value":["where "]},{"r":"57","s":[{"r":"52","s":[{"r":"51","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"52","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"57","s":[{"value":["ends "]},{"r":"56","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"55","s":[{"value":["start of "]},{"r":"54","s":[{"r":"53","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"54","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        "]},{"r":"61","s":[{"value":["sort by \n        "]},{"r":"60","s":[{"r":"59","s":[{"value":["end of "]},{"r":"58","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n    )"]}]}]},{"value":[",\n    "]},{"r":"72","s":[{"value":["VisitStart",": "]},{"r":"71","s":[{"value":["Coalesce","("]},{"r":"67","s":[{"value":["start of "]},{"r":"66","s":[{"r":"65","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"66","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"70","s":[{"value":["start of "]},{"r":"69","s":[{"r":"68","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"69","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n    "]},{"r":"86","s":[{"value":["EDOBTriageVisit",": "]},{"r":"85","s":[{"value":["Last","("]},{"r":"84","s":[{"s":[{"r":"74","s":[{"r":"73","s":[{"r":"73","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"ED Visit and OB Triage\""]}]},{"value":["]"]}]}]},{"value":[" ","LastEDOBTriage"]}]}]},{"value":["\n        "]},{"r":"79","s":[{"value":["where "]},{"r":"79","s":[{"r":"76","s":[{"r":"75","s":[{"value":["LastEDOBTriage"]}]},{"value":["."]},{"r":"76","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"79","s":[{"value":["ends "]},{"r":"78","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"77","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n        "]},{"r":"83","s":[{"value":["sort by \n        "]},{"r":"82","s":[{"r":"81","s":[{"value":["end of "]},{"r":"80","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    "]},{"r":"96","s":[{"value":["return "]},{"r":"95","s":[{"value":["Interval["]},{"r":"91","s":[{"value":["Coalesce","("]},{"r":"89","s":[{"value":["start of "]},{"r":"88","s":[{"r":"87","s":[{"value":["EDOBTriageVisit"]}]},{"value":["."]},{"r":"88","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"90","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n    "]},{"r":"94","s":[{"value":["end of "]},{"r":"93","s":[{"r":"92","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"93","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"97","locator":"48:3-61:32","type":"Query","source":[{"localId":"48","locator":"48:3-48:17","alias":"Visit","expression":{"localId":"47","locator":"48:3-48:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"64","locator":"49:9-53:5","identifier":"ObsVisit","expression":{"localId":"63","locator":"49:19-53:5","type":"Last","source":{"localId":"62","locator":"49:24-52:29","type":"Query","source":[{"localId":"50","locator":"49:24-49:79","alias":"LastObs","expression":{"localId":"49","locator":"49:24-49:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"49:49-49:70","name":"Observation Services","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"57","locator":"50:9-50:99","type":"And","operand":[{"locator":"50:43-50:56","type":"In","operand":[{"locator":"50:38-50:41","type":"End","operand":{"localId":"52","locator":"50:15-50:36","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"50:43-50:56","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"50:71-50:99","type":"Subtract","operand":[{"localId":"55","locator":"50:71-50:99","type":"Start","operand":{"localId":"54","locator":"50:80-50:99","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"56","locator":"50:43-50:48","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"55","locator":"50:71-50:99","type":"Start","operand":{"localId":"54","locator":"50:80-50:99","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"50:43-50:56","type":"Not","operand":{"locator":"50:43-50:56","type":"IsNull","operand":{"localId":"55","locator":"50:71-50:99","type":"Start","operand":{"localId":"54","locator":"50:80-50:99","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"61","locator":"51:9-52:29","by":[{"localId":"60","locator":"52:9-52:29","direction":"asc","type":"ByExpression","expression":{"localId":"59","locator":"52:9-52:29","type":"End","operand":{"localId":"58","locator":"52:16-52:29","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"72","locator":"54:5-54:89","identifier":"VisitStart","expression":{"localId":"71","locator":"54:17-54:89","type":"Coalesce","operand":[{"localId":"67","locator":"54:26-54:57","type":"Start","operand":{"localId":"66","locator":"54:35-54:57","path":"relevantPeriod","type":"Property","source":{"localId":"65","locator":"54:35-54:42","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"70","locator":"54:60-54:88","type":"Start","operand":{"localId":"69","locator":"54:69-54:88","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"86","locator":"55:5-59:5","identifier":"EDOBTriageVisit","expression":{"localId":"85","locator":"55:22-59:5","type":"Last","source":{"localId":"84","locator":"55:27-58:29","type":"Query","source":[{"localId":"74","locator":"55:27-55:91","alias":"LastEDOBTriage","expression":{"localId":"73","locator":"55:27-55:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"55:52-55:75","name":"ED Visit and OB Triage","preserve":true,"type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"79","locator":"56:9-56:87","type":"And","operand":[{"locator":"56:50-56:63","type":"In","operand":[{"locator":"56:45-56:48","type":"End","operand":{"localId":"76","locator":"56:15-56:43","path":"relevantPeriod","scope":"LastEDOBTriage","type":"Property"}},{"locator":"56:50-56:63","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"56:78-56:87","type":"Subtract","operand":[{"localId":"77","locator":"56:78-56:87","name":"VisitStart","type":"QueryLetRef"},{"localId":"78","locator":"56:50-56:55","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"77","locator":"56:78-56:87","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"56:50-56:63","type":"Not","operand":{"locator":"56:50-56:63","type":"IsNull","operand":{"localId":"77","locator":"56:78-56:87","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"83","locator":"57:9-58:29","by":[{"localId":"82","locator":"58:9-58:29","direction":"asc","type":"ByExpression","expression":{"localId":"81","locator":"58:9-58:29","type":"End","operand":{"localId":"80","locator":"58:16-58:29","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"96","locator":"60:5-61:32","expression":{"localId":"95","locator":"60:12-61:32","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"91","locator":"60:21-60:81","type":"Coalesce","operand":[{"localId":"89","locator":"60:30-60:68","type":"Start","operand":{"localId":"88","locator":"60:39-60:68","path":"relevantPeriod","type":"Property","source":{"localId":"87","locator":"60:39-60:53","name":"EDOBTriageVisit","type":"QueryLetRef"}}},{"localId":"90","locator":"60:71-60:80","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"94","locator":"61:5-61:31","type":"End","operand":{"localId":"93","locator":"61:12-61:31","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"46","locator":"46:70-46:91","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"103","locator":"27:1-30:190","name":"Delivery Encounter with Age Range","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"103","s":[{"value":["","define ","\"Delivery Encounter with Age Range\"",":\n  "]},{"r":"102","s":[{"s":[{"r":"36","s":[{"r":"35","s":[{"s":[{"value":["\"Encounter with Age Range\""]}]}]},{"value":[" ","EncounterWithAge"]}]}]},{"value":["\n    "]},{"r":"101","s":[{"value":["with "]},{"r":"38","s":[{"r":"37","s":[{"r":"37","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Delivery Procedures\""]}]},{"value":["]"]}]}]},{"value":[" ","DeliveryProcedure"]}]},{"value":["\n      such that "]},{"r":"100","s":[{"r":"44","s":[{"r":"39","s":[{"value":["Global"]}]},{"value":["."]},{"r":"44","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"41","s":[{"r":"40","s":[{"value":["DeliveryProcedure"]}]},{"value":["."]},{"r":"41","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"43","s":[{"r":"42","s":[{"value":["DeliveryProcedure"]}]},{"value":["."]},{"r":"43","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"100","value":[" ","starts during"," "]},{"r":"99","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"45","s":[{"value":["EncounterWithAge"]}]},{"value":[")"]}]}]}]}]}]}}],"expression":{"localId":"102","locator":"28:3-30:190","type":"Query","source":[{"localId":"36","locator":"28:3-28:45","alias":"EncounterWithAge","expression":{"localId":"35","locator":"28:3-28:28","name":"Encounter with Age Range","type":"ExpressionRef"}}],"relationship":[{"localId":"101","locator":"29:5-30:190","alias":"DeliveryProcedure","type":"With","expression":{"localId":"37","locator":"29:10-29:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"29:35-29:55","name":"Delivery Procedures","preserve":true,"type":"ValueSetRef"}},"suchThat":{"localId":"100","locator":"30:17-30:190","type":"In","operand":[{"locator":"30:117-30:122","type":"Start","operand":{"localId":"44","locator":"30:17-30:115","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"41","locator":"30:46-30:79","path":"relevantDatetime","scope":"DeliveryProcedure","type":"Property"},{"localId":"43","locator":"30:82-30:113","path":"relevantPeriod","scope":"DeliveryProcedure","type":"Property"}]}},{"localId":"99","locator":"30:131-30:190","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","operand":[{"localId":"45","locator":"30:174-30:189","name":"EncounterWithAge","type":"AliasRef"}]}]}}]}},{"localId":"141","locator":"39:1-44:22","name":"LastTimeOfDelivery","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"141","s":[{"value":["","define function ","\"LastTimeOfDelivery\"","(","Encounter"," "]},{"r":"110","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"140","s":[{"r":"140","s":[{"r":"138","s":[{"r":"137","s":[{"value":["Last","("]},{"r":"136","s":[{"s":[{"r":"112","s":[{"r":"111","s":[{"r":"111","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Date and time of obstetric delivery\""]}]},{"value":["]"]}]}]},{"value":[" ","TimeOfDelivery"]}]}]},{"value":["\n      "]},{"r":"129","s":[{"value":["where "]},{"r":"129","s":[{"r":"121","s":[{"r":"118","s":[{"r":"113","s":[{"value":["Global"]}]},{"value":["."]},{"r":"118","s":[{"value":["\"EarliestOf\"","("]},{"r":"115","s":[{"r":"114","s":[{"value":["TimeOfDelivery"]}]},{"value":["."]},{"r":"115","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"117","s":[{"r":"116","s":[{"value":["TimeOfDelivery"]}]},{"value":["."]},{"r":"117","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"121","value":["during"," "]},{"r":"120","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"119","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n        and "]},{"r":"128","s":[{"r":"125","s":[{"r":"123","s":[{"r":"122","s":[{"value":["TimeOfDelivery"]}]},{"value":["."]},{"r":"123","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"124","s":[{"value":["DateTime"]}]}]},{"r":"128","value":[" ","during"," "]},{"r":"127","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"126","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]},{"value":["\n      "]},{"r":"135","s":[{"value":["sort by "]},{"r":"134","s":[{"r":"133","s":[{"r":"130","s":[{"value":["Global"]}]},{"value":["."]},{"r":"133","s":[{"value":["\"EarliestOf\"","("]},{"r":"131","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"132","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"138","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"139","s":[{"value":["DateTime"]}]}]}]}]}}],"expression":{"localId":"140","locator":"40:3-44:22","strict":false,"type":"As","operand":{"localId":"138","locator":"40:3-44:10","path":"result","type":"Property","source":{"localId":"137","locator":"40:3-44:3","type":"Last","source":{"localId":"136","locator":"40:8-43:67","type":"Query","source":[{"localId":"112","locator":"40:8-40:86","alias":"TimeOfDelivery","expression":{"localId":"111","locator":"40:8-40:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"40:34-40:70","name":"Date and time of obstetric delivery","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"129","locator":"41:7-42:106","type":"And","operand":[{"localId":"121","locator":"41:13-41:155","type":"In","operand":[{"localId":"118","locator":"41:13-41:95","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"115","locator":"41:33-41:63","path":"relevantDatetime","scope":"TimeOfDelivery","type":"Property"},{"localId":"117","locator":"41:66-41:94","path":"relevantPeriod","scope":"TimeOfDelivery","type":"Property"}]},{"localId":"120","locator":"41:103-41:155","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","operand":[{"localId":"119","locator":"41:146-41:154","name":"Encounter","type":"OperandRef"}]}]},{"localId":"128","locator":"42:13-42:106","type":"In","operand":[{"localId":"125","locator":"42:13-42:45","strict":false,"type":"As","operand":{"localId":"123","locator":"42:13-42:33","path":"result","scope":"TimeOfDelivery","type":"Property"},"asTypeSpecifier":{"localId":"124","locator":"42:38-42:45","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"127","locator":"42:54-42:106","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","operand":[{"localId":"126","locator":"42:97-42:105","name":"Encounter","type":"OperandRef"}]}]}]},"sort":{"localId":"135","locator":"43:7-43:67","by":[{"localId":"134","locator":"43:15-43:67","direction":"asc","type":"ByExpression","expression":{"localId":"133","locator":"43:15-43:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"131","locator":"43:35-43:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"132","locator":"43:53-43:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"139","locator":"44:15-44:22","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"110","locator":"39:48-39:69","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"172","locator":"63:1-69:22","name":"LastEstimatedDeliveryDate","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"172","s":[{"value":["","define function ","\"LastEstimatedDeliveryDate\"","(","Encounter"," "]},{"r":"144","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  //This function identifies the last time the Estimated Delivery Date was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.  \n  "]},{"r":"171","s":[{"r":"171","s":[{"r":"169","s":[{"r":"168","s":[{"value":["Last","("]},{"r":"167","s":[{"s":[{"r":"146","s":[{"r":"145","s":[{"r":"145","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Delivery date Estimated\""]}]},{"value":["]"]}]}]},{"value":[" ","EstimatedDateOfDelivery"]}]}]},{"value":["\n      "]},{"r":"160","s":[{"value":["where "]},{"r":"160","s":[{"r":"156","s":[{"r":"152","s":[{"r":"147","s":[{"value":["Global"]}]},{"value":["."]},{"r":"152","s":[{"value":["\"EarliestOf\"","("]},{"r":"149","s":[{"r":"148","s":[{"value":["EstimatedDateOfDelivery"]}]},{"value":["."]},{"r":"149","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"151","s":[{"r":"150","s":[{"value":["EstimatedDateOfDelivery"]}]},{"value":["."]},{"r":"151","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"156","s":[{"r":"155","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before or on"]}]},{"value":[" "]},{"r":"154","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"153","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n        and "]},{"r":"159","s":[{"r":"158","s":[{"r":"157","s":[{"value":["EstimatedDateOfDelivery"]}]},{"value":["."]},{"r":"158","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"166","s":[{"value":["sort by "]},{"r":"165","s":[{"r":"164","s":[{"r":"161","s":[{"value":["Global"]}]},{"value":["."]},{"r":"164","s":[{"value":["\"EarliestOf\"","("]},{"r":"162","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"163","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"169","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"170","s":[{"value":["DateTime"]}]}]}]}]}}],"expression":{"localId":"171","locator":"65:3-69:22","strict":false,"type":"As","operand":{"localId":"169","locator":"65:3-69:10","path":"result","type":"Property","source":{"localId":"168","locator":"65:3-69:3","type":"Last","source":{"localId":"167","locator":"65:8-68:67","type":"Query","source":[{"localId":"146","locator":"65:8-65:83","alias":"EstimatedDateOfDelivery","expression":{"localId":"145","locator":"65:8-65:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"65:34-65:58","name":"Delivery date Estimated","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"160","locator":"66:7-67:54","type":"And","operand":[{"localId":"156","locator":"66:13-66:174","type":"And","operand":[{"locator":"66:114-66:129","type":"In","operand":[{"localId":"152","locator":"66:13-66:113","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"149","locator":"66:33-66:72","path":"relevantDatetime","scope":"EstimatedDateOfDelivery","type":"Property"},{"localId":"151","locator":"66:75-66:112","path":"relevantPeriod","scope":"EstimatedDateOfDelivery","type":"Property"}]},{"locator":"66:114-66:129","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"66:144-66:174","type":"Subtract","operand":[{"localId":"154","locator":"66:144-66:174","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"153","locator":"66:165-66:173","name":"Encounter","type":"OperandRef"}]},{"localId":"155","locator":"66:114-66:121","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"154","locator":"66:144-66:174","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"153","locator":"66:165-66:173","name":"Encounter","type":"OperandRef"}]}}]},{"locator":"66:114-66:129","type":"Not","operand":{"locator":"66:114-66:129","type":"IsNull","operand":{"localId":"154","locator":"66:144-66:174","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"153","locator":"66:165-66:173","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"159","locator":"67:13-67:54","type":"Not","operand":{"locator":"67:13-67:54","type":"IsNull","operand":{"localId":"158","locator":"67:13-67:42","path":"result","scope":"EstimatedDateOfDelivery","type":"Property"}}}]},"sort":{"localId":"166","locator":"68:7-68:67","by":[{"localId":"165","locator":"68:15-68:67","direction":"asc","type":"ByExpression","expression":{"localId":"164","locator":"68:15-68:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"162","locator":"68:35-68:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"163","locator":"68:53-68:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"170","locator":"69:15-69:22","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"144","locator":"63:55-63:76","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"178","locator":"71:1-74:123","name":"CalculatedGestationalAge","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"178","s":[{"value":["","define function ","\"CalculatedGestationalAge\"","(","Encounter"," "]},{"r":"107","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  // Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n  \n  "]},{"r":"177","s":[{"r":"177","s":[{"r":"175","s":[{"value":["( "]},{"r":"175","s":[{"r":"108","value":["280"," - "]},{"r":"174","s":[{"value":["( "]},{"r":"174","s":[{"value":["difference in days between "]},{"r":"142","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"109","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[" and "]},{"r":"173","s":[{"value":["\"LastEstimatedDeliveryDate\"","("]},{"r":"143","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":[" )"]}]}]},{"value":[" )"]}]},{"r":"176","value":[" div ","7"]}]}]}]}}],"expression":{"localId":"177","locator":"74:3-74:123","type":"TruncatedDivide","operand":[{"localId":"175","locator":"74:3-74:117","type":"Subtract","operand":[{"localId":"108","locator":"74:5-74:7","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"280","type":"Literal"},{"localId":"174","locator":"74:11-74:115","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"142","locator":"74:40-74:70","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"109","locator":"74:61-74:69","name":"Encounter","type":"OperandRef"}]},{"localId":"173","locator":"74:76-74:113","name":"LastEstimatedDeliveryDate","type":"FunctionRef","operand":[{"localId":"143","locator":"74:104-74:112","name":"Encounter","type":"OperandRef"}]}]}]},{"localId":"176","locator":"74:123","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"7","type":"Literal"}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"107","locator":"71:54-71:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"186","locator":"32:1-37:37","name":"Variable Calculated Gestational Age","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"186","s":[{"value":["","define ","\"Variable Calculated Gestational Age\"",":\n  //This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition.  \n  \n  "]},{"r":"185","s":[{"s":[{"r":"105","s":[{"r":"104","s":[{"s":[{"value":["\"Delivery Encounter with Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"180","s":[{"value":["CGA",": "]},{"r":"179","s":[{"value":["\"CalculatedGestationalAge\"","("]},{"r":"106","s":[{"value":["DeliveryEncounter"]}]},{"value":[")"]}]}]}]},{"value":["\n    "]},{"r":"184","s":[{"value":["return "]},{"r":"183","s":[{"value":["{ "]},{"r":"181","s":[{"value":["DeliveryEncounter"]}]},{"value":[", "]},{"r":"182","s":[{"value":["CGA"]}]},{"value":[" }"]}]}]}]}]}}],"expression":{"localId":"185","locator":"35:3-37:37","type":"Query","source":[{"localId":"105","locator":"35:3-35:55","alias":"DeliveryEncounter","expression":{"localId":"104","locator":"35:3-35:37","name":"Delivery Encounter with Age Range","type":"ExpressionRef"}}],"let":[{"localId":"180","locator":"36:9-36:58","identifier":"CGA","expression":{"localId":"179","locator":"36:14-36:58","name":"CalculatedGestationalAge","type":"FunctionRef","operand":[{"localId":"106","locator":"36:41-36:57","name":"DeliveryEncounter","type":"AliasRef"}]}}],"relationship":[],"return":{"localId":"184","locator":"37:5-37:37","expression":{"localId":"183","locator":"37:12-37:37","type":"List","element":[{"localId":"181","locator":"37:14-37:30","name":"DeliveryEncounter","type":"AliasRef"},{"localId":"182","locator":"37:33-37:35","name":"CGA","type":"QueryLetRef"}]}}}},{"localId":"239","locator":"76:1-87:22","name":"LastEstimatedGestationalAge","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"239","s":[{"value":["","define function ","\"LastEstimatedGestationalAge\"","(","Encounter"," "]},{"r":"195","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"238","s":[{"r":"238","s":[{"r":"236","s":[{"r":"235","s":[{"value":["Last","("]},{"r":"234","s":[{"s":[{"r":"197","s":[{"r":"196","s":[{"r":"196","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Estimated Gestational Age at Delivery\""]}]},{"value":["]"]}]}]},{"value":[" ","EstimatedGestationalAge"]}]}]},{"value":["\n      "]},{"s":[{"value":["let "]},{"r":"204","s":[{"value":["EGATiming",": "]},{"r":"203","s":[{"r":"198","s":[{"value":["Global"]}]},{"value":["."]},{"r":"203","s":[{"value":["\"EarliestOf\"","("]},{"r":"200","s":[{"r":"199","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"200","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"202","s":[{"r":"201","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"202","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]}]}]},{"value":["\n      "]},{"r":"227","s":[{"value":["where"]},{"r":"227","s":[{"r":"213","s":[{"value":["("]},{"r":"213","s":[{"r":"209","s":[{"r":"205","s":[{"value":["EGATiming"]}]},{"value":[" "]},{"r":"209","s":[{"r":"208","s":[{"value":["24 ","hours"]}]},{"value":[" or less before or on"]}]},{"value":[" "]},{"r":"207","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"206","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n          and "]},{"r":"212","s":[{"r":"211","s":[{"r":"210","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"211","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      )"]}]},{"value":["\n        or"]},{"r":"226","s":[{"value":["("]},{"r":"226","s":[{"r":"222","s":[{"r":"217","s":[{"r":"214","s":[{"value":["EGATiming"]}]},{"r":"217","value":[" ","same day as"," "]},{"r":"216","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"215","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n            and "]},{"r":"221","s":[{"r":"218","s":[{"value":["EGATiming"]}]},{"r":"221","value":[" ","during"," "]},{"r":"220","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"219","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n            and "]},{"r":"225","s":[{"r":"224","s":[{"r":"223","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"224","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n        )"]}]}]}]},{"value":["\n      "]},{"r":"233","s":[{"value":["sort by "]},{"r":"232","s":[{"r":"231","s":[{"r":"228","s":[{"value":["Global"]}]},{"value":["."]},{"r":"231","s":[{"value":["\"EarliestOf\"","("]},{"r":"229","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"230","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"236","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"237","s":[{"value":["Quantity"]}]}]}]}]}}],"expression":{"localId":"238","locator":"77:3-87:22","strict":false,"type":"As","operand":{"localId":"236","locator":"77:3-87:10","path":"result","type":"Property","source":{"localId":"235","locator":"77:3-87:3","type":"Last","source":{"localId":"234","locator":"77:8-86:67","type":"Query","source":[{"localId":"197","locator":"77:8-77:97","alias":"EstimatedGestationalAge","expression":{"localId":"196","locator":"77:8-77:73","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"77:34-77:72","name":"Estimated Gestational Age at Delivery","preserve":true,"type":"ValueSetRef"}}}],"let":[{"localId":"204","locator":"78:11-78:122","identifier":"EGATiming","expression":{"localId":"203","locator":"78:22-78:122","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"200","locator":"78:42-78:81","path":"relevantDatetime","scope":"EstimatedGestationalAge","type":"Property"},{"localId":"202","locator":"78:84-78:121","path":"relevantPeriod","scope":"EstimatedGestationalAge","type":"Property"}]}}],"relationship":[],"where":{"localId":"227","locator":"79:7-85:9","type":"Or","operand":[{"localId":"213","locator":"79:12-81:7","type":"And","operand":[{"localId":"209","locator":"79:13-79:83","type":"And","operand":[{"locator":"79:23-79:38","type":"In","operand":[{"localId":"205","locator":"79:13-79:21","name":"EGATiming","type":"QueryLetRef"},{"locator":"79:23-79:38","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"79:53-79:83","type":"Subtract","operand":[{"localId":"207","locator":"79:53-79:83","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"206","locator":"79:74-79:82","name":"Encounter","type":"OperandRef"}]},{"localId":"208","locator":"79:23-79:30","value":24,"unit":"hours","type":"Quantity"}]},"high":{"localId":"207","locator":"79:53-79:83","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"206","locator":"79:74-79:82","name":"Encounter","type":"OperandRef"}]}}]},{"locator":"79:23-79:38","type":"Not","operand":{"locator":"79:23-79:38","type":"IsNull","operand":{"localId":"207","locator":"79:53-79:83","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"206","locator":"79:74-79:82","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"212","locator":"80:15-80:56","type":"Not","operand":{"locator":"80:15-80:56","type":"IsNull","operand":{"localId":"211","locator":"80:15-80:44","path":"result","scope":"EstimatedGestationalAge","type":"Property"}}}]},{"localId":"226","locator":"82:11-85:9","type":"And","operand":[{"localId":"222","locator":"82:12-83:86","type":"And","operand":[{"localId":"217","locator":"82:12-82:64","precision":"Day","type":"SameAs","operand":[{"localId":"214","locator":"82:12-82:20","name":"EGATiming","type":"QueryLetRef"},{"localId":"216","locator":"82:34-82:64","name":"LastTimeOfDelivery","type":"FunctionRef","operand":[{"localId":"215","locator":"82:55-82:63","name":"Encounter","type":"OperandRef"}]}]},{"localId":"221","locator":"83:17-83:86","type":"In","operand":[{"localId":"218","locator":"83:17-83:25","name":"EGATiming","type":"QueryLetRef"},{"localId":"220","locator":"83:34-83:86","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","operand":[{"localId":"219","locator":"83:77-83:85","name":"Encounter","type":"OperandRef"}]}]}]},{"localId":"225","locator":"84:17-84:58","type":"Not","operand":{"locator":"84:17-84:58","type":"IsNull","operand":{"localId":"224","locator":"84:17-84:46","path":"result","scope":"EstimatedGestationalAge","type":"Property"}}}]}]},"sort":{"localId":"233","locator":"86:7-86:67","by":[{"localId":"232","locator":"86:15-86:67","direction":"asc","type":"ByExpression","expression":{"localId":"231","locator":"86:15-86:67","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"229","locator":"86:35-86:50","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"230","locator":"86:53-86:66","name":"relevantPeriod","type":"IdentifierRef"}]}}]}}}},"asTypeSpecifier":{"localId":"237","locator":"87:15-87:22","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"195","locator":"76:57-76:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Encounter with Age Range\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global.\"Inpatient Encounter\""}]}]}],"node_type":"ExpressionRef","ref_id":"16"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"17"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"18"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"19"}],"node_type":"Property","ref_id":"19"}],"node_type":"Start","ref_id":"20"}],"node_type":"DateFrom","ref_id":"21"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"22"},{"children":[{"text":" \u003e= 8"}],"node_type":"Literal","ref_id":"23"}],"node_type":"GreaterOrEqual","ref_id":"24"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"25"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"26"}],"node_type":"Property","ref_id":"26"}],"node_type":"Start","ref_id":"27"}],"node_type":"DateFrom","ref_id":"28"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"29"},{"children":[{"text":" \u003c 65"}],"node_type":"Literal","ref_id":"30"}],"node_type":"Less","ref_id":"31"}],"ref_id":"32"}],"ref_id":"32"}],"node_type":"Query","ref_id":"33"}],"ref_id":"34"}],"define_name":"Encounter with Age Range"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalizationWithEDOBTriageObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"46"},{"children":[{"text":" ):\n  //HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter.\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"47"},{"children":[{"text":" Visit"}]}],"ref_id":"48"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"49"}],"node_type":"Retrieve","ref_id":"49"},{"children":[{"text":" LastObs"}]}],"ref_id":"50"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"51"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"52"}],"node_type":"Property","ref_id":"52"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"56"},{"children":[{"text":" or less on or before"}]}],"ref_id":"57"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"54"}],"node_type":"Property","ref_id":"54"}],"node_type":"Start","ref_id":"55"}],"ref_id":"57"}],"ref_id":"57"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"58"}],"node_type":"End","ref_id":"59"}],"ref_id":"60"}],"ref_id":"61"}],"ref_id":"62"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"63"}],"ref_id":"64"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"65"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"66"}],"node_type":"Property","ref_id":"66"}],"node_type":"Start","ref_id":"67"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"68"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"69"}],"node_type":"Property","ref_id":"69"}],"node_type":"Start","ref_id":"70"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"71"}],"ref_id":"72"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDOBTriageVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"ED Visit and OB Triage\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"73"}],"node_type":"Retrieve","ref_id":"73"},{"children":[{"text":" LastEDOBTriage"}]}],"ref_id":"74"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastEDOBTriage"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"76"}],"node_type":"Property","ref_id":"76"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"78"},{"children":[{"text":" or less on or before"}]}],"ref_id":"79"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"77"}],"ref_id":"79"}],"ref_id":"79"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"80"}],"node_type":"End","ref_id":"81"}],"ref_id":"82"}],"ref_id":"83"}],"ref_id":"84"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"85"}],"ref_id":"86"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDOBTriageVisit"}]}],"ref_id":"87"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"88"}],"node_type":"Property","ref_id":"88"}],"node_type":"Start","ref_id":"89"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"90"},{"children":[{"text":")"}]}],"ref_id":"91"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"92"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"93"}],"node_type":"Property","ref_id":"93"}],"ref_id":"94"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"95"}],"ref_id":"96"}],"node_type":"Query","ref_id":"97"}],"node_type":"Query","ref_id":"97"}],"ref_id":"98"}],"define_name":"HospitalizationWithEDOBTriageObservation"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter with Age Range\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter with Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"35"},{"children":[{"text":" EncounterWithAge"}]}],"ref_id":"36"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Delivery Procedures\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"37"}],"node_type":"Retrieve","ref_id":"37"},{"children":[{"text":" DeliveryProcedure"}]}],"ref_id":"38"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"39"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"DeliveryProcedure"}]}],"ref_id":"40"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"41"}],"node_type":"Property","ref_id":"41"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"DeliveryProcedure"}]}],"ref_id":"42"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"43"}],"node_type":"Property","ref_id":"43"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"44"}],"node_type":"FunctionRef","ref_id":"44"},{"children":[{"text":" starts during "}],"node_type":"In","ref_id":"100"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"EncounterWithAge"}]}],"node_type":"AliasRef","ref_id":"45"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"99"}],"node_type":"In","ref_id":"100"}],"ref_id":"101"}],"node_type":"Query","ref_id":"102"}],"ref_id":"103"}],"define_name":"Delivery Encounter with Age Range"},{"children":[{"children":[{"children":[{"text":"define function \"LastTimeOfDelivery\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"110"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Date and time of obstetric delivery\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"111"}],"node_type":"Retrieve","ref_id":"111"},{"children":[{"text":" TimeOfDelivery"}]}],"ref_id":"112"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"113"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"TimeOfDelivery"}]}],"ref_id":"114"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"115"}],"node_type":"Property","ref_id":"115"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TimeOfDelivery"}]}],"ref_id":"116"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"117"}],"node_type":"Property","ref_id":"117"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"118"}],"node_type":"FunctionRef","ref_id":"118"},{"children":[{"text":"during "}],"node_type":"In","ref_id":"121"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"119"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"120"}],"node_type":"In","ref_id":"121"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"TimeOfDelivery"}]}],"ref_id":"122"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"123"}],"node_type":"Property","ref_id":"123"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"124"}],"node_type":"As","ref_id":"125"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"128"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"126"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"127"}],"node_type":"In","ref_id":"128"}],"ref_id":"129"}],"ref_id":"129"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"130"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"131"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"132"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"133"}],"node_type":"FunctionRef","ref_id":"133"}],"ref_id":"134"}],"ref_id":"135"}],"ref_id":"136"},{"children":[{"text":"\n  )"}]}],"ref_id":"137"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"138"}],"node_type":"Property","ref_id":"138"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"139"}],"node_type":"As","ref_id":"140"}],"node_type":"As","ref_id":"140"}],"ref_id":"141"}],"define_name":"LastTimeOfDelivery"},{"children":[{"children":[{"children":[{"text":"define function \"LastEstimatedDeliveryDate\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"144"},{"children":[{"text":" ):\n  //This function identifies the last time the Estimated Delivery Date was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.  \n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Delivery date Estimated\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"145"}],"node_type":"Retrieve","ref_id":"145"},{"children":[{"text":" EstimatedDateOfDelivery"}]}],"ref_id":"146"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"147"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"EstimatedDateOfDelivery"}]}],"ref_id":"148"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"149"}],"node_type":"Property","ref_id":"149"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"EstimatedDateOfDelivery"}]}],"ref_id":"150"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"151"}],"node_type":"Property","ref_id":"151"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"152"}],"node_type":"FunctionRef","ref_id":"152"},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"155"},{"children":[{"text":" or less before or on"}]}],"node_type":"And","ref_id":"156"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"153"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"154"}],"node_type":"And","ref_id":"156"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EstimatedDateOfDelivery"}]}],"ref_id":"157"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"158"}],"node_type":"Property","ref_id":"158"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"159"}],"ref_id":"160"}],"ref_id":"160"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"161"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"162"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"163"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"164"}],"node_type":"FunctionRef","ref_id":"164"}],"ref_id":"165"}],"ref_id":"166"}],"ref_id":"167"},{"children":[{"text":"\n  )"}]}],"ref_id":"168"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"169"}],"node_type":"Property","ref_id":"169"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"170"}],"node_type":"As","ref_id":"171"}],"node_type":"As","ref_id":"171"}],"ref_id":"172"}],"define_name":"LastEstimatedDeliveryDate"},{"children":[{"children":[{"children":[{"text":"define function \"CalculatedGestationalAge\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"107"},{"children":[{"text":" ):\n  // Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n  \n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"280 - "}],"node_type":"Literal","ref_id":"108"},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"109"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"142"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"\"LastEstimatedDeliveryDate\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"143"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"173"}],"node_type":"DifferenceBetween","ref_id":"174"},{"children":[{"text":" )"}]}],"node_type":"DifferenceBetween","ref_id":"174"}],"node_type":"Subtract","ref_id":"175"},{"children":[{"text":" )"}]}],"node_type":"Subtract","ref_id":"175"},{"children":[{"text":" div 7"}],"node_type":"Literal","ref_id":"176"}],"node_type":"TruncatedDivide","ref_id":"177"}],"node_type":"TruncatedDivide","ref_id":"177"}],"ref_id":"178"}],"define_name":"CalculatedGestationalAge"},{"children":[{"children":[{"children":[{"text":"define \"Variable Calculated Gestational Age\":\n  //This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition.  \n  \n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Delivery Encounter with Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"104"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"105"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"CGA: "}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\"("}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"106"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"179"}],"ref_id":"180"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"ref_id":"181"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"CGA"}]}],"ref_id":"182"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"183"}],"ref_id":"184"}],"node_type":"Query","ref_id":"185"}],"ref_id":"186"}],"define_name":"Variable Calculated Gestational Age"},{"children":[{"children":[{"children":[{"text":"define function \"LastEstimatedGestationalAge\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"195"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Estimated Gestational Age at Delivery\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"196"}],"node_type":"Retrieve","ref_id":"196"},{"children":[{"text":" EstimatedGestationalAge"}]}],"ref_id":"197"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EGATiming: "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"198"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"199"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"200"}],"node_type":"Property","ref_id":"200"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"201"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"202"}],"node_type":"Property","ref_id":"202"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"203"}],"node_type":"FunctionRef","ref_id":"203"}],"ref_id":"204"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where"}]},{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"children":[{"text":"EGATiming"}]}],"node_type":"QueryLetRef","ref_id":"205"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"24 hours"}]}],"node_type":"Quantity","ref_id":"208"},{"children":[{"text":" or less before or on"}]}],"node_type":"And","ref_id":"209"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"206"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"207"}],"node_type":"And","ref_id":"209"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"210"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"211"}],"node_type":"Property","ref_id":"211"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"212"}],"node_type":"And","ref_id":"213"},{"children":[{"text":"\n      )"}]}],"node_type":"And","ref_id":"213"},{"children":[{"text":"\n        or"}]},{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EGATiming"}]}],"node_type":"QueryLetRef","ref_id":"214"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"217"},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"215"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"216"}],"node_type":"SameAs","ref_id":"217"},{"children":[{"text":"\n            and "}]},{"children":[{"children":[{"children":[{"text":"EGATiming"}]}],"node_type":"QueryLetRef","ref_id":"218"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"221"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"219"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"220"}],"node_type":"In","ref_id":"221"}],"node_type":"And","ref_id":"222"},{"children":[{"text":"\n            and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"223"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"224"}],"node_type":"Property","ref_id":"224"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"225"}],"node_type":"And","ref_id":"226"},{"children":[{"text":"\n        )"}]}],"node_type":"And","ref_id":"226"}],"ref_id":"227"}],"ref_id":"227"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"228"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"229"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"230"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"231"}],"node_type":"FunctionRef","ref_id":"231"}],"ref_id":"232"}],"ref_id":"233"}],"ref_id":"234"},{"children":[{"text":"\n  )"}]}],"ref_id":"235"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"236"}],"node_type":"Property","ref_id":"236"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Quantity"}]}],"ref_id":"237"}],"node_type":"As","ref_id":"238"}],"node_type":"As","ref_id":"238"}],"ref_id":"239"}],"define_name":"LastEstimatedGestationalAge"}],"identifier":{"id":"PCMaternalQDM","version":"4.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"PCMaternalQDM","library_version":"4.0.000","statement_dependencies":[{"_id":"68923ec9a83e15671c2df885","statement_name":"Delivery Encounter with Age Range","statement_references":[{"_id":"68923ec9a83e15671c2df875","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Encounter with Age Range"},{"_id":"68923ec9a83e15671c2df876","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"NormalizeInterval"},{"_id":"68923ec9a83e15671c2df877","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"68923ec9a83e15671c2df886","statement_name":"Encounter with Age Range","statement_references":[{"_id":"68923ec9a83e15671c2df878","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"Inpatient Encounter"},{"_id":"68923ec9a83e15671c2df879","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Patient"}]},{"_id":"68923ec9a83e15671c2df887","statement_name":"Patient"},{"_id":"68923ec9a83e15671c2df888","statement_name":"HospitalizationWithEDOBTriageObservation"},{"_id":"68923ec9a83e15671c2df889","statement_name":"CalculatedGestationalAge","statement_references":[{"_id":"68923ec9a83e15671c2df87a","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"},{"_id":"68923ec9a83e15671c2df87b","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastEstimatedDeliveryDate"}]},{"_id":"68923ec9a83e15671c2df88a","statement_name":"LastTimeOfDelivery","statement_references":[{"_id":"68923ec9a83e15671c2df87c","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df87d","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"68923ec9a83e15671c2df88b","statement_name":"LastEstimatedDeliveryDate","statement_references":[{"_id":"68923ec9a83e15671c2df87e","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df87f","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"68923ec9a83e15671c2df88c","statement_name":"LastEstimatedGestationalAge","statement_references":[{"_id":"68923ec9a83e15671c2df880","hqmf_id":null,"library_name":"MATGlobalCommonFunctionsQDM","statement_name":"EarliestOf"},{"_id":"68923ec9a83e15671c2df881","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"},{"_id":"68923ec9a83e15671c2df882","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"68923ec9a83e15671c2df88d","statement_name":"Variable Calculated Gestational Age","statement_references":[{"_id":"68923ec9a83e15671c2df883","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter with Age Range"},{"_id":"68923ec9a83e15671c2df884","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"}]}]}],"created_at":null,"description":"Nulliparous women with a term, singleton baby in a vertex position delivered by cesarean birth","hqmf_id":"8A6D0454-8DF0-2D9F-018E-14A0657F1429","hqmf_set_id":"FC52D0DE-B53D-4CCF-816E-1E527748D2D9","hqmf_version_number":"6.1.000","main_cql_library":"CesareanBirth","measure_attributes":[{"code":"OTH","value":"334","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"334","media_type":"text/plain"}},{"code":"OTH","value":"0471e","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"0471e","media_type":"text/plain"}},{"code":"COPY","value":"Measure specifications are in the Public Domain.\n\nLOINC(R) copyright 2004-2023 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 copyright 2023 World Health Organization. All Rights Reserved.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"Measure specifications are in the Public Domain.\n\nLOINC(R) copyright 2004-2023 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2023 International Health Terminology Standards Development Organisation. ICD-10 copyright 2023 World Health Organization. All Rights Reserved.","media_type":"text/plain"}},{"code":"DISC","value":"These performance measures are not clinical guidelines and do not establish a standard of medical care and have not been tested for all potential applications. The measures and specifications are provided without warranty.","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"These performance measures are not clinical guidelines and do not establish a standard of medical care and have not been tested for all potential applications. The measures and specifications are provided without warranty.","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"OUTCOME","title":"OUTCOME"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"The removal of any pressure to not perform a cesarean birth has led to a skyrocketing of hospital, state and national cesarean birth (CB) rates. Some hospitals’ CB rates were over 50%. Hospitals with CB rates at 15-20% have infant outcomes that are just as good and better maternal outcomes (Symum \u0026 Zayas-Castro, 2023). There is no data that higher rates improve any outcomes, yet the CB rates continue to rise (Bailit, Garrett, Miller, McMahon, \u0026 Cefalo, 2002; Main, Bloomfield, \u0026 Hunt, 2004). This measure seeks to focus attention on the most variable portion of the CB epidemic, the term labor CB in nulliparous women. This population segment accounts for the large majority of the variable portion of the CB rate and is the area most affected by subjectivity.\n\nAs compared to other CB measures, what is different about Nulliparous, Term, Singleton, Vertex (NTSV) CB rate is that there are clear cut quality improvement activities that can be done to address the differences. Main et al. (2012) found that over 60% of the variation among hospitals can be attributed to first birth labor induction rates and first birth early labor admission rates (Main et al., 2006). The results showed if labor was forced when the cervix was not ready the outcomes were poorer. Rosenstein et al. (2021) also showed that labor and delivery guidelines can make a difference in labor outcomes. Many authors have shown that physician factors, rather than patient characteristics or obstetric diagnoses are the major driver for the difference in rates within a hospital (Berkowitz, Fiarman, Mojica, Bauman, \u0026 de Regt, 1989; Goyert, Bottoms, Treadwell, \u0026 Nehra, 1989; Luthy, Malmgren, Zingheim, \u0026 Leininger, 2003; Symum \u0026 Zayas-Castro, 2023; Main et al., 2006). The dramatic variation in cesarean rates seen in all populations studied is striking. Cesarean rates varied tenfold in US hospitals nationwide across hospitals (Agency for Healthcare Research and Quality [AHRQ], 2002), from 7.1% to 69.9%, and there was a 15-fold variation among low-risk women, from 2.4% to 36.5% (Kozhimannil, Law, \u0026 Virnig, 2013).\n\nA reduction in the number of NTSV patients delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs (Main et al., 2019). Successful quality improvement efforts incorporate audit and feedback strategies combined with provider and nurse education, guidelines and peer review.\n\nThe measure will assist health care organizations to track NTSV patients delivering by cesarean birth to reduce the occurrence. Nulliparous women have 4-6 times the cesarean birth rate than multiparous women thus the NTSV population is the largest driver of primary cesarean birth rate (Sakala, Belanoff, \u0026 Declercq, 2020). NTSV has a large variation among facilities, thus identifying an important population on which to focus quality improvement efforts.\n\nIn accordance with the American College of Obstetricians and Gynecologists (ACOG) recommendations (2020), cesarean delivery is indicated for patients with active genital lesions of genital herpes or prodromal symptoms (i.e., vulvar pain or burning at delivery) that may indicate viral shedding. Therefore, the measure will exclude encounters with a diagnosis of active genital herpes.\n\nIn addition, the accepted approach to treat placenta accreta spectrum, or the range of pathologic adherence of the placenta that includes placenta increta, placenta percreta, and placenta accreta, as well as placenta previa, is cesarean delivery (ACOG \u0026 Society for Maternal-Fetal Medicine (SMFM), 2018). Vasa previa is an indication for cesarean delivery (SMFM Publications Committee, Sinkey, Odibo, \u0026 Dashe, 2015). Accordingly, placenta previa, vasa previa, and placenta accreta spectrum are all qualifying conditions to also be excluded from the measure. \n \nUltimately, a reduction in primary cesarean births will reduce the number of women having repeat cesarean births (almost 90% of mothers who have a primary cesarean birth will have subsequent cesarean birth (CDC, 2020)). Thus, improvement in the rates of cesarean birth for the first birth will reduce the morbidity of all future births and avoid all the controversies with trial of labor after cesarean/elective repeat cesareans.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"The removal of any pressure to not perform a cesarean birth has led to a skyrocketing of hospital, state and national cesarean birth (CB) rates. Some hospitals’ CB rates were over 50%. Hospitals with CB rates at 15-20% have infant outcomes that are just as good and better maternal outcomes (Symum \u0026 Zayas-Castro, 2023). There is no data that higher rates improve any outcomes, yet the CB rates continue to rise (Bailit, Garrett, Miller, McMahon, \u0026 Cefalo, 2002; Main, Bloomfield, \u0026 Hunt, 2004). This measure seeks to focus attention on the most variable portion of the CB epidemic, the term labor CB in nulliparous women. This population segment accounts for the large majority of the variable portion of the CB rate and is the area most affected by subjectivity.\n\nAs compared to other CB measures, what is different about Nulliparous, Term, Singleton, Vertex (NTSV) CB rate is that there are clear cut quality improvement activities that can be done to address the differences. Main et al. (2012) found that over 60% of the variation among hospitals can be attributed to first birth labor induction rates and first birth early labor admission rates (Main et al., 2006). The results showed if labor was forced when the cervix was not ready the outcomes were poorer. Rosenstein et al. (2021) also showed that labor and delivery guidelines can make a difference in labor outcomes. Many authors have shown that physician factors, rather than patient characteristics or obstetric diagnoses are the major driver for the difference in rates within a hospital (Berkowitz, Fiarman, Mojica, Bauman, \u0026 de Regt, 1989; Goyert, Bottoms, Treadwell, \u0026 Nehra, 1989; Luthy, Malmgren, Zingheim, \u0026 Leininger, 2003; Symum \u0026 Zayas-Castro, 2023; Main et al., 2006). The dramatic variation in cesarean rates seen in all populations studied is striking. Cesarean rates varied tenfold in US hospitals nationwide across hospitals (Agency for Healthcare Research and Quality [AHRQ], 2002), from 7.1% to 69.9%, and there was a 15-fold variation among low-risk women, from 2.4% to 36.5% (Kozhimannil, Law, \u0026 Virnig, 2013).\n\nA reduction in the number of NTSV patients delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs (Main et al., 2019). Successful quality improvement efforts incorporate audit and feedback strategies combined with provider and nurse education, guidelines and peer review.\n\nThe measure will assist health care organizations to track NTSV patients delivering by cesarean birth to reduce the occurrence. Nulliparous women have 4-6 times the cesarean birth rate than multiparous women thus the NTSV population is the largest driver of primary cesarean birth rate (Sakala, Belanoff, \u0026 Declercq, 2020). NTSV has a large variation among facilities, thus identifying an important population on which to focus quality improvement efforts.\n\nIn accordance with the American College of Obstetricians and Gynecologists (ACOG) recommendations (2020), cesarean delivery is indicated for patients with active genital lesions of genital herpes or prodromal symptoms (i.e., vulvar pain or burning at delivery) that may indicate viral shedding. Therefore, the measure will exclude encounters with a diagnosis of active genital herpes.\n\nIn addition, the accepted approach to treat placenta accreta spectrum, or the range of pathologic adherence of the placenta that includes placenta increta, placenta percreta, and placenta accreta, as well as placenta previa, is cesarean delivery (ACOG \u0026 Society for Maternal-Fetal Medicine (SMFM), 2018). Vasa previa is an indication for cesarean delivery (SMFM Publications Committee, Sinkey, Odibo, \u0026 Dashe, 2015). Accordingly, placenta previa, vasa previa, and placenta accreta spectrum are all qualifying conditions to also be excluded from the measure. \n \nUltimately, a reduction in primary cesarean births will reduce the number of women having repeat cesarean births (almost 90% of mothers who have a primary cesarean birth will have subsequent cesarean birth (CDC, 2020)). Thus, improvement in the rates of cesarean birth for the first birth will reduce the morbidity of all future births and avoid all the controversies with trial of labor after cesarean/elective repeat cesareans.","media_type":"text/plain"}},{"code":"CRS","value":"The  ACOG report, Evaluation of Cesarean Delivery (2000), recognizes the importance of the Nulliparous, Term Singleton Vertex (NTSV) population as the optimal focus for measurement and quality improvement action. A reduction in the number of nulliparous patients with live term singleton newborns in vertex position delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs.","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"The  ACOG report, Evaluation of Cesarean Delivery (2000), recognizes the importance of the Nulliparous, Term Singleton Vertex (NTSV) population as the optimal focus for measurement and quality improvement action. A reduction in the number of nulliparous patients with live term singleton newborns in vertex position delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs.","media_type":"text/plain"}},{"code":"IDUR","value":"Within Optimal Range. The Joint Commission does not want to encourage inappropriately low Cesarean rates that may be unsafe to patients. Acceptable PC-02 rates are 30% or lower (U.S. Department of Health and Human Services, n.d.), however there is not an established threshold for what rate may be too low. PC-06 serves as a balancing measure for PC-02 to guard against any unanticipated or unintended consequences and to identify unforeseen complications that might arise as a result of quality improvement activities and efforts for this measure. In order to identify areas for improvement, hospitals may want to review results based on specific ICD-10 codes or patient populations. Data could then be analyzed further determine specific patterns or trends to help reduce cesarean births.","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Within Optimal Range. The Joint Commission does not want to encourage inappropriately low Cesarean rates that may be unsafe to patients. Acceptable PC-02 rates are 30% or lower (U.S. Department of Health and Human Services, n.d.), however there is not an established threshold for what rate may be too low. PC-06 serves as a balancing measure for PC-02 to guard against any unanticipated or unintended consequences and to identify unforeseen complications that might arise as a result of quality improvement activities and efforts for this measure. In order to identify areas for improvement, hospitals may want to review results based on specific ICD-10 codes or patient populations. Data could then be analyzed further determine specific patterns or trends to help reduce cesarean births.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAgency for Healthcare Research and Quality. (2002). AHRQ Quality Indicators Guide to Inpatient Quality Indicators: Quality of Care in Hospitals Volume, Mortality, and Utilization. Revision 4 (2004, December 22). AHRQ Pub. No. 02-RO204.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAgency for Healthcare Research and Quality. (2002). AHRQ Quality Indicators Guide to Inpatient Quality Indicators: Quality of Care in Hospitals Volume, Mortality, and Utilization. Revision 4 (2004, December 22). AHRQ Pub. No. 02-RO204.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAmerican College of Obstetricians and Gynecologists. (2000). Task Force on Cesarean Delivery Rates. Evaluation of Cesarean Delivery. (Developed under the direction of the Task Force on Cesarean Delivery Rates, Roger K. Freeman, MD, Chair, Arnold W. Cohen, MD, Richard Depp III, MD, Fredric D. Frigoletto Jr, MD, Gary D.V. Hankins, MD, Ellice Lieberman, MD, DrPH, M. Kathryn Menard, MD, David A. Nagey, MD, Carol W. Saffold, MD, Lisa Sams, RNC, MSN and ACOG Staff: Stanley Zinberg, MD, MS, Debra A. Hawks, MPH, and Elizabeth Steele)","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAmerican College of Obstetricians and Gynecologists. (2000). Task Force on Cesarean Delivery Rates. Evaluation of Cesarean Delivery. (Developed under the direction of the Task Force on Cesarean Delivery Rates, Roger K. Freeman, MD, Chair, Arnold W. Cohen, MD, Richard Depp III, MD, Fredric D. Frigoletto Jr, MD, Gary D.V. Hankins, MD, Ellice Lieberman, MD, DrPH, M. Kathryn Menard, MD, David A. Nagey, MD, Carol W. Saffold, MD, Lisa Sams, RNC, MSN and ACOG Staff: Stanley Zinberg, MD, MS, Debra A. Hawks, MPH, and Elizabeth Steele)","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAmerican College of Obstetricians and Gynecologists. (2014). Revitalize: Obstetrics Data Definitions Version 1.0. American College of Obstetricians and Gynecologists. Revitalize: Obstetrics Data Definitions Version 1.0 - Search (bing.com)","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAmerican College of Obstetricians and Gynecologists. (2014). Revitalize: Obstetrics Data Definitions Version 1.0. American College of Obstetricians and Gynecologists. Revitalize: Obstetrics Data Definitions Version 1.0 - Search (bing.com)","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAmerican College of Obstetricians and Gynecologists. (2020, May). ACOG Practice Bulletin No. 220: Management of Genital Herpes in Pregnancy. Obstetrics \u0026 Gynecology, 135(5), e193-e200.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAmerican College of Obstetricians and Gynecologists. (2020, May). ACOG Practice Bulletin No. 220: Management of Genital Herpes in Pregnancy. Obstetrics \u0026 Gynecology, 135(5), e193-e200.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONAmerican College of Obstetricians and Gynecologists, \u0026 Society for Maternal-Fetal Medicine (2018). Obstetric Care Consensus No. 7: Placenta Accreta Spectrum. Obstetrics and Gynecology, 132(6), e259–e275. https://doi.org/10.1097/AOG.0000000000002983","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONAmerican College of Obstetricians and Gynecologists, \u0026 Society for Maternal-Fetal Medicine (2018). Obstetric Care Consensus No. 7: Placenta Accreta Spectrum. Obstetrics and Gynecology, 132(6), e259–e275. https://doi.org/10.1097/AOG.0000000000002983","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBailit, J.L., Garrett, J.M., Miller, W.C., McMahon, M.J., \u0026 Cefalo, R.C. (2002). Hospital primary cesarean delivery rates and the risk of poor neonatal outcomes. American Journal of Obstetrics \u0026 Gynecology, 187(3):721-727.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBailit, J.L., Garrett, J.M., Miller, W.C., McMahon, M.J., \u0026 Cefalo, R.C. (2002). Hospital primary cesarean delivery rates and the risk of poor neonatal outcomes. American Journal of Obstetrics \u0026 Gynecology, 187(3):721-727.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONBerkowitz, G. S., Fiarman, G. S., Mojica, M. A., Bauman, J., \u0026 de Regt, R. H. (1989). Effect of physician characteristics on the cesarean birth rate. American Journal of Obstetrics and Gynecology, 161(1), 146–149. https://doi.org/10.1016/0002-9378(89)90252-4","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONBerkowitz, G. S., Fiarman, G. S., Mojica, M. A., Bauman, J., \u0026 de Regt, R. H. (1989). Effect of physician characteristics on the cesarean birth rate. American Journal of Obstetrics and Gynecology, 161(1), 146–149. https://doi.org/10.1016/0002-9378(89)90252-4","media_type":"text/plain"}},{"code":"REF","value":"CITATIONCenter for Disease Control. (2020) Recent trends in vaginal birth after cesarean delivery: United States, 2016-2018. Retrieved from National Center for Health Statistics: https://www.cdc.gov/nchs/products/databriefs/db359.htm","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONCenter for Disease Control. (2020) Recent trends in vaginal birth after cesarean delivery: United States, 2016-2018. Retrieved from National Center for Health Statistics: https://www.cdc.gov/nchs/products/databriefs/db359.htm","media_type":"text/plain"}},{"code":"REF","value":"CITATIONGoyert, G. L., Bottoms, S. F., Treadwell, M. C., \u0026 Nehra, P. C. (1989). The physician factor in cesarean birth rates. The New England Journal of Medicine, 320(11), 706–709. https://doi.org/10.1056/NEJM198903163201106","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONGoyert, G. L., Bottoms, S. F., Treadwell, M. C., \u0026 Nehra, P. C. (1989). The physician factor in cesarean birth rates. The New England Journal of Medicine, 320(11), 706–709. https://doi.org/10.1056/NEJM198903163201106","media_type":"text/plain"}},{"code":"REF","value":"CITATIONKozhimannil, K. B., Law, M. R., \u0026 Virnig, B. A. (2013). Cesarean delivery rates vary tenfold among US hospitals; reducing variation may address quality and cost issues. Health Affairs (Project Hope), 32(3), 527–535. https://doi.org/10.1377/hlthaff.2012.1030","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONKozhimannil, K. B., Law, M. R., \u0026 Virnig, B. A. (2013). Cesarean delivery rates vary tenfold among US hospitals; reducing variation may address quality and cost issues. Health Affairs (Project Hope), 32(3), 527–535. https://doi.org/10.1377/hlthaff.2012.1030","media_type":"text/plain"}},{"code":"REF","value":"CITATIONLuthy, D. A., Malmgren, J. A., Zingheim, R. W., \u0026 Leininger, C. J. (2003). Physician contribution to a cesarean delivery risk model. American Journal of Obstetrics and Gynecology, 188(6), 1579–1587. https://doi.org/10.1067/mob.2003.389","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONLuthy, D. A., Malmgren, J. A., Zingheim, R. W., \u0026 Leininger, C. J. (2003). Physician contribution to a cesarean delivery risk model. American Journal of Obstetrics and Gynecology, 188(6), 1579–1587. https://doi.org/10.1067/mob.2003.389","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMain E.K., Bloomfield, L., \u0026 Hunt, G. (2004). Development of a large-scale obstetric quality-improvement program that focused on the nulliparous patient at term. American Journal of Obstetrics and Gynecology, 190, 1747-58.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMain E.K., Bloomfield, L., \u0026 Hunt, G. (2004). Development of a large-scale obstetric quality-improvement program that focused on the nulliparous patient at term. American Journal of Obstetrics and Gynecology, 190, 1747-58.","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMain, E. K., Chang, S. C., Cape, V., Sakowski, C., Smith, H., \u0026 Vasher, J. (2019). Safety assessment of a large-scale improvement collaborative to reduce nulliparous cesarean delivery rates. Obstetrics and Gynecology, 133(4), 613–623. https://doi.org/10.1097/AOG.0000000000003109","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMain, E. K., Chang, S. C., Cape, V., Sakowski, C., Smith, H., \u0026 Vasher, J. (2019). Safety assessment of a large-scale improvement collaborative to reduce nulliparous cesarean delivery rates. Obstetrics and Gynecology, 133(4), 613–623. https://doi.org/10.1097/AOG.0000000000003109","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMain, E. K., Moore, D., Farrell, B., Schimmel, L. D., Altman, R. J., Abrahams, C.,... Sterling, J. (2006). Is there a useful cesarean birth measure? Assessment of the nulliparous term singleton vertex cesarean birth rate as a tool for obstetric quality improvement. American Journal of Obstetrics and Gynecology, 194(6), 1644–1652. https://doi.org/10.1016/j.ajog.2006.03.013","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMain, E. K., Moore, D., Farrell, B., Schimmel, L. D., Altman, R. J., Abrahams, C.,... Sterling, J. (2006). Is there a useful cesarean birth measure? Assessment of the nulliparous term singleton vertex cesarean birth rate as a tool for obstetric quality improvement. American Journal of Obstetrics and Gynecology, 194(6), 1644–1652. https://doi.org/10.1016/j.ajog.2006.03.013","media_type":"text/plain"}},{"code":"REF","value":"CITATIONMain, E. K., Morton, C. H., Melsop, K., Hopkins, D., Giuliani, G., \u0026 Gould, J. B. (2012). Creating a public agenda for maternity safety and quality in cesarean delivery. Obstetrics and Gynecology, 120(5), 1194–1198. https://doi.org/10.1097/aog.0b013e31826fc13d","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONMain, E. K., Morton, C. H., Melsop, K., Hopkins, D., Giuliani, G., \u0026 Gould, J. B. (2012). Creating a public agenda for maternity safety and quality in cesarean delivery. Obstetrics and Gynecology, 120(5), 1194–1198. https://doi.org/10.1097/aog.0b013e31826fc13d","media_type":"text/plain"}},{"code":"REF","value":"CITATIONRosenstein, M. G., Chang, S. C., Sakowski, C., Markow, C., Teleki, S., Lang, L.,... Main, E. K. (2021). Hospital quality improvement interventions, statewide policy initiatives, and rates of cesarean delivery for nulliparous, term, singleton, vertex births in California. JAMA, 325(16), 1631–1639. https://doi.org/10.1001/jama.2021.3816","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONRosenstein, M. G., Chang, S. C., Sakowski, C., Markow, C., Teleki, S., Lang, L.,... Main, E. K. (2021). Hospital quality improvement interventions, statewide policy initiatives, and rates of cesarean delivery for nulliparous, term, singleton, vertex births in California. JAMA, 325(16), 1631–1639. https://doi.org/10.1001/jama.2021.3816","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSakala, C., Belanoff, C., \u0026 Declercq, E. R. (2020). Factors Associated with Unplanned Primary Cesarean Birth: Secondary analysis of the listening to mothers in california survey. BMC Pregnancy and Childbirth, 20(1), 462. https://doi.org/10.1186/s12884-020-03095-4","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSakala, C., Belanoff, C., \u0026 Declercq, E. R. (2020). Factors Associated with Unplanned Primary Cesarean Birth: Secondary analysis of the listening to mothers in california survey. BMC Pregnancy and Childbirth, 20(1), 462. https://doi.org/10.1186/s12884-020-03095-4","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSociety of Maternal-Fetal (SMFM) Publications Committee, Sinkey, R. G., Odibo, A. O., \u0026 Dashe, J. S. (2015). SMFM consult series #37: Diagnosis and management of vasa previa. American Journal of Obstetrics \u0026 Gynecology, 213(5), 615-619. https://doi.org/10.1016/j.ajog.2015.08.031","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSociety of Maternal-Fetal (SMFM) Publications Committee, Sinkey, R. G., Odibo, A. O., \u0026 Dashe, J. S. (2015). SMFM consult series #37: Diagnosis and management of vasa previa. American Journal of Obstetrics \u0026 Gynecology, 213(5), 615-619. https://doi.org/10.1016/j.ajog.2015.08.031","media_type":"text/plain"}},{"code":"REF","value":"CITATIONSymum, H., \u0026 Zayas-Castro, J. L. (2023). A multistate decomposition analysis of cesarean rate variations, associated health outcomes, and financial implications in the United States. American Journal of Perinatology, 40(13), 1473-1483. https://doi.org/10.1055/s-0041-1736538","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONSymum, H., \u0026 Zayas-Castro, J. L. (2023). A multistate decomposition analysis of cesarean rate variations, associated health outcomes, and financial implications in the United States. American Journal of Perinatology, 40(13), 1473-1483. https://doi.org/10.1055/s-0041-1736538","media_type":"text/plain"}},{"code":"REF","value":"CITATIONU.S. Department of Health and Human Services. (n.d.). Reduce cesarean births among low-risk women with no prior births-MICH-06. https://health.gov/healthypeople/objectives-and-data/browse-objectives/pregnancy-and-childbirth/reduce-cesarean-births-among-low-risk-women-no-prior-births-mich-06","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONU.S. Department of Health and Human Services. (n.d.). Reduce cesarean births among low-risk women with no prior births-MICH-06. https://health.gov/healthypeople/objectives-and-data/browse-objectives/pregnancy-and-childbirth/reduce-cesarean-births-among-low-risk-women-no-prior-births-mich-06","media_type":"text/plain"}},{"code":"DEF","value":"Parity: The number of pregnancies reaching 20 weeks gestation regardless of the number of fetuses or outcomes\nGravidity: The number of pregnancies, current and past, regardless of the pregnancy outcome  \nPreterm Birth: The number of births \u003e= 20 weeks and \u003c 37 weeks gestation, regardless of outcome \nTerm Birth: The number of births \u003e= 37 weeks gestation, regardless of outcome\nNulliparous: Parity = 0 or Gravidity = 1 or Preterm \u0026 Term Births both = 0","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Parity: The number of pregnancies reaching 20 weeks gestation regardless of the number of fetuses or outcomes\nGravidity: The number of pregnancies, current and past, regardless of the pregnancy outcome  \nPreterm Birth: The number of births \u003e= 20 weeks and \u003c 37 weeks gestation, regardless of outcome \nTerm Birth: The number of births \u003e= 37 weeks gestation, regardless of outcome\nNulliparous: Parity = 0 or Gravidity = 1 or Preterm \u0026 Term Births both = 0","media_type":"text/plain"}},{"code":"GUIDE","value":"Vertex position is modeled implicitly, as the measure excludes deliveries with abnormal presentations.\n\nPatients who do not receive prenatal care and have no documented gestational age or estimated due date are implicitly excluded from the measure, as gestational age is required to meet denominator criteria. \n\nThis measure allows for 3 approaches to determine gestational age (GA) in the following order of precedence:\n\n1. The GA is calculated using the American College of Obstetricians and Gynecologists ReVITALize guidelines.*\n2. The GA is obtained from a discrete field in the electronic health record. This option is only used when the calculated GA is not available.\n3. The GA is based on ICD10 or SNOMED codes indicative of weeks gestation. This option is only used when results from items #1 and #2 (see above) are not available.\n\nWherever gestational age is mentioned, relative to the delivery, the intent is to capture the last estimated gestational age prior to or at the time of delivery.\n \n*ACOG ReVITALize Guidelines for Calculating Gestational Age (ACOG, 2014):      \n     \n                                Gestational Age = (280-(EDD minus Reference Date))/7\n\n--Estimated Due Date (EDD): The best obstetrical Estimated Due Date is determined by last menstrual period if confirmed by early ultrasound or no ultrasound performed, or early ultrasound if no known last menstrual period or the ultrasound is not consistent with last menstrual period, or known date of fertilization (e.g., assisted reproductive technology) \n--Reference Date is the date on which you are trying to determine gestational age. For purposes of this eCQM, Reference Date would be the Date of Delivery.\n\nNote however the calculation may yield a non-whole number and gestational age should be rounded off to the nearest completed week. For example, an infant born on the 5th day of the 36th week (35 weeks and 5/7 days) is at a gestational age of 35 weeks, not 36 weeks.\n\nThe timing relationship of relevantDatetime 42 weeks or less before TimeOfDelivery is applied to the data elements of parity, gravida, preterm/term live births for which prenatal records may include relevant information. \n\nNote: The eCQM and chart-based measure slightly digress in the denominator and denominator exclusion logic. The chart-based measure excludes single stillbirth and patients with multiple gestations from the denominator. These concepts are mutually exclusive of the denominator requirement of live singleton newborn and therefore the logic does not address single stillbirth nor multiple gestation.\n\nParity, preterm and term live births may be updated by the electronic health record software or by clinicians during a delivery encounter. To capture the pre-delivery value, organizations may need to create a rule or calculation to capture the number prior to the delivery start time.\n\n\"Gravida\", \"PretermBirth\", \"TermBirth\" and \"Parity\" results should be submitted via QRDA I as integer and not as number or quantity.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"Vertex position is modeled implicitly, as the measure excludes deliveries with abnormal presentations.\n\nPatients who do not receive prenatal care and have no documented gestational age or estimated due date are implicitly excluded from the measure, as gestational age is required to meet denominator criteria. \n\nThis measure allows for 3 approaches to determine gestational age (GA) in the following order of precedence:\n\n1. The GA is calculated using the American College of Obstetricians and Gynecologists ReVITALize guidelines.*\n2. The GA is obtained from a discrete field in the electronic health record. This option is only used when the calculated GA is not available.\n3. The GA is based on ICD10 or SNOMED codes indicative of weeks gestation. This option is only used when results from items #1 and #2 (see above) are not available.\n\nWherever gestational age is mentioned, relative to the delivery, the intent is to capture the last estimated gestational age prior to or at the time of delivery.\n \n*ACOG ReVITALize Guidelines for Calculating Gestational Age (ACOG, 2014):      \n     \n                                Gestational Age = (280-(EDD minus Reference Date))/7\n\n--Estimated Due Date (EDD): The best obstetrical Estimated Due Date is determined by last menstrual period if confirmed by early ultrasound or no ultrasound performed, or early ultrasound if no known last menstrual period or the ultrasound is not consistent with last menstrual period, or known date of fertilization (e.g., assisted reproductive technology) \n--Reference Date is the date on which you are trying to determine gestational age. For purposes of this eCQM, Reference Date would be the Date of Delivery.\n\nNote however the calculation may yield a non-whole number and gestational age should be rounded off to the nearest completed week. For example, an infant born on the 5th day of the 36th week (35 weeks and 5/7 days) is at a gestational age of 35 weeks, not 36 weeks.\n\nThe timing relationship of relevantDatetime 42 weeks or less before TimeOfDelivery is applied to the data elements of parity, gravida, preterm/term live births for which prenatal records may include relevant information. \n\nNote: The eCQM and chart-based measure slightly digress in the denominator and denominator exclusion logic. The chart-based measure excludes single stillbirth and patients with multiple gestations from the denominator. These concepts are mutually exclusive of the denominator requirement of live singleton newborn and therefore the logic does not address single stillbirth nor multiple gestation.\n\nParity, preterm and term live births may be updated by the electronic health record software or by clinicians during a delivery encounter. To capture the pre-delivery value, organizations may need to create a rule or calculation to capture the number prior to the delivery start time.\n\n\"Gravida\", \"PretermBirth\", \"TermBirth\" and \"Parity\" results should be submitted via QRDA I as integer and not as number or quantity.\n\nThis eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"Inpatient hospitalizations for patients age \u003e= 8 years and \u003c 65 admitted to the hospital for inpatient acute care who undergo a delivery procedure with a discharge date that ends during the measurement period","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients age \u003e= 8 years and \u003c 65 admitted to the hospital for inpatient acute care who undergo a delivery procedure with a discharge date that ends during the measurement period","media_type":"text/plain"}},{"code":"DENOM","value":"Inpatient hospitalizations for nulliparous patients who delivered a live term singleton newborn \u003e= 37 weeks' gestation\n\nSee Guidance and Definition Sections for more details.","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for nulliparous patients who delivered a live term singleton newborn \u003e= 37 weeks' gestation\n\nSee Guidance and Definition Sections for more details.","media_type":"text/plain"}},{"code":"DENEX","value":"Inpatient hospitalizations for patients with any of the following conditions during the encounter:\n- abnormal presentation\n- genital herpes\n- placenta previa\n- vasa previa\n- placenta accreta spectrum","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients with any of the following conditions during the encounter:\n- abnormal presentation\n- genital herpes\n- placenta previa\n- vasa previa\n- placenta accreta spectrum","media_type":"text/plain"}},{"code":"NUMER","value":"Inpatient hospitalizations for patients who deliver by cesarean section","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients who deliver by cesarean section","media_type":"text/plain"}},{"code":"NUMEX","value":"Not Applicable","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity, sex and calculated gestational age","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity, sex and calculated gestational age","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"6C878F86-5B24-4B60-B65E-F050C4AB5207","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"CesareanBirth__Initial_Population__B736B461_E33C_4D01_92A5_DEE2CD1F8873"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"BD55DE56-C278-44A9-913D-07C8526CBE1D","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"CesareanBirth__Denominator__B736B461_E33C_4D01_92A5_DEE2CD1F8873"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"6F01B069-FC08-4E93-99D4-3950A55A91AB","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"CesareanBirth__Numerator__B736B461_E33C_4D01_92A5_DEE2CD1F8873"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"9CF38431-47F7-4A2C-B1EC-96F35DDA7837","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"CesareanBirth__Denominator_Exclusions__B736B461_E33C_4D01_92A5_DEE2CD1F8873"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"68923ecda83e15671c2dfad2","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"68923ecda83e15671c2dfad3","hqmf_id":"9CF38431-47F7-4A2C-B1EC-96F35DDA7837","library_name":"CesareanBirth","statement_name":"Denominator Exclusions"},"DENOM":{"_id":"68923ecda83e15671c2dfad4","hqmf_id":"BD55DE56-C278-44A9-913D-07C8526CBE1D","library_name":"CesareanBirth","statement_name":"Denominator"},"IPP":{"_id":"68923ecda83e15671c2dfad5","hqmf_id":"6C878F86-5B24-4B60-B65E-F050C4AB5207","library_name":"CesareanBirth","statement_name":"Initial Population"},"NUMER":{"_id":"68923ecda83e15671c2dfad6","hqmf_id":"6F01B069-FC08-4E93-99D4-3950A55A91AB","library_name":"CesareanBirth","statement_name":"Numerator"},"_id":"68923ecda83e15671c2dfad7","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"68923ec9a83e15671c2df82f","hqmf_id":"EAB6CCDC-BF96-4A0E-A755-668EBE7AA8E3","library_name":"CesareanBirth","statement_name":"SDE Ethnicity"},{"_id":"68923ec9a83e15671c2df830","hqmf_id":"4866864A-4A80-444D-B620-FD4537ACDB96","library_name":"CesareanBirth","statement_name":"SDE Payer"},{"_id":"68923ec9a83e15671c2df831","hqmf_id":"F875C8A9-7562-4996-BD1C-2134E63BE931","library_name":"CesareanBirth","statement_name":"SDE Race"},{"_id":"68923ec9a83e15671c2df832","hqmf_id":"CD12B04B-F792-41F7-BA82-DE5ABEE4237B","library_name":"CesareanBirth","statement_name":"SDE Sex"},{"_id":"68923ec9a83e15671c2df833","hqmf_id":"AB697F8E-4D85-453D-9FF0-2D71B3A6014D","library_name":"CesareanBirth","statement_name":"SDE Variable Calculated Gestational Age"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"68923ecda83e15671c2dfad8","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"68923ecda83e15671c2dfad8","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"68923ecda83e15671c2dfad9","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"68923ecda83e15671c2dfad9","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"68923ec9a83e15671c2df891","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113762.1.4.1029.369","dataElementCodes":[],"description":"Encounter, Performed: EDVisitandOBTriage","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923ec9a83e15671c2df891","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ec9a83e15671c2df896","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1045.26","components":null,"dataElementCodes":[],"description":"Assessment, Performed: EstimatedGestationalAgeatDelivery","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df896","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ecda83e15671c2dfada","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"68923ecda83e15671c2dfada","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"68923ec9a83e15671c2df893","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1045.59","components":null,"dataElementCodes":[],"description":"Procedure, Performed: DeliveryProcedures","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"68923ec9a83e15671c2df893","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"68923ec9a83e15671c2df892","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923ec9a83e15671c2df892","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ec9a83e15671c2df894","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.117.1.7.1.282","components":null,"dataElementCodes":[],"description":"Procedure, Performed: CesareanBirth","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"68923ec9a83e15671c2df894","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"68923ec9a83e15671c2df895","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113762.1.4.1111.143","dataElementCodes":[],"description":"Encounter, Performed: ObservationServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"68923ec9a83e15671c2df895","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"68923ecda83e15671c2dfadb","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"68923ecda83e15671c2dfadb","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"68923ec9a83e15671c2df897","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1045.105","components":null,"dataElementCodes":[],"description":"Assessment, Performed: AbnormalPresentation","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df897","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ec9a83e15671c2df898","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-1df797108d11f91daf4f63c7425b43dadc661ce941ef3ae3660309bb5f20c9fe","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Births.term","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df898","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ec9a83e15671c2df899","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-5d675ef561723071efd724aaf1b2a31d80f41201306dec8d64e6114b8c3f7e06","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Delivery date Estimated","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df899","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ec9a83e15671c2df89a","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-8df2bc282d295fbf16354ed7166c5d223040c70dc4662c5b41261f2ea62a907c","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Date and time of obstetric delivery","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df89a","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ec9a83e15671c2df89b","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-da42ff6ab07eb61cb1fbef112c248c914dac65ea6e9e63af77b47c506a9683b4","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Parity","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df89b","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ec9a83e15671c2df89c","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-330789823cbca1c3c129091cf96c9035e23e878ddc26195cb1148c67a7d5f75c","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Pregnancies","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df89c","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"68923ec9a83e15671c2df89d","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-f32065ce97f4266f39e2f6d9b63bb6a59ff5d1277a6bb48aaca6506b4e7aa302","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Births.preterm","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"68923ec9a83e15671c2df89d","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null}],"title":"Cesarean Birth","updated_at":null,"value_set_ids":["68923ec9a83e15671c2df89e","68923ec9a83e15671c2df89f","68923ec9a83e15671c2df8a0","68923ec9a83e15671c2df8a1","68923ec9a83e15671c2df8a2","68923ec9a83e15671c2df8a3","68923ecda83e15671c2dfaae","68923ecda83e15671c2dfaaf","68923ecda83e15671c2dfab0","68923ecda83e15671c2dfab1","68923ecda83e15671c2dfab2","68923ecda83e15671c2dfab3","68923ecda83e15671c2dfab4","68923ecda83e15671c2dfab5","68923ecda83e15671c2dfab6","68923ecda83e15671c2dfab7","68923ecda83e15671c2dfab8","68923ecda83e15671c2dfab9","68923ecda83e15671c2dfaba","68923ecda83e15671c2dfabb","68923ecda83e15671c2dfabc","68923ecda83e15671c2dfabd","68923ecda83e15671c2dfabe","68923ecda83e15671c2dfabf"]}