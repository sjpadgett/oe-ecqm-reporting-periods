{"_id":"689245640734dfcaf541878f","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS147v13","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"689245580734dfcaf541858a","cql":"library PreventiveCareandScreeningInfluenzaImmunization version '13.0.000'\r\n\r\nusing QDM version '5.6'\r\n\r\ninclude MATGlobalCommonFunctions version '7.0.000' called Global\r\ninclude Hospice version '5.0.000' called Hospice\r\n\r\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96'\r\ncodesystem \"CPT\": 'urn:oid:2.16.840.1.113883.6.12'\r\n\r\nvalueset \"Annual Wellness Visit\": 'urn:oid:2.16.840.1.113883.3.526.3.1240'\r\nvalueset \"Care Services in Long Term Residential Facility\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1014'\r\nvalueset \"Discharge Services Nursing Facility\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1013'\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"Hemodialysis\": 'urn:oid:2.16.840.1.113883.3.526.3.1083'\r\nvalueset \"Home Healthcare Services\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'\r\nvalueset \"Influenza Immunization Administered\": 'urn:oid:2.16.840.1.113883.3.526.3.1254'\r\nvalueset \"Influenza Vaccine Administered\": 'urn:oid:2.16.840.1.113883.3.526.3.402'\r\nvalueset \"Influenza Virus LAIV Immunization\": 'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1087'\r\nvalueset \"Influenza Virus LAIV Procedure\": 'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1088'\r\nvalueset \"Nursing Facility Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1012'\r\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Online Assessments\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'\r\nvalueset \"Outpatient Consultation\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008'\r\nvalueset \"Patient Provider Interaction\": 'urn:oid:2.16.840.1.113883.3.526.3.1012'\r\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Peritoneal Dialysis\": 'urn:oid:2.16.840.1.113883.3.526.3.1084'\r\nvalueset \"Preventive Care Services Established Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'\r\nvalueset \"Preventive Care Services Group Counseling\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'\r\nvalueset \"Preventive Care Services Individual Counseling\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'\r\nvalueset \"Preventive Care Services Initial Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'\r\nvalueset \"Preventive Care Services, Initial Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'\r\nvalueset \"Preventive Care, Established Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\nvalueset \"Telephone Visits\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'\r\n\r\ncode \"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)\": '471361000124100' from \"SNOMEDCT\" display 'Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)'\r\ncode \"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional\": '99211' from \"CPT\" display 'Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional'\r\ncode \"Unlisted preventive medicine service\": '99429' from \"CPT\" display 'Unlisted preventive medicine service'\r\n\r\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\r\n\r\ncontext Patient\r\n\r\ndefine \"Denominator\":\r\n  \"Initial Population\"\r\n    and ( exists \"Encounter During Influenza Season\"\r\n        or exists \"Hemodialysis During Influenza Season\"\r\n        or exists \"Peritoneal Dialysis During Influenza Season\"\r\n    )\r\n\r\ndefine \"Denominator Exclusions\":\r\n  Hospice.\"Has Hospice Services\"\r\n    or exists \"Influenza Vaccine Anaphylaxis\"\r\n\r\ndefine \"Hemodialysis During Influenza Season\":\r\n  [\"Procedure, Performed\": \"Hemodialysis\"] FluSeasonHemodialysis\r\n    where Global.\"NormalizeInterval\" ( FluSeasonHemodialysis.relevantDatetime, FluSeasonHemodialysis.relevantPeriod ) overlaps \"Influenza Season\"\r\n\r\ndefine \"Hemodialysis During Measurement Period\":\r\n  [\"Procedure, Performed\": \"Hemodialysis\"] Hemodialysis\r\n    where Global.\"NormalizeInterval\" ( Hemodialysis.relevantDatetime, Hemodialysis.relevantPeriod ) overlaps \"Measurement Period\"\r\n\r\ndefine \"Influenza Season\":\r\n  Interval[start of \"Measurement Period\" - 3 months, start of \"Measurement Period\" + 3 months )\r\n\r\ndefine \"Influenza Vaccination Procedure\":\r\n  ( [\"Procedure, Performed\": \"Influenza Vaccine Administered\"]\r\n    union [\"Procedure, Performed\": \"Influenza Virus LAIV Procedure\"] ) FluVaccination\r\n    where Global.\"NormalizeInterval\" ( FluVaccination.relevantDatetime, FluVaccination.relevantPeriod ) during day of \"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\"\r\n\r\ndefine \"Numerator\":\r\n  exists \"Influenza Vaccination Procedure\"\r\n    or exists \"Influenza Immunization Administration\"\r\n\r\ndefine \"Peritoneal Dialysis During Influenza Season\":\r\n  [\"Procedure, Performed\": \"Peritoneal Dialysis\"] FluSeasonPeritonealDialysis\r\n    where Global.\"NormalizeInterval\" ( FluSeasonPeritonealDialysis.relevantDatetime, FluSeasonPeritonealDialysis.relevantPeriod ) overlaps \"Influenza Season\"\r\n\r\ndefine \"Peritoneal Dialysis During Measurement Period\":\r\n  [\"Procedure, Performed\": \"Peritoneal Dialysis\"] PeritonealDialysis\r\n    where Global.\"NormalizeInterval\" ( PeritonealDialysis.relevantDatetime, PeritonealDialysis.relevantPeriod ) overlaps \"Measurement Period\"\r\n\r\ndefine \"SDE Ethnicity\":\r\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n  [\"Patient Characteristic Payer\": \"Payer\"]\r\n\r\ndefine \"SDE Race\":\r\n  [\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n  [\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"Encounter During Influenza Season\":\r\n  ( [\"Encounter, Performed\": \"Annual Wellness Visit\"]\r\n    union [\"Encounter, Performed\": \"Office Visit\"]\r\n    union [\"Encounter, Performed\": \"Outpatient Consultation\"]\r\n    union [\"Encounter, Performed\": \"Care Services in Long Term Residential Facility\"]\r\n    union [\"Encounter, Performed\": \"Home Healthcare Services\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services, Initial Office Visit, 0 to 17\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Initial Office Visit, 18 and Up\"]\r\n    union [\"Encounter, Performed\": \"Unlisted preventive medicine service\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Group Counseling\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Individual Counseling\"]\r\n    union [\"Encounter, Performed\": \"Discharge Services Nursing Facility\"]\r\n    union [\"Encounter, Performed\": \"Nursing Facility Visit\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care, Established Office Visit, 0 to 17\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Established Office Visit, 18 and Up\"] ) FluEncounter\r\n    where FluEncounter.relevantPeriod starts during day of \"Influenza Season\"\r\n\r\ndefine \"Qualifying Encounters During Measurement Period\":\r\n  ( [\"Encounter, Performed\": \"Office Visit\"]\r\n    union [\"Encounter, Performed\": \"Outpatient Consultation\"]\r\n    union [\"Encounter, Performed\": \"Care Services in Long Term Residential Facility\"]\r\n    union [\"Encounter, Performed\": \"Home Healthcare Services\"]\r\n    union [\"Encounter, Performed\": \"Patient Provider Interaction\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services, Initial Office Visit, 0 to 17\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Initial Office Visit, 18 and Up\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Individual Counseling\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Group Counseling\"]\r\n    union [\"Encounter, Performed\": \"Unlisted preventive medicine service\"]\r\n    union [\"Encounter, Performed\": \"Discharge Services Nursing Facility\"]\r\n    union [\"Encounter, Performed\": \"Nursing Facility Visit\"]\r\n    union [\"Encounter, Performed\": \"Annual Wellness Visit\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care, Established Office Visit, 0 to 17\"]\r\n    union [\"Encounter, Performed\": \"Preventive Care Services Established Office Visit, 18 and Up\"]\r\n    union [\"Encounter, Performed\": \"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional\"]\r\n    union [\"Encounter, Performed\": \"Online Assessments\"]\r\n    union [\"Encounter, Performed\": \"Telephone Visits\"] ) ValidEncounters\r\n    where ValidEncounters.relevantPeriod during day of \"Measurement Period\"\r\n\r\ndefine \"Initial Population\":\r\n  AgeInMonthsAt(date from start of \"Measurement Period\")\u003e= 6\r\n    and ( exists \"Qualifying Encounters During Measurement Period\"\r\n        or exists \"Hemodialysis During Measurement Period\"\r\n        or exists \"Peritoneal Dialysis During Measurement Period\"\r\n    )\r\n\r\ndefine \"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\":\r\n  Interval[start of \"Measurement Period\" - 6 months, start of \"Measurement Period\" + 6 months )\r\n\r\ndefine \"Influenza Immunization Administration\":\r\n  ( [\"Immunization, Administered\": \"Influenza Immunization Administered\"]\r\n    union [\"Immunization, Administered\": \"Influenza Virus LAIV Immunization\"] ) AdministeredFluVaccine\r\n    where AdministeredFluVaccine.relevantDatetime during day of \"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\"\r\n\r\ndefine \"Influenza Vaccine Anaphylaxis\":\r\n  [\"Diagnosis\": \"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)\"] FluVaccineAnaphylaxis\r\n    where FluVaccineAnaphylaxis.prevalencePeriod starts on or before day of \r\n    end of \"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\"","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"222","s":[{"value":["","library PreventiveCareandScreeningInfluenzaImmunization version '13.0.000'"]}]}}],"identifier":{"id":"PreventiveCareandScreeningInfluenzaImmunization","version":"13.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:64","localIdentifier":"Global","path":"MATGlobalCommonFunctions","version":"7.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctions"]}]},{"value":[" version ","'7.0.000'"," called ","Global"]}]}}]},{"localId":"3","locator":"6:1-6:48","localIdentifier":"Hospice","path":"Hospice","version":"5.0.000","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","include "]},{"s":[{"value":["Hospice"]}]},{"value":[" version ","'5.0.000'"," called ","Hospice"]}]}}]}]},"parameters":{"def":[{"localId":"40","locator":"42:1-42:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"40","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"39","s":[{"value":["Interval\u003c"]},{"r":"38","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"39","locator":"42:32-42:49","type":"IntervalTypeSpecifier","pointType":{"localId":"38","locator":"42:41-42:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"4","locator":"8:1-8:55","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'"]}]}}]},{"localId":"5","locator":"9:1-9:50","name":"CPT","id":"2.16.840.1.113883.6.12","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","codesystem ","\"CPT\"",": ","'urn:oid:2.16.840.1.113883.6.12'"]}]}}]}]},"valueSets":{"def":[{"localId":"6","locator":"11:1-11:74","name":"Annual Wellness Visit","id":"2.16.840.1.113883.3.526.3.1240","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Annual Wellness Visit\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1240'"]}]}}]},{"localId":"7","locator":"12:1-12:110","name":"Care Services in Long Term Residential Facility","id":"2.16.840.1.113883.3.464.1003.101.12.1014","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Care Services in Long Term Residential Facility\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1014'"]}]}}]},{"localId":"8","locator":"13:1-13:98","name":"Discharge Services Nursing Facility","id":"2.16.840.1.113883.3.464.1003.101.12.1013","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Discharge Services Nursing Facility\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1013'"]}]}}]},{"localId":"9","locator":"14:1-14:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}]},{"localId":"10","locator":"15:1-15:65","name":"Hemodialysis","id":"2.16.840.1.113883.3.526.3.1083","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","valueset ","\"Hemodialysis\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1083'"]}]}}]},{"localId":"11","locator":"16:1-16:87","name":"Home Healthcare Services","id":"2.16.840.1.113883.3.464.1003.101.12.1016","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","valueset ","\"Home Healthcare Services\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'"]}]}}]},{"localId":"12","locator":"17:1-17:88","name":"Influenza Immunization Administered","id":"2.16.840.1.113883.3.526.3.1254","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","valueset ","\"Influenza Immunization Administered\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1254'"]}]}}]},{"localId":"13","locator":"18:1-18:82","name":"Influenza Vaccine Administered","id":"2.16.840.1.113883.3.526.3.402","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"13","s":[{"value":["","valueset ","\"Influenza Vaccine Administered\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.402'"]}]}}]},{"localId":"14","locator":"19:1-19:96","name":"Influenza Virus LAIV Immunization","id":"2.16.840.1.113883.3.464.1003.110.12.1087","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"14","s":[{"value":["","valueset ","\"Influenza Virus LAIV Immunization\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1087'"]}]}}]},{"localId":"15","locator":"20:1-20:93","name":"Influenza Virus LAIV Procedure","id":"2.16.840.1.113883.3.464.1003.110.12.1088","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"15","s":[{"value":["","valueset ","\"Influenza Virus LAIV Procedure\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1088'"]}]}}]},{"localId":"16","locator":"21:1-21:85","name":"Nursing Facility Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1012","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","valueset ","\"Nursing Facility Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1012'"]}]}}]},{"localId":"17","locator":"22:1-22:75","name":"Office Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"17","s":[{"value":["","valueset ","\"Office Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'"]}]}}]},{"localId":"18","locator":"23:1-23:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"18","s":[{"value":["","valueset ","\"ONC Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1'"]}]}}]},{"localId":"19","locator":"24:1-24:81","name":"Online Assessments","id":"2.16.840.1.113883.3.464.1003.101.12.1089","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","valueset ","\"Online Assessments\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'"]}]}}]},{"localId":"20","locator":"25:1-25:86","name":"Outpatient Consultation","id":"2.16.840.1.113883.3.464.1003.101.12.1008","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"20","s":[{"value":["","valueset ","\"Outpatient Consultation\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008'"]}]}}]},{"localId":"21","locator":"26:1-26:81","name":"Patient Provider Interaction","id":"2.16.840.1.113883.3.526.3.1012","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"21","s":[{"value":["","valueset ","\"Patient Provider Interaction\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1012'"]}]}}]},{"localId":"22","locator":"27:1-27:55","name":"Payer","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"22","s":[{"value":["","valueset ","\"Payer\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}]},{"localId":"23","locator":"28:1-28:72","name":"Peritoneal Dialysis","id":"2.16.840.1.113883.3.526.3.1084","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"23","s":[{"value":["","valueset ","\"Peritoneal Dialysis\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1084'"]}]}}]},{"localId":"24","locator":"29:1-29:123","name":"Preventive Care Services Established Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1025","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"24","s":[{"value":["","valueset ","\"Preventive Care Services Established Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'"]}]}}]},{"localId":"25","locator":"30:1-30:104","name":"Preventive Care Services Group Counseling","id":"2.16.840.1.113883.3.464.1003.101.12.1027","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"25","s":[{"value":["","valueset ","\"Preventive Care Services Group Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'"]}]}}]},{"localId":"26","locator":"31:1-31:109","name":"Preventive Care Services Individual Counseling","id":"2.16.840.1.113883.3.464.1003.101.12.1026","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"26","s":[{"value":["","valueset ","\"Preventive Care Services Individual Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'"]}]}}]},{"localId":"27","locator":"32:1-32:119","name":"Preventive Care Services Initial Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1023","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"27","s":[{"value":["","valueset ","\"Preventive Care Services Initial Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'"]}]}}]},{"localId":"28","locator":"33:1-33:118","name":"Preventive Care Services, Initial Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1022","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"28","s":[{"value":["","valueset ","\"Preventive Care Services, Initial Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'"]}]}}]},{"localId":"29","locator":"34:1-34:113","name":"Preventive Care, Established Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1024","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"29","s":[{"value":["","valueset ","\"Preventive Care, Established Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'"]}]}}]},{"localId":"30","locator":"35:1-35:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"30","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}]},{"localId":"31","locator":"36:1-36:79","name":"Telephone Visits","id":"2.16.840.1.113883.3.464.1003.101.12.1080","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"31","s":[{"value":["","valueset ","\"Telephone Visits\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'"]}]}}]}]},"codes":{"def":[{"localId":"33","locator":"38:1-38:219","name":"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)","id":"471361000124100","display":"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"33","s":[{"value":["","code ","\"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)\"",": ","'471361000124100'"," from "]},{"r":"32","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)'"]}]}}],"codeSystem":{"localId":"32","locator":"38:116-38:125","name":"SNOMEDCT"}},{"localId":"35","locator":"39:1-39:408","name":"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional","id":"99211","display":"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"35","s":[{"value":["","code ","\"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional\"",": ","'99211'"," from "]},{"r":"34","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional'"]}]}}],"codeSystem":{"localId":"34","locator":"39:208-39:212","name":"CPT"}},{"localId":"37","locator":"40:1-40:110","name":"Unlisted preventive medicine service","id":"99429","display":"Unlisted preventive medicine service","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"37","s":[{"value":["","code ","\"Unlisted preventive medicine service\"",": ","'99429'"," from "]},{"r":"36","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Unlisted preventive medicine service'"]}]}}],"codeSystem":{"localId":"36","locator":"40:59-40:63","name":"CPT"}}]},"contexts":{"def":[{"locator":"44:1-44:15","name":"Patient"}]},"statements":{"def":[{"locator":"44:1-44:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"44:1-44:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"88","locator":"114:1-133:75","name":"Qualifying Encounters During Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"88","s":[{"value":["","define ","\"Qualifying Encounters During Measurement Period\"",":\n  "]},{"r":"87","s":[{"s":[{"r":"82","s":[{"r":"81","s":[{"value":["( "]},{"r":"81","s":[{"r":"79","s":[{"r":"77","s":[{"r":"75","s":[{"r":"73","s":[{"r":"71","s":[{"r":"69","s":[{"r":"67","s":[{"r":"65","s":[{"r":"63","s":[{"r":"61","s":[{"r":"59","s":[{"r":"57","s":[{"r":"55","s":[{"r":"53","s":[{"r":"51","s":[{"r":"49","s":[{"r":"47","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"48","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Consultation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"50","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Care Services in Long Term Residential Facility\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"52","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Home Healthcare Services\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"54","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Patient Provider Interaction\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"56","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services, Initial Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"58","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Initial Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"60","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Individual Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"62","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Group Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"64","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Unlisted preventive medicine service\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"66","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Discharge Services Nursing Facility\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"68","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Nursing Facility Visit\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"70","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Annual Wellness Visit\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"72","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care, Established Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"74","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Established Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"76","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"78","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Online Assessments\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"80","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Telephone Visits\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","ValidEncounters"]}]}]},{"value":["\n    "]},{"r":"86","s":[{"value":["where "]},{"r":"86","s":[{"r":"84","s":[{"r":"83","s":[{"value":["ValidEncounters"]}]},{"value":["."]},{"r":"84","s":[{"value":["relevantPeriod"]}]}]},{"r":"86","value":[" ","during day of"," "]},{"r":"85","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"87","locator":"115:3-133:75","type":"Query","source":[{"localId":"82","locator":"115:3-132:72","alias":"ValidEncounters","expression":{"localId":"81","locator":"115:3-132:56","type":"Union","operand":[{"localId":"77","locator":"115:5-130:223","type":"Union","operand":[{"localId":"73","locator":"115:5-128:88","type":"Union","operand":[{"localId":"69","locator":"115:5-126:60","type":"Union","operand":[{"localId":"65","locator":"115:5-124:74","type":"Union","operand":[{"localId":"61","locator":"115:5-122:84","type":"Union","operand":[{"localId":"57","locator":"115:5-120:93","type":"Union","operand":[{"localId":"53","locator":"115:5-118:62","type":"Union","operand":[{"localId":"49","locator":"115:5-116:61","type":"Union","operand":[{"localId":"47","locator":"115:5-115:44","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"115:30-115:43","name":"Office Visit","type":"ValueSetRef"}},{"localId":"48","locator":"116:11-116:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"116:36-116:60","name":"Outpatient Consultation","type":"ValueSetRef"}}]},{"type":"Union","operand":[{"localId":"50","locator":"117:11-117:85","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"117:36-117:84","name":"Care Services in Long Term Residential Facility","type":"ValueSetRef"}},{"localId":"52","locator":"118:11-118:62","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"118:36-118:61","name":"Home Healthcare Services","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"54","locator":"119:11-119:66","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"119:36-119:65","name":"Patient Provider Interaction","type":"ValueSetRef"}},{"localId":"56","locator":"120:11-120:93","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"120:36-120:92","name":"Preventive Care Services, Initial Office Visit, 0 to 17","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"58","locator":"121:11-121:94","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"121:36-121:93","name":"Preventive Care Services Initial Office Visit, 18 and Up","type":"ValueSetRef"}},{"localId":"60","locator":"122:11-122:84","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"122:36-122:83","name":"Preventive Care Services Individual Counseling","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"62","locator":"123:11-123:79","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"123:36-123:78","name":"Preventive Care Services Group Counseling","type":"ValueSetRef"}},{"localId":"64","locator":"124:11-124:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"124:36-124:73","name":"Unlisted preventive medicine service","type":"CodeRef"}}}]}]},{"type":"Union","operand":[{"localId":"66","locator":"125:11-125:73","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"125:36-125:72","name":"Discharge Services Nursing Facility","type":"ValueSetRef"}},{"localId":"68","locator":"126:11-126:60","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"126:36-126:59","name":"Nursing Facility Visit","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"70","locator":"127:11-127:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"127:36-127:58","name":"Annual Wellness Visit","type":"ValueSetRef"}},{"localId":"72","locator":"128:11-128:88","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"128:36-128:87","name":"Preventive Care, Established Office Visit, 0 to 17","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"74","locator":"129:11-129:98","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"129:36-129:97","name":"Preventive Care Services Established Office Visit, 18 and Up","type":"ValueSetRef"}},{"localId":"76","locator":"130:11-130:223","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"130:36-130:222","name":"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional","type":"CodeRef"}}}]}]},{"type":"Union","operand":[{"localId":"78","locator":"131:11-131:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"131:36-131:55","name":"Online Assessments","type":"ValueSetRef"}},{"localId":"80","locator":"132:11-132:54","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"132:36-132:53","name":"Telephone Visits","type":"ValueSetRef"}}]}]}}],"relationship":[],"where":{"localId":"86","locator":"133:5-133:75","precision":"Day","type":"IncludedIn","operand":[{"localId":"84","locator":"133:11-133:40","path":"relevantPeriod","scope":"ValidEncounters","type":"Property"},{"localId":"85","locator":"133:56-133:75","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"102","locator":"61:1-63:129","name":"Hemodialysis During Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"102","s":[{"value":["","define ","\"Hemodialysis During Measurement Period\"",":\n  "]},{"r":"101","s":[{"s":[{"r":"92","s":[{"r":"91","s":[{"r":"91","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Hemodialysis\""]}]},{"value":["]"]}]}]},{"value":[" ","Hemodialysis"]}]}]},{"value":["\n    "]},{"r":"100","s":[{"value":["where "]},{"r":"100","s":[{"r":"98","s":[{"r":"93","s":[{"value":["Global"]}]},{"value":["."]},{"r":"98","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"95","s":[{"r":"94","s":[{"value":["Hemodialysis"]}]},{"value":["."]},{"r":"95","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"97","s":[{"r":"96","s":[{"value":["Hemodialysis"]}]},{"value":["."]},{"r":"97","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"100","value":[" ","overlaps"," "]},{"r":"99","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"101","locator":"62:3-63:129","type":"Query","source":[{"localId":"92","locator":"62:3-62:55","alias":"Hemodialysis","expression":{"localId":"91","locator":"62:3-62:42","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"62:28-62:41","name":"Hemodialysis","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"100","locator":"63:5-63:129","type":"Overlaps","operand":[{"localId":"98","locator":"63:11-63:99","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"95","locator":"63:40-63:68","path":"relevantDatetime","scope":"Hemodialysis","type":"Property"},{"localId":"97","locator":"63:71-63:97","path":"relevantPeriod","scope":"Hemodialysis","type":"Property"}]},{"localId":"99","locator":"63:110-63:129","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"117","locator":"81:1-83:141","name":"Peritoneal Dialysis During Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"117","s":[{"value":["","define ","\"Peritoneal Dialysis During Measurement Period\"",":\n  "]},{"r":"116","s":[{"s":[{"r":"107","s":[{"r":"106","s":[{"r":"106","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Peritoneal Dialysis\""]}]},{"value":["]"]}]}]},{"value":[" ","PeritonealDialysis"]}]}]},{"value":["\n    "]},{"r":"115","s":[{"value":["where "]},{"r":"115","s":[{"r":"113","s":[{"r":"108","s":[{"value":["Global"]}]},{"value":["."]},{"r":"113","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"110","s":[{"r":"109","s":[{"value":["PeritonealDialysis"]}]},{"value":["."]},{"r":"110","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"112","s":[{"r":"111","s":[{"value":["PeritonealDialysis"]}]},{"value":["."]},{"r":"112","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"115","value":[" ","overlaps"," "]},{"r":"114","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"116","locator":"82:3-83:141","type":"Query","source":[{"localId":"107","locator":"82:3-82:68","alias":"PeritonealDialysis","expression":{"localId":"106","locator":"82:3-82:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"82:28-82:48","name":"Peritoneal Dialysis","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"115","locator":"83:5-83:141","type":"Overlaps","operand":[{"localId":"113","locator":"83:11-83:111","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"110","locator":"83:40-83:74","path":"relevantDatetime","scope":"PeritonealDialysis","type":"Property"},{"localId":"112","locator":"83:77-83:109","path":"relevantPeriod","scope":"PeritonealDialysis","type":"Property"}]},{"localId":"114","locator":"83:122-83:141","name":"Measurement Period","type":"ParameterRef"}]}}},{"localId":"122","locator":"135:1-140:5","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"122","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"121","s":[{"r":"46","s":[{"r":"44","s":[{"value":["AgeInMonthsAt","("]},{"r":"43","s":[{"value":["date from "]},{"r":"42","s":[{"value":["start of "]},{"r":"41","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"r":"45","value":["\u003e="," ","6"]}]},{"value":["\n    and "]},{"r":"120","s":[{"value":["( "]},{"r":"120","s":[{"r":"105","s":[{"r":"90","s":[{"value":["exists "]},{"r":"89","s":[{"value":["\"Qualifying Encounters During Measurement Period\""]}]}]},{"value":["\n        or "]},{"r":"104","s":[{"value":["exists "]},{"r":"103","s":[{"value":["\"Hemodialysis During Measurement Period\""]}]}]}]},{"value":["\n        or "]},{"r":"119","s":[{"value":["exists "]},{"r":"118","s":[{"value":["\"Peritoneal Dialysis During Measurement Period\""]}]}]}]},{"value":["\n    )"]}]}]}]}}],"expression":{"localId":"121","locator":"136:3-140:5","type":"And","operand":[{"localId":"46","locator":"136:3-136:60","type":"GreaterOrEqual","operand":[{"localId":"44","locator":"136:3-136:56","precision":"Month","type":"CalculateAgeAt","operand":[{"type":"ToDate","operand":{"path":"birthDatetime","type":"Property","source":{"name":"Patient","type":"ExpressionRef"}}},{"localId":"43","locator":"136:17-136:55","type":"DateFrom","operand":{"localId":"42","locator":"136:27-136:55","type":"Start","operand":{"localId":"41","locator":"136:36-136:55","name":"Measurement Period","type":"ParameterRef"}}}]},{"localId":"45","locator":"136:60","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"6","type":"Literal"}]},{"localId":"120","locator":"137:9-140:5","type":"Or","operand":[{"localId":"105","locator":"137:11-138:58","type":"Or","operand":[{"localId":"90","locator":"137:11-137:66","type":"Exists","operand":{"localId":"89","locator":"137:18-137:66","name":"Qualifying Encounters During Measurement Period","type":"ExpressionRef"}},{"localId":"104","locator":"138:12-138:58","type":"Exists","operand":{"localId":"103","locator":"138:19-138:58","name":"Hemodialysis During Measurement Period","type":"ExpressionRef"}}]},{"localId":"119","locator":"139:12-139:65","type":"Exists","operand":{"localId":"118","locator":"139:19-139:65","name":"Peritoneal Dialysis During Measurement Period","type":"ExpressionRef"}}]}]}},{"localId":"163","locator":"65:1-66:95","name":"Influenza Season","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"163","s":[{"value":["","define ","\"Influenza Season\"",":\n  "]},{"r":"162","s":[{"value":["Interval["]},{"r":"157","s":[{"r":"155","s":[{"value":["start of "]},{"r":"154","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"156","s":[{"value":["3 ","months"]}]}]},{"value":[", "]},{"r":"161","s":[{"r":"159","s":[{"value":["start of "]},{"r":"158","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" + "]},{"r":"160","s":[{"value":["3 ","months"]}]}]},{"value":[" )"]}]}]}}],"expression":{"localId":"162","locator":"66:3-66:95","lowClosed":true,"highClosed":false,"type":"Interval","low":{"localId":"157","locator":"66:12-66:51","type":"Subtract","operand":[{"localId":"155","locator":"66:12-66:40","type":"Start","operand":{"localId":"154","locator":"66:21-66:40","name":"Measurement Period","type":"ParameterRef"}},{"localId":"156","locator":"66:44-66:51","value":3,"unit":"months","type":"Quantity"}]},"high":{"localId":"161","locator":"66:54-66:93","type":"Add","operand":[{"localId":"159","locator":"66:54-66:82","type":"Start","operand":{"localId":"158","locator":"66:63-66:82","name":"Measurement Period","type":"ParameterRef"}},{"localId":"160","locator":"66:86-66:93","value":3,"unit":"months","type":"Quantity"}]}}},{"localId":"167","locator":"97:1-112:77","name":"Encounter During Influenza Season","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"167","s":[{"value":["","define ","\"Encounter During Influenza Season\"",":\n  "]},{"r":"166","s":[{"s":[{"r":"151","s":[{"r":"150","s":[{"value":["( "]},{"r":"150","s":[{"r":"148","s":[{"r":"146","s":[{"r":"144","s":[{"r":"142","s":[{"r":"140","s":[{"r":"138","s":[{"r":"136","s":[{"r":"134","s":[{"r":"132","s":[{"r":"130","s":[{"r":"128","s":[{"r":"126","s":[{"r":"124","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Annual Wellness Visit\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"125","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"127","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Consultation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"129","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Care Services in Long Term Residential Facility\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"131","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Home Healthcare Services\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"133","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services, Initial Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"135","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Initial Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"137","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Unlisted preventive medicine service\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"139","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Group Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"141","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Individual Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"143","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Discharge Services Nursing Facility\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"145","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Nursing Facility Visit\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"147","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care, Established Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"149","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Established Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","FluEncounter"]}]}]},{"value":["\n    "]},{"r":"165","s":[{"value":["where "]},{"r":"165","s":[{"r":"153","s":[{"r":"152","s":[{"value":["FluEncounter"]}]},{"value":["."]},{"r":"153","s":[{"value":["relevantPeriod"]}]}]},{"r":"165","value":[" ","starts during day of"," "]},{"r":"164","s":[{"value":["\"Influenza Season\""]}]}]}]}]}]}}],"expression":{"localId":"166","locator":"98:3-112:77","type":"Query","source":[{"localId":"151","locator":"98:3-111:113","alias":"FluEncounter","expression":{"localId":"150","locator":"98:3-111:100","type":"Union","operand":[{"localId":"146","locator":"98:5-109:60","type":"Union","operand":[{"localId":"142","locator":"98:5-107:84","type":"Union","operand":[{"localId":"138","locator":"98:5-105:74","type":"Union","operand":[{"localId":"134","locator":"98:5-103:93","type":"Union","operand":[{"localId":"130","locator":"98:5-101:85","type":"Union","operand":[{"localId":"126","locator":"98:5-99:50","type":"Union","operand":[{"localId":"124","locator":"98:5-98:53","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"98:30-98:52","name":"Annual Wellness Visit","type":"ValueSetRef"}},{"localId":"125","locator":"99:11-99:50","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"99:36-99:49","name":"Office Visit","type":"ValueSetRef"}}]},{"type":"Union","operand":[{"localId":"127","locator":"100:11-100:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"100:36-100:60","name":"Outpatient Consultation","type":"ValueSetRef"}},{"localId":"129","locator":"101:11-101:85","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"101:36-101:84","name":"Care Services in Long Term Residential Facility","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"131","locator":"102:11-102:62","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"102:36-102:61","name":"Home Healthcare Services","type":"ValueSetRef"}},{"localId":"133","locator":"103:11-103:93","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"103:36-103:92","name":"Preventive Care Services, Initial Office Visit, 0 to 17","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"135","locator":"104:11-104:94","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"104:36-104:93","name":"Preventive Care Services Initial Office Visit, 18 and Up","type":"ValueSetRef"}},{"localId":"137","locator":"105:11-105:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"105:36-105:73","name":"Unlisted preventive medicine service","type":"CodeRef"}}}]}]},{"type":"Union","operand":[{"localId":"139","locator":"106:11-106:79","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"106:36-106:78","name":"Preventive Care Services Group Counseling","type":"ValueSetRef"}},{"localId":"141","locator":"107:11-107:84","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"107:36-107:83","name":"Preventive Care Services Individual Counseling","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"143","locator":"108:11-108:73","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"108:36-108:72","name":"Discharge Services Nursing Facility","type":"ValueSetRef"}},{"localId":"145","locator":"109:11-109:60","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"109:36-109:59","name":"Nursing Facility Visit","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"147","locator":"110:11-110:88","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"110:36-110:87","name":"Preventive Care, Established Office Visit, 0 to 17","type":"ValueSetRef"}},{"localId":"149","locator":"111:11-111:98","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"111:36-111:97","name":"Preventive Care Services Established Office Visit, 18 and Up","type":"ValueSetRef"}}]}]}}],"relationship":[],"where":{"localId":"165","locator":"112:5-112:77","precision":"Day","type":"In","operand":[{"locator":"112:39-112:44","type":"Start","operand":{"localId":"153","locator":"112:11-112:37","path":"relevantPeriod","scope":"FluEncounter","type":"Property"}},{"localId":"164","locator":"112:60-112:77","name":"Influenza Season","type":"ExpressionRef"}]}}},{"localId":"181","locator":"57:1-59:145","name":"Hemodialysis During Influenza Season","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"181","s":[{"value":["","define ","\"Hemodialysis During Influenza Season\"",":\n  "]},{"r":"180","s":[{"s":[{"r":"171","s":[{"r":"170","s":[{"r":"170","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Hemodialysis\""]}]},{"value":["]"]}]}]},{"value":[" ","FluSeasonHemodialysis"]}]}]},{"value":["\n    "]},{"r":"179","s":[{"value":["where "]},{"r":"179","s":[{"r":"177","s":[{"r":"172","s":[{"value":["Global"]}]},{"value":["."]},{"r":"177","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"174","s":[{"r":"173","s":[{"value":["FluSeasonHemodialysis"]}]},{"value":["."]},{"r":"174","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"176","s":[{"r":"175","s":[{"value":["FluSeasonHemodialysis"]}]},{"value":["."]},{"r":"176","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"179","value":[" ","overlaps"," "]},{"r":"178","s":[{"value":["\"Influenza Season\""]}]}]}]}]}]}}],"expression":{"localId":"180","locator":"58:3-59:145","type":"Query","source":[{"localId":"171","locator":"58:3-58:64","alias":"FluSeasonHemodialysis","expression":{"localId":"170","locator":"58:3-58:42","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"58:28-58:41","name":"Hemodialysis","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"179","locator":"59:5-59:145","type":"Overlaps","operand":[{"localId":"177","locator":"59:11-59:117","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"174","locator":"59:40-59:77","path":"relevantDatetime","scope":"FluSeasonHemodialysis","type":"Property"},{"localId":"176","locator":"59:80-59:115","path":"relevantPeriod","scope":"FluSeasonHemodialysis","type":"Property"}]},{"localId":"178","locator":"59:128-59:145","name":"Influenza Season","type":"ExpressionRef"}]}}},{"localId":"196","locator":"77:1-79:157","name":"Peritoneal Dialysis During Influenza Season","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"196","s":[{"value":["","define ","\"Peritoneal Dialysis During Influenza Season\"",":\n  "]},{"r":"195","s":[{"s":[{"r":"186","s":[{"r":"185","s":[{"r":"185","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Peritoneal Dialysis\""]}]},{"value":["]"]}]}]},{"value":[" ","FluSeasonPeritonealDialysis"]}]}]},{"value":["\n    "]},{"r":"194","s":[{"value":["where "]},{"r":"194","s":[{"r":"192","s":[{"r":"187","s":[{"value":["Global"]}]},{"value":["."]},{"r":"192","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"189","s":[{"r":"188","s":[{"value":["FluSeasonPeritonealDialysis"]}]},{"value":["."]},{"r":"189","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"191","s":[{"r":"190","s":[{"value":["FluSeasonPeritonealDialysis"]}]},{"value":["."]},{"r":"191","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"194","value":[" ","overlaps"," "]},{"r":"193","s":[{"value":["\"Influenza Season\""]}]}]}]}]}]}}],"expression":{"localId":"195","locator":"78:3-79:157","type":"Query","source":[{"localId":"186","locator":"78:3-78:77","alias":"FluSeasonPeritonealDialysis","expression":{"localId":"185","locator":"78:3-78:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"78:28-78:48","name":"Peritoneal Dialysis","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"194","locator":"79:5-79:157","type":"Overlaps","operand":[{"localId":"192","locator":"79:11-79:129","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"189","locator":"79:40-79:83","path":"relevantDatetime","scope":"FluSeasonPeritonealDialysis","type":"Property"},{"localId":"191","locator":"79:86-79:127","path":"relevantPeriod","scope":"FluSeasonPeritonealDialysis","type":"Property"}]},{"localId":"193","locator":"79:140-79:157","name":"Influenza Season","type":"ExpressionRef"}]}}},{"localId":"201","locator":"46:1-51:5","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"201","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"200","s":[{"r":"123","s":[{"value":["\"Initial Population\""]}]},{"value":["\n    and "]},{"r":"199","s":[{"value":["( "]},{"r":"199","s":[{"r":"184","s":[{"r":"169","s":[{"value":["exists "]},{"r":"168","s":[{"value":["\"Encounter During Influenza Season\""]}]}]},{"value":["\n        or "]},{"r":"183","s":[{"value":["exists "]},{"r":"182","s":[{"value":["\"Hemodialysis During Influenza Season\""]}]}]}]},{"value":["\n        or "]},{"r":"198","s":[{"value":["exists "]},{"r":"197","s":[{"value":["\"Peritoneal Dialysis During Influenza Season\""]}]}]}]},{"value":["\n    )"]}]}]}]}}],"expression":{"localId":"200","locator":"47:3-51:5","type":"And","operand":[{"localId":"123","locator":"47:3-47:22","name":"Initial Population","type":"ExpressionRef"},{"localId":"199","locator":"48:9-51:5","type":"Or","operand":[{"localId":"184","locator":"48:11-49:56","type":"Or","operand":[{"localId":"169","locator":"48:11-48:52","type":"Exists","operand":{"localId":"168","locator":"48:18-48:52","name":"Encounter During Influenza Season","type":"ExpressionRef"}},{"localId":"183","locator":"49:12-49:56","type":"Exists","operand":{"localId":"182","locator":"49:19-49:56","name":"Hemodialysis During Influenza Season","type":"ExpressionRef"}}]},{"localId":"198","locator":"50:12-50:63","type":"Exists","operand":{"localId":"197","locator":"50:19-50:63","name":"Peritoneal Dialysis During Influenza Season","type":"ExpressionRef"}}]}]}},{"localId":"217","locator":"142:1-143:95","name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"217","s":[{"value":["","define ","\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\"",":\n  "]},{"r":"216","s":[{"value":["Interval["]},{"r":"211","s":[{"r":"209","s":[{"value":["start of "]},{"r":"208","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"210","s":[{"value":["6 ","months"]}]}]},{"value":[", "]},{"r":"215","s":[{"r":"213","s":[{"value":["start of "]},{"r":"212","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" + "]},{"r":"214","s":[{"value":["6 ","months"]}]}]},{"value":[" )"]}]}]}}],"expression":{"localId":"216","locator":"143:3-143:95","lowClosed":true,"highClosed":false,"type":"Interval","low":{"localId":"211","locator":"143:12-143:51","type":"Subtract","operand":[{"localId":"209","locator":"143:12-143:40","type":"Start","operand":{"localId":"208","locator":"143:21-143:40","name":"Measurement Period","type":"ParameterRef"}},{"localId":"210","locator":"143:44-143:51","value":6,"unit":"months","type":"Quantity"}]},"high":{"localId":"215","locator":"143:54-143:93","type":"Add","operand":[{"localId":"213","locator":"143:54-143:82","type":"Start","operand":{"localId":"212","locator":"143:63-143:82","name":"Measurement Period","type":"ParameterRef"}},{"localId":"214","locator":"143:86-143:93","value":6,"unit":"months","type":"Quantity"}]}}},{"localId":"222","locator":"150:1-153:109","name":"Influenza Vaccine Anaphylaxis","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"222","s":[{"value":["","define ","\"Influenza Vaccine Anaphylaxis\"",":\n  "]},{"r":"221","s":[{"s":[{"r":"205","s":[{"r":"204","s":[{"r":"204","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)\""]}]},{"value":["]"]}]}]},{"value":[" ","FluVaccineAnaphylaxis"]}]}]},{"value":["\n    "]},{"r":"220","s":[{"value":["where "]},{"r":"220","s":[{"r":"207","s":[{"r":"206","s":[{"value":["FluVaccineAnaphylaxis"]}]},{"value":["."]},{"r":"207","s":[{"value":["prevalencePeriod"]}]}]},{"r":"220","value":[" ","starts on or before day of"," \n    "]},{"r":"219","s":[{"value":["end of "]},{"r":"218","s":[{"value":["\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\""]}]}]}]}]}]}]}}],"expression":{"localId":"221","locator":"151:3-153:109","type":"Query","source":[{"localId":"205","locator":"151:3-151:124","alias":"FluVaccineAnaphylaxis","expression":{"localId":"204","locator":"151:3-151:102","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"151:17-151:101","name":"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"220","locator":"152:5-153:109","precision":"Day","type":"SameOrBefore","operand":[{"locator":"152:50-152:55","type":"Start","operand":{"localId":"207","locator":"152:11-152:48","path":"prevalencePeriod","scope":"FluVaccineAnaphylaxis","type":"Property"}},{"localId":"219","locator":"153:5-153:109","type":"End","operand":{"localId":"218","locator":"153:12-153:109","name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period","type":"ExpressionRef"}}]}}},{"localId":"226","locator":"53:1-55:45","name":"Denominator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"226","s":[{"value":["","define ","\"Denominator Exclusions\"",":\n  "]},{"r":"225","s":[{"r":"203","s":[{"r":"202","s":[{"value":["Hospice"]}]},{"value":["."]},{"r":"203","s":[{"value":["\"Has Hospice Services\""]}]}]},{"value":["\n    or "]},{"r":"224","s":[{"value":["exists "]},{"r":"223","s":[{"value":["\"Influenza Vaccine Anaphylaxis\""]}]}]}]}]}}],"expression":{"localId":"225","locator":"54:3-55:45","type":"Or","operand":[{"localId":"203","locator":"54:3-54:32","name":"Has Hospice Services","libraryName":"Hospice","type":"ExpressionRef"},{"localId":"224","locator":"55:8-55:45","type":"Exists","operand":{"localId":"223","locator":"55:15-55:45","name":"Influenza Vaccine Anaphylaxis","type":"ExpressionRef"}}]}},{"localId":"240","locator":"68:1-71:216","name":"Influenza Vaccination Procedure","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"240","s":[{"value":["","define ","\"Influenza Vaccination Procedure\"",":\n  "]},{"r":"239","s":[{"s":[{"r":"230","s":[{"r":"229","s":[{"value":["( "]},{"r":"229","s":[{"r":"227","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Influenza Vaccine Administered\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"228","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Influenza Virus LAIV Procedure\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","FluVaccination"]}]}]},{"value":["\n    "]},{"r":"238","s":[{"value":["where "]},{"r":"238","s":[{"r":"236","s":[{"r":"231","s":[{"value":["Global"]}]},{"value":["."]},{"r":"236","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"233","s":[{"r":"232","s":[{"value":["FluVaccination"]}]},{"value":["."]},{"r":"233","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"235","s":[{"r":"234","s":[{"value":["FluVaccination"]}]},{"value":["."]},{"r":"235","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"238","value":[" ","during day of"," "]},{"r":"237","s":[{"value":["\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"239","locator":"69:3-71:216","type":"Query","source":[{"localId":"230","locator":"69:3-70:85","alias":"FluVaccination","expression":{"localId":"229","locator":"69:3-70:70","type":"Union","operand":[{"localId":"227","locator":"69:5-69:62","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"69:30-69:61","name":"Influenza Vaccine Administered","type":"ValueSetRef"}},{"localId":"228","locator":"70:11-70:68","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"70:36-70:67","name":"Influenza Virus LAIV Procedure","type":"ValueSetRef"}}]}}],"relationship":[],"where":{"localId":"238","locator":"71:5-71:216","precision":"Day","type":"IncludedIn","operand":[{"localId":"236","locator":"71:11-71:103","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"233","locator":"71:40-71:70","path":"relevantDatetime","scope":"FluVaccination","type":"Property"},{"localId":"235","locator":"71:73-71:101","path":"relevantPeriod","scope":"FluVaccination","type":"Property"}]},{"localId":"237","locator":"71:119-71:216","name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period","type":"ExpressionRef"}]}}},{"localId":"252","locator":"145:1-148:162","name":"Influenza Immunization Administration","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"252","s":[{"value":["","define ","\"Influenza Immunization Administration\"",":\n  "]},{"r":"251","s":[{"s":[{"r":"246","s":[{"r":"245","s":[{"value":["( "]},{"r":"245","s":[{"r":"243","s":[{"value":["[","\"Immunization, Administered\"",": "]},{"s":[{"value":["\"Influenza Immunization Administered\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"244","s":[{"value":["[","\"Immunization, Administered\"",": "]},{"s":[{"value":["\"Influenza Virus LAIV Immunization\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","AdministeredFluVaccine"]}]}]},{"value":["\n    "]},{"r":"250","s":[{"value":["where "]},{"r":"250","s":[{"r":"248","s":[{"r":"247","s":[{"value":["AdministeredFluVaccine"]}]},{"value":["."]},{"r":"248","s":[{"value":["relevantDatetime"]}]}]},{"r":"250","value":[" ","during day of"," "]},{"r":"249","s":[{"value":["\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\""]}]}]}]}]}]}}],"expression":{"localId":"251","locator":"146:3-148:162","type":"Query","source":[{"localId":"246","locator":"146:3-147:102","alias":"AdministeredFluVaccine","expression":{"localId":"245","locator":"146:3-147:79","type":"Union","operand":[{"localId":"243","locator":"146:5-146:73","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveImmunizationAdministered","templateId":"PositiveImmunizationAdministered","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"146:36-146:72","name":"Influenza Immunization Administered","type":"ValueSetRef"}},{"localId":"244","locator":"147:11-147:77","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveImmunizationAdministered","templateId":"PositiveImmunizationAdministered","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"147:42-147:76","name":"Influenza Virus LAIV Immunization","type":"ValueSetRef"}}]}}],"relationship":[],"where":{"localId":"250","locator":"148:5-148:162","precision":"Day","type":"In","operand":[{"localId":"248","locator":"148:11-148:49","path":"relevantDatetime","scope":"AdministeredFluVaccine","type":"Property"},{"localId":"249","locator":"148:65-148:162","name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period","type":"ExpressionRef"}]}}},{"localId":"256","locator":"73:1-75:53","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"256","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"255","s":[{"r":"242","s":[{"value":["exists "]},{"r":"241","s":[{"value":["\"Influenza Vaccination Procedure\""]}]}]},{"value":["\n    or "]},{"r":"254","s":[{"value":["exists "]},{"r":"253","s":[{"value":["\"Influenza Immunization Administration\""]}]}]}]}]}}],"expression":{"localId":"255","locator":"74:3-75:53","type":"Or","operand":[{"localId":"242","locator":"74:3-74:42","type":"Exists","operand":{"localId":"241","locator":"74:10-74:42","name":"Influenza Vaccination Procedure","type":"ExpressionRef"}},{"localId":"254","locator":"75:8-75:53","type":"Exists","operand":{"localId":"253","locator":"75:15-75:53","name":"Influenza Immunization Administration","type":"ExpressionRef"}}]}},{"localId":"258","locator":"85:1-86:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"258","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"257","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"257","locator":"86:3-86:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"86:40-86:50","name":"Ethnicity","type":"ValueSetRef"}}},{"localId":"260","locator":"88:1-89:43","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"260","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"259","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"259","locator":"89:3-89:43","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"89:36-89:42","name":"Payer","type":"ValueSetRef"}}},{"localId":"262","locator":"91:1-92:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"262","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"261","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"261","locator":"92:3-92:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"92:35-92:40","name":"Race","type":"ValueSetRef"}}},{"localId":"264","locator":"94:1-95:58","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"264","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"263","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"263","locator":"95:3-95:58","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"95:34-95:57","name":"ONC Administrative Sex","type":"ValueSetRef"}}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Qualifying Encounters During Measurement Period\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"47"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Consultation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"48"}],"node_type":"Union","ref_id":"49"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Care Services in Long Term Residential Facility\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"50"}],"ref_id":"51"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Home Healthcare Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"52"}],"node_type":"Union","ref_id":"53"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Patient Provider Interaction\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"54"}],"ref_id":"55"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services, Initial Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"56"}],"node_type":"Union","ref_id":"57"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Initial Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"58"}],"ref_id":"59"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Individual Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"60"}],"node_type":"Union","ref_id":"61"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Group Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"62"}],"ref_id":"63"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Unlisted preventive medicine service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"64"}],"node_type":"Union","ref_id":"65"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Discharge Services Nursing Facility\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"66"}],"ref_id":"67"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Nursing Facility Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"68"}],"node_type":"Union","ref_id":"69"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Annual Wellness Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"70"}],"ref_id":"71"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care, Established Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"72"}],"node_type":"Union","ref_id":"73"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Established Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"74"}],"ref_id":"75"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"76"}],"node_type":"Union","ref_id":"77"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Online Assessments\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"78"}],"ref_id":"79"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Telephone Visits\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"80"}],"node_type":"Union","ref_id":"81"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"81"},{"children":[{"text":" ValidEncounters"}]}],"ref_id":"82"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounters"}]}],"ref_id":"83"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"84"}],"node_type":"Property","ref_id":"84"},{"children":[{"text":" during day of "}],"ref_id":"86"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"85"}],"ref_id":"86"}],"ref_id":"86"}],"node_type":"Query","ref_id":"87"}],"ref_id":"88"}],"define_name":"Qualifying Encounters During Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Hemodialysis During Measurement Period\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Hemodialysis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"91"}],"node_type":"Retrieve","ref_id":"91"},{"children":[{"text":" Hemodialysis"}]}],"ref_id":"92"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"93"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Hemodialysis"}]}],"ref_id":"94"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"95"}],"node_type":"Property","ref_id":"95"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Hemodialysis"}]}],"ref_id":"96"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"97"}],"node_type":"Property","ref_id":"97"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"98"}],"node_type":"FunctionRef","ref_id":"98"},{"children":[{"text":" overlaps "}],"ref_id":"100"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"99"}],"ref_id":"100"}],"ref_id":"100"}],"node_type":"Query","ref_id":"101"}],"ref_id":"102"}],"define_name":"Hemodialysis During Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Peritoneal Dialysis During Measurement Period\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Peritoneal Dialysis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"106"}],"node_type":"Retrieve","ref_id":"106"},{"children":[{"text":" PeritonealDialysis"}]}],"ref_id":"107"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"108"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"PeritonealDialysis"}]}],"ref_id":"109"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"110"}],"node_type":"Property","ref_id":"110"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"PeritonealDialysis"}]}],"ref_id":"111"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"112"}],"node_type":"Property","ref_id":"112"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"113"}],"node_type":"FunctionRef","ref_id":"113"},{"children":[{"text":" overlaps "}],"ref_id":"115"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"114"}],"ref_id":"115"}],"ref_id":"115"}],"node_type":"Query","ref_id":"116"}],"ref_id":"117"}],"define_name":"Peritoneal Dialysis During Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AgeInMonthsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"41"}],"node_type":"Start","ref_id":"42"}],"node_type":"DateFrom","ref_id":"43"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"44"},{"children":[{"text":"\u003e= 6"}],"node_type":"Literal","ref_id":"45"}],"node_type":"GreaterOrEqual","ref_id":"46"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Qualifying Encounters During Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"89"}],"node_type":"Exists","ref_id":"90"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Hemodialysis During Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"103"}],"node_type":"Exists","ref_id":"104"}],"node_type":"Or","ref_id":"105"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Peritoneal Dialysis During Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"118"}],"node_type":"Exists","ref_id":"119"}],"node_type":"Or","ref_id":"120"},{"children":[{"text":"\n    )"}]}],"node_type":"Or","ref_id":"120"}],"node_type":"And","ref_id":"121"}],"ref_id":"122"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Influenza Season\":\n  "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"154"}],"node_type":"Start","ref_id":"155"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"3 months"}]}],"node_type":"Quantity","ref_id":"156"}],"ref_id":"157"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"158"}],"node_type":"Start","ref_id":"159"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"3 months"}]}],"node_type":"Quantity","ref_id":"160"}],"ref_id":"161"},{"children":[{"text":" )"}]}],"node_type":"Interval","ref_id":"162"}],"ref_id":"163"}],"define_name":"Influenza Season"},{"children":[{"children":[{"children":[{"text":"define \"Encounter During Influenza Season\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Annual Wellness Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"124"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"125"}],"node_type":"Union","ref_id":"126"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Consultation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"127"}],"ref_id":"128"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Care Services in Long Term Residential Facility\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"129"}],"node_type":"Union","ref_id":"130"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Home Healthcare Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"131"}],"ref_id":"132"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services, Initial Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"133"}],"node_type":"Union","ref_id":"134"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Initial Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"135"}],"ref_id":"136"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Unlisted preventive medicine service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"137"}],"node_type":"Union","ref_id":"138"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Group Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"139"}],"ref_id":"140"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Individual Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"141"}],"node_type":"Union","ref_id":"142"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Discharge Services Nursing Facility\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"143"}],"ref_id":"144"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Nursing Facility Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"145"}],"node_type":"Union","ref_id":"146"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care, Established Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"147"}],"ref_id":"148"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Established Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"149"}],"node_type":"Union","ref_id":"150"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"150"},{"children":[{"text":" FluEncounter"}]}],"ref_id":"151"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"FluEncounter"}]}],"ref_id":"152"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"153"}],"node_type":"Property","ref_id":"153"},{"children":[{"text":" starts during day of "}],"ref_id":"165"},{"children":[{"children":[{"text":"\"Influenza Season\""}]}],"node_type":"ExpressionRef","ref_id":"164"}],"ref_id":"165"}],"ref_id":"165"}],"node_type":"Query","ref_id":"166"}],"ref_id":"167"}],"define_name":"Encounter During Influenza Season"},{"children":[{"children":[{"children":[{"text":"define \"Hemodialysis During Influenza Season\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Hemodialysis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"170"}],"node_type":"Retrieve","ref_id":"170"},{"children":[{"text":" FluSeasonHemodialysis"}]}],"ref_id":"171"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"172"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"FluSeasonHemodialysis"}]}],"ref_id":"173"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"174"}],"node_type":"Property","ref_id":"174"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"FluSeasonHemodialysis"}]}],"ref_id":"175"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"176"}],"node_type":"Property","ref_id":"176"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"177"}],"node_type":"FunctionRef","ref_id":"177"},{"children":[{"text":" overlaps "}],"ref_id":"179"},{"children":[{"children":[{"text":"\"Influenza Season\""}]}],"node_type":"ExpressionRef","ref_id":"178"}],"ref_id":"179"}],"ref_id":"179"}],"node_type":"Query","ref_id":"180"}],"ref_id":"181"}],"define_name":"Hemodialysis During Influenza Season"},{"children":[{"children":[{"children":[{"text":"define \"Peritoneal Dialysis During Influenza Season\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Peritoneal Dialysis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"185"}],"node_type":"Retrieve","ref_id":"185"},{"children":[{"text":" FluSeasonPeritonealDialysis"}]}],"ref_id":"186"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"187"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"FluSeasonPeritonealDialysis"}]}],"ref_id":"188"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"189"}],"node_type":"Property","ref_id":"189"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"FluSeasonPeritonealDialysis"}]}],"ref_id":"190"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"191"}],"node_type":"Property","ref_id":"191"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"192"}],"node_type":"FunctionRef","ref_id":"192"},{"children":[{"text":" overlaps "}],"ref_id":"194"},{"children":[{"children":[{"text":"\"Influenza Season\""}]}],"node_type":"ExpressionRef","ref_id":"193"}],"ref_id":"194"}],"ref_id":"194"}],"node_type":"Query","ref_id":"195"}],"ref_id":"196"}],"define_name":"Peritoneal Dialysis During Influenza Season"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"123"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Encounter During Influenza Season\""}]}],"node_type":"ExpressionRef","ref_id":"168"}],"node_type":"Exists","ref_id":"169"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Hemodialysis During Influenza Season\""}]}],"node_type":"ExpressionRef","ref_id":"182"}],"node_type":"Exists","ref_id":"183"}],"node_type":"Or","ref_id":"184"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Peritoneal Dialysis During Influenza Season\""}]}],"node_type":"ExpressionRef","ref_id":"197"}],"node_type":"Exists","ref_id":"198"}],"node_type":"Or","ref_id":"199"},{"children":[{"text":"\n    )"}]}],"node_type":"Or","ref_id":"199"}],"node_type":"And","ref_id":"200"}],"ref_id":"201"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\":\n  "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"208"}],"node_type":"Start","ref_id":"209"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"6 months"}]}],"node_type":"Quantity","ref_id":"210"}],"ref_id":"211"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"212"}],"node_type":"Start","ref_id":"213"},{"children":[{"text":" + "}]},{"children":[{"children":[{"text":"6 months"}]}],"node_type":"Quantity","ref_id":"214"}],"ref_id":"215"},{"children":[{"text":" )"}]}],"node_type":"Interval","ref_id":"216"}],"ref_id":"217"}],"define_name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Influenza Vaccine Anaphylaxis\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"204"}],"node_type":"Retrieve","ref_id":"204"},{"children":[{"text":" FluVaccineAnaphylaxis"}]}],"ref_id":"205"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"FluVaccineAnaphylaxis"}]}],"ref_id":"206"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"207"}],"node_type":"Property","ref_id":"207"},{"children":[{"text":" starts on or before day of \n    "}],"ref_id":"220"},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"218"}],"node_type":"End","ref_id":"219"}],"ref_id":"220"}],"ref_id":"220"}],"node_type":"Query","ref_id":"221"}],"ref_id":"222"}],"define_name":"Influenza Vaccine Anaphylaxis"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusions\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Hospice"}]}],"ref_id":"202"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Has Hospice Services\""}]}],"node_type":"ExpressionRef","ref_id":"203"}],"node_type":"ExpressionRef","ref_id":"203"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Influenza Vaccine Anaphylaxis\""}]}],"node_type":"ExpressionRef","ref_id":"223"}],"node_type":"Exists","ref_id":"224"}],"node_type":"Or","ref_id":"225"}],"ref_id":"226"}],"define_name":"Denominator Exclusions"},{"children":[{"children":[{"children":[{"text":"define \"Influenza Vaccination Procedure\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Influenza Vaccine Administered\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"227"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Influenza Virus LAIV Procedure\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"228"}],"node_type":"Union","ref_id":"229"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"229"},{"children":[{"text":" FluVaccination"}]}],"ref_id":"230"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"231"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"FluVaccination"}]}],"ref_id":"232"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"233"}],"node_type":"Property","ref_id":"233"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"FluVaccination"}]}],"ref_id":"234"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"235"}],"node_type":"Property","ref_id":"235"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"236"}],"node_type":"FunctionRef","ref_id":"236"},{"children":[{"text":" during day of "}],"ref_id":"238"},{"children":[{"children":[{"text":"\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"237"}],"ref_id":"238"}],"ref_id":"238"}],"node_type":"Query","ref_id":"239"}],"ref_id":"240"}],"define_name":"Influenza Vaccination Procedure"},{"children":[{"children":[{"children":[{"text":"define \"Influenza Immunization Administration\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"[\"Immunization, Administered\": "}]},{"children":[{"children":[{"text":"\"Influenza Immunization Administered\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"243"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Immunization, Administered\": "}]},{"children":[{"children":[{"text":"\"Influenza Virus LAIV Immunization\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"244"}],"node_type":"Union","ref_id":"245"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"245"},{"children":[{"text":" AdministeredFluVaccine"}]}],"ref_id":"246"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AdministeredFluVaccine"}]}],"ref_id":"247"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"248"}],"node_type":"Property","ref_id":"248"},{"children":[{"text":" during day of "}],"ref_id":"250"},{"children":[{"children":[{"text":"\"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"249"}],"ref_id":"250"}],"ref_id":"250"}],"node_type":"Query","ref_id":"251"}],"ref_id":"252"}],"define_name":"Influenza Immunization Administration"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Influenza Vaccination Procedure\""}]}],"node_type":"ExpressionRef","ref_id":"241"}],"node_type":"Exists","ref_id":"242"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Influenza Immunization Administration\""}]}],"node_type":"ExpressionRef","ref_id":"253"}],"node_type":"Exists","ref_id":"254"}],"node_type":"Or","ref_id":"255"}],"ref_id":"256"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"257"}],"ref_id":"258"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"259"}],"ref_id":"260"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"261"}],"ref_id":"262"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"263"}],"ref_id":"264"}],"define_name":"SDE Sex"}],"identifier":{"id":"PreventiveCareandScreeningInfluenzaImmunization","version":"13.0.000"}},"is_main_library":true,"is_top_level":true,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","library_version":"13.0.000","statement_dependencies":[{"_id":"689245580734dfcaf5418576","statement_name":"Patient"},{"_id":"689245580734dfcaf5418577","statement_name":"Qualifying Encounters During Measurement Period"},{"_id":"689245580734dfcaf5418578","statement_name":"Hemodialysis During Measurement Period","statement_references":[{"_id":"689245640734dfcaf5418799","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"689245580734dfcaf5418579","statement_name":"Peritoneal Dialysis During Measurement Period","statement_references":[{"_id":"689245640734dfcaf541879a","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]},{"_id":"689245580734dfcaf541857a","statement_name":"Initial Population","statement_references":[{"_id":"689245580734dfcaf5418564","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Patient"},{"_id":"689245580734dfcaf5418565","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Qualifying Encounters During Measurement Period"},{"_id":"689245580734dfcaf5418566","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Hemodialysis During Measurement Period"},{"_id":"689245580734dfcaf5418567","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Peritoneal Dialysis During Measurement Period"}]},{"_id":"689245580734dfcaf541857b","statement_name":"Influenza Season"},{"_id":"689245580734dfcaf541857c","statement_name":"Encounter During Influenza Season","statement_references":[{"_id":"689245640734dfcaf541879b","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Influenza Season"}]},{"_id":"689245580734dfcaf541857d","statement_name":"Hemodialysis During Influenza Season","statement_references":[{"_id":"689245580734dfcaf5418568","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"},{"_id":"689245580734dfcaf5418569","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Influenza Season"}]},{"_id":"689245580734dfcaf541857e","statement_name":"Peritoneal Dialysis During Influenza Season","statement_references":[{"_id":"689245580734dfcaf541856a","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"},{"_id":"689245580734dfcaf541856b","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Influenza Season"}]},{"_id":"689245580734dfcaf541857f","statement_name":"Denominator","statement_references":[{"_id":"689245580734dfcaf541856c","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Initial Population"},{"_id":"689245580734dfcaf541856d","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Encounter During Influenza Season"},{"_id":"689245580734dfcaf541856e","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Hemodialysis During Influenza Season"},{"_id":"689245580734dfcaf541856f","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Peritoneal Dialysis During Influenza Season"}]},{"_id":"689245580734dfcaf5418580","statement_name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period"},{"_id":"689245580734dfcaf5418581","statement_name":"Influenza Vaccine Anaphylaxis","statement_references":[{"_id":"689245640734dfcaf541879c","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period"}]},{"_id":"689245580734dfcaf5418582","statement_name":"Denominator Exclusions","statement_references":[{"_id":"689245580734dfcaf5418570","hqmf_id":null,"library_name":"Hospice","statement_name":"Has Hospice Services"},{"_id":"689245580734dfcaf5418571","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Influenza Vaccine Anaphylaxis"}]},{"_id":"689245580734dfcaf5418583","statement_name":"Influenza Vaccination Procedure","statement_references":[{"_id":"689245580734dfcaf5418572","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"},{"_id":"689245580734dfcaf5418573","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period"}]},{"_id":"689245580734dfcaf5418584","statement_name":"Influenza Immunization Administration","statement_references":[{"_id":"689245640734dfcaf541879d","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Between July 1 of the Year Prior to the Measurement Period and June 30 of the Measurement Period"}]},{"_id":"689245580734dfcaf5418585","statement_name":"Numerator","statement_references":[{"_id":"689245580734dfcaf5418574","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Influenza Vaccination Procedure"},{"_id":"689245580734dfcaf5418575","hqmf_id":null,"library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Influenza Immunization Administration"}]},{"_id":"689245580734dfcaf5418586","statement_name":"SDE Ethnicity"},{"_id":"689245580734dfcaf5418587","statement_name":"SDE Payer"},{"_id":"689245580734dfcaf5418588","statement_name":"SDE Race"},{"_id":"689245580734dfcaf5418589","statement_name":"SDE Sex"}]},{"_id":"689245580734dfcaf541858b","cql":"library Hospice version '5.0.000'\n\nusing QDM version '5.6'\n\ninclude MATGlobalCommonFunctions version '7.0.000' called Global\n\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96' \ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Hospice Care Ambulatory\": 'urn:oid:2.16.840.1.113883.3.526.3.1584' \nvalueset \"Hospice Diagnosis\": 'urn:oid:2.16.840.1.113883.3.464.1003.1165' \nvalueset \"Hospice Encounter\": 'urn:oid:2.16.840.1.113883.3.464.1003.1003' \n\ncode \"Discharge to healthcare facility for hospice care (procedure)\": '428371000124100' from \"SNOMEDCT\" display 'Discharge to healthcare facility for hospice care (procedure)'\ncode \"Discharge to home for hospice care (procedure)\": '428361000124107' from \"SNOMEDCT\" display 'Discharge to home for hospice care (procedure)'\ncode \"Hospice care [Minimum Data Set]\": '45755-6' from \"LOINC\" display 'Hospice care [Minimum Data Set]'\ncode \"Yes (qualifier value)\": '373066001' from \"SNOMEDCT\" display 'Yes (qualifier value)'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Has Hospice Services\":\n  exists ( [\"Encounter, Performed\": \"Encounter Inpatient\"] InpatientEncounter\n      where ( InpatientEncounter.dischargeDisposition ~ \"Discharge to home for hospice care (procedure)\"\n          or InpatientEncounter.dischargeDisposition ~ \"Discharge to healthcare facility for hospice care (procedure)\"\n      )\n        and InpatientEncounter.relevantPeriod ends during day of \"Measurement Period\"\n  )\n    or exists ( [\"Encounter, Performed\": \"Hospice Encounter\"] HospiceEncounter\n        where HospiceEncounter.relevantPeriod overlaps day of \"Measurement Period\"\n    )\n    or exists ( [\"Assessment, Performed\": \"Hospice care [Minimum Data Set]\"] HospiceAssessment\n        where HospiceAssessment.result ~ \"Yes (qualifier value)\"\n          and Global.\"NormalizeInterval\" ( HospiceAssessment.relevantDatetime, HospiceAssessment.relevantPeriod ) overlaps day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Order\": \"Hospice Care Ambulatory\"] HospiceOrder\n        where HospiceOrder.authorDatetime during day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Performed\": \"Hospice Care Ambulatory\"] HospicePerformed\n        where Global.\"NormalizeInterval\" ( HospicePerformed.relevantDatetime, HospicePerformed.relevantPeriod ) overlaps day of \"Measurement Period\"\n    )\n  or exists ( [\"Diagnosis\": \"Hospice Diagnosis\"] HospiceCareDiagnosis\n        where HospiceCareDiagnosis.prevalencePeriod overlaps day of \"Measurement Period\"\n    )\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"96","s":[{"value":["","library Hospice version '5.0.000'"]}]}}],"identifier":{"id":"Hospice","version":"5.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:64","localIdentifier":"Global","path":"MATGlobalCommonFunctions","version":"7.0.000","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","include "]},{"s":[{"value":["MATGlobalCommonFunctions"]}]},{"value":[" version ","'7.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"19","locator":"20:1-20:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"19","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"18","s":[{"value":["Interval\u003c"]},{"r":"17","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"18","locator":"20:32-20:49","type":"IntervalTypeSpecifier","pointType":{"localId":"17","locator":"20:41-20:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"3","locator":"7:1-7:55","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'"]}]}}]},{"localId":"4","locator":"8:1-8:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"6","locator":"11:1-11:76","name":"Hospice Care Ambulatory","id":"2.16.840.1.113883.3.526.3.1584","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Hospice Care Ambulatory\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1584'"]}]}}]},{"localId":"7","locator":"12:1-12:73","name":"Hospice Diagnosis","id":"2.16.840.1.113883.3.464.1003.1165","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"7","s":[{"value":["","valueset ","\"Hospice Diagnosis\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1165'"]}]}}]},{"localId":"8","locator":"13:1-13:73","name":"Hospice Encounter","id":"2.16.840.1.113883.3.464.1003.1003","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"8","s":[{"value":["","valueset ","\"Hospice Encounter\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1003'"]}]}}]}]},"codes":{"def":[{"localId":"10","locator":"15:1-15:175","name":"Discharge to healthcare facility for hospice care (procedure)","id":"428371000124100","display":"Discharge to healthcare facility for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"10","s":[{"value":["","code ","\"Discharge to healthcare facility for hospice care (procedure)\"",": ","'428371000124100'"," from "]},{"r":"9","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to healthcare facility for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"9","locator":"15:94-15:103","name":"SNOMEDCT"}},{"localId":"12","locator":"16:1-16:145","name":"Discharge to home for hospice care (procedure)","id":"428361000124107","display":"Discharge to home for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"12","s":[{"value":["","code ","\"Discharge to home for hospice care (procedure)\"",": ","'428361000124107'"," from "]},{"r":"11","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to home for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"11","locator":"16:79-16:88","name":"SNOMEDCT"}},{"localId":"14","locator":"17:1-17:104","name":"Hospice care [Minimum Data Set]","id":"45755-6","display":"Hospice care [Minimum Data Set]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"14","s":[{"value":["","code ","\"Hospice care [Minimum Data Set]\"",": ","'45755-6'"," from "]},{"r":"13","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Hospice care [Minimum Data Set]'"]}]}}],"codeSystem":{"localId":"13","locator":"17:56-17:62","name":"LOINC"}},{"localId":"16","locator":"18:1-18:89","name":"Yes (qualifier value)","id":"373066001","display":"Yes (qualifier value)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"16","s":[{"value":["","code ","\"Yes (qualifier value)\"",": ","'373066001'"," from "]},{"r":"15","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Yes (qualifier value)'"]}]}}],"codeSystem":{"localId":"15","locator":"18:48-18:57","name":"SNOMEDCT"}}]},"contexts":{"def":[{"locator":"22:1-22:15","name":"Patient"}]},"statements":{"def":[{"locator":"22:1-22:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"22:1-22:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"96","locator":"24:1-46:5","name":"Has Hospice Services","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"96","s":[{"value":["","define ","\"Has Hospice Services\"",":\n  "]},{"r":"95","s":[{"r":"86","s":[{"r":"73","s":[{"r":"64","s":[{"r":"46","s":[{"r":"37","s":[{"value":["exists "]},{"r":"36","s":[{"value":["( "]},{"r":"36","s":[{"s":[{"r":"21","s":[{"r":"20","s":[{"r":"20","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n      "]},{"r":"35","s":[{"value":["where "]},{"r":"35","s":[{"r":"30","s":[{"value":["( "]},{"r":"30","s":[{"r":"25","s":[{"r":"23","s":[{"r":"22","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"23","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"24","s":[{"value":["\"Discharge to home for hospice care (procedure)\""]}]}]},{"value":["\n          or "]},{"r":"29","s":[{"r":"27","s":[{"r":"26","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"27","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"28","s":[{"value":["\"Discharge to healthcare facility for hospice care (procedure)\""]}]}]}]},{"value":["\n      )"]}]},{"value":["\n        and "]},{"r":"34","s":[{"r":"32","s":[{"r":"31","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"32","s":[{"value":["relevantPeriod"]}]}]},{"r":"34","value":[" ","ends during day of"," "]},{"r":"33","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n  )"]}]}]},{"value":["\n    or "]},{"r":"45","s":[{"value":["exists "]},{"r":"44","s":[{"value":["( "]},{"r":"44","s":[{"s":[{"r":"39","s":[{"r":"38","s":[{"r":"38","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Hospice Encounter\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceEncounter"]}]}]},{"value":["\n        "]},{"r":"43","s":[{"value":["where "]},{"r":"43","s":[{"r":"41","s":[{"r":"40","s":[{"value":["HospiceEncounter"]}]},{"value":["."]},{"r":"41","s":[{"value":["relevantPeriod"]}]}]},{"r":"43","value":[" ","overlaps day of"," "]},{"r":"42","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"63","s":[{"value":["exists "]},{"r":"62","s":[{"value":["( "]},{"r":"62","s":[{"s":[{"r":"48","s":[{"r":"47","s":[{"r":"47","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Hospice care [Minimum Data Set]\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceAssessment"]}]}]},{"value":["\n        "]},{"r":"61","s":[{"value":["where "]},{"r":"61","s":[{"r":"52","s":[{"r":"50","s":[{"r":"49","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"50","s":[{"value":["result"]}]}]},{"value":[" ","~"," "]},{"r":"51","s":[{"value":["\"Yes (qualifier value)\""]}]}]},{"value":["\n          and "]},{"r":"60","s":[{"r":"58","s":[{"r":"53","s":[{"value":["Global"]}]},{"value":["."]},{"r":"58","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"55","s":[{"r":"54","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"55","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"57","s":[{"r":"56","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"57","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"60","value":[" ","overlaps day of"," "]},{"r":"59","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"72","s":[{"value":["exists "]},{"r":"71","s":[{"value":["( "]},{"r":"71","s":[{"s":[{"r":"66","s":[{"r":"65","s":[{"r":"65","s":[{"value":["[","\"Intervention, Order\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceOrder"]}]}]},{"value":["\n        "]},{"r":"70","s":[{"value":["where "]},{"r":"70","s":[{"r":"68","s":[{"r":"67","s":[{"value":["HospiceOrder"]}]},{"value":["."]},{"r":"68","s":[{"value":["authorDatetime"]}]}]},{"r":"70","value":[" ","during day of"," "]},{"r":"69","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"85","s":[{"value":["exists "]},{"r":"84","s":[{"value":["( "]},{"r":"84","s":[{"s":[{"r":"75","s":[{"r":"74","s":[{"r":"74","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospicePerformed"]}]}]},{"value":["\n        "]},{"r":"83","s":[{"value":["where "]},{"r":"83","s":[{"r":"81","s":[{"r":"76","s":[{"value":["Global"]}]},{"value":["."]},{"r":"81","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"78","s":[{"r":"77","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"78","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"80","s":[{"r":"79","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"80","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"83","value":[" ","overlaps day of"," "]},{"r":"82","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n  or "]},{"r":"94","s":[{"value":["exists "]},{"r":"93","s":[{"value":["( "]},{"r":"93","s":[{"s":[{"r":"88","s":[{"r":"87","s":[{"r":"87","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Hospice Diagnosis\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceCareDiagnosis"]}]}]},{"value":["\n        "]},{"r":"92","s":[{"value":["where "]},{"r":"92","s":[{"r":"90","s":[{"r":"89","s":[{"value":["HospiceCareDiagnosis"]}]},{"value":["."]},{"r":"90","s":[{"value":["prevalencePeriod"]}]}]},{"r":"92","value":[" ","overlaps day of"," "]},{"r":"91","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"95","locator":"25:3-46:5","type":"Or","operand":[{"localId":"86","locator":"25:3-43:5","type":"Or","operand":[{"localId":"73","locator":"25:3-40:5","type":"Or","operand":[{"localId":"64","locator":"25:3-37:5","type":"Or","operand":[{"localId":"46","locator":"25:3-33:5","type":"Or","operand":[{"localId":"37","locator":"25:3-30:3","type":"Exists","operand":{"localId":"36","locator":"25:10-30:3","type":"Query","source":[{"localId":"21","locator":"25:12-25:77","alias":"InpatientEncounter","expression":{"localId":"20","locator":"25:12-25:58","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"25:37-25:57","name":"Encounter Inpatient","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"35","locator":"26:7-29:85","type":"And","operand":[{"localId":"30","locator":"26:13-28:7","type":"Or","operand":[{"localId":"25","locator":"26:15-26:104","type":"Equivalent","operand":[{"localId":"23","locator":"26:15-26:53","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"24","locator":"26:57-26:104","name":"Discharge to home for hospice care (procedure)","type":"CodeRef"}]},{"localId":"29","locator":"27:14-27:118","type":"Equivalent","operand":[{"localId":"27","locator":"27:14-27:52","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"28","locator":"27:56-27:118","name":"Discharge to healthcare facility for hospice care (procedure)","type":"CodeRef"}]}]},{"localId":"34","locator":"29:13-29:85","precision":"Day","type":"In","operand":[{"locator":"29:47-29:50","type":"End","operand":{"localId":"32","locator":"29:13-29:45","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property"}},{"localId":"33","locator":"29:66-29:85","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"45","locator":"31:8-33:5","type":"Exists","operand":{"localId":"44","locator":"31:15-33:5","type":"Query","source":[{"localId":"39","locator":"31:17-31:78","alias":"HospiceEncounter","expression":{"localId":"38","locator":"31:17-31:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"31:42-31:60","name":"Hospice Encounter","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"43","locator":"32:9-32:82","precision":"Day","type":"Overlaps","operand":[{"localId":"41","locator":"32:15-32:45","path":"relevantPeriod","scope":"HospiceEncounter","type":"Property"},{"localId":"42","locator":"32:63-32:82","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"63","locator":"34:8-37:5","type":"Exists","operand":{"localId":"62","locator":"34:15-37:5","type":"Query","source":[{"localId":"48","locator":"34:17-34:94","alias":"HospiceAssessment","expression":{"localId":"47","locator":"34:17-34:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","codes":{"type":"ToList","operand":{"locator":"34:43-34:75","name":"Hospice care [Minimum Data Set]","type":"CodeRef"}}}}],"relationship":[],"where":{"localId":"61","locator":"35:9-36:150","type":"And","operand":[{"localId":"52","locator":"35:15-35:64","type":"Equivalent","operand":[{"asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","operand":{"localId":"50","locator":"35:15-35:38","path":"result","scope":"HospiceAssessment","type":"Property"}},{"localId":"51","locator":"35:42-35:64","name":"Yes (qualifier value)","type":"CodeRef"}]},{"localId":"60","locator":"36:15-36:150","precision":"Day","type":"Overlaps","operand":[{"localId":"58","locator":"36:15-36:113","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"55","locator":"36:44-36:77","path":"relevantDatetime","scope":"HospiceAssessment","type":"Property"},{"localId":"57","locator":"36:80-36:111","path":"relevantPeriod","scope":"HospiceAssessment","type":"Property"}]},{"localId":"59","locator":"36:131-36:150","name":"Measurement Period","type":"ParameterRef"}]}]}}}]},{"localId":"72","locator":"38:8-40:5","type":"Exists","operand":{"localId":"71","locator":"38:15-40:5","type":"Query","source":[{"localId":"66","locator":"38:17-38:79","alias":"HospiceOrder","expression":{"localId":"65","locator":"38:17-38:66","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","templateId":"PositiveInterventionOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"38:41-38:65","name":"Hospice Care Ambulatory","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"70","locator":"39:9-39:76","precision":"Day","type":"In","operand":[{"localId":"68","locator":"39:15-39:41","path":"authorDatetime","scope":"HospiceOrder","type":"Property"},{"localId":"69","locator":"39:57-39:76","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"85","locator":"41:8-43:5","type":"Exists","operand":{"localId":"84","locator":"41:15-43:5","type":"Query","source":[{"localId":"75","locator":"41:17-41:87","alias":"HospicePerformed","expression":{"localId":"74","locator":"41:17-41:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"41:45-41:69","name":"Hospice Care Ambulatory","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"83","locator":"42:9-42:148","precision":"Day","type":"Overlaps","operand":[{"localId":"81","locator":"42:15-42:111","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"78","locator":"42:44-42:76","path":"relevantDatetime","scope":"HospicePerformed","type":"Property"},{"localId":"80","locator":"42:79-42:109","path":"relevantPeriod","scope":"HospicePerformed","type":"Property"}]},{"localId":"82","locator":"42:129-42:148","name":"Measurement Period","type":"ParameterRef"}]}}}]},{"localId":"94","locator":"44:6-46:5","type":"Exists","operand":{"localId":"93","locator":"44:13-46:5","type":"Query","source":[{"localId":"88","locator":"44:15-44:69","alias":"HospiceCareDiagnosis","expression":{"localId":"87","locator":"44:15-44:48","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"44:29-44:47","name":"Hospice Diagnosis","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"92","locator":"45:9-45:88","precision":"Day","type":"Overlaps","operand":[{"localId":"90","locator":"45:15-45:51","path":"prevalencePeriod","scope":"HospiceCareDiagnosis","type":"Property"},{"localId":"91","locator":"45:69-45:88","name":"Measurement Period","type":"ParameterRef"}]}}}]}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Has Hospice Services\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"20"}],"node_type":"Retrieve","ref_id":"20"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"21"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"22"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"23"}],"node_type":"Property","ref_id":"23"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to home for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"24"}],"node_type":"Equivalent","ref_id":"25"},{"children":[{"text":"\n          or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"26"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"27"}],"node_type":"Property","ref_id":"27"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to healthcare facility for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"28"}],"node_type":"Equivalent","ref_id":"29"}],"node_type":"Or","ref_id":"30"},{"children":[{"text":"\n      )"}]}],"node_type":"Or","ref_id":"30"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"31"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"32"}],"node_type":"Property","ref_id":"32"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"34"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"33"}],"node_type":"In","ref_id":"34"}],"ref_id":"35"}],"ref_id":"35"}],"node_type":"Query","ref_id":"36"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"36"}],"node_type":"Exists","ref_id":"37"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Encounter\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"38"}],"node_type":"Retrieve","ref_id":"38"},{"children":[{"text":" HospiceEncounter"}]}],"ref_id":"39"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceEncounter"}]}],"ref_id":"40"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"41"}],"node_type":"Property","ref_id":"41"},{"children":[{"text":" overlaps day of "}],"ref_id":"43"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"42"}],"ref_id":"43"}],"ref_id":"43"}],"node_type":"Query","ref_id":"44"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"44"}],"node_type":"Exists","ref_id":"45"}],"node_type":"Or","ref_id":"46"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice care [Minimum Data Set]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"47"}],"node_type":"Retrieve","ref_id":"47"},{"children":[{"text":" HospiceAssessment"}]}],"ref_id":"48"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"49"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"50"}],"node_type":"Property","ref_id":"50"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Yes (qualifier value)\""}]}],"node_type":"CodeRef","ref_id":"51"}],"node_type":"Equivalent","ref_id":"52"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"53"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"54"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"55"}],"node_type":"Property","ref_id":"55"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"56"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"57"}],"node_type":"Property","ref_id":"57"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"58"}],"node_type":"FunctionRef","ref_id":"58"},{"children":[{"text":" overlaps day of "}],"node_type":"Overlaps","ref_id":"60"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"59"}],"node_type":"Overlaps","ref_id":"60"}],"ref_id":"61"}],"ref_id":"61"}],"node_type":"Query","ref_id":"62"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"62"}],"node_type":"Exists","ref_id":"63"}],"node_type":"Or","ref_id":"64"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Order\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"65"}],"node_type":"Retrieve","ref_id":"65"},{"children":[{"text":" HospiceOrder"}]}],"ref_id":"66"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceOrder"}]}],"ref_id":"67"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"68"}],"node_type":"Property","ref_id":"68"},{"children":[{"text":" during day of "}],"ref_id":"70"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"69"}],"ref_id":"70"}],"ref_id":"70"}],"node_type":"Query","ref_id":"71"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"71"}],"node_type":"Exists","ref_id":"72"}],"node_type":"Or","ref_id":"73"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"74"}],"node_type":"Retrieve","ref_id":"74"},{"children":[{"text":" HospicePerformed"}]}],"ref_id":"75"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"76"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"77"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"78"}],"node_type":"Property","ref_id":"78"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"79"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"80"}],"node_type":"Property","ref_id":"80"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"81"}],"node_type":"FunctionRef","ref_id":"81"},{"children":[{"text":" overlaps day of "}],"ref_id":"83"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"82"}],"ref_id":"83"}],"ref_id":"83"}],"node_type":"Query","ref_id":"84"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"84"}],"node_type":"Exists","ref_id":"85"}],"node_type":"Or","ref_id":"86"},{"children":[{"text":"\n  or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Hospice Diagnosis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"87"}],"node_type":"Retrieve","ref_id":"87"},{"children":[{"text":" HospiceCareDiagnosis"}]}],"ref_id":"88"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceCareDiagnosis"}]}],"ref_id":"89"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"90"}],"node_type":"Property","ref_id":"90"},{"children":[{"text":" overlaps day of "}],"ref_id":"92"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"91"}],"ref_id":"92"}],"ref_id":"92"}],"node_type":"Query","ref_id":"93"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"93"}],"node_type":"Exists","ref_id":"94"}],"node_type":"Or","ref_id":"95"}],"ref_id":"96"}],"define_name":"Has Hospice Services"}],"identifier":{"id":"Hospice","version":"5.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"Hospice","library_version":"5.0.000","statement_dependencies":[{"_id":"689245640734dfcaf541879e","statement_name":"Has Hospice Services","statement_references":[{"_id":"689245640734dfcaf541879f","hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"NormalizeInterval"}]}]},{"_id":"689245580734dfcaf541858c","cql":"library MATGlobalCommonFunctions version '7.0.000'\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where \"LengthInDays\"(EncounterInpatient.relevantPeriod)\u003c= 120\n      and EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))\n\n","elm":{"library":{"annotation":[{"translatorOptions":"EnableAnnotations,EnableLocators,DisableListDemotion,DisableListPromotion,DisableMethodInvocation","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"404","s":[{"value":["","library MATGlobalCommonFunctions version '7.0.000'"]}]}}],"identifier":{"id":"MATGlobalCommonFunctions","version":"7.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"1","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version ","'5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"9","locator":"11:1-11:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"9","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"8","s":[{"value":["Interval\u003c"]},{"r":"7","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"parameterTypeSpecifier":{"localId":"8","locator":"11:32-11:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"11:41-11:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"5:1-5:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"2","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}]},{"localId":"3","locator":"6:1-6:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"3","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}]},{"localId":"4","locator":"7:1-7:72","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"4","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}]},{"localId":"5","locator":"8:1-8:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"5","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}]},{"localId":"6","locator":"9:1-9:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"6","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}]}]},"contexts":{"def":[{"locator":"13:1-13:15","name":"Patient"}]},"statements":{"def":[{"locator":"13:1-13:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"13:1-13:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"11","locator":"15:1-16:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"11","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"10","locator":"16:3-16:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"16:28-16:55","name":"Emergency Department Visit","type":"ValueSetRef"}}},{"localId":"23","locator":"32:1-33:60","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"23","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/","define function ","\"LengthInDays\"","(","Value"," "]},{"r":"17","s":[{"value":["Interval\u003c"]},{"r":"16","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"22","s":[{"r":"22","s":[{"value":["difference in days between "]},{"r":"19","s":[{"value":["start of "]},{"r":"18","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"21","s":[{"value":["end of "]},{"r":"20","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"22","locator":"33:3-33:60","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"19","locator":"33:30-33:43","type":"Start","operand":{"localId":"18","locator":"33:39-33:43","name":"Value","type":"OperandRef"}},{"localId":"21","locator":"33:49-33:60","type":"End","operand":{"localId":"20","locator":"33:56-33:60","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"17","locator":"32:38-32:55","type":"IntervalTypeSpecifier","pointType":{"localId":"16","locator":"32:47-32:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"33","locator":"18:1-21:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"33","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"32","s":[{"s":[{"r":"13","s":[{"r":"12","s":[{"r":"12","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"31","s":[{"value":["where "]},{"r":"31","s":[{"r":"26","s":[{"r":"24","s":[{"value":["\"LengthInDays\"","("]},{"r":"15","s":[{"r":"14","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"15","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]},{"r":"25","value":["\u003c="," ","120"]}]},{"value":["\n      and "]},{"r":"30","s":[{"r":"28","s":[{"r":"27","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"28","s":[{"value":["relevantPeriod"]}]}]},{"r":"30","value":[" ","ends during day of"," "]},{"r":"29","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}]}}],"expression":{"localId":"32","locator":"19:3-21:83","type":"Query","source":[{"localId":"13","locator":"19:3-19:68","alias":"EncounterInpatient","expression":{"localId":"12","locator":"19:3-19:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"19:28-19:48","name":"Encounter Inpatient","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"31","locator":"20:5-21:83","type":"And","operand":[{"localId":"26","locator":"20:11-20:65","type":"LessOrEqual","operand":[{"localId":"24","locator":"20:11-20:59","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"15","locator":"20:26-20:58","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}]},{"localId":"25","locator":"20:63-20:65","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"120","type":"Literal"}]},{"localId":"30","locator":"21:11-21:83","precision":"Day","type":"In","operand":[{"locator":"21:45-21:48","type":"End","operand":{"localId":"28","locator":"21:11-21:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"29","locator":"21:64-21:83","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"43","locator":"28:1-29:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"43","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/","define function ","\"ToDateInterval\"","(","period"," "]},{"r":"35","s":[{"value":["Interval\u003c"]},{"r":"34","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"42","s":[{"r":"42","s":[{"value":["Interval["]},{"r":"38","s":[{"value":["date from "]},{"r":"37","s":[{"value":["start of "]},{"r":"36","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"41","s":[{"value":["date from "]},{"r":"40","s":[{"value":["end of "]},{"r":"39","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"expression":{"localId":"42","locator":"29:3-29:62","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"38","locator":"29:12-29:36","type":"DateFrom","operand":{"localId":"37","locator":"29:22-29:36","type":"Start","operand":{"localId":"36","locator":"29:31-29:36","name":"period","type":"OperandRef"}}},"high":{"localId":"41","locator":"29:39-29:61","type":"DateFrom","operand":{"localId":"40","locator":"29:49-29:61","type":"End","operand":{"localId":"39","locator":"29:56-29:61","name":"period","type":"OperandRef"}}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"35","locator":"28:41-28:58","type":"IntervalTypeSpecifier","pointType":{"localId":"34","locator":"28:50-28:57","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"79","locator":"36:1-44:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"79","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/","define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"47","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"78","s":[{"r":"78","s":[{"s":[{"r":"49","s":[{"r":"48","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"65","s":[{"value":["EDVisit",": "]},{"r":"64","s":[{"value":["Last","("]},{"r":"63","s":[{"s":[{"r":"51","s":[{"r":"50","s":[{"r":"50","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"58","s":[{"value":["where "]},{"r":"58","s":[{"r":"53","s":[{"r":"52","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"53","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"58","s":[{"value":["ends "]},{"r":"57","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"56","s":[{"value":["start of "]},{"r":"55","s":[{"r":"54","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"55","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"62","s":[{"value":["sort by \n  \t\t\t"]},{"r":"61","s":[{"r":"60","s":[{"value":["end of "]},{"r":"59","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"77","s":[{"value":["return "]},{"r":"76","s":[{"value":["if "]},{"r":"67","s":[{"r":"66","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"69","s":[{"r":"68","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"69","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"75","s":[{"value":["flatten "]},{"r":"74","s":[{"value":["{ "]},{"r":"71","s":[{"r":"70","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"71","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"73","s":[{"r":"72","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"73","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"78","locator":"37:3-44:71","type":"Query","source":[{"localId":"49","locator":"37:3-37:17","alias":"Visit","expression":{"localId":"48","locator":"37:3-37:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"65","locator":"38:8-42:4","identifier":"EDVisit","expression":{"localId":"64","locator":"38:17-42:4","type":"Last","source":{"localId":"63","locator":"38:22-41:26","type":"Query","source":[{"localId":"51","locator":"38:22-38:82","alias":"LastED","expression":{"localId":"50","locator":"38:22-38:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"38:47-38:74","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"58","locator":"39:6-39:95","type":"And","operand":[{"locator":"39:39-39:52","type":"In","operand":[{"locator":"39:34-39:37","type":"End","operand":{"localId":"53","locator":"39:12-39:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"39:39-39:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"39:67-39:95","type":"Subtract","operand":[{"localId":"56","locator":"39:67-39:95","type":"Start","operand":{"localId":"55","locator":"39:76-39:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"57","locator":"39:39-39:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"56","locator":"39:67-39:95","type":"Start","operand":{"localId":"55","locator":"39:76-39:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"39:39-39:52","type":"Not","operand":{"locator":"39:39-39:52","type":"IsNull","operand":{"localId":"56","locator":"39:67-39:95","type":"Start","operand":{"localId":"55","locator":"39:76-39:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"62","locator":"40:6-41:26","by":[{"localId":"61","locator":"41:6-41:26","direction":"asc","type":"ByExpression","expression":{"localId":"60","locator":"41:6-41:26","type":"End","operand":{"localId":"59","locator":"41:13-41:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"77","locator":"43:4-44:71","expression":{"localId":"76","locator":"43:11-44:71","type":"If","condition":{"localId":"67","locator":"43:14-43:28","type":"IsNull","operand":{"localId":"66","locator":"43:14-43:20","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"69","locator":"43:35-43:57","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"75","locator":"44:10-44:71","type":"Flatten","operand":{"localId":"74","locator":"44:18-44:71","type":"List","element":[{"localId":"71","locator":"44:20-44:44","path":"facilityLocations","type":"Property","source":{"localId":"70","locator":"44:20-44:26","name":"EDVisit","type":"QueryLetRef"}},{"localId":"73","locator":"44:47-44:69","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"47","locator":"36:54-36:75","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"96","locator":"47:1-51:18","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"96","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/","define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"80","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"95","s":[{"r":"95","s":[{"value":["start of "]},{"r":"94","s":[{"r":"93","s":[{"value":["First","("]},{"r":"92","s":[{"s":[{"r":"83","s":[{"r":"82","s":[{"value":["("]},{"r":"82","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"81","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"87","s":[{"value":["where "]},{"r":"87","s":[{"r":"85","s":[{"r":"84","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"85","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"86","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"91","s":[{"value":["sort by "]},{"r":"90","s":[{"r":"89","s":[{"value":["start of "]},{"r":"88","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"94","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"95","locator":"48:3-51:18","type":"Start","operand":{"localId":"94","locator":"48:12-51:18","path":"locationPeriod","type":"Property","source":{"localId":"93","locator":"48:12-51:3","type":"First","source":{"localId":"92","locator":"48:18-50:35","type":"Query","source":[{"localId":"83","locator":"48:18-48:72","alias":"HospitalLocation","expression":{"localId":"82","locator":"48:18-48:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"81","locator":"48:46-48:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"87","locator":"49:5-49:63","type":"InValueSet","code":{"localId":"85","locator":"49:11-49:31","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"86","locator":"49:36-49:63","name":"Emergency Department Visit","type":"ValueSetRef"}},"sort":{"localId":"91","locator":"50:5-50:35","by":[{"localId":"90","locator":"50:13-50:35","direction":"asc","type":"ByExpression","expression":{"localId":"89","locator":"50:13-50:35","type":"Start","operand":{"localId":"88","locator":"50:22-50:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"80","locator":"47:60-47:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"131","locator":"64:1-72:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"131","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/","define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"99","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"130","s":[{"r":"130","s":[{"s":[{"r":"101","s":[{"r":"100","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"117","s":[{"value":["EDVisit",": "]},{"r":"116","s":[{"value":["Last","("]},{"r":"115","s":[{"s":[{"r":"103","s":[{"r":"102","s":[{"r":"102","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"110","s":[{"value":["where "]},{"r":"110","s":[{"r":"105","s":[{"r":"104","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"105","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"110","s":[{"value":["ends "]},{"r":"109","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"108","s":[{"value":["start of "]},{"r":"107","s":[{"r":"106","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"107","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"114","s":[{"value":["sort by \n  \t\t\t"]},{"r":"113","s":[{"r":"112","s":[{"value":["end of "]},{"r":"111","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"129","s":[{"value":["return "]},{"r":"128","s":[{"value":["Interval["]},{"r":"124","s":[{"value":["Coalesce","("]},{"r":"120","s":[{"value":["start of "]},{"r":"119","s":[{"r":"118","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"119","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"123","s":[{"value":["start of "]},{"r":"122","s":[{"r":"121","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"122","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"127","s":[{"value":["end of "]},{"r":"126","s":[{"r":"125","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"126","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"130","locator":"65:3-72:31","type":"Query","source":[{"localId":"101","locator":"65:3-65:17","alias":"Visit","expression":{"localId":"100","locator":"65:3-65:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"117","locator":"66:8-70:4","identifier":"EDVisit","expression":{"localId":"116","locator":"66:17-70:4","type":"Last","source":{"localId":"115","locator":"66:22-69:26","type":"Query","source":[{"localId":"103","locator":"66:22-66:82","alias":"LastED","expression":{"localId":"102","locator":"66:22-66:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"66:47-66:74","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"110","locator":"67:6-67:95","type":"And","operand":[{"locator":"67:39-67:52","type":"In","operand":[{"locator":"67:34-67:37","type":"End","operand":{"localId":"105","locator":"67:12-67:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"67:39-67:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"67:67-67:95","type":"Subtract","operand":[{"localId":"108","locator":"67:67-67:95","type":"Start","operand":{"localId":"107","locator":"67:76-67:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"109","locator":"67:39-67:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"108","locator":"67:67-67:95","type":"Start","operand":{"localId":"107","locator":"67:76-67:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"67:39-67:52","type":"Not","operand":{"locator":"67:39-67:52","type":"IsNull","operand":{"localId":"108","locator":"67:67-67:95","type":"Start","operand":{"localId":"107","locator":"67:76-67:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"114","locator":"68:6-69:26","by":[{"localId":"113","locator":"69:6-69:26","direction":"asc","type":"ByExpression","expression":{"localId":"112","locator":"69:6-69:26","type":"End","operand":{"localId":"111","locator":"69:13-69:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"129","locator":"71:4-72:31","expression":{"localId":"128","locator":"71:11-72:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"124","locator":"71:20-71:91","type":"Coalesce","operand":[{"localId":"120","locator":"71:29-71:59","type":"Start","operand":{"localId":"119","locator":"71:38-71:59","path":"relevantPeriod","type":"Property","source":{"localId":"118","locator":"71:38-71:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"123","locator":"71:62-71:90","type":"Start","operand":{"localId":"122","locator":"71:71-71:90","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"127","locator":"72:4-72:30","type":"End","operand":{"localId":"126","locator":"72:11-72:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"99","locator":"64:45-64:66","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"134","locator":"54:1-55:39","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"134","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/","define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"97","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"133","s":[{"r":"133","s":[{"value":["start of "]},{"r":"132","s":[{"value":["\"Hospitalization\"","("]},{"r":"98","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"133","locator":"55:3-55:39","type":"Start","operand":{"localId":"132","locator":"55:12-55:39","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"98","locator":"55:30-55:38","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"97","locator":"54:51-54:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"147","locator":"58:1-61:18","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"147","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/","define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"135","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"146","s":[{"r":"146","s":[{"value":["start of "]},{"r":"145","s":[{"r":"144","s":[{"value":["First","("]},{"r":"143","s":[{"s":[{"r":"138","s":[{"r":"137","s":[{"value":["("]},{"r":"137","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"136","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"142","s":[{"value":["sort by "]},{"r":"141","s":[{"r":"140","s":[{"value":["start of "]},{"r":"139","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"145","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"146","locator":"59:3-61:18","type":"Start","operand":{"localId":"145","locator":"59:12-61:18","path":"locationPeriod","type":"Property","source":{"localId":"144","locator":"59:12-61:3","type":"First","source":{"localId":"143","locator":"59:18-60:35","type":"Query","source":[{"localId":"138","locator":"59:18-59:72","alias":"HospitalLocation","expression":{"localId":"137","locator":"59:18-59:56","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"136","locator":"59:46-59:54","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"142","locator":"60:5-60:35","by":[{"localId":"141","locator":"60:13-60:35","direction":"asc","type":"ByExpression","expression":{"localId":"140","locator":"60:13-60:35","type":"Start","operand":{"localId":"139","locator":"60:22-60:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"135","locator":"58:49-58:70","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"154","locator":"75:1-76:44","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"154","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/","define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"150","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"153","s":[{"r":"153","s":[{"value":["LengthInDays","("]},{"r":"152","s":[{"value":["\"Hospitalization\"","("]},{"r":"151","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"153","locator":"76:3-76:44","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"152","locator":"76:16-76:43","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"151","locator":"76:34-76:42","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"150","locator":"75:57-75:78","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"167","locator":"79:1-82:18","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"167","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/","define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"155","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"166","s":[{"r":"166","s":[{"value":["end of "]},{"r":"165","s":[{"r":"164","s":[{"value":["Last","("]},{"r":"163","s":[{"s":[{"r":"158","s":[{"r":"157","s":[{"value":["("]},{"r":"157","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"156","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"162","s":[{"value":["sort by "]},{"r":"161","s":[{"r":"160","s":[{"value":["start of "]},{"r":"159","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"165","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"166","locator":"80:3-82:18","type":"End","operand":{"localId":"165","locator":"80:10-82:18","path":"locationPeriod","type":"Property","source":{"localId":"164","locator":"80:10-82:3","type":"Last","source":{"localId":"163","locator":"80:15-81:35","type":"Query","source":[{"localId":"158","locator":"80:15-80:69","alias":"HospitalLocation","expression":{"localId":"157","locator":"80:15-80:53","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"156","locator":"80:43-80:51","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"162","locator":"81:5-81:35","by":[{"localId":"161","locator":"81:13-81:35","direction":"asc","type":"ByExpression","expression":{"localId":"160","locator":"81:13-81:35","type":"Start","operand":{"localId":"159","locator":"81:22-81:35","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"155","locator":"79:51-79:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"172","locator":"85:1-86:33","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"172","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/","define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"168","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"171","s":[{"r":"171","s":[{"value":["end of "]},{"r":"170","s":[{"r":"169","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"171","locator":"86:3-86:33","type":"End","operand":{"localId":"170","locator":"86:10-86:33","path":"relevantPeriod","type":"Property","source":{"localId":"169","locator":"86:10-86:18","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"168","locator":"85:51-85:72","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"245","locator":"89:1-109:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"245","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/","define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"173","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"244","s":[{"r":"244","s":[{"s":[{"r":"175","s":[{"r":"174","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"191","s":[{"value":["ObsVisit",": "]},{"r":"190","s":[{"value":["Last","("]},{"r":"189","s":[{"s":[{"r":"177","s":[{"r":"176","s":[{"r":"176","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"184","s":[{"value":["where "]},{"r":"184","s":[{"r":"179","s":[{"r":"178","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"179","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"184","s":[{"value":["ends "]},{"r":"183","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"182","s":[{"value":["start of "]},{"r":"181","s":[{"r":"180","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"181","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"188","s":[{"value":["sort by \n  \t\t\t"]},{"r":"187","s":[{"r":"186","s":[{"value":["end of "]},{"r":"185","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"199","s":[{"value":["VisitStart",": "]},{"r":"198","s":[{"value":["Coalesce","("]},{"r":"194","s":[{"value":["start of "]},{"r":"193","s":[{"r":"192","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"193","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"197","s":[{"value":["start of "]},{"r":"196","s":[{"r":"195","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"196","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"213","s":[{"value":["EDVisit",": "]},{"r":"212","s":[{"value":["Last","("]},{"r":"211","s":[{"s":[{"r":"201","s":[{"r":"200","s":[{"r":"200","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"206","s":[{"value":["where "]},{"r":"206","s":[{"r":"203","s":[{"r":"202","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"203","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"206","s":[{"value":["ends "]},{"r":"205","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"204","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"210","s":[{"value":["sort by \n  \t\t\t"]},{"r":"209","s":[{"r":"208","s":[{"value":["end of "]},{"r":"207","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"219","s":[{"value":["VisitStartWithED",": "]},{"r":"218","s":[{"value":["Coalesce","("]},{"r":"216","s":[{"value":["start of "]},{"r":"215","s":[{"r":"214","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"215","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"217","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"233","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"232","s":[{"value":["Last","("]},{"r":"231","s":[{"s":[{"r":"221","s":[{"r":"220","s":[{"r":"220","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"226","s":[{"value":["where "]},{"r":"226","s":[{"r":"223","s":[{"r":"222","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"223","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"226","s":[{"value":["ends "]},{"r":"225","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"224","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"230","s":[{"value":["sort by \n  \t\t\t"]},{"r":"229","s":[{"r":"228","s":[{"value":["end of "]},{"r":"227","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"243","s":[{"value":["return "]},{"r":"242","s":[{"value":["Interval["]},{"r":"238","s":[{"value":["Coalesce","("]},{"r":"236","s":[{"value":["start of "]},{"r":"235","s":[{"r":"234","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"235","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"237","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"241","s":[{"value":["end of "]},{"r":"240","s":[{"r":"239","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"240","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"244","locator":"90:3-109:31","type":"Query","source":[{"localId":"175","locator":"90:3-90:17","alias":"Visit","expression":{"localId":"174","locator":"90:3-90:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"191","locator":"91:8-95:4","identifier":"ObsVisit","expression":{"localId":"190","locator":"91:18-95:4","type":"Last","source":{"localId":"189","locator":"91:23-94:26","type":"Query","source":[{"localId":"177","locator":"91:23-91:78","alias":"LastObs","expression":{"localId":"176","locator":"91:23-91:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"91:48-91:69","name":"Observation Services","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"184","locator":"92:6-92:96","type":"And","operand":[{"locator":"92:40-92:53","type":"In","operand":[{"locator":"92:35-92:38","type":"End","operand":{"localId":"179","locator":"92:12-92:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"92:40-92:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"92:68-92:96","type":"Subtract","operand":[{"localId":"182","locator":"92:68-92:96","type":"Start","operand":{"localId":"181","locator":"92:77-92:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"183","locator":"92:40-92:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"182","locator":"92:68-92:96","type":"Start","operand":{"localId":"181","locator":"92:77-92:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"92:40-92:53","type":"Not","operand":{"locator":"92:40-92:53","type":"IsNull","operand":{"localId":"182","locator":"92:68-92:96","type":"Start","operand":{"localId":"181","locator":"92:77-92:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"188","locator":"93:6-94:26","by":[{"localId":"187","locator":"94:6-94:26","direction":"asc","type":"ByExpression","expression":{"localId":"186","locator":"94:6-94:26","type":"End","operand":{"localId":"185","locator":"94:13-94:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"199","locator":"96:4-96:88","identifier":"VisitStart","expression":{"localId":"198","locator":"96:16-96:88","type":"Coalesce","operand":[{"localId":"194","locator":"96:25-96:56","type":"Start","operand":{"localId":"193","locator":"96:34-96:56","path":"relevantPeriod","type":"Property","source":{"localId":"192","locator":"96:34-96:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"197","locator":"96:59-96:87","type":"Start","operand":{"localId":"196","locator":"96:68-96:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"213","locator":"97:4-101:4","identifier":"EDVisit","expression":{"localId":"212","locator":"97:13-101:4","type":"Last","source":{"localId":"211","locator":"97:18-100:26","type":"Query","source":[{"localId":"201","locator":"97:18-97:78","alias":"LastED","expression":{"localId":"200","locator":"97:18-97:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"97:43-97:70","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"206","locator":"98:6-98:76","type":"And","operand":[{"locator":"98:39-98:52","type":"In","operand":[{"locator":"98:34-98:37","type":"End","operand":{"localId":"203","locator":"98:12-98:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"98:39-98:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"98:67-98:76","type":"Subtract","operand":[{"localId":"204","locator":"98:67-98:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"205","locator":"98:39-98:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"204","locator":"98:67-98:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"98:39-98:52","type":"Not","operand":{"locator":"98:39-98:52","type":"IsNull","operand":{"localId":"204","locator":"98:67-98:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"210","locator":"99:6-100:26","by":[{"localId":"209","locator":"100:6-100:26","direction":"asc","type":"ByExpression","expression":{"localId":"208","locator":"100:6-100:26","type":"End","operand":{"localId":"207","locator":"100:13-100:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"219","locator":"102:4-102:74","identifier":"VisitStartWithED","expression":{"localId":"218","locator":"102:22-102:74","type":"Coalesce","operand":[{"localId":"216","locator":"102:31-102:61","type":"Start","operand":{"localId":"215","locator":"102:40-102:61","path":"relevantPeriod","type":"Property","source":{"localId":"214","locator":"102:40-102:46","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"217","locator":"102:64-102:73","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"233","locator":"103:4-107:4","identifier":"OutpatientSurgeryVisit","expression":{"localId":"232","locator":"103:28-107:4","type":"Last","source":{"localId":"231","locator":"103:33-106:26","type":"Query","source":[{"localId":"221","locator":"103:33-103:100","alias":"LastSurgeryOP","expression":{"localId":"220","locator":"103:33-103:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"103:58-103:85","name":"Outpatient Surgery Service","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"226","locator":"104:6-104:89","type":"And","operand":[{"locator":"104:46-104:59","type":"In","operand":[{"locator":"104:41-104:44","type":"End","operand":{"localId":"223","locator":"104:12-104:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"104:46-104:59","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"104:74-104:89","type":"Subtract","operand":[{"localId":"224","locator":"104:74-104:89","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"225","locator":"104:46-104:51","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"224","locator":"104:74-104:89","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"locator":"104:46-104:59","type":"Not","operand":{"locator":"104:46-104:59","type":"IsNull","operand":{"localId":"224","locator":"104:74-104:89","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"230","locator":"105:6-106:26","by":[{"localId":"229","locator":"106:6-106:26","direction":"asc","type":"ByExpression","expression":{"localId":"228","locator":"106:6-106:26","type":"End","operand":{"localId":"227","locator":"106:13-106:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"243","locator":"108:4-109:31","expression":{"localId":"242","locator":"108:11-109:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"238","locator":"108:20-108:93","type":"Coalesce","operand":[{"localId":"236","locator":"108:29-108:74","type":"Start","operand":{"localId":"235","locator":"108:38-108:74","path":"relevantPeriod","type":"Property","source":{"localId":"234","locator":"108:38-108:59","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"237","locator":"108:77-108:92","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"241","locator":"109:4-109:30","type":"End","operand":{"localId":"240","locator":"109:11-109:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"173","locator":"89:87-89:108","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"298","locator":"112:1-126:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"298","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/","define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"246","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"297","s":[{"r":"297","s":[{"s":[{"r":"248","s":[{"r":"247","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"264","s":[{"value":["ObsVisit",": "]},{"r":"263","s":[{"value":["Last","("]},{"r":"262","s":[{"s":[{"r":"250","s":[{"r":"249","s":[{"r":"249","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"257","s":[{"value":["where "]},{"r":"257","s":[{"r":"252","s":[{"r":"251","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"252","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"257","s":[{"value":["ends "]},{"r":"256","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"255","s":[{"value":["start of "]},{"r":"254","s":[{"r":"253","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"254","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"261","s":[{"value":["sort by \n  \t\t\t"]},{"r":"260","s":[{"r":"259","s":[{"value":["end of "]},{"r":"258","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"272","s":[{"value":["VisitStart",": "]},{"r":"271","s":[{"value":["Coalesce","("]},{"r":"267","s":[{"value":["start of "]},{"r":"266","s":[{"r":"265","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"266","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"270","s":[{"value":["start of "]},{"r":"269","s":[{"r":"268","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"269","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"286","s":[{"value":["EDVisit",": "]},{"r":"285","s":[{"value":["Last","("]},{"r":"284","s":[{"s":[{"r":"274","s":[{"r":"273","s":[{"r":"273","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"279","s":[{"value":["where "]},{"r":"279","s":[{"r":"276","s":[{"r":"275","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"276","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"279","s":[{"value":["ends "]},{"r":"278","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"277","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"283","s":[{"value":["sort by \n  \t\t\t"]},{"r":"282","s":[{"r":"281","s":[{"value":["end of "]},{"r":"280","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"296","s":[{"value":["return "]},{"r":"295","s":[{"value":["Interval["]},{"r":"291","s":[{"value":["Coalesce","("]},{"r":"289","s":[{"value":["start of "]},{"r":"288","s":[{"r":"287","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"288","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"290","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"294","s":[{"value":["end of "]},{"r":"293","s":[{"r":"292","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"293","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"297","locator":"113:3-126:31","type":"Query","source":[{"localId":"248","locator":"113:3-113:17","alias":"Visit","expression":{"localId":"247","locator":"113:3-113:11","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"264","locator":"114:8-118:4","identifier":"ObsVisit","expression":{"localId":"263","locator":"114:18-118:4","type":"Last","source":{"localId":"262","locator":"114:23-117:26","type":"Query","source":[{"localId":"250","locator":"114:23-114:78","alias":"LastObs","expression":{"localId":"249","locator":"114:23-114:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"114:48-114:69","name":"Observation Services","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"257","locator":"115:6-115:96","type":"And","operand":[{"locator":"115:40-115:53","type":"In","operand":[{"locator":"115:35-115:38","type":"End","operand":{"localId":"252","locator":"115:12-115:33","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"115:40-115:53","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"115:68-115:96","type":"Subtract","operand":[{"localId":"255","locator":"115:68-115:96","type":"Start","operand":{"localId":"254","locator":"115:77-115:96","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"256","locator":"115:40-115:45","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"255","locator":"115:68-115:96","type":"Start","operand":{"localId":"254","locator":"115:77-115:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},{"locator":"115:40-115:53","type":"Not","operand":{"locator":"115:40-115:53","type":"IsNull","operand":{"localId":"255","locator":"115:68-115:96","type":"Start","operand":{"localId":"254","locator":"115:77-115:96","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}]},"sort":{"localId":"261","locator":"116:6-117:26","by":[{"localId":"260","locator":"117:6-117:26","direction":"asc","type":"ByExpression","expression":{"localId":"259","locator":"117:6-117:26","type":"End","operand":{"localId":"258","locator":"117:13-117:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"272","locator":"119:4-119:88","identifier":"VisitStart","expression":{"localId":"271","locator":"119:16-119:88","type":"Coalesce","operand":[{"localId":"267","locator":"119:25-119:56","type":"Start","operand":{"localId":"266","locator":"119:34-119:56","path":"relevantPeriod","type":"Property","source":{"localId":"265","locator":"119:34-119:41","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"270","locator":"119:59-119:87","type":"Start","operand":{"localId":"269","locator":"119:68-119:87","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"286","locator":"120:4-124:4","identifier":"EDVisit","expression":{"localId":"285","locator":"120:13-124:4","type":"Last","source":{"localId":"284","locator":"120:18-123:26","type":"Query","source":[{"localId":"274","locator":"120:18-120:78","alias":"LastED","expression":{"localId":"273","locator":"120:18-120:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","codes":{"locator":"120:43-120:70","name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"279","locator":"121:6-121:76","type":"And","operand":[{"locator":"121:39-121:52","type":"In","operand":[{"locator":"121:34-121:37","type":"End","operand":{"localId":"276","locator":"121:12-121:32","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"121:39-121:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"121:67-121:76","type":"Subtract","operand":[{"localId":"277","locator":"121:67-121:76","name":"VisitStart","type":"QueryLetRef"},{"localId":"278","locator":"121:39-121:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"277","locator":"121:67-121:76","name":"VisitStart","type":"QueryLetRef"}}]},{"locator":"121:39-121:52","type":"Not","operand":{"locator":"121:39-121:52","type":"IsNull","operand":{"localId":"277","locator":"121:67-121:76","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"283","locator":"122:6-123:26","by":[{"localId":"282","locator":"123:6-123:26","direction":"asc","type":"ByExpression","expression":{"localId":"281","locator":"123:6-123:26","type":"End","operand":{"localId":"280","locator":"123:13-123:26","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"296","locator":"125:4-126:31","expression":{"localId":"295","locator":"125:11-126:31","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"291","locator":"125:20-125:72","type":"Coalesce","operand":[{"localId":"289","locator":"125:29-125:59","type":"Start","operand":{"localId":"288","locator":"125:38-125:59","path":"relevantPeriod","type":"Property","source":{"localId":"287","locator":"125:38-125:44","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"290","locator":"125:62-125:71","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"294","locator":"126:4-126:30","type":"End","operand":{"localId":"293","locator":"126:11-126:30","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"246","locator":"112:60-112:81","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"303","locator":"129:1-130:61","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"303","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/","define function ","\"HospitalizationWithObservationLengthofStay\"","(","Encounter"," "]},{"r":"299","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"302","s":[{"r":"302","s":[{"value":["\"LengthInDays\"","("]},{"r":"301","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"300","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"302","locator":"130:3-130:61","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"301","locator":"130:18-130:60","name":"HospitalizationWithObservation","type":"FunctionRef","operand":[{"localId":"300","locator":"130:51-130:59","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"299","locator":"129:72-129:93","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"324","locator":"133:1-138:3","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"324","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/","define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"304","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n  "]},{"r":"323","s":[{"r":"323","s":[{"value":["First","("]},{"r":"322","s":[{"s":[{"r":"307","s":[{"r":"306","s":[{"value":["("]},{"r":"306","s":[{"r":"305","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"306","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"317","s":[{"value":["where "]},{"r":"317","s":[{"r":"311","s":[{"r":"309","s":[{"r":"308","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"309","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"310","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"316","s":[{"r":"313","s":[{"r":"312","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"313","s":[{"value":["locationPeriod"]}]}]},{"r":"316","value":[" ","during"," "]},{"r":"315","s":[{"r":"314","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"315","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"321","s":[{"value":["sort by "]},{"r":"320","s":[{"r":"319","s":[{"value":["start of "]},{"r":"318","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"323","locator":"134:3-138:3","type":"First","source":{"localId":"322","locator":"134:9-137:37","type":"Query","source":[{"localId":"307","locator":"134:9-134:53","alias":"HospitalLocation","expression":{"localId":"306","locator":"134:9-134:37","path":"facilityLocations","type":"Property","source":{"localId":"305","locator":"134:10-134:18","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"317","locator":"135:7-136:75","type":"And","operand":[{"localId":"311","locator":"135:13-135:58","type":"InValueSet","code":{"localId":"309","locator":"135:13-135:33","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"310","locator":"135:38-135:58","name":"Intensive Care Unit","type":"ValueSetRef"}},{"localId":"316","locator":"136:13-136:75","type":"IncludedIn","operand":[{"localId":"313","locator":"136:13-136:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"315","locator":"136:52-136:75","path":"relevantPeriod","type":"Property","source":{"localId":"314","locator":"136:52-136:60","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"321","locator":"137:7-137:37","by":[{"localId":"320","locator":"137:15-137:37","direction":"asc","type":"ByExpression","expression":{"localId":"319","locator":"137:15-137:37","type":"Start","operand":{"localId":"318","locator":"137:24-137:37","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"304","locator":"133:61-133:82","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"342","locator":"141:1-144:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"342","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/","define function ","\"NormalizeInterval\"","(","pointInTime"," "]},{"r":"325","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"327","s":[{"value":["Interval\u003c"]},{"r":"326","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"341","s":[{"r":"341","s":[{"value":["if "]},{"r":"329","s":[{"r":"328","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"332","s":[{"value":["Interval["]},{"r":"330","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"331","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"340","s":[{"value":["if "]},{"r":"334","s":[{"r":"333","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"335","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"339","s":[{"r":"336","value":["null"," as "]},{"r":"338","s":[{"value":["Interval\u003c"]},{"r":"337","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"expression":{"localId":"341","locator":"142:3-144:35","type":"If","condition":{"localId":"329","locator":"142:6-142:28","type":"Not","operand":{"locator":"142:6-142:28","type":"IsNull","operand":{"localId":"328","locator":"142:6-142:16","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"332","locator":"142:35-142:68","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"330","locator":"142:44-142:54","name":"pointInTime","type":"OperandRef"},"high":{"localId":"331","locator":"142:57-142:67","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"340","locator":"143:10-144:35","type":"If","condition":{"localId":"334","locator":"143:13-143:30","type":"Not","operand":{"locator":"143:13-143:30","type":"IsNull","operand":{"localId":"333","locator":"143:13-143:18","name":"period","type":"OperandRef"}}},"then":{"localId":"335","locator":"143:37-143:42","name":"period","type":"OperandRef"},"else":{"localId":"339","locator":"144:10-144:35","strict":false,"type":"As","operand":{"localId":"336","locator":"144:10-144:13","type":"Null"},"asTypeSpecifier":{"localId":"338","locator":"144:18-144:35","type":"IntervalTypeSpecifier","pointType":{"localId":"337","locator":"144:27-144:34","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"325","locator":"141:49-141:56","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"327","locator":"141:66-141:83","type":"IntervalTypeSpecifier","pointType":{"localId":"326","locator":"141:75-141:82","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"355","locator":"147:1-150:3","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"355","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/","define function ","\"HasStart\"","(","period"," "]},{"r":"344","s":[{"value":["Interval\u003c"]},{"r":"343","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"354","s":[{"r":"354","s":[{"value":["not "]},{"r":"353","s":[{"value":["( "]},{"r":"353","s":[{"r":"347","s":[{"r":"346","s":[{"value":["start of "]},{"r":"345","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"352","s":[{"r":"349","s":[{"value":["start of "]},{"r":"348","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"351","s":[{"value":["minimum"," "]},{"r":"350","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"354","locator":"148:3-150:3","type":"Not","operand":{"localId":"353","locator":"148:7-150:3","type":"Or","operand":[{"localId":"347","locator":"148:9-148:31","type":"IsNull","operand":{"localId":"346","locator":"148:9-148:23","type":"Start","operand":{"localId":"345","locator":"148:18-148:23","name":"period","type":"OperandRef"}}},{"localId":"352","locator":"149:10-149:43","type":"Equal","operand":[{"localId":"349","locator":"149:10-149:24","type":"Start","operand":{"localId":"348","locator":"149:19-149:24","name":"period","type":"OperandRef"}},{"localId":"351","locator":"149:28-149:43","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"344","locator":"147:35-147:52","type":"IntervalTypeSpecifier","pointType":{"localId":"343","locator":"147:44-147:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"368","locator":"153:1-158:3","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"368","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/","define function ","\"HasEnd\"","(","period"," "]},{"r":"357","s":[{"value":["Interval\u003c"]},{"r":"356","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"367","s":[{"r":"367","s":[{"value":["not "]},{"r":"366","s":[{"value":["( \n    "]},{"r":"366","s":[{"r":"360","s":[{"r":"359","s":[{"value":["end of "]},{"r":"358","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"365","s":[{"r":"362","s":[{"value":["end of "]},{"r":"361","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"364","s":[{"value":["maximum"," "]},{"r":"363","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"367","locator":"154:3-158:3","type":"Not","operand":{"localId":"366","locator":"154:7-158:3","type":"Or","operand":[{"localId":"360","locator":"155:5-155:25","type":"IsNull","operand":{"localId":"359","locator":"155:5-155:17","type":"End","operand":{"localId":"358","locator":"155:12-155:17","name":"period","type":"OperandRef"}}},{"localId":"365","locator":"157:7-157:38","type":"Equal","operand":[{"localId":"362","locator":"157:7-157:19","type":"End","operand":{"localId":"361","locator":"157:14-157:19","name":"period","type":"OperandRef"}},{"localId":"364","locator":"157:23-157:38","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"357","locator":"153:33-153:50","type":"IntervalTypeSpecifier","pointType":{"localId":"356","locator":"153:42-153:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"378","locator":"161:1-164:24","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"378","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/","define function ","\"Latest\"","(","period"," "]},{"r":"370","s":[{"value":["Interval\u003c"]},{"r":"369","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"377","s":[{"r":"377","s":[{"value":["if "]},{"r":"372","s":[{"value":["( "]},{"r":"372","s":[{"value":["HasEnd","("]},{"r":"371","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"374","s":[{"value":["end of "]},{"r":"373","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"376","s":[{"value":["start of "]},{"r":"375","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"377","locator":"162:3-164:24","type":"If","condition":{"localId":"372","locator":"162:6-162:22","name":"HasEnd","type":"FunctionRef","operand":[{"localId":"371","locator":"162:15-162:20","name":"period","type":"OperandRef"}]},"then":{"localId":"374","locator":"163:3-163:15","type":"End","operand":{"localId":"373","locator":"163:10-163:15","name":"period","type":"OperandRef"}},"else":{"localId":"376","locator":"164:10-164:24","type":"Start","operand":{"localId":"375","locator":"164:19-164:24","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"370","locator":"161:33-161:50","type":"IntervalTypeSpecifier","pointType":{"localId":"369","locator":"161:42-161:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"388","locator":"167:1-170:15","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"388","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/","define function ","\"Earliest\"","(","period"," "]},{"r":"380","s":[{"value":["Interval\u003c"]},{"r":"379","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"387","s":[{"r":"387","s":[{"value":["if "]},{"r":"382","s":[{"value":["( "]},{"r":"382","s":[{"value":["HasStart","("]},{"r":"381","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"384","s":[{"value":["start of "]},{"r":"383","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"386","s":[{"value":["end of "]},{"r":"385","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"387","locator":"168:3-170:15","type":"If","condition":{"localId":"382","locator":"168:6-168:24","name":"HasStart","type":"FunctionRef","operand":[{"localId":"381","locator":"168:17-168:22","name":"period","type":"OperandRef"}]},"then":{"localId":"384","locator":"168:31-168:45","type":"Start","operand":{"localId":"383","locator":"168:40-168:45","name":"period","type":"OperandRef"}},"else":{"localId":"386","locator":"170:3-170:15","type":"End","operand":{"localId":"385","locator":"170:10-170:15","name":"period","type":"OperandRef"}}},"operand":[{"name":"period","operandTypeSpecifier":{"localId":"380","locator":"167:35-167:52","type":"IntervalTypeSpecifier","pointType":{"localId":"379","locator":"167:44-167:51","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"396","locator":"173:1-174:48","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"396","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/","define function ","\"LatestOf\"","(","pointInTime"," "]},{"r":"389","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"391","s":[{"value":["Interval\u003c"]},{"r":"390","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"395","s":[{"r":"395","s":[{"value":["Latest","("]},{"r":"394","s":[{"value":["NormalizeInterval","("]},{"r":"392","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"393","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"395","locator":"174:3-174:48","name":"Latest","type":"FunctionRef","operand":[{"localId":"394","locator":"174:10-174:47","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"392","locator":"174:28-174:38","name":"pointInTime","type":"OperandRef"},{"localId":"393","locator":"174:41-174:46","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"389","locator":"173:40-173:47","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"391","locator":"173:57-173:74","type":"IntervalTypeSpecifier","pointType":{"localId":"390","locator":"173:66-173:73","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"404","locator":"177:1-178:50","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"404","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/","define function ","\"EarliestOf\"","(","pointInTime"," "]},{"r":"397","s":[{"value":["DateTime"]}]},{"value":[", ","period"," "]},{"r":"399","s":[{"value":["Interval\u003c"]},{"r":"398","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n  "]},{"r":"403","s":[{"r":"403","s":[{"value":["Earliest","("]},{"r":"402","s":[{"value":["NormalizeInterval","("]},{"r":"400","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"401","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"403","locator":"178:3-178:50","name":"Earliest","type":"FunctionRef","operand":[{"localId":"402","locator":"178:12-178:49","name":"NormalizeInterval","type":"FunctionRef","operand":[{"localId":"400","locator":"178:30-178:40","name":"pointInTime","type":"OperandRef"},{"localId":"401","locator":"178:43-178:48","name":"period","type":"OperandRef"}]}]},"operand":[{"name":"pointInTime","operandTypeSpecifier":{"localId":"397","locator":"177:42-177:49","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"period","operandTypeSpecifier":{"localId":"399","locator":"177:59-177:76","type":"IntervalTypeSpecifier","pointType":{"localId":"398","locator":"177:68-177:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"ref_id":"11"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/define function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"16"},{"children":[{"text":"\u003e"}]}],"ref_id":"17"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"18"}],"node_type":"Start","ref_id":"19"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"20"}],"node_type":"End","ref_id":"21"}],"node_type":"DifferenceBetween","ref_id":"22"}],"node_type":"DifferenceBetween","ref_id":"22"}],"ref_id":"23"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"12"}],"node_type":"Retrieve","ref_id":"12"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"13"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"14"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"15"}],"node_type":"Property","ref_id":"15"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"24"},{"children":[{"text":"\u003c= 120"}],"node_type":"Literal","ref_id":"25"}],"node_type":"LessOrEqual","ref_id":"26"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"27"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"28"}],"node_type":"Property","ref_id":"28"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"30"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"29"}],"node_type":"In","ref_id":"30"}],"ref_id":"31"}],"ref_id":"31"}],"node_type":"Query","ref_id":"32"}],"ref_id":"33"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[]},{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/define function \"ToDateInterval\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"34"},{"children":[{"text":"\u003e"}]}],"ref_id":"35"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"36"}],"node_type":"Start","ref_id":"37"}],"ref_id":"38"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"39"}],"node_type":"End","ref_id":"40"}],"ref_id":"41"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"42"}],"node_type":"Interval","ref_id":"42"}],"ref_id":"43"}],"define_name":"ToDateInterval"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/define function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"47"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"48"},{"children":[{"text":" Visit"}]}],"ref_id":"49"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"50"}],"node_type":"Retrieve","ref_id":"50"},{"children":[{"text":" LastED"}]}],"ref_id":"51"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"52"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"53"}],"node_type":"Property","ref_id":"53"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"57"},{"children":[{"text":" or less on or before"}]}],"ref_id":"58"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"54"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"55"}],"node_type":"Property","ref_id":"55"}],"node_type":"Start","ref_id":"56"}],"ref_id":"58"}],"ref_id":"58"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"59"}],"node_type":"End","ref_id":"60"}],"ref_id":"61"}],"ref_id":"62"}],"ref_id":"63"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"64"}],"ref_id":"65"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"66"},{"children":[{"text":" is null"}]}],"ref_id":"67"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"68"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"69"}],"ref_id":"69"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"70"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"71"}],"ref_id":"71"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"72"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"73"}],"ref_id":"73"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"74"}],"ref_id":"75"}],"node_type":"If","ref_id":"76"}],"ref_id":"77"}],"node_type":"Query","ref_id":"78"}],"node_type":"Query","ref_id":"78"}],"ref_id":"79"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/define function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"80"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"81"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"82"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"82"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"83"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"84"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"85"}],"ref_id":"85"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"86"}],"ref_id":"87"}],"ref_id":"87"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"88"}],"node_type":"Start","ref_id":"89"}],"ref_id":"90"}],"ref_id":"91"}],"ref_id":"92"},{"children":[{"text":"\n  )"}]}],"ref_id":"93"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"94"}],"node_type":"Property","ref_id":"94"}],"node_type":"Start","ref_id":"95"}],"node_type":"Start","ref_id":"95"}],"ref_id":"96"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/define function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"99"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"100"},{"children":[{"text":" Visit"}]}],"ref_id":"101"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"102"}],"node_type":"Retrieve","ref_id":"102"},{"children":[{"text":" LastED"}]}],"ref_id":"103"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"104"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"105"}],"node_type":"Property","ref_id":"105"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"109"},{"children":[{"text":" or less on or before"}]}],"ref_id":"110"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"106"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"107"}],"node_type":"Property","ref_id":"107"}],"node_type":"Start","ref_id":"108"}],"ref_id":"110"}],"ref_id":"110"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"111"}],"node_type":"End","ref_id":"112"}],"ref_id":"113"}],"ref_id":"114"}],"ref_id":"115"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"116"}],"ref_id":"117"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"118"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"119"}],"node_type":"Property","ref_id":"119"}],"node_type":"Start","ref_id":"120"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"121"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"122"}],"node_type":"Property","ref_id":"122"}],"node_type":"Start","ref_id":"123"},{"children":[{"text":")"}]}],"ref_id":"124"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"125"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"126"}],"node_type":"Property","ref_id":"126"}],"ref_id":"127"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"128"}],"ref_id":"129"}],"node_type":"Query","ref_id":"130"}],"node_type":"Query","ref_id":"130"}],"ref_id":"131"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/define function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"97"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"98"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"132"}],"node_type":"Start","ref_id":"133"}],"node_type":"Start","ref_id":"133"}],"ref_id":"134"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/define function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"135"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"136"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"137"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"137"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"138"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"139"}],"node_type":"Start","ref_id":"140"}],"ref_id":"141"}],"ref_id":"142"}],"ref_id":"143"},{"children":[{"text":"\n  )"}]}],"ref_id":"144"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"145"}],"node_type":"Property","ref_id":"145"}],"node_type":"Start","ref_id":"146"}],"node_type":"Start","ref_id":"146"}],"ref_id":"147"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/define function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"150"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"151"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"152"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"153"}],"node_type":"FunctionRef","ref_id":"153"}],"ref_id":"154"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/define function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"155"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"156"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"157"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"157"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"158"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"159"}],"node_type":"Start","ref_id":"160"}],"ref_id":"161"}],"ref_id":"162"}],"ref_id":"163"},{"children":[{"text":"\n  )"}]}],"ref_id":"164"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"165"}],"node_type":"Property","ref_id":"165"}],"node_type":"End","ref_id":"166"}],"node_type":"End","ref_id":"166"}],"ref_id":"167"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/define function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"168"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"}],"node_type":"End","ref_id":"171"}],"node_type":"End","ref_id":"171"}],"ref_id":"172"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/define function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"173"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"174"},{"children":[{"text":" Visit"}]}],"ref_id":"175"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"176"}],"node_type":"Retrieve","ref_id":"176"},{"children":[{"text":" LastObs"}]}],"ref_id":"177"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"178"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"179"}],"node_type":"Property","ref_id":"179"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"183"},{"children":[{"text":" or less on or before"}]}],"ref_id":"184"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"180"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"181"}],"node_type":"Property","ref_id":"181"}],"node_type":"Start","ref_id":"182"}],"ref_id":"184"}],"ref_id":"184"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"185"}],"node_type":"End","ref_id":"186"}],"ref_id":"187"}],"ref_id":"188"}],"ref_id":"189"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"190"}],"ref_id":"191"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"192"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"193"}],"node_type":"Property","ref_id":"193"}],"node_type":"Start","ref_id":"194"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"195"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"196"}],"node_type":"Property","ref_id":"196"}],"node_type":"Start","ref_id":"197"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"198"}],"ref_id":"199"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"200"}],"node_type":"Retrieve","ref_id":"200"},{"children":[{"text":" LastED"}]}],"ref_id":"201"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"202"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"203"}],"node_type":"Property","ref_id":"203"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"205"},{"children":[{"text":" or less on or before"}]}],"ref_id":"206"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"204"}],"ref_id":"206"}],"ref_id":"206"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"207"}],"node_type":"End","ref_id":"208"}],"ref_id":"209"}],"ref_id":"210"}],"ref_id":"211"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"212"}],"ref_id":"213"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"214"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"215"}],"node_type":"Property","ref_id":"215"}],"node_type":"Start","ref_id":"216"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"217"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"218"}],"ref_id":"219"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"220"}],"node_type":"Retrieve","ref_id":"220"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"221"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"222"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"223"}],"node_type":"Property","ref_id":"223"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"225"},{"children":[{"text":" or less on or before"}]}],"ref_id":"226"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"224"}],"ref_id":"226"}],"ref_id":"226"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"227"}],"node_type":"End","ref_id":"228"}],"ref_id":"229"}],"ref_id":"230"}],"ref_id":"231"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"232"}],"ref_id":"233"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"234"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"235"}],"node_type":"Property","ref_id":"235"}],"node_type":"Start","ref_id":"236"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"237"},{"children":[{"text":")"}]}],"ref_id":"238"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"239"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"240"}],"node_type":"Property","ref_id":"240"}],"ref_id":"241"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"242"}],"ref_id":"243"}],"node_type":"Query","ref_id":"244"}],"node_type":"Query","ref_id":"244"}],"ref_id":"245"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/define function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"246"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"247"},{"children":[{"text":" Visit"}]}],"ref_id":"248"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"249"}],"node_type":"Retrieve","ref_id":"249"},{"children":[{"text":" LastObs"}]}],"ref_id":"250"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"251"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"252"}],"node_type":"Property","ref_id":"252"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"256"},{"children":[{"text":" or less on or before"}]}],"ref_id":"257"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"253"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"254"}],"node_type":"Property","ref_id":"254"}],"node_type":"Start","ref_id":"255"}],"ref_id":"257"}],"ref_id":"257"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"258"}],"node_type":"End","ref_id":"259"}],"ref_id":"260"}],"ref_id":"261"}],"ref_id":"262"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"263"}],"ref_id":"264"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"265"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"266"}],"node_type":"Property","ref_id":"266"}],"node_type":"Start","ref_id":"267"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"268"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"269"}],"node_type":"Property","ref_id":"269"}],"node_type":"Start","ref_id":"270"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"271"}],"ref_id":"272"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"273"}],"node_type":"Retrieve","ref_id":"273"},{"children":[{"text":" LastED"}]}],"ref_id":"274"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"275"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"276"}],"node_type":"Property","ref_id":"276"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"278"},{"children":[{"text":" or less on or before"}]}],"ref_id":"279"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"277"}],"ref_id":"279"}],"ref_id":"279"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"280"}],"node_type":"End","ref_id":"281"}],"ref_id":"282"}],"ref_id":"283"}],"ref_id":"284"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"285"}],"ref_id":"286"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"287"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"288"}],"node_type":"Property","ref_id":"288"}],"node_type":"Start","ref_id":"289"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"290"},{"children":[{"text":")"}]}],"ref_id":"291"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"292"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"293"}],"node_type":"Property","ref_id":"293"}],"ref_id":"294"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"295"}],"ref_id":"296"}],"node_type":"Query","ref_id":"297"}],"node_type":"Query","ref_id":"297"}],"ref_id":"298"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/define function \"HospitalizationWithObservationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"299"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"300"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"301"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"302"}],"node_type":"FunctionRef","ref_id":"302"}],"ref_id":"303"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/define function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"304"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"305"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"306"}],"node_type":"Property","ref_id":"306"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"306"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"307"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"308"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"309"}],"ref_id":"309"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"310"}],"node_type":"InValueSet","ref_id":"311"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"312"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"313"}],"node_type":"Property","ref_id":"313"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"316"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"314"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"315"}],"node_type":"Property","ref_id":"315"}],"node_type":"IncludedIn","ref_id":"316"}],"ref_id":"317"}],"ref_id":"317"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"318"}],"node_type":"Start","ref_id":"319"}],"ref_id":"320"}],"ref_id":"321"}],"ref_id":"322"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"323"}],"node_type":"First","ref_id":"323"}],"ref_id":"324"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/define function \"NormalizeInterval\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"325"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"326"},{"children":[{"text":"\u003e"}]}],"ref_id":"327"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"328"},{"children":[{"text":" is not null"}]}],"ref_id":"329"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"330"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"331"},{"children":[{"text":"]"}]}],"ref_id":"332"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"333"},{"children":[{"text":" is not null"}]}],"ref_id":"334"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"335"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"336"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"337"},{"children":[{"text":"\u003e"}]}],"ref_id":"338"}],"ref_id":"339"}],"ref_id":"340"}],"node_type":"If","ref_id":"341"}],"node_type":"If","ref_id":"341"}],"ref_id":"342"}],"define_name":"NormalizeInterval"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/define function \"HasStart\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"343"},{"children":[{"text":"\u003e"}]}],"ref_id":"344"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"345"}],"node_type":"Start","ref_id":"346"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"347"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"348"}],"node_type":"Start","ref_id":"349"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"350"}],"node_type":"MinValue","ref_id":"351"}],"node_type":"Equal","ref_id":"352"}],"node_type":"Or","ref_id":"353"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"353"}],"node_type":"Not","ref_id":"354"}],"node_type":"Not","ref_id":"354"}],"ref_id":"355"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/define function \"HasEnd\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"356"},{"children":[{"text":"\u003e"}]}],"ref_id":"357"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"358"}],"node_type":"End","ref_id":"359"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"360"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"361"}],"node_type":"End","ref_id":"362"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"363"}],"node_type":"MaxValue","ref_id":"364"}],"node_type":"Equal","ref_id":"365"}],"node_type":"Or","ref_id":"366"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"366"}],"node_type":"Not","ref_id":"367"}],"node_type":"Not","ref_id":"367"}],"ref_id":"368"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/define function \"Latest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"369"},{"children":[{"text":"\u003e"}]}],"ref_id":"370"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"371"},{"children":[{"text":")"}]}],"ref_id":"372"},{"children":[{"text":")"}]}],"ref_id":"372"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"373"}],"ref_id":"374"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"375"}],"ref_id":"376"}],"node_type":"If","ref_id":"377"}],"node_type":"If","ref_id":"377"}],"ref_id":"378"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/define function \"Earliest\"(period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"379"},{"children":[{"text":"\u003e"}]}],"ref_id":"380"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"381"},{"children":[{"text":")"}]}],"ref_id":"382"},{"children":[{"text":")"}]}],"ref_id":"382"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"383"}],"ref_id":"384"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"385"}],"ref_id":"386"}],"node_type":"If","ref_id":"387"}],"node_type":"If","ref_id":"387"}],"ref_id":"388"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/define function \"LatestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"389"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"390"},{"children":[{"text":"\u003e"}]}],"ref_id":"391"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"392"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"394"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"395"}],"node_type":"FunctionRef","ref_id":"395"}],"ref_id":"396"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/define function \"EarliestOf\"(pointInTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"397"},{"children":[{"text":", period "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"398"},{"children":[{"text":"\u003e"}]}],"ref_id":"399"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"400"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"401"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"402"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"403"}],"node_type":"FunctionRef","ref_id":"403"}],"ref_id":"404"}],"define_name":"EarliestOf"}],"identifier":{"id":"MATGlobalCommonFunctions","version":"7.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctions","library_version":"7.0.000","statement_dependencies":[{"_id":"689245640734dfcaf54187a0","statement_name":"NormalizeInterval"}]}],"created_at":null,"description":"Percentage of patients aged 6 months and older seen for a visit between October 1 and March 31 who received an influenza immunization OR who reported previous receipt of an influenza immunization","hqmf_id":"2C928084-8211-3ECE-0182-C706CBC12FAB","hqmf_set_id":"A244AA29-7D11-4616-888A-86E376BFCC6F","hqmf_version_number":"13.0.000","main_cql_library":"PreventiveCareandScreeningInfluenzaImmunization","measure_attributes":[{"code":"OTH","value":"147","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"147","media_type":"text/plain"}},{"code":"OTH","value":"Not Applicable","name":"NQF Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"NQF Number"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"COPY","value":"This Physician Performance Measure (Measure) and related data specifications are owned by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by NCQA and are subject to a license at the discretion of NCQA. The Physician Consortium for Performance Improvement’s (PCPI) and American Medical Association’s (AMA) significant past efforts and contributions to the development and updating of the measure are acknowledged. (C) 2012-2022 National Committee for Quality Assurance. All Rights Reserved. \n\nLimited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications. \n\nCPT(R) codes, descriptions and other data are copyright 2022. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. No fee schedules, basic units, relative values or related listings are included in CPT. The AMA assumes no liability for the data contained herein. Applicable FARS/DFARS restrictions apply to government use.\n\nLOINC(R) copyright 2004-2022 Regenstrief Institute, Inc. \n\nThis material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2022 International Health Terminology Standards Development Organisation. \n\nICD-10 copyright 2022 World Health Organization. All Rights Reserved.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"This Physician Performance Measure (Measure) and related data specifications are owned by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure can be reproduced and distributed, without modification, for noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. Commercial use is defined as the sale, licensing, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. All commercial uses or requests for modification must be approved by NCQA and are subject to a license at the discretion of NCQA. The Physician Consortium for Performance Improvement’s (PCPI) and American Medical Association’s (AMA) significant past efforts and contributions to the development and updating of the measure are acknowledged. (C) 2012-2022 National Committee for Quality Assurance. All Rights Reserved. \n\nLimited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications. \n\nCPT(R) codes, descriptions and other data are copyright 2022. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. No fee schedules, basic units, relative values or related listings are included in CPT. The AMA assumes no liability for the data contained herein. Applicable FARS/DFARS restrictions apply to government use.\n\nLOINC(R) copyright 2004-2022 Regenstrief Institute, Inc. \n\nThis material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2022 International Health Terminology Standards Development Organisation. \n\nICD-10 copyright 2022 World Health Organization. All Rights Reserved.","media_type":"text/plain"}},{"code":"DISC","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. \n\nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. \n\nDue to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROCESS","title":"PROCESS"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Influenza vaccination is the most effective protection against influenza virus infection (Centers for Disease Control and Prevention [CDC], 2022). Influenza may lead to serious complications including hospitalization or death (CDC, 2022). Influenza vaccine is recommended for all persons aged \u003e=6 months who do not have contraindications to vaccination. However, data indicate that about half of all eligible individuals receive an influenza vaccination (CDC, 2022). This measure promotes annual influenza vaccination for all persons aged \u003e=6 months.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Influenza vaccination is the most effective protection against influenza virus infection (Centers for Disease Control and Prevention [CDC], 2022). Influenza may lead to serious complications including hospitalization or death (CDC, 2022). Influenza vaccine is recommended for all persons aged \u003e=6 months who do not have contraindications to vaccination. However, data indicate that about half of all eligible individuals receive an influenza vaccination (CDC, 2022). This measure promotes annual influenza vaccination for all persons aged \u003e=6 months.","media_type":"text/plain"}},{"code":"CRS","value":"Routine annual influenza vaccination is recommended for all persons aged ≥6 months who do not have contraindications. For each recipient, a licensed and age-appropriate vaccine should be used. Advisory Committee on Immunization Practices (ACIP) makes no preferential recommendation for a specific vaccine when more than one licensed, recommended, and age-appropriate vaccine is available. During the 2022–23 influenza season, the following types of vaccines are expected to be available: quadrivalent, containing hemagglutinin (HA) derived from one influenza A(H1N1)pdm09 virus, one influenza A(H3N2) virus, one influenza B/Victoria lineage virus, and one influenza B/Yamagata lineage virus. Inactivated influenza vaccines (IIV4s), recombinant influenza vaccine (RIV4), and live attenuated influenza vaccine (LAIV4) are expected to be available. (CDC/Advisory Committee on Immunization Practices [ACIP], 2022).","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"Routine annual influenza vaccination is recommended for all persons aged ≥6 months who do not have contraindications. For each recipient, a licensed and age-appropriate vaccine should be used. Advisory Committee on Immunization Practices (ACIP) makes no preferential recommendation for a specific vaccine when more than one licensed, recommended, and age-appropriate vaccine is available. During the 2022–23 influenza season, the following types of vaccines are expected to be available: quadrivalent, containing hemagglutinin (HA) derived from one influenza A(H1N1)pdm09 virus, one influenza A(H3N2) virus, one influenza B/Victoria lineage virus, and one influenza B/Yamagata lineage virus. Inactivated influenza vaccines (IIV4s), recombinant influenza vaccine (RIV4), and live attenuated influenza vaccine (LAIV4) are expected to be available. (CDC/Advisory Committee on Immunization Practices [ACIP], 2022).","media_type":"text/plain"}},{"code":"IDUR","value":"Higher score indicates better quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Higher score indicates better quality","media_type":"text/plain"}},{"code":"REF","value":"CITATIONCenters for Disease Control and Prevention. (2022, September 20). About Flu. Retrieved from\nhttps://www.cdc.gov/flu/about/index.html","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONCenters for Disease Control and Prevention. (2022, September 20). About Flu. Retrieved from\nhttps://www.cdc.gov/flu/about/index.html","media_type":"text/plain"}},{"code":"REF","value":"CITATIONCenters for Disease Control and Prevention. (2022, October 18). Flu Vaccination Coverage: United States, 2021-22 Influenza Season. Retrieved from \nhttps://www.cdc.gov/flu/fluvaxview/coverage-2022estimates.htm","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONCenters for Disease Control and Prevention. (2022, October 18). Flu Vaccination Coverage: United States, 2021-22 Influenza Season. Retrieved from \nhttps://www.cdc.gov/flu/fluvaxview/coverage-2022estimates.htm","media_type":"text/plain"}},{"code":"REF","value":"CITATIONGrohskopf LA, Blanton LH, Ferdinands JM, et al. Prevention and Control of Seasonal Influenza with Vaccines: Recommendations of the Advisory Committee on Immunization Practices — United States, 2022–23 Influenza Season. MMWR Recomm Rep 2022;71(No. RR-1):1–28. DOI: http://dx.doi.org/10.15585/mmwr.rr7101a1.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATIONGrohskopf LA, Blanton LH, Ferdinands JM, et al. Prevention and Control of Seasonal Influenza with Vaccines: Recommendations of the Advisory Committee on Immunization Practices — United States, 2022–23 Influenza Season. MMWR Recomm Rep 2022;71(No. RR-1):1–28. DOI: http://dx.doi.org/10.15585/mmwr.rr7101a1.","media_type":"text/plain"}},{"code":"DEF","value":"Previous Receipt - receipt of the current season's influenza immunization from another provider OR from same provider prior to the visit to which the measure is applied (typically, prior vaccination would include influenza vaccine given since July 1st)","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Previous Receipt - receipt of the current season's influenza immunization from another provider OR from same provider prior to the visit to which the measure is applied (typically, prior vaccination would include influenza vaccine given since July 1st)","media_type":"text/plain"}},{"code":"GUIDE","value":"To enable reporting of this measure at the close of the measurement period, this measure will only assess the influenza season that starts on October 1 of the year prior to the measurement period and ends on March 31 of the measurement period. The subsequent influenza season (ending March of the following year) will be measured and reported in the following year.\n\nThis eCQM is a patient-based measure.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"To enable reporting of this measure at the close of the measurement period, this measure will only assess the influenza season that starts on October 1 of the year prior to the measurement period and ends on March 31 of the measurement period. The subsequent influenza season (ending March of the following year) will be measured and reported in the following year.\n\nThis eCQM is a patient-based measure.\n\nThis version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"All patients aged 6 months and older seen for a visit during the measurement period","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"All patients aged 6 months and older seen for a visit during the measurement period","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial Population and seen for a visit between October 1 of the year prior to the measurement period and March 31 of the measurement period","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial Population and seen for a visit between October 1 of the year prior to the measurement period and March 31 of the measurement period","media_type":"text/plain"}},{"code":"DENEX","value":"Exclude patients who are in hospice care for any part of the measurement period\n\nExclude patients who ever had an anaphylaxis due to the influenza vaccine on or before June 30 of the measurement period","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Exclude patients who are in hospice care for any part of the measurement period\n\nExclude patients who ever had an anaphylaxis due to the influenza vaccine on or before June 30 of the measurement period","media_type":"text/plain"}},{"code":"NUMER","value":"Patients who received an influenza immunization OR who reported previous receipt of an influenza immunization between July 1 of the year prior to the measurement period to June 30 of the measurement period","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Patients who received an influenza immunization OR who reported previous receipt of an influenza immunization between July 1 of the year prior to the measurement period to June 30 of the measurement period","media_type":"text/plain"}},{"code":"NUMEX","value":"Not Applicable","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"0BE98650-B85E-4C1A-B144-73E80213D6AD","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"PreventiveCareandScreeningInfluenzaImmunization__Initial_Population__802E9FDB_182E_40AC_A6AA_659FCA959361"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"4F172D29-1097-4CB3-8510-0893328E9931","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"PreventiveCareandScreeningInfluenzaImmunization__Denominator__802E9FDB_182E_40AC_A6AA_659FCA959361"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"9476B606-79C8-43CA-9BF8-673F6AD3E70E","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"PreventiveCareandScreeningInfluenzaImmunization__Numerator__802E9FDB_182E_40AC_A6AA_659FCA959361"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"2CDFFC6C-C83A-4636-9902-1B94BDB936DE","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"PreventiveCareandScreeningInfluenzaImmunization__Denominator_Exclusions__802E9FDB_182E_40AC_A6AA_659FCA959361"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"689245640734dfcaf54187a1","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"689245640734dfcaf54187a2","hqmf_id":"2CDFFC6C-C83A-4636-9902-1B94BDB936DE","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Denominator Exclusions"},"DENOM":{"_id":"689245640734dfcaf54187a3","hqmf_id":"4F172D29-1097-4CB3-8510-0893328E9931","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Denominator"},"IPP":{"_id":"689245640734dfcaf54187a4","hqmf_id":"0BE98650-B85E-4C1A-B144-73E80213D6AD","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Initial Population"},"NUMER":{"_id":"689245640734dfcaf54187a5","hqmf_id":"9476B606-79C8-43CA-9BF8-673F6AD3E70E","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"Numerator"},"_id":"689245640734dfcaf54187a6","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"689245580734dfcaf5418560","hqmf_id":"C4EEA71E-7FE5-490F-B9E3-7D7ED06AE0D3","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"SDE Ethnicity"},{"_id":"689245580734dfcaf5418561","hqmf_id":"6427758A-E485-4C14-9000-7FCDD2C2B003","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"SDE Payer"},{"_id":"689245580734dfcaf5418562","hqmf_id":"E7A7B544-8B6A-4DC9-8E6B-69D93F6ECB04","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"SDE Race"},{"_id":"689245580734dfcaf5418563","hqmf_id":"755E7401-5BD3-41D8-BEC2-865B69DC74B6","library_name":"PreventiveCareandScreeningInfluenzaImmunization","statement_name":"SDE Sex"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"689245590734dfcaf5418594","_type":"QDM::ImmunizationAdministered","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1254","dataElementCodes":[],"description":"Immunization, Administered: InfluenzaImmunizationAdministered","dosage":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.112","id":"689245590734dfcaf5418594","negationRationale":null,"qdmCategory":"immunization","qdmStatus":"administered","qdmTitle":"Immunization, Administered","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.140","reason":null,"relevantDatetime":null,"route":null},{"_id":"689245590734dfcaf541858d","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1014","dataElementCodes":[],"description":"Encounter, Performed: CareServicesinLongTermResidentialFacility","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541858d","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245640734dfcaf54187a7","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"689245640734dfcaf54187a7","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"689245590734dfcaf541858e","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1008","dataElementCodes":[],"description":"Encounter, Performed: OutpatientConsultation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541858e","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf5418597","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1083","components":null,"dataElementCodes":[],"description":"Procedure, Performed: Hemodialysis","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"689245590734dfcaf5418597","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689245590734dfcaf541858f","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541858f","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf5418590","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1080","dataElementCodes":[],"description":"Encounter, Performed: TelephoneVisits","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf5418590","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf5418591","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1027","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesGroupCounseling","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf5418591","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf5418592","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1013","dataElementCodes":[],"description":"Encounter, Performed: DischargeServicesNursingFacility","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf5418592","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf5418593","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1025","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesEstablishedOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf5418593","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf5418595","_type":"QDM::ImmunizationAdministered","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.110.12.1087","dataElementCodes":[],"description":"Immunization, Administered: InfluenzaVirusLAIVImmunization","dosage":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.112","id":"689245590734dfcaf5418595","negationRationale":null,"qdmCategory":"immunization","qdmStatus":"administered","qdmTitle":"Immunization, Administered","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.140","reason":null,"relevantDatetime":null,"route":null},{"_id":"689245590734dfcaf5418596","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1016","dataElementCodes":[],"description":"Encounter, Performed: HomeHealthcareServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf5418596","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245640734dfcaf54187a8","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"689245640734dfcaf54187a8","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"689245590734dfcaf5418598","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.110.12.1088","components":null,"dataElementCodes":[],"description":"Procedure, Performed: InfluenzaVirusLAIVProcedure","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"689245590734dfcaf5418598","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689245590734dfcaf5418599","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.1003","dataElementCodes":[],"description":"Encounter, Performed: HospiceEncounter","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf5418599","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf541859a","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1012","dataElementCodes":[],"description":"Encounter, Performed: NursingFacilityVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541859a","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf541859b","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1012","dataElementCodes":[],"description":"Encounter, Performed: PatientProviderInteraction","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541859b","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf541859c","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1089","dataElementCodes":[],"description":"Encounter, Performed: OnlineAssessments","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541859c","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf541859d","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1001","dataElementCodes":[],"description":"Encounter, Performed: OfficeVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541859d","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf54185a5","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.1165","dataElementCodes":[],"description":"Diagnosis: HospiceDiagnosis","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"689245590734dfcaf54185a5","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"689245640734dfcaf54187a9","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: Payer","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"689245640734dfcaf54187a9","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"689245590734dfcaf541859e","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1022","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541859e","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf541859f","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1024","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareEstablishedOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf541859f","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf54185a0","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.402","components":null,"dataElementCodes":[],"description":"Procedure, Performed: InfluenzaVaccineAdministered","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"689245590734dfcaf54185a0","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689245590734dfcaf54185a1","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1026","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesIndividualCounseling","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf54185a1","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf54185a2","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1240","dataElementCodes":[],"description":"Encounter, Performed: AnnualWellnessVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf54185a2","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245640734dfcaf54187aa","_type":"QDM::InterventionOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Order: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.35","id":"689245640734dfcaf54187aa","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"order","qdmTitle":"Intervention, Order","qdmVersion":"5.6","reason":null},{"_id":"689245640734dfcaf54187ab","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Performed: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"689245640734dfcaf54187ab","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689245640734dfcaf54187ac","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"689245640734dfcaf54187ac","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"689245590734dfcaf54185a3","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1084","components":null,"dataElementCodes":[],"description":"Procedure, Performed: PeritonealDialysis","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"689245590734dfcaf54185a3","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689245590734dfcaf54185a4","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1023","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf54185a4","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf54185a6","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"drc-3189e54916e616f82239b723b1cff9b93b491cb2bb4bcc2fbfc73948c5d7fd7a","dataElementCodes":[],"description":"Diagnosis: Anaphylaxis caused by vaccine product containing Influenza virus antigen (disorder)","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"689245590734dfcaf54185a6","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"689245590734dfcaf54185a7","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-71bb5dc570918294796d5b302c6d30b59a6fb0f1325a8017321ccabcb374be4c","dataElementCodes":[],"description":"Encounter, Performed: Unlisted preventive medicine service","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf54185a7","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245590734dfcaf54185a8","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-87ee383023a9b8f4ebc824971eff8bae8162f90c5e25beb4212d2f13785625b6","dataElementCodes":[],"description":"Encounter, Performed: Office or other outpatient visit for the evaluation and management of an established patient that may not require the presence of a physician or other qualified health care professional","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689245590734dfcaf54185a8","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689245640734dfcaf54187ad","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-fba6a4e5f5a529f9af0e0ac4cc9930b15eed11995ff69f544d676472e0b4ea9f","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Hospice care [Minimum Data Set]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689245640734dfcaf54187ad","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null}],"title":"Preventive Care and Screening: Influenza Immunization","updated_at":null,"value_set_ids":["689245590734dfcaf54185a9","689245590734dfcaf54185aa","689245590734dfcaf54185ab","689245590734dfcaf54185ac","689245590734dfcaf54185ad","689245590734dfcaf54185ae","689245590734dfcaf54185af","689245640734dfcaf541876c","689245640734dfcaf541876d","689245640734dfcaf541876e","689245640734dfcaf541876f","689245640734dfcaf5418770","689245640734dfcaf5418771","689245640734dfcaf5418772","689245640734dfcaf5418773","689245640734dfcaf5418774","689245640734dfcaf5418775","689245640734dfcaf5418776","689245640734dfcaf5418777","689245640734dfcaf5418778","689245640734dfcaf5418779","689245640734dfcaf541877a","689245640734dfcaf541877b","689245640734dfcaf541877c","689245640734dfcaf541877d","689245640734dfcaf541877e","689245640734dfcaf541877f","689245640734dfcaf5418780","689245640734dfcaf5418781","689245640734dfcaf5418782","689245640734dfcaf5418783","689245640734dfcaf5418784","689245640734dfcaf5418785","689245640734dfcaf5418786","689245640734dfcaf5418787","689245640734dfcaf5418788","689245640734dfcaf5418789","689245640734dfcaf541878a","689245640734dfcaf541878b","689245640734dfcaf541878c","689245640734dfcaf541878d"]}