{"_id":"689202fa10d20757c0cefbbf","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS334v7","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"689202f310d20757c0cef98c","cql":"library CMS334PCCesareanBirth version '7.1.000'\n\nusing QDM version '5.6'\n\ninclude CQMCommonQDM version '9.0.000' called Global\ninclude PCMaternalQDM version '5.0.000' called PCMaternal\n\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1'\n\nvalueset \"37 to 42 Plus Weeks Gestation\": 'urn:oid:2.16.840.1.113762.1.4.1110.68'\nvalueset \"Abnormal Presentation\": 'urn:oid:2.16.840.1.113762.1.4.1045.105'\nvalueset \"Cesarean Birth\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.282'\nvalueset \"Delivery of Singleton\": 'urn:oid:2.16.840.1.113762.1.4.1045.99'\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\nvalueset \"Federal Administrative Sex\":'urn:oid:2.16.840.1.113762.1.4.1021.121'\nvalueset \"Genital Herpes\": 'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1049'\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\nvalueset \"Placenta Accreta Spectrum Previa or Vasa Previa\": 'urn:oid:2.16.840.1.113762.1.4.1110.37'\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\n\ncode \"[#] Births.preterm\": '11637-6' from \"LOINC\" display '[#] Births.preterm'\ncode \"[#] Births.term\": '11639-2' from \"LOINC\" display '[#] Births.term'\ncode \"[#] Parity\": '11977-6' from \"LOINC\" display '[#] Parity'\ncode \"[#] Pregnancies\": '11996-6' from \"LOINC\" display '[#] Pregnancies'\n\ncontext Patient\n\ndefine \"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks\":\n  PCMaternal.\"Delivery Encounter With Age Range\" DeliveryEncounter\n    where PCMaternal.\"CalculatedGestationalAge\" ( DeliveryEncounter ) \u003e= 37\n\ndefine \"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks\":\n  PCMaternal.\"Delivery Encounter With Age Range\" DeliveryEncounter\n    where PCMaternal.\"CalculatedGestationalAge\" ( DeliveryEncounter ) is null\n      and PCMaternal.\"LastEstimatedGestationalAge\" ( DeliveryEncounter ) \u003e= 37 weeks\n\ndefine \"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks\":\n  \"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks\"\n    union \"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks\"\n    union \"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding\"\n\ndefine \"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding\":\n  PCMaternal.\"Delivery Encounter With Age Range\" DeliveryEncounter\n    let CGA: PCMaternal.\"CalculatedGestationalAge\" ( DeliveryEncounter ),\n    EGA: PCMaternal.\"LastEstimatedGestationalAge\" ( DeliveryEncounter )\n    where CGA is null\n      and EGA is null\n      and exists ( DeliveryEncounter.diagnoses EncounterDiagnoses\n          where EncounterDiagnoses.code in \"37 to 42 Plus Weeks Gestation\"\n      )\n\ndefine \"Denominator\":\n  \"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\"\n\ndefine \"Encounter With Singleton Delivery\":\n  PCMaternal.\"Delivery Encounter With Age Range\" DeliveryEncounter\n    where exists ( DeliveryEncounter.diagnoses EncounterDiagnoses\n        where EncounterDiagnoses.code in \"Delivery of Singleton\"\n    )\n\ndefine \"Initial Population\":\n  PCMaternal.\"Delivery Encounter With Age Range\"\n\ndefine \"Numerator\":\n  \"Delivery Encounter With Cesarean Birth\"\n\ndefine \"SDE Ethnicity\":\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\n\ndefine \"SDE Payer\":\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\n\ndefine \"SDE Race\":\n  [\"Patient Characteristic Race\": \"Race\"]\n\ndefine \"SDE Sex\":\n  [\"Patient Characteristic Sex\": \"Federal Administrative Sex\"]\n\ndefine \"Delivery Encounter With Cesarean Birth\":\n  \"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtySevenWeeksPlusEncounter\n    with [\"Procedure, Performed\": \"Cesarean Birth\"] CSection\n        such that Global.\"NormalizeInterval\" ( CSection.relevantDatetime, CSection.relevantPeriod ) during PCMaternal.\"HospitalizationWithEDOBTriageObservation\" ( ThirtySevenWeeksPlusEncounter )\n\ndefine \"Denominator Exclusions\":\n  \"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\"\n\ndefine \"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\":\n  \"Encounter With Abnormal Presentation\"\n    union \"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\"\n\ndefine \"SDE Variable Calculated Gestational Age\":\n  PCMaternal.\"Variable Calculated Gestational Age\"\n\ndefine \"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\":\n  \"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtySevenWeeksPlusEncounter\n    where exists ( ThirtySevenWeeksPlusEncounter.diagnoses EncounterDiagnoses\n        where EncounterDiagnoses.code in \"Placenta Accreta Spectrum Previa or Vasa Previa\"\n          or EncounterDiagnoses.code in \"Genital Herpes\"\n    )\n\ndefine \"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\":\n  ( \"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks\"\n    intersect \"Encounter With Singleton Delivery\" ) SingletonEncounterGE37Weeks\n    where ( ( \"LastGravida\"(SingletonEncounterGE37Weeks) = 1 )\n        or ( \"LastParity\"(SingletonEncounterGE37Weeks) = 0 )\n        or ( ( \"LastHistoryPretermBirth\"(SingletonEncounterGE37Weeks) = 0 )\n            and ( \"LastHistoryTermBirth\"(SingletonEncounterGE37Weeks) = 0 )\n        )\n    )\n\ndefine \"Encounter With Abnormal Presentation\":\n  \"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\" ThirtySevenWeeksPlusEncounter\n    let LastAbnormalPresentation: Last([\"Assessment, Performed\": \"Abnormal Presentation\"] AbnormalPresentation\n        where Global.\"EarliestOf\"(AbnormalPresentation.relevantDatetime, AbnormalPresentation.relevantPeriod) before or on PCMaternal.\"LastTimeOfDelivery\"(ThirtySevenWeeksPlusEncounter)\n        sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n    )\n    where Global.\"EarliestOf\" ( LastAbnormalPresentation.relevantDatetime, LastAbnormalPresentation.relevantPeriod ) during PCMaternal.\"HospitalizationWithEDOBTriageObservation\" ( ThirtySevenWeeksPlusEncounter )\n      or exists ( ThirtySevenWeeksPlusEncounter.diagnoses EncounterDiagnoses\n          where EncounterDiagnoses.code in \"Abnormal Presentation\"\n      )\n\ndefine function \"LastGravida\"(Encounter \"Encounter, Performed\"):\n  Last([\"Assessment, Performed\": \"[#] Pregnancies\"] Gravida\n      where Global.\"EarliestOf\"(Gravida.relevantDatetime, Gravida.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\n        and Gravida.result is not null\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as Integer\n\ndefine function \"LastHistoryPretermBirth\"(Encounter \"Encounter, Performed\"):\n  Last([\"Assessment, Performed\": \"[#] Births.preterm\"] PretermBirth\n      where Global.\"EarliestOf\"(PretermBirth.relevantDatetime, PretermBirth.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\n        and PretermBirth.result is not null\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as Integer\n\ndefine function \"LastHistoryTermBirth\"(Encounter \"Encounter, Performed\"):\n  Last([\"Assessment, Performed\": \"[#] Births.term\"] TermBirth\n      where Global.\"EarliestOf\"(TermBirth.relevantDatetime, TermBirth.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\n        and TermBirth.result is not null\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as Integer\n\ndefine function \"LastParity\"(Encounter \"Encounter, Performed\"):\n  Last([\"Assessment, Performed\": \"[#] Parity\"] Parity\n      where Global.\"EarliestOf\"(Parity.relevantDatetime, Parity.relevantPeriod) 42 weeks or less before PCMaternal.\"LastTimeOfDelivery\"(Encounter)\n        and Parity.result is not null\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as Integer","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"492","s":[{"value":["","library CMS334PCCesareanBirth version '7.1.000'"]}]}}],"identifier":{"id":"CMS334PCCesareanBirth","version":"7.1.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"includes":{"def":[{"localId":"207","locator":"5:1-5:52","localIdentifier":"Global","path":"CQMCommonQDM","version":"9.0.000","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","include "]},{"s":[{"value":["CQMCommonQDM"]}]},{"value":[" version ","'9.0.000'"," called ","Global"]}]}}]},{"localId":"208","locator":"6:1-6:57","localIdentifier":"PCMaternal","path":"PCMaternalQDM","version":"5.0.000","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","include "]},{"s":[{"value":["PCMaternalQDM"]}]},{"value":[" version ","'5.0.000'"," called ","PCMaternal"]}]}}]}]},"codeSystems":{"def":[{"localId":"209","locator":"8:1-8:51","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"210","locator":"10:1-10:81","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"37 to 42 Plus Weeks Gestation","id":"2.16.840.1.113762.1.4.1110.68","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"37 to 42 Plus Weeks Gestation\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.68'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Abnormal Presentation","id":"2.16.840.1.113762.1.4.1045.105","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Abnormal Presentation\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.105'"]}]}}],"codeSystem":[]},{"localId":"212","locator":"12:1-12:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Cesarean Birth","id":"2.16.840.1.113883.3.117.1.7.1.282","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","valueset ","\"Cesarean Birth\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.282'"]}]}}],"codeSystem":[]},{"localId":"213","locator":"13:1-13:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Delivery of Singleton","id":"2.16.840.1.113762.1.4.1045.99","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"213","s":[{"value":["","valueset ","\"Delivery of Singleton\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.99'"]}]}}],"codeSystem":[]},{"localId":"214","locator":"14:1-14:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"214","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}],"codeSystem":[]},{"localId":"215","locator":"15:1-15:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Federal Administrative Sex","id":"2.16.840.1.113762.1.4.1021.121","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"215","s":[{"value":["","valueset ","\"Federal Administrative Sex\"",":","'urn:oid:2.16.840.1.113762.1.4.1021.121'"]}]}}],"codeSystem":[]},{"localId":"216","locator":"16:1-16:77","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Genital Herpes","id":"2.16.840.1.113883.3.464.1003.110.12.1049","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"216","s":[{"value":["","valueset ","\"Genital Herpes\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.110.12.1049'"]}]}}],"codeSystem":[]},{"localId":"217","locator":"17:1-17:60","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"217","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}],"codeSystem":[]},{"localId":"218","locator":"18:1-18:99","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Placenta Accreta Spectrum Previa or Vasa Previa","id":"2.16.840.1.113762.1.4.1110.37","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"218","s":[{"value":["","valueset ","\"Placenta Accreta Spectrum Previa or Vasa Previa\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.37'"]}]}}],"codeSystem":[]},{"localId":"219","locator":"19:1-19:53","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"219","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}],"codeSystem":[]}]},"codes":{"def":[{"localId":"220","locator":"21:1-21:78","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Births.preterm","id":"11637-6","display":"[#] Births.preterm","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"220","s":[{"value":["","code ","\"[#] Births.preterm\"",": ","'11637-6'"," from "]},{"r":"221","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Births.preterm'"]}]}}],"codeSystem":{"localId":"221","locator":"21:43-21:49","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}},{"localId":"222","locator":"22:1-22:72","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Births.term","id":"11639-2","display":"[#] Births.term","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"222","s":[{"value":["","code ","\"[#] Births.term\"",": ","'11639-2'"," from "]},{"r":"223","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Births.term'"]}]}}],"codeSystem":{"localId":"223","locator":"22:40-22:46","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}},{"localId":"224","locator":"23:1-23:62","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Parity","id":"11977-6","display":"[#] Parity","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"224","s":[{"value":["","code ","\"[#] Parity\"",": ","'11977-6'"," from "]},{"r":"225","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Parity'"]}]}}],"codeSystem":{"localId":"225","locator":"23:35-23:41","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}},{"localId":"226","locator":"24:1-24:72","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Pregnancies","id":"11996-6","display":"[#] Pregnancies","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"226","s":[{"value":["","code ","\"[#] Pregnancies\"",": ","'11996-6'"," from "]},{"r":"227","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'[#] Pregnancies'"]}]}}],"codeSystem":{"localId":"227","locator":"24:40-24:46","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}}]},"contexts":{"def":[{"localId":"231","locator":"26:1-26:15","name":"Patient"}]},"statements":{"def":[{"localId":"229","locator":"26:1-26:15","name":"Patient","context":"Patient","expression":{"localId":"230","type":"SingletonFrom","signature":[],"operand":{"localId":"228","locator":"26:1-26:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"233","locator":"28:1-30:75","name":"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"233","s":[{"value":["","define ","\"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks\"",":\n  "]},{"r":"246","s":[{"s":[{"r":"234","s":[{"r":"236","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter With Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"r":"241","s":[{"value":["where "]},{"r":"241","s":[{"r":"244","s":[{"r":"242","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"244","s":[{"value":["\"CalculatedGestationalAge\""," ( "]},{"r":"243","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]},{"r":"245","value":[" ","\u003e="," ","37"]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"249","type":"ListTypeSpecifier","elementType":{"localId":"250","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"246","locator":"29:3-30:75","type":"Query","resultTypeSpecifier":{"localId":"247","type":"ListTypeSpecifier","elementType":{"localId":"248","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"234","locator":"29:3-29:66","alias":"DeliveryEncounter","resultTypeSpecifier":{"localId":"239","type":"ListTypeSpecifier","elementType":{"localId":"240","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"236","locator":"29:3-29:48","name":"Delivery Encounter With Age Range","libraryName":"PCMaternal","type":"ExpressionRef","resultTypeSpecifier":{"localId":"237","type":"ListTypeSpecifier","elementType":{"localId":"238","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"241","locator":"30:5-30:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"GreaterOrEqual","signature":[],"operand":[{"localId":"244","locator":"30:11-30:69","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CalculatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"243","locator":"30:51-30:67","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"}]},{"localId":"245","locator":"30:74-30:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"37","type":"Literal"}]}}},{"localId":"252","locator":"32:1-35:84","name":"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"252","s":[{"value":["","define ","\"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks\"",":\n  "]},{"r":"270","s":[{"s":[{"r":"253","s":[{"r":"255","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter With Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"r":"260","s":[{"value":["where "]},{"r":"260","s":[{"r":"264","s":[{"r":"263","s":[{"r":"261","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"263","s":[{"value":["\"CalculatedGestationalAge\""," ( "]},{"r":"262","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]},{"value":[" is null"]}]},{"value":["\n      and "]},{"r":"265","s":[{"r":"268","s":[{"r":"266","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"268","s":[{"value":["\"LastEstimatedGestationalAge\""," ( "]},{"r":"267","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]},{"value":[" ","\u003e="," "]},{"r":"269","s":[{"value":["37 ","weeks"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"273","type":"ListTypeSpecifier","elementType":{"localId":"274","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"270","locator":"33:3-35:84","type":"Query","resultTypeSpecifier":{"localId":"271","type":"ListTypeSpecifier","elementType":{"localId":"272","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"253","locator":"33:3-33:66","alias":"DeliveryEncounter","resultTypeSpecifier":{"localId":"258","type":"ListTypeSpecifier","elementType":{"localId":"259","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"255","locator":"33:3-33:48","name":"Delivery Encounter With Age Range","libraryName":"PCMaternal","type":"ExpressionRef","resultTypeSpecifier":{"localId":"256","type":"ListTypeSpecifier","elementType":{"localId":"257","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"260","locator":"34:5-35:84","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"264","locator":"34:11-34:77","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"263","locator":"34:11-34:69","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CalculatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"262","locator":"34:51-34:67","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"}]}},{"localId":"265","locator":"35:11-35:84","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"GreaterOrEqual","signature":[],"operand":[{"localId":"268","locator":"35:11-35:72","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","name":"LastEstimatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"267","locator":"35:54-35:70","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"}]},{"localId":"269","locator":"35:77-35:84","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":37,"unit":"weeks","type":"Quantity"}]}]}}},{"localId":"287","locator":"42:1-50:7","name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"287","s":[{"value":["","define ","\"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding\"",":\n  "]},{"r":"326","s":[{"s":[{"r":"288","s":[{"r":"290","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter With Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"295","s":[{"value":["CGA",": "]},{"r":"298","s":[{"r":"296","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"298","s":[{"value":["\"CalculatedGestationalAge\""," ( "]},{"r":"297","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]}]},{"value":[",\n    "]},{"r":"299","s":[{"value":["EGA",": "]},{"r":"302","s":[{"r":"300","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"302","s":[{"value":["\"LastEstimatedGestationalAge\""," ( "]},{"r":"301","s":[{"value":["DeliveryEncounter"]}]},{"value":[" )"]}]}]}]}]},{"value":["\n    "]},{"r":"303","s":[{"value":["where "]},{"r":"303","s":[{"r":"304","s":[{"r":"306","s":[{"r":"305","s":[{"value":["CGA"]}]},{"value":[" is null"]}]},{"value":["\n      and "]},{"r":"308","s":[{"r":"307","s":[{"value":["EGA"]}]},{"value":[" is null"]}]}]},{"value":["\n      and "]},{"r":"309","s":[{"value":["exists "]},{"r":"321","s":[{"value":["( "]},{"r":"321","s":[{"s":[{"r":"310","s":[{"r":"312","s":[{"s":[{"value":["DeliveryEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n          "]},{"r":"320","s":[{"value":["where "]},{"r":"320","s":[{"r":"318","s":[{"r":"317","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"318","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"319","s":[{"value":["\"37 to 42 Plus Weeks Gestation\""]}]}]}]}]},{"value":["\n      )"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"339","type":"ListTypeSpecifier","elementType":{"localId":"340","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"326","locator":"43:3-50:7","type":"Query","resultTypeSpecifier":{"localId":"327","type":"ListTypeSpecifier","elementType":{"localId":"328","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"288","locator":"43:3-43:66","alias":"DeliveryEncounter","resultTypeSpecifier":{"localId":"293","type":"ListTypeSpecifier","elementType":{"localId":"294","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"290","locator":"43:3-43:48","name":"Delivery Encounter With Age Range","libraryName":"PCMaternal","type":"ExpressionRef","resultTypeSpecifier":{"localId":"291","type":"ListTypeSpecifier","elementType":{"localId":"292","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[{"localId":"295","locator":"44:9-44:72","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","identifier":"CGA","expression":{"localId":"298","locator":"44:14-44:72","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CalculatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"297","locator":"44:54-44:70","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"}]}},{"localId":"299","locator":"45:5-45:71","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","identifier":"EGA","expression":{"localId":"302","locator":"45:10-45:71","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","name":"LastEstimatedGestationalAge","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"301","locator":"45:53-45:69","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"}]}}],"relationship":[],"where":{"localId":"303","locator":"46:5-50:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"304","locator":"46:11-47:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"306","locator":"46:11-46:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"305","locator":"46:11-46:13","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CGA","type":"QueryLetRef"}},{"localId":"308","locator":"47:11-47:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"307","locator":"47:11-47:13","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","name":"EGA","type":"QueryLetRef"}}]},{"localId":"309","locator":"48:11-50:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"321","locator":"48:18-50:7","type":"Query","resultTypeSpecifier":{"localId":"324","type":"ListTypeSpecifier","elementType":{"localId":"325","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"source":[{"localId":"310","locator":"48:20-48:65","alias":"EncounterDiagnoses","resultTypeSpecifier":{"localId":"315","type":"ListTypeSpecifier","elementType":{"localId":"316","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"expression":{"localId":"312","locator":"48:20-48:46","path":"diagnoses","scope":"DeliveryEncounter","type":"Property","resultTypeSpecifier":{"localId":"313","type":"ListTypeSpecifier","elementType":{"localId":"314","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"320","locator":"49:11-49:74","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"318","locator":"49:17-49:39","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"319","locator":"49:44-49:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"37 to 42 Plus Weeks Gestation","preserve":true}}}}]}}},{"localId":"276","locator":"37:1-40:101","name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"276","s":[{"value":["","define ","\"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks\"",":\n  "]},{"r":"334","s":[{"r":"283","s":[{"r":"277","s":[{"value":["\"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks\""]}]},{"value":["\n    union "]},{"r":"280","s":[{"value":["\"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks\""]}]}]},{"value":["\n    union "]},{"r":"331","s":[{"value":["\"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding\""]}]}]}]}}],"resultTypeSpecifier":{"localId":"337","type":"ListTypeSpecifier","elementType":{"localId":"338","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"334","locator":"38:3-40:101","type":"Union","resultTypeSpecifier":{"localId":"335","type":"ListTypeSpecifier","elementType":{"localId":"336","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"283","locator":"38:3-39:95","type":"Union","resultTypeSpecifier":{"localId":"284","type":"ListTypeSpecifier","elementType":{"localId":"285","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"277","locator":"38:3-38:88","name":"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks","type":"ExpressionRef","resultTypeSpecifier":{"localId":"278","type":"ListTypeSpecifier","elementType":{"localId":"279","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}},{"localId":"280","locator":"39:11-39:95","name":"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks","type":"ExpressionRef","resultTypeSpecifier":{"localId":"281","type":"ListTypeSpecifier","elementType":{"localId":"282","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}]},{"localId":"331","locator":"40:11-40:101","name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding","type":"ExpressionRef","resultTypeSpecifier":{"localId":"332","type":"ListTypeSpecifier","elementType":{"localId":"333","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}]}},{"localId":"350","locator":"55:1-59:5","name":"Encounter With Singleton Delivery","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"350","s":[{"value":["","define ","\"Encounter With Singleton Delivery\"",":\n  "]},{"r":"375","s":[{"s":[{"r":"351","s":[{"r":"353","s":[{"s":[{"value":["PCMaternal",".","\"Delivery Encounter With Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"r":"358","s":[{"value":["where "]},{"r":"358","s":[{"value":["exists "]},{"r":"370","s":[{"value":["( "]},{"r":"370","s":[{"s":[{"r":"359","s":[{"r":"361","s":[{"s":[{"value":["DeliveryEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n        "]},{"r":"369","s":[{"value":["where "]},{"r":"369","s":[{"r":"367","s":[{"r":"366","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"367","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"368","s":[{"value":["\"Delivery of Singleton\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"795","type":"ListTypeSpecifier","elementType":{"localId":"796","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"375","locator":"56:3-59:5","type":"Query","resultTypeSpecifier":{"localId":"376","type":"ListTypeSpecifier","elementType":{"localId":"377","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"351","locator":"56:3-56:66","alias":"DeliveryEncounter","resultTypeSpecifier":{"localId":"356","type":"ListTypeSpecifier","elementType":{"localId":"357","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"353","locator":"56:3-56:48","name":"Delivery Encounter With Age Range","libraryName":"PCMaternal","type":"ExpressionRef","resultTypeSpecifier":{"localId":"354","type":"ListTypeSpecifier","elementType":{"localId":"355","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"358","locator":"57:5-59:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"370","locator":"57:18-59:5","type":"Query","resultTypeSpecifier":{"localId":"373","type":"ListTypeSpecifier","elementType":{"localId":"374","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"source":[{"localId":"359","locator":"57:20-57:65","alias":"EncounterDiagnoses","resultTypeSpecifier":{"localId":"364","type":"ListTypeSpecifier","elementType":{"localId":"365","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"expression":{"localId":"361","locator":"57:20-57:46","path":"diagnoses","scope":"DeliveryEncounter","type":"Property","resultTypeSpecifier":{"localId":"362","type":"ListTypeSpecifier","elementType":{"localId":"363","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"369","locator":"58:9-58:64","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"367","locator":"58:15-58:37","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"368","locator":"58:42-58:64","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Delivery of Singleton","preserve":true}}}}}},{"localId":"394","locator":"122:1-127:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastGravida","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"394","s":[{"value":["","define function \"LastGravida\"(Encounter \"Encounter, Performed\"):\n  "]},{"r":"1075","s":[{"r":"1075","s":[{"r":"1148","s":[{"r":"1147","s":[{"value":["Last","("]},{"r":"1142","s":[{"s":[{"r":"1076","s":[{"r":"1079","s":[{"r":"1079","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Pregnancies\""]}]},{"value":["]"]}]}]},{"value":[" ","Gravida"]}]}]},{"value":["\n      "]},{"r":"1088","s":[{"value":["where "]},{"r":"1088","s":[{"r":"1110","s":[{"r":"1098","s":[{"r":"1089","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1098","s":[{"value":["\"EarliestOf\"","("]},{"r":"1091","s":[{"r":"1090","s":[{"value":["Gravida"]}]},{"value":["."]},{"r":"1091","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"1093","s":[{"r":"1092","s":[{"value":["Gravida"]}]},{"value":["."]},{"r":"1093","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"1110","s":[{"r":"1102","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"1101","s":[{"r":"1099","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"1101","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1100","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"1130","s":[{"r":"1112","s":[{"r":"1111","s":[{"value":["Gravida"]}]},{"value":["."]},{"r":"1112","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"1138","s":[{"value":["sort by "]},{"r":"1137","s":[{"r":"1136","s":[{"r":"1131","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1136","s":[{"value":["\"EarliestOf\"","("]},{"r":"1132","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"1133","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"1148","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"1165","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"1075","locator":"123:3-127:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","strict":false,"type":"As","signature":[],"operand":{"localId":"1148","locator":"123:3-127:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"1157","type":"ChoiceTypeSpecifier","choice":[{"localId":"1158","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1159","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1160","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1161","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1162","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1163","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1164","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"1147","locator":"123:3-127:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"1142","locator":"123:8-126:67","type":"Query","resultTypeSpecifier":{"localId":"1143","type":"ListTypeSpecifier","elementType":{"localId":"1144","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"1076","locator":"123:8-123:59","alias":"Gravida","resultTypeSpecifier":{"localId":"1086","type":"ListTypeSpecifier","elementType":{"localId":"1087","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1079","locator":"123:8-123:51","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"1084","type":"ListTypeSpecifier","elementType":{"localId":"1085","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"1081","type":"ToList","signature":[],"operand":{"localId":"1078","locator":"123:34-123:50","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Pregnancies","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1088","locator":"124:7-125:38","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1110","locator":"124:13-124:148","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1107","locator":"124:83-124:98","type":"In","signature":[],"operand":[{"localId":"1098","locator":"124:13-124:81","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1091","locator":"124:33-124:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"Gravida","type":"Property"},{"localId":"1093","locator":"124:59-124:80","path":"relevantPeriod","scope":"Gravida","type":"Property","resultTypeSpecifier":{"localId":"1096","type":"IntervalTypeSpecifier","pointType":{"localId":"1097","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1104","locator":"124:83-124:98","lowClosed":true,"highClosed":false,"type":"Interval","resultTypeSpecifier":{"localId":"1105","type":"IntervalTypeSpecifier","pointType":{"localId":"1106","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1103","locator":"124:118-124:148","type":"Subtract","signature":[],"operand":[{"localId":"1101","locator":"124:107-124:148","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1100","locator":"124:139-124:147","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"1102","locator":"124:83-124:90","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"1101","locator":"124:107-124:148","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1100","locator":"124:139-124:147","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}]},{"localId":"1109","locator":"124:83-124:98","type":"Not","signature":[],"operand":{"localId":"1108","locator":"124:83-124:98","type":"IsNull","signature":[],"operand":{"localId":"1101","locator":"124:107-124:148","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1100","locator":"124:139-124:147","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"1130","locator":"125:13-125:38","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1129","locator":"125:13-125:38","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1112","locator":"125:13-125:26","path":"result","scope":"Gravida","type":"Property","resultTypeSpecifier":{"localId":"1121","type":"ChoiceTypeSpecifier","choice":[{"localId":"1122","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1123","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1124","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1125","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1126","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1127","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1128","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]},"sort":{"localId":"1138","locator":"126:7-126:67","by":[{"localId":"1137","locator":"126:15-126:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1136","locator":"126:15-126:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1132","locator":"126:35-126:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"1133","locator":"126:53-126:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1134","type":"IntervalTypeSpecifier","pointType":{"localId":"1135","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"1165","locator":"127:15-127:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"localId":"396","name":"Encounter","operandTypeSpecifier":{"localId":"395","locator":"122:41-122:62","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"492","locator":"143:1-148:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastParity","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"492","s":[{"value":["","define function \"LastParity\"(Encounter \"Encounter, Performed\"):\n  "]},{"r":"1348","s":[{"r":"1348","s":[{"r":"1421","s":[{"r":"1420","s":[{"value":["Last","("]},{"r":"1415","s":[{"s":[{"r":"1349","s":[{"r":"1352","s":[{"r":"1352","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Parity\""]}]},{"value":["]"]}]}]},{"value":[" ","Parity"]}]}]},{"value":["\n      "]},{"r":"1361","s":[{"value":["where "]},{"r":"1361","s":[{"r":"1383","s":[{"r":"1371","s":[{"r":"1362","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1371","s":[{"value":["\"EarliestOf\"","("]},{"r":"1364","s":[{"r":"1363","s":[{"value":["Parity"]}]},{"value":["."]},{"r":"1364","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"1366","s":[{"r":"1365","s":[{"value":["Parity"]}]},{"value":["."]},{"r":"1366","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"1383","s":[{"r":"1375","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"1374","s":[{"r":"1372","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"1374","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1373","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"1403","s":[{"r":"1385","s":[{"r":"1384","s":[{"value":["Parity"]}]},{"value":["."]},{"r":"1385","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"1411","s":[{"value":["sort by "]},{"r":"1410","s":[{"r":"1409","s":[{"r":"1404","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1409","s":[{"value":["\"EarliestOf\"","("]},{"r":"1405","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"1406","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"1421","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"1438","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"1348","locator":"144:3-148:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","strict":false,"type":"As","signature":[],"operand":{"localId":"1421","locator":"144:3-148:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"1430","type":"ChoiceTypeSpecifier","choice":[{"localId":"1431","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1432","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1433","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1434","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1435","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1436","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1437","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"1420","locator":"144:3-148:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"1415","locator":"144:8-147:67","type":"Query","resultTypeSpecifier":{"localId":"1416","type":"ListTypeSpecifier","elementType":{"localId":"1417","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"1349","locator":"144:8-144:53","alias":"Parity","resultTypeSpecifier":{"localId":"1359","type":"ListTypeSpecifier","elementType":{"localId":"1360","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1352","locator":"144:8-144:46","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"1357","type":"ListTypeSpecifier","elementType":{"localId":"1358","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"1354","type":"ToList","signature":[],"operand":{"localId":"1351","locator":"144:34-144:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Parity","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1361","locator":"145:7-146:37","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1383","locator":"145:13-145:146","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1380","locator":"145:81-145:96","type":"In","signature":[],"operand":[{"localId":"1371","locator":"145:13-145:79","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1364","locator":"145:33-145:55","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"Parity","type":"Property"},{"localId":"1366","locator":"145:58-145:78","path":"relevantPeriod","scope":"Parity","type":"Property","resultTypeSpecifier":{"localId":"1369","type":"IntervalTypeSpecifier","pointType":{"localId":"1370","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1377","locator":"145:81-145:96","lowClosed":true,"highClosed":false,"type":"Interval","resultTypeSpecifier":{"localId":"1378","type":"IntervalTypeSpecifier","pointType":{"localId":"1379","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1376","locator":"145:116-145:146","type":"Subtract","signature":[],"operand":[{"localId":"1374","locator":"145:105-145:146","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1373","locator":"145:137-145:145","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"1375","locator":"145:81-145:88","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"1374","locator":"145:105-145:146","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1373","locator":"145:137-145:145","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}]},{"localId":"1382","locator":"145:81-145:96","type":"Not","signature":[],"operand":{"localId":"1381","locator":"145:81-145:96","type":"IsNull","signature":[],"operand":{"localId":"1374","locator":"145:105-145:146","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1373","locator":"145:137-145:145","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"1403","locator":"146:13-146:37","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1402","locator":"146:13-146:37","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1385","locator":"146:13-146:25","path":"result","scope":"Parity","type":"Property","resultTypeSpecifier":{"localId":"1394","type":"ChoiceTypeSpecifier","choice":[{"localId":"1395","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1396","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1397","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1398","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1399","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1400","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1401","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]},"sort":{"localId":"1411","locator":"147:7-147:67","by":[{"localId":"1410","locator":"147:15-147:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1409","locator":"147:15-147:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1405","locator":"147:35-147:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"1406","locator":"147:53-147:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1407","type":"IntervalTypeSpecifier","pointType":{"localId":"1408","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"1438","locator":"148:15-148:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"localId":"494","name":"Encounter","operandTypeSpecifier":{"localId":"493","locator":"143:40-143:61","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"591","locator":"129:1-134:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastHistoryPretermBirth","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"591","s":[{"value":["","define function \"LastHistoryPretermBirth\"(Encounter \"Encounter, Performed\"):\n  "]},{"r":"1166","s":[{"r":"1166","s":[{"r":"1239","s":[{"r":"1238","s":[{"value":["Last","("]},{"r":"1233","s":[{"s":[{"r":"1167","s":[{"r":"1170","s":[{"r":"1170","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Births.preterm\""]}]},{"value":["]"]}]}]},{"value":[" ","PretermBirth"]}]}]},{"value":["\n      "]},{"r":"1179","s":[{"value":["where "]},{"r":"1179","s":[{"r":"1201","s":[{"r":"1189","s":[{"r":"1180","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1189","s":[{"value":["\"EarliestOf\"","("]},{"r":"1182","s":[{"r":"1181","s":[{"value":["PretermBirth"]}]},{"value":["."]},{"r":"1182","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"1184","s":[{"r":"1183","s":[{"value":["PretermBirth"]}]},{"value":["."]},{"r":"1184","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"1201","s":[{"r":"1193","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"1192","s":[{"r":"1190","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"1192","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1191","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"1221","s":[{"r":"1203","s":[{"r":"1202","s":[{"value":["PretermBirth"]}]},{"value":["."]},{"r":"1203","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"1229","s":[{"value":["sort by "]},{"r":"1228","s":[{"r":"1227","s":[{"r":"1222","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1227","s":[{"value":["\"EarliestOf\"","("]},{"r":"1223","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"1224","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"1239","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"1256","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"1166","locator":"130:3-134:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","strict":false,"type":"As","signature":[],"operand":{"localId":"1239","locator":"130:3-134:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"1248","type":"ChoiceTypeSpecifier","choice":[{"localId":"1249","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1250","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1251","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1252","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1253","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1254","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1255","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"1238","locator":"130:3-134:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"1233","locator":"130:8-133:67","type":"Query","resultTypeSpecifier":{"localId":"1234","type":"ListTypeSpecifier","elementType":{"localId":"1235","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"1167","locator":"130:8-130:67","alias":"PretermBirth","resultTypeSpecifier":{"localId":"1177","type":"ListTypeSpecifier","elementType":{"localId":"1178","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1170","locator":"130:8-130:54","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"1175","type":"ListTypeSpecifier","elementType":{"localId":"1176","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"1172","type":"ToList","signature":[],"operand":{"localId":"1169","locator":"130:34-130:53","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Births.preterm","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1179","locator":"131:7-132:43","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1201","locator":"131:13-131:158","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1198","locator":"131:93-131:108","type":"In","signature":[],"operand":[{"localId":"1189","locator":"131:13-131:91","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1182","locator":"131:33-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"PretermBirth","type":"Property"},{"localId":"1184","locator":"131:64-131:90","path":"relevantPeriod","scope":"PretermBirth","type":"Property","resultTypeSpecifier":{"localId":"1187","type":"IntervalTypeSpecifier","pointType":{"localId":"1188","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1195","locator":"131:93-131:108","lowClosed":true,"highClosed":false,"type":"Interval","resultTypeSpecifier":{"localId":"1196","type":"IntervalTypeSpecifier","pointType":{"localId":"1197","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1194","locator":"131:128-131:158","type":"Subtract","signature":[],"operand":[{"localId":"1192","locator":"131:117-131:158","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1191","locator":"131:149-131:157","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"1193","locator":"131:93-131:100","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"1192","locator":"131:117-131:158","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1191","locator":"131:149-131:157","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}]},{"localId":"1200","locator":"131:93-131:108","type":"Not","signature":[],"operand":{"localId":"1199","locator":"131:93-131:108","type":"IsNull","signature":[],"operand":{"localId":"1192","locator":"131:117-131:158","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1191","locator":"131:149-131:157","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"1221","locator":"132:13-132:43","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1220","locator":"132:13-132:43","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1203","locator":"132:13-132:31","path":"result","scope":"PretermBirth","type":"Property","resultTypeSpecifier":{"localId":"1212","type":"ChoiceTypeSpecifier","choice":[{"localId":"1213","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1214","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1215","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1216","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1217","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1218","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1219","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]},"sort":{"localId":"1229","locator":"133:7-133:67","by":[{"localId":"1228","locator":"133:15-133:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1227","locator":"133:15-133:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1223","locator":"133:35-133:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"1224","locator":"133:53-133:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1225","type":"IntervalTypeSpecifier","pointType":{"localId":"1226","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"1256","locator":"134:15-134:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"localId":"593","name":"Encounter","operandTypeSpecifier":{"localId":"592","locator":"129:53-129:74","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"689","locator":"136:1-141:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastHistoryTermBirth","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"689","s":[{"value":["","define function \"LastHistoryTermBirth\"(Encounter \"Encounter, Performed\"):\n  "]},{"r":"1257","s":[{"r":"1257","s":[{"r":"1330","s":[{"r":"1329","s":[{"value":["Last","("]},{"r":"1324","s":[{"s":[{"r":"1258","s":[{"r":"1261","s":[{"r":"1261","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"[#] Births.term\""]}]},{"value":["]"]}]}]},{"value":[" ","TermBirth"]}]}]},{"value":["\n      "]},{"r":"1270","s":[{"value":["where "]},{"r":"1270","s":[{"r":"1292","s":[{"r":"1280","s":[{"r":"1271","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1280","s":[{"value":["\"EarliestOf\"","("]},{"r":"1273","s":[{"r":"1272","s":[{"value":["TermBirth"]}]},{"value":["."]},{"r":"1273","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"1275","s":[{"r":"1274","s":[{"value":["TermBirth"]}]},{"value":["."]},{"r":"1275","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"value":[" "]},{"r":"1292","s":[{"r":"1284","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before"]}]},{"value":[" "]},{"r":"1283","s":[{"r":"1281","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"1283","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1282","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n        and "]},{"r":"1312","s":[{"r":"1294","s":[{"r":"1293","s":[{"value":["TermBirth"]}]},{"value":["."]},{"r":"1294","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"1320","s":[{"value":["sort by "]},{"r":"1319","s":[{"r":"1318","s":[{"r":"1313","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1318","s":[{"value":["\"EarliestOf\"","("]},{"r":"1314","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"1315","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"1330","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"1347","s":[{"value":["Integer"]}]}]}]}]}}],"expression":{"localId":"1257","locator":"137:3-141:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","strict":false,"type":"As","signature":[],"operand":{"localId":"1330","locator":"137:3-141:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"1339","type":"ChoiceTypeSpecifier","choice":[{"localId":"1340","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1341","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1342","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1343","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1344","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1345","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1346","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"1329","locator":"137:3-141:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"1324","locator":"137:8-140:67","type":"Query","resultTypeSpecifier":{"localId":"1325","type":"ListTypeSpecifier","elementType":{"localId":"1326","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"1258","locator":"137:8-137:61","alias":"TermBirth","resultTypeSpecifier":{"localId":"1268","type":"ListTypeSpecifier","elementType":{"localId":"1269","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1261","locator":"137:8-137:51","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"1266","type":"ListTypeSpecifier","elementType":{"localId":"1267","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"1263","type":"ToList","signature":[],"operand":{"localId":"1260","locator":"137:34-137:50","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"[#] Births.term","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1270","locator":"138:7-139:40","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1292","locator":"138:13-138:152","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1289","locator":"138:87-138:102","type":"In","signature":[],"operand":[{"localId":"1280","locator":"138:13-138:85","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1273","locator":"138:33-138:58","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"TermBirth","type":"Property"},{"localId":"1275","locator":"138:61-138:84","path":"relevantPeriod","scope":"TermBirth","type":"Property","resultTypeSpecifier":{"localId":"1278","type":"IntervalTypeSpecifier","pointType":{"localId":"1279","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1286","locator":"138:87-138:102","lowClosed":true,"highClosed":false,"type":"Interval","resultTypeSpecifier":{"localId":"1287","type":"IntervalTypeSpecifier","pointType":{"localId":"1288","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1285","locator":"138:122-138:152","type":"Subtract","signature":[],"operand":[{"localId":"1283","locator":"138:111-138:152","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1282","locator":"138:143-138:151","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"1284","locator":"138:87-138:94","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"1283","locator":"138:111-138:152","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1282","locator":"138:143-138:151","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}]},{"localId":"1291","locator":"138:87-138:102","type":"Not","signature":[],"operand":{"localId":"1290","locator":"138:87-138:102","type":"IsNull","signature":[],"operand":{"localId":"1283","locator":"138:111-138:152","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"1282","locator":"138:143-138:151","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"1312","locator":"139:13-139:40","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1311","locator":"139:13-139:40","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1294","locator":"139:13-139:28","path":"result","scope":"TermBirth","type":"Property","resultTypeSpecifier":{"localId":"1303","type":"ChoiceTypeSpecifier","choice":[{"localId":"1304","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1305","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1306","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1307","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1308","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1309","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1310","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]},"sort":{"localId":"1320","locator":"140:7-140:67","by":[{"localId":"1319","locator":"140:15-140:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1318","locator":"140:15-140:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1314","locator":"140:35-140:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"1315","locator":"140:53-140:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1316","type":"IntervalTypeSpecifier","pointType":{"localId":"1317","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"1347","locator":"141:15-141:21","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"}},"operand":[{"localId":"691","name":"Encounter","operandTypeSpecifier":{"localId":"690","locator":"136:50-136:71","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"344","locator":"101:1-109:5","name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"344","s":[{"value":["","define ","\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\"",":\n  "]},{"r":"785","s":[{"s":[{"r":"345","s":[{"r":"383","s":[{"value":["( "]},{"r":"383","s":[{"r":"346","s":[{"value":["\"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks\""]}]},{"value":["\n    intersect "]},{"r":"380","s":[{"value":["\"Encounter With Singleton Delivery\""]}]}]},{"value":[" )"]}]},{"value":[" ","SingletonEncounterGE37Weeks"]}]}]},{"value":["\n    "]},{"r":"390","s":[{"value":["where "]},{"r":"390","s":[{"value":["( "]},{"r":"390","s":[{"r":"391","s":[{"r":"392","s":[{"value":["( "]},{"r":"392","s":[{"r":"397","s":[{"value":["\"LastGravida\"","("]},{"r":"393","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"489","value":[" ","="," ","1"]}]},{"value":[" )"]}]},{"value":["\n        or "]},{"r":"490","s":[{"value":["( "]},{"r":"490","s":[{"r":"495","s":[{"value":["\"LastParity\"","("]},{"r":"491","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"587","value":[" ","="," ","0"]}]},{"value":[" )"]}]}]},{"value":["\n        or "]},{"r":"588","s":[{"value":["( "]},{"r":"588","s":[{"r":"589","s":[{"value":["( "]},{"r":"589","s":[{"r":"594","s":[{"value":["\"LastHistoryPretermBirth\"","("]},{"r":"590","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"686","value":[" ","="," ","0"]}]},{"value":[" )"]}]},{"value":["\n            and "]},{"r":"687","s":[{"value":["( "]},{"r":"687","s":[{"r":"692","s":[{"value":["\"LastHistoryTermBirth\"","("]},{"r":"688","s":[{"value":["SingletonEncounterGE37Weeks"]}]},{"value":[")"]}]},{"r":"784","value":[" ","="," ","0"]}]},{"value":[" )"]}]}]},{"value":["\n        )"]}]}]},{"value":["\n    )"]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1071","type":"ListTypeSpecifier","elementType":{"localId":"1072","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"785","locator":"102:3-109:5","type":"Query","resultTypeSpecifier":{"localId":"786","type":"ListTypeSpecifier","elementType":{"localId":"787","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"345","locator":"102:3-103:79","alias":"SingletonEncounterGE37Weeks","resultTypeSpecifier":{"localId":"388","type":"ListTypeSpecifier","elementType":{"localId":"389","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"383","locator":"102:3-103:51","type":"Intersect","resultTypeSpecifier":{"localId":"386","type":"ListTypeSpecifier","elementType":{"localId":"387","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"346","locator":"102:5-102:79","name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks","type":"ExpressionRef","resultTypeSpecifier":{"localId":"347","type":"ListTypeSpecifier","elementType":{"localId":"348","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}},{"localId":"380","locator":"103:15-103:49","name":"Encounter With Singleton Delivery","type":"ExpressionRef","resultTypeSpecifier":{"localId":"381","type":"ListTypeSpecifier","elementType":{"localId":"382","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}]}}],"let":[],"relationship":[],"where":{"localId":"390","locator":"104:5-109:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"391","locator":"104:13-105:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"392","locator":"104:13-104:62","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"397","locator":"104:15-104:56","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastGravida","type":"FunctionRef","signature":[],"operand":[{"localId":"393","locator":"104:29-104:55","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"489","locator":"104:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"1","type":"Literal"}]},{"localId":"490","locator":"105:12-105:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"495","locator":"105:14-105:54","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastParity","type":"FunctionRef","signature":[],"operand":[{"localId":"491","locator":"105:27-105:53","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"587","locator":"105:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"}]}]},{"localId":"588","locator":"106:12-108:9","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"589","locator":"106:14-106:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"594","locator":"106:16-106:69","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastHistoryPretermBirth","type":"FunctionRef","signature":[],"operand":[{"localId":"590","locator":"106:42-106:68","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"686","locator":"106:73","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"}]},{"localId":"687","locator":"107:17-107:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"692","locator":"107:19-107:69","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LastHistoryTermBirth","type":"FunctionRef","signature":[],"operand":[{"localId":"688","locator":"107:42-107:68","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"SingletonEncounterGE37Weeks","type":"AliasRef"}]},{"localId":"784","locator":"107:73","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"}]}]}]}}},{"localId":"342","locator":"52:1-53:89","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"342","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"790","s":[{"value":["\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]}}],"resultTypeSpecifier":{"localId":"793","type":"ListTypeSpecifier","elementType":{"localId":"794","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"790","locator":"53:3-53:89","name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef","resultTypeSpecifier":{"localId":"791","type":"ListTypeSpecifier","elementType":{"localId":"792","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}},{"localId":"798","locator":"61:1-62:48","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"798","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"800","s":[{"r":"799","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"800","s":[{"value":["\"Delivery Encounter With Age Range\""]}]}]}]}}],"resultTypeSpecifier":{"localId":"805","type":"ListTypeSpecifier","elementType":{"localId":"806","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"800","locator":"62:3-62:48","name":"Delivery Encounter With Age Range","libraryName":"PCMaternal","type":"ExpressionRef","resultTypeSpecifier":{"localId":"803","type":"ListTypeSpecifier","elementType":{"localId":"804","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}},{"localId":"810","locator":"79:1-82:194","name":"Delivery Encounter With Cesarean Birth","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"810","s":[{"value":["","define ","\"Delivery Encounter With Cesarean Birth\"",":\n  "]},{"r":"854","s":[{"s":[{"r":"811","s":[{"r":"812","s":[{"s":[{"value":["\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]},{"value":[" ","ThirtySevenWeeksPlusEncounter"]}]}]},{"value":["\n    "]},{"r":"851","s":[{"value":["with "]},{"r":"817","s":[{"r":"820","s":[{"r":"820","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Cesarean Birth\""]}]},{"value":["]"]}]}]},{"value":[" ","CSection"]}]},{"value":["\n        such that "]},{"r":"849","s":[{"r":"837","s":[{"r":"828","s":[{"value":["Global"]}]},{"value":["."]},{"r":"837","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"830","s":[{"r":"829","s":[{"value":["CSection"]}]},{"value":["."]},{"r":"830","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"832","s":[{"r":"831","s":[{"value":["CSection"]}]},{"value":["."]},{"r":"832","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"849","value":[" ","during"," "]},{"r":"844","s":[{"r":"842","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"844","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\""," ( "]},{"r":"843","s":[{"value":["ThirtySevenWeeksPlusEncounter"]}]},{"value":[" )"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"904","type":"ListTypeSpecifier","elementType":{"localId":"905","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"854","locator":"80:3-82:194","type":"Query","resultTypeSpecifier":{"localId":"855","type":"ListTypeSpecifier","elementType":{"localId":"856","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"811","locator":"80:3-80:119","alias":"ThirtySevenWeeksPlusEncounter","resultTypeSpecifier":{"localId":"815","type":"ListTypeSpecifier","elementType":{"localId":"816","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"812","locator":"80:3-80:89","name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef","resultTypeSpecifier":{"localId":"813","type":"ListTypeSpecifier","elementType":{"localId":"814","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[{"localId":"851","locator":"81:5-82:194","alias":"CSection","type":"With","resultTypeSpecifier":{"localId":"852","type":"ListTypeSpecifier","elementType":{"localId":"853","name":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"820","locator":"81:10-81:51","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"824","type":"ListTypeSpecifier","elementType":{"localId":"825","name":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"819","locator":"81:35-81:50","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Cesarean Birth","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},"suchThat":{"localId":"849","locator":"82:19-82:194","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IncludedIn","signature":[],"operand":[{"localId":"837","locator":"82:19-82:99","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"840","type":"IntervalTypeSpecifier","pointType":{"localId":"841","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"830","locator":"82:48-82:72","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"CSection","type":"Property"},{"localId":"832","locator":"82:75-82:97","path":"relevantPeriod","scope":"CSection","type":"Property","resultTypeSpecifier":{"localId":"835","type":"IntervalTypeSpecifier","pointType":{"localId":"836","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"844","locator":"82:108-82:194","name":"HospitalizationWithEDOBTriageObservation","libraryName":"PCMaternal","type":"FunctionRef","resultTypeSpecifier":{"localId":"847","type":"IntervalTypeSpecifier","pointType":{"localId":"848","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"843","locator":"82:164-82:192","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ThirtySevenWeeksPlusEncounter","type":"AliasRef"}]}]}}]}},{"localId":"808","locator":"64:1-65:42","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"808","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"859","s":[{"value":["\"Delivery Encounter With Cesarean Birth\""]}]}]}}],"resultTypeSpecifier":{"localId":"862","type":"ListTypeSpecifier","elementType":{"localId":"863","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"859","locator":"65:3-65:42","name":"Delivery Encounter With Cesarean Birth","type":"ExpressionRef","resultTypeSpecifier":{"localId":"860","type":"ListTypeSpecifier","elementType":{"localId":"861","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}},{"localId":"865","locator":"67:1-68:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"865","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"868","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"872","type":"ListTypeSpecifier","elementType":{"localId":"873","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","type":"NamedTypeSpecifier"}},"expression":{"localId":"868","locator":"68:3-68:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"870","type":"ListTypeSpecifier","elementType":{"localId":"871","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","type":"NamedTypeSpecifier"}},"codes":{"localId":"867","locator":"68:40-68:50","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ethnicity","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"875","locator":"70:1-71:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"875","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"878","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"882","type":"ListTypeSpecifier","elementType":{"localId":"883","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","type":"NamedTypeSpecifier"}},"expression":{"localId":"878","locator":"71:3-71:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"880","type":"ListTypeSpecifier","elementType":{"localId":"881","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","type":"NamedTypeSpecifier"}},"codes":{"localId":"877","locator":"71:36-71:47","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Payer Type","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"885","locator":"73:1-74:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"885","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"888","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"892","type":"ListTypeSpecifier","elementType":{"localId":"893","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","type":"NamedTypeSpecifier"}},"expression":{"localId":"888","locator":"74:3-74:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"890","type":"ListTypeSpecifier","elementType":{"localId":"891","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","type":"NamedTypeSpecifier"}},"codes":{"localId":"887","locator":"74:35-74:40","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Race","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"895","locator":"76:1-77:62","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"895","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"898","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"Federal Administrative Sex\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"902","type":"ListTypeSpecifier","elementType":{"localId":"903","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","type":"NamedTypeSpecifier"}},"expression":{"localId":"898","locator":"77:3-77:62","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"900","type":"ListTypeSpecifier","elementType":{"localId":"901","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","type":"NamedTypeSpecifier"}},"codes":{"localId":"897","locator":"77:34-77:61","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Federal Administrative Sex","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"911","locator":"111:1-120:7","name":"Encounter With Abnormal Presentation","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"911","s":[{"value":["","define ","\"Encounter With Abnormal Presentation\"",":\n  "]},{"r":"998","s":[{"s":[{"r":"912","s":[{"r":"913","s":[{"s":[{"value":["\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]},{"value":[" ","ThirtySevenWeeksPlusEncounter"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"918","s":[{"value":["LastAbnormalPresentation",": "]},{"r":"960","s":[{"value":["Last","("]},{"r":"955","s":[{"s":[{"r":"919","s":[{"r":"922","s":[{"r":"922","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Abnormal Presentation\""]}]},{"value":["]"]}]}]},{"value":[" ","AbnormalPresentation"]}]}]},{"value":["\n        "]},{"r":"943","s":[{"value":["where "]},{"r":"943","s":[{"r":"939","s":[{"r":"930","s":[{"value":["Global"]}]},{"value":["."]},{"r":"939","s":[{"value":["\"EarliestOf\"","("]},{"r":"932","s":[{"r":"931","s":[{"value":["AbnormalPresentation"]}]},{"value":["."]},{"r":"932","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"934","s":[{"r":"933","s":[{"value":["AbnormalPresentation"]}]},{"value":["."]},{"r":"934","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"943","value":[" ","before or on"," "]},{"r":"942","s":[{"r":"940","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"942","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"941","s":[{"value":["ThirtySevenWeeksPlusEncounter"]}]},{"value":[")"]}]}]}]}]},{"value":["\n        "]},{"r":"951","s":[{"value":["sort by "]},{"r":"950","s":[{"r":"949","s":[{"r":"944","s":[{"value":["Global"]}]},{"value":["."]},{"r":"949","s":[{"value":["\"EarliestOf\"","("]},{"r":"945","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"946","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    "]},{"r":"961","s":[{"value":["where "]},{"r":"961","s":[{"r":"980","s":[{"r":"971","s":[{"r":"962","s":[{"value":["Global"]}]},{"value":["."]},{"r":"971","s":[{"value":["\"EarliestOf\""," ( "]},{"r":"964","s":[{"r":"963","s":[{"value":["LastAbnormalPresentation"]}]},{"value":["."]},{"r":"964","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"966","s":[{"r":"965","s":[{"value":["LastAbnormalPresentation"]}]},{"value":["."]},{"r":"966","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"980","value":[" ","during"," "]},{"r":"974","s":[{"r":"972","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"974","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\""," ( "]},{"r":"973","s":[{"value":["ThirtySevenWeeksPlusEncounter"]}]},{"value":[" )"]}]}]}]},{"value":["\n      or "]},{"r":"981","s":[{"value":["exists "]},{"r":"993","s":[{"value":["( "]},{"r":"993","s":[{"s":[{"r":"982","s":[{"r":"984","s":[{"s":[{"value":["ThirtySevenWeeksPlusEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n          "]},{"r":"992","s":[{"value":["where "]},{"r":"992","s":[{"r":"990","s":[{"r":"989","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"990","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"991","s":[{"value":["\"Abnormal Presentation\""]}]}]}]}]},{"value":["\n      )"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1073","type":"ListTypeSpecifier","elementType":{"localId":"1074","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"998","locator":"112:3-120:7","type":"Query","resultTypeSpecifier":{"localId":"999","type":"ListTypeSpecifier","elementType":{"localId":"1000","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"912","locator":"112:3-112:119","alias":"ThirtySevenWeeksPlusEncounter","resultTypeSpecifier":{"localId":"916","type":"ListTypeSpecifier","elementType":{"localId":"917","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"913","locator":"112:3-112:89","name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef","resultTypeSpecifier":{"localId":"914","type":"ListTypeSpecifier","elementType":{"localId":"915","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[{"localId":"918","locator":"113:9-116:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","identifier":"LastAbnormalPresentation","expression":{"localId":"960","locator":"113:35-116:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"955","locator":"113:40-115:69","type":"Query","resultTypeSpecifier":{"localId":"956","type":"ListTypeSpecifier","elementType":{"localId":"957","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"919","locator":"113:40-113:110","alias":"AbnormalPresentation","resultTypeSpecifier":{"localId":"928","type":"ListTypeSpecifier","elementType":{"localId":"929","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"922","locator":"113:40-113:89","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"926","type":"ListTypeSpecifier","elementType":{"localId":"927","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"921","locator":"113:66-113:88","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Abnormal Presentation","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"943","locator":"114:9-114:185","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"SameOrBefore","signature":[],"operand":[{"localId":"939","locator":"114:15-114:109","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"932","locator":"114:35-114:71","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"AbnormalPresentation","type":"Property"},{"localId":"934","locator":"114:74-114:108","path":"relevantPeriod","scope":"AbnormalPresentation","type":"Property","resultTypeSpecifier":{"localId":"937","type":"IntervalTypeSpecifier","pointType":{"localId":"938","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"942","locator":"114:124-114:185","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","libraryName":"PCMaternal","type":"FunctionRef","signature":[],"operand":[{"localId":"941","locator":"114:156-114:184","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ThirtySevenWeeksPlusEncounter","type":"AliasRef"}]}]},"sort":{"localId":"951","locator":"115:9-115:69","by":[{"localId":"950","locator":"115:17-115:69","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"949","locator":"115:17-115:69","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"945","locator":"115:37-115:52","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"946","locator":"115:55-115:68","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"947","type":"IntervalTypeSpecifier","pointType":{"localId":"948","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}}],"relationship":[],"where":{"localId":"961","locator":"117:5-120:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"980","locator":"117:11-117:211","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"In","signature":[],"operand":[{"localId":"971","locator":"117:11-117:116","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"964","locator":"117:33-117:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","type":"Property","source":{"localId":"963","locator":"117:33-117:56","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"LastAbnormalPresentation","type":"QueryLetRef"}},{"localId":"966","locator":"117:76-117:114","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"969","type":"IntervalTypeSpecifier","pointType":{"localId":"970","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"965","locator":"117:76-117:99","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"LastAbnormalPresentation","type":"QueryLetRef"}}]},{"localId":"974","locator":"117:125-117:211","name":"HospitalizationWithEDOBTriageObservation","libraryName":"PCMaternal","type":"FunctionRef","resultTypeSpecifier":{"localId":"977","type":"IntervalTypeSpecifier","pointType":{"localId":"978","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"973","locator":"117:181-117:209","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ThirtySevenWeeksPlusEncounter","type":"AliasRef"}]}]},{"localId":"981","locator":"118:10-120:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"993","locator":"118:17-120:7","type":"Query","resultTypeSpecifier":{"localId":"996","type":"ListTypeSpecifier","elementType":{"localId":"997","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"source":[{"localId":"982","locator":"118:19-118:76","alias":"EncounterDiagnoses","resultTypeSpecifier":{"localId":"987","type":"ListTypeSpecifier","elementType":{"localId":"988","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"expression":{"localId":"984","locator":"118:19-118:57","path":"diagnoses","scope":"ThirtySevenWeeksPlusEncounter","type":"Property","resultTypeSpecifier":{"localId":"985","type":"ListTypeSpecifier","elementType":{"localId":"986","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"992","locator":"119:11-119:66","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"990","locator":"119:17-119:39","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"991","locator":"119:44-119:66","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Abnormal Presentation","preserve":true}}}}]}}},{"localId":"1007","locator":"94:1-99:5","name":"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1007","s":[{"value":["","define ","\"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\"",":\n  "]},{"r":"1036","s":[{"s":[{"r":"1008","s":[{"r":"1009","s":[{"s":[{"value":["\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""]}]}]},{"value":[" ","ThirtySevenWeeksPlusEncounter"]}]}]},{"value":["\n    "]},{"r":"1014","s":[{"value":["where "]},{"r":"1014","s":[{"value":["exists "]},{"r":"1031","s":[{"value":["( "]},{"r":"1031","s":[{"s":[{"r":"1015","s":[{"r":"1017","s":[{"s":[{"value":["ThirtySevenWeeksPlusEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnoses"]}]}]},{"value":["\n        "]},{"r":"1022","s":[{"value":["where "]},{"r":"1022","s":[{"r":"1026","s":[{"r":"1024","s":[{"r":"1023","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"1024","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"1025","s":[{"value":["\"Placenta Accreta Spectrum Previa or Vasa Previa\""]}]}]},{"value":["\n          or "]},{"r":"1030","s":[{"r":"1028","s":[{"r":"1027","s":[{"value":["EncounterDiagnoses"]}]},{"value":["."]},{"r":"1028","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"1029","s":[{"value":["\"Genital Herpes\""]}]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1069","type":"ListTypeSpecifier","elementType":{"localId":"1070","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1036","locator":"95:3-99:5","type":"Query","resultTypeSpecifier":{"localId":"1037","type":"ListTypeSpecifier","elementType":{"localId":"1038","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"1008","locator":"95:3-95:119","alias":"ThirtySevenWeeksPlusEncounter","resultTypeSpecifier":{"localId":"1012","type":"ListTypeSpecifier","elementType":{"localId":"1013","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1009","locator":"95:3-95:89","name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","type":"ExpressionRef","resultTypeSpecifier":{"localId":"1010","type":"ListTypeSpecifier","elementType":{"localId":"1011","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"1014","locator":"96:5-99:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"1031","locator":"96:18-99:5","type":"Query","resultTypeSpecifier":{"localId":"1034","type":"ListTypeSpecifier","elementType":{"localId":"1035","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"source":[{"localId":"1015","locator":"96:20-96:77","alias":"EncounterDiagnoses","resultTypeSpecifier":{"localId":"1020","type":"ListTypeSpecifier","elementType":{"localId":"1021","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}},"expression":{"localId":"1017","locator":"96:20-96:58","path":"diagnoses","scope":"ThirtySevenWeeksPlusEncounter","type":"Property","resultTypeSpecifier":{"localId":"1018","type":"ListTypeSpecifier","elementType":{"localId":"1019","name":"{urn:healthit-gov:qdm:v5_6}DiagnosisComponent","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"1022","locator":"97:9-98:56","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1026","locator":"97:15-97:90","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"1024","locator":"97:15-97:37","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"1025","locator":"97:42-97:90","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Placenta Accreta Spectrum Previa or Vasa Previa","preserve":true}},{"localId":"1030","locator":"98:14-98:56","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"1028","locator":"98:14-98:36","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"EncounterDiagnoses","type":"Property"},"valueset":{"localId":"1029","locator":"98:41-98:56","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Genital Herpes","preserve":true}}]}}}}},{"localId":"909","locator":"87:1-89:100","name":"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"909","s":[{"value":["","define ","\"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\"",":\n  "]},{"r":"1044","s":[{"r":"1003","s":[{"value":["\"Encounter With Abnormal Presentation\""]}]},{"value":["\n    union "]},{"r":"1041","s":[{"value":["\"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\""]}]}]}]}}],"resultTypeSpecifier":{"localId":"1054","type":"ListTypeSpecifier","elementType":{"localId":"1055","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1044","locator":"88:3-89:100","type":"Union","resultTypeSpecifier":{"localId":"1045","type":"ListTypeSpecifier","elementType":{"localId":"1046","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1003","locator":"88:3-88:40","name":"Encounter With Abnormal Presentation","type":"ExpressionRef","resultTypeSpecifier":{"localId":"1004","type":"ListTypeSpecifier","elementType":{"localId":"1005","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}},{"localId":"1041","locator":"89:11-89:100","name":"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum","type":"ExpressionRef","resultTypeSpecifier":{"localId":"1042","type":"ListTypeSpecifier","elementType":{"localId":"1043","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}]}},{"localId":"907","locator":"84:1-85:124","name":"Denominator Exclusions","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"907","s":[{"value":["","define ","\"Denominator Exclusions\"",":\n  "]},{"r":"1049","s":[{"value":["\"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\""]}]}]}}],"resultTypeSpecifier":{"localId":"1052","type":"ListTypeSpecifier","elementType":{"localId":"1053","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1049","locator":"85:3-85:124","name":"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum","type":"ExpressionRef","resultTypeSpecifier":{"localId":"1050","type":"ListTypeSpecifier","elementType":{"localId":"1051","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}},{"localId":"1057","locator":"91:1-92:50","name":"SDE Variable Calculated Gestational Age","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1057","s":[{"value":["","define ","\"SDE Variable Calculated Gestational Age\"",":\n  "]},{"r":"1059","s":[{"r":"1058","s":[{"value":["PCMaternal"]}]},{"value":["."]},{"r":"1059","s":[{"value":["\"Variable Calculated Gestational Age\""]}]}]}]}}],"resultTypeSpecifier":{"localId":"1066","type":"ListTypeSpecifier","elementType":{"localId":"1067","type":"ListTypeSpecifier","elementType":{"localId":"1068","name":"{urn:hl7-org:elm-types:r1}Any","type":"NamedTypeSpecifier"}}},"expression":{"localId":"1059","locator":"92:3-92:50","name":"Variable Calculated Gestational Age","libraryName":"PCMaternal","type":"ExpressionRef","resultTypeSpecifier":{"localId":"1063","type":"ListTypeSpecifier","elementType":{"localId":"1064","type":"ListTypeSpecifier","elementType":{"localId":"1065","name":"{urn:hl7-org:elm-types:r1}Any","type":"NamedTypeSpecifier"}}}}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter With Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"236"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"234"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"242"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"243"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"244"}],"node_type":"FunctionRef","ref_id":"244"},{"children":[{"text":" \u003e= 37"}],"node_type":"Literal","ref_id":"245"}],"ref_id":"241"}],"ref_id":"241"}],"node_type":"Query","ref_id":"246"}],"ref_id":"233"}],"define_name":"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter With Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"255"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"253"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"261"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"262"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"263"}],"node_type":"FunctionRef","ref_id":"263"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"264"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"266"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastEstimatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"267"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"268"}],"node_type":"FunctionRef","ref_id":"268"},{"children":[{"text":" \u003e= "}]},{"children":[{"children":[{"text":"37 weeks"}]}],"node_type":"Quantity","ref_id":"269"}],"node_type":"GreaterOrEqual","ref_id":"265"}],"ref_id":"260"}],"ref_id":"260"}],"node_type":"Query","ref_id":"270"}],"ref_id":"252"}],"define_name":"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter With Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"290"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"288"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"CGA: "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"296"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"297"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"298"}],"node_type":"FunctionRef","ref_id":"298"}],"ref_id":"295"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EGA: "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"300"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastEstimatedGestationalAge\" ( "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"301"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"302"}],"node_type":"FunctionRef","ref_id":"302"}],"ref_id":"299"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"CGA"}]}],"node_type":"QueryLetRef","ref_id":"305"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"306"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"EGA"}]}],"node_type":"QueryLetRef","ref_id":"307"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"308"}],"node_type":"And","ref_id":"304"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"DeliveryEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"312"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"310"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"317"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"318"}],"ref_id":"318"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"37 to 42 Plus Weeks Gestation\""}]}],"ref_id":"319"}],"ref_id":"320"}],"ref_id":"320"}],"node_type":"Query","ref_id":"321"},{"children":[{"text":"\n      )"}]}],"node_type":"Query","ref_id":"321"}],"node_type":"Exists","ref_id":"309"}],"ref_id":"303"}],"ref_id":"303"}],"node_type":"Query","ref_id":"326"}],"ref_id":"287"}],"define_name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks\""}]}],"node_type":"ExpressionRef","ref_id":"277"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks\""}]}],"node_type":"ExpressionRef","ref_id":"280"}],"node_type":"Union","ref_id":"283"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding\""}]}],"node_type":"ExpressionRef","ref_id":"331"}],"node_type":"Union","ref_id":"334"}],"ref_id":"276"}],"define_name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Singleton Delivery\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"PCMaternal.\"Delivery Encounter With Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"353"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"351"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"DeliveryEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"361"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"359"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"366"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"367"}],"ref_id":"367"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Delivery of Singleton\""}]}],"ref_id":"368"}],"ref_id":"369"}],"ref_id":"369"}],"node_type":"Query","ref_id":"370"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"370"}],"ref_id":"358"}],"ref_id":"358"}],"node_type":"Query","ref_id":"375"}],"ref_id":"350"}],"define_name":"Encounter With Singleton Delivery"},{"children":[{"children":[{"children":[{"text":"define function \"LastGravida\"(Encounter \"Encounter, Performed\"):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Pregnancies\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1079"}],"node_type":"Retrieve","ref_id":"1079"},{"children":[{"text":" Gravida"}]}],"ref_id":"1076"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1089"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"Gravida"}]}],"ref_id":"1090"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"1091"}],"node_type":"Property","ref_id":"1091"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Gravida"}]}],"ref_id":"1092"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1093"}],"node_type":"Property","ref_id":"1093"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1098"}],"node_type":"FunctionRef","ref_id":"1098"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"1102"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"1110"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"1099"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1100"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1101"}],"node_type":"FunctionRef","ref_id":"1101"}],"node_type":"And","ref_id":"1110"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Gravida"}]}],"ref_id":"1111"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1112"}],"node_type":"Property","ref_id":"1112"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"1130"}],"ref_id":"1088"}],"ref_id":"1088"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1131"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"1132"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1133"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1136"}],"node_type":"FunctionRef","ref_id":"1136"}],"ref_id":"1137"}],"ref_id":"1138"}],"ref_id":"1142"},{"children":[{"text":"\n  )"}]}],"ref_id":"1147"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1148"}],"node_type":"Property","ref_id":"1148"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"1165"}],"node_type":"As","ref_id":"1075"}],"node_type":"As","ref_id":"1075"}],"ref_id":"394"}],"define_name":"LastGravida"},{"children":[{"children":[{"children":[{"text":"define function \"LastParity\"(Encounter \"Encounter, Performed\"):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Parity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1352"}],"node_type":"Retrieve","ref_id":"1352"},{"children":[{"text":" Parity"}]}],"ref_id":"1349"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1362"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"Parity"}]}],"ref_id":"1363"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"1364"}],"node_type":"Property","ref_id":"1364"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Parity"}]}],"ref_id":"1365"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1366"}],"node_type":"Property","ref_id":"1366"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1371"}],"node_type":"FunctionRef","ref_id":"1371"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"1375"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"1383"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"1372"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1373"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1374"}],"node_type":"FunctionRef","ref_id":"1374"}],"node_type":"And","ref_id":"1383"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Parity"}]}],"ref_id":"1384"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1385"}],"node_type":"Property","ref_id":"1385"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"1403"}],"ref_id":"1361"}],"ref_id":"1361"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1404"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"1405"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1406"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1409"}],"node_type":"FunctionRef","ref_id":"1409"}],"ref_id":"1410"}],"ref_id":"1411"}],"ref_id":"1415"},{"children":[{"text":"\n  )"}]}],"ref_id":"1420"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1421"}],"node_type":"Property","ref_id":"1421"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"1438"}],"node_type":"As","ref_id":"1348"}],"node_type":"As","ref_id":"1348"}],"ref_id":"492"}],"define_name":"LastParity"},{"children":[{"children":[{"children":[{"text":"define function \"LastHistoryPretermBirth\"(Encounter \"Encounter, Performed\"):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Births.preterm\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1170"}],"node_type":"Retrieve","ref_id":"1170"},{"children":[{"text":" PretermBirth"}]}],"ref_id":"1167"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1180"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"PretermBirth"}]}],"ref_id":"1181"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"1182"}],"node_type":"Property","ref_id":"1182"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"PretermBirth"}]}],"ref_id":"1183"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1184"}],"node_type":"Property","ref_id":"1184"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1189"}],"node_type":"FunctionRef","ref_id":"1189"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"1193"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"1201"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"1190"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1191"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1192"}],"node_type":"FunctionRef","ref_id":"1192"}],"node_type":"And","ref_id":"1201"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PretermBirth"}]}],"ref_id":"1202"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1203"}],"node_type":"Property","ref_id":"1203"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"1221"}],"ref_id":"1179"}],"ref_id":"1179"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1222"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"1223"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1224"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1227"}],"node_type":"FunctionRef","ref_id":"1227"}],"ref_id":"1228"}],"ref_id":"1229"}],"ref_id":"1233"},{"children":[{"text":"\n  )"}]}],"ref_id":"1238"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1239"}],"node_type":"Property","ref_id":"1239"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"1256"}],"node_type":"As","ref_id":"1166"}],"node_type":"As","ref_id":"1166"}],"ref_id":"591"}],"define_name":"LastHistoryPretermBirth"},{"children":[{"children":[{"children":[{"text":"define function \"LastHistoryTermBirth\"(Encounter \"Encounter, Performed\"):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"[#] Births.term\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1261"}],"node_type":"Retrieve","ref_id":"1261"},{"children":[{"text":" TermBirth"}]}],"ref_id":"1258"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1271"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"TermBirth"}]}],"ref_id":"1272"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"1273"}],"node_type":"Property","ref_id":"1273"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TermBirth"}]}],"ref_id":"1274"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1275"}],"node_type":"Property","ref_id":"1275"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1280"}],"node_type":"FunctionRef","ref_id":"1280"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"1284"},{"children":[{"text":" or less before"}]}],"node_type":"And","ref_id":"1292"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"1281"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1282"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1283"}],"node_type":"FunctionRef","ref_id":"1283"}],"node_type":"And","ref_id":"1292"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"TermBirth"}]}],"ref_id":"1293"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1294"}],"node_type":"Property","ref_id":"1294"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"1312"}],"ref_id":"1270"}],"ref_id":"1270"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1313"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"1314"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1315"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1318"}],"node_type":"FunctionRef","ref_id":"1318"}],"ref_id":"1319"}],"ref_id":"1320"}],"ref_id":"1324"},{"children":[{"text":"\n  )"}]}],"ref_id":"1329"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1330"}],"node_type":"Property","ref_id":"1330"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Integer"}]}],"ref_id":"1347"}],"node_type":"As","ref_id":"1257"}],"node_type":"As","ref_id":"1257"}],"ref_id":"689"}],"define_name":"LastHistoryTermBirth"},{"children":[{"children":[{"children":[{"text":"define \"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks\""}]}],"node_type":"ExpressionRef","ref_id":"346"},{"children":[{"text":"\n    intersect "}]},{"children":[{"children":[{"text":"\"Encounter With Singleton Delivery\""}]}],"node_type":"ExpressionRef","ref_id":"380"}],"node_type":"Intersect","ref_id":"383"},{"children":[{"text":" )"}]}],"node_type":"Intersect","ref_id":"383"},{"children":[{"text":" SingletonEncounterGE37Weeks"}]}],"ref_id":"345"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastGravida\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"393"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"397"},{"children":[{"text":" = 1"}],"node_type":"Literal","ref_id":"489"}],"node_type":"Equal","ref_id":"392"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"392"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastParity\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"491"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"495"},{"children":[{"text":" = 0"}],"node_type":"Literal","ref_id":"587"}],"node_type":"Equal","ref_id":"490"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"490"}],"node_type":"Or","ref_id":"391"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastHistoryPretermBirth\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"590"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"594"},{"children":[{"text":" = 0"}],"node_type":"Literal","ref_id":"686"}],"node_type":"Equal","ref_id":"589"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"589"},{"children":[{"text":"\n            and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"LastHistoryTermBirth\"("}]},{"children":[{"children":[{"text":"SingletonEncounterGE37Weeks"}]}],"node_type":"AliasRef","ref_id":"688"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"692"},{"children":[{"text":" = 0"}],"node_type":"Literal","ref_id":"784"}],"node_type":"Equal","ref_id":"687"},{"children":[{"text":" )"}]}],"node_type":"Equal","ref_id":"687"}],"node_type":"And","ref_id":"588"},{"children":[{"text":"\n        )"}]}],"node_type":"And","ref_id":"588"}],"ref_id":"390"},{"children":[{"text":"\n    )"}]}],"ref_id":"390"}],"ref_id":"390"}],"node_type":"Query","ref_id":"785"}],"ref_id":"344"}],"define_name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}],"node_type":"ExpressionRef","ref_id":"790"}],"ref_id":"342"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"799"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Delivery Encounter With Age Range\""}]}],"node_type":"ExpressionRef","ref_id":"800"}],"node_type":"ExpressionRef","ref_id":"800"}],"ref_id":"798"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Cesarean Birth\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}]}],"node_type":"ExpressionRef","ref_id":"812"},{"children":[{"text":" ThirtySevenWeeksPlusEncounter"}]}],"ref_id":"811"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Cesarean Birth\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"820"}],"node_type":"Retrieve","ref_id":"820"},{"children":[{"text":" CSection"}]}],"ref_id":"817"},{"children":[{"text":"\n        such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"828"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"CSection"}]}],"ref_id":"829"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"830"}],"node_type":"Property","ref_id":"830"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"CSection"}]}],"ref_id":"831"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"832"}],"node_type":"Property","ref_id":"832"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"837"}],"node_type":"FunctionRef","ref_id":"837"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"849"},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"842"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\" ( "}]},{"children":[{"children":[{"text":"ThirtySevenWeeksPlusEncounter"}]}],"node_type":"AliasRef","ref_id":"843"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"844"}],"node_type":"FunctionRef","ref_id":"844"}],"node_type":"IncludedIn","ref_id":"849"}],"ref_id":"851"}],"node_type":"Query","ref_id":"854"}],"ref_id":"810"}],"define_name":"Delivery Encounter With Cesarean Birth"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"text":"\"Delivery Encounter With Cesarean Birth\""}]}],"node_type":"ExpressionRef","ref_id":"859"}],"ref_id":"808"}],"define_name":"Numerator"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"868"}],"ref_id":"865"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"878"}],"ref_id":"875"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"888"}],"ref_id":"885"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"Federal Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"898"}],"ref_id":"895"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Abnormal Presentation\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}]}],"node_type":"ExpressionRef","ref_id":"913"},{"children":[{"text":" ThirtySevenWeeksPlusEncounter"}]}],"ref_id":"912"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"LastAbnormalPresentation: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Abnormal Presentation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"922"}],"node_type":"Retrieve","ref_id":"922"},{"children":[{"text":" AbnormalPresentation"}]}],"ref_id":"919"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"930"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"AbnormalPresentation"}]}],"ref_id":"931"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"932"}],"node_type":"Property","ref_id":"932"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"AbnormalPresentation"}]}],"ref_id":"933"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"934"}],"node_type":"Property","ref_id":"934"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"939"}],"node_type":"FunctionRef","ref_id":"939"},{"children":[{"text":" before or on "}],"ref_id":"943"},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"940"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"ThirtySevenWeeksPlusEncounter"}]}],"node_type":"AliasRef","ref_id":"941"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"942"}],"node_type":"FunctionRef","ref_id":"942"}],"ref_id":"943"}],"ref_id":"943"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"944"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"945"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"946"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"949"}],"node_type":"FunctionRef","ref_id":"949"}],"ref_id":"950"}],"ref_id":"951"}],"ref_id":"955"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"960"}],"ref_id":"918"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"962"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\" ( "}]},{"children":[{"children":[{"children":[{"text":"LastAbnormalPresentation"}]}],"ref_id":"963"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"964"}],"node_type":"Property","ref_id":"964"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"LastAbnormalPresentation"}]}],"ref_id":"965"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"966"}],"node_type":"Property","ref_id":"966"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"971"}],"node_type":"FunctionRef","ref_id":"971"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"980"},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"972"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\" ( "}]},{"children":[{"children":[{"text":"ThirtySevenWeeksPlusEncounter"}]}],"node_type":"AliasRef","ref_id":"973"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"974"}],"node_type":"FunctionRef","ref_id":"974"}],"node_type":"In","ref_id":"980"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ThirtySevenWeeksPlusEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"984"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"982"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"989"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"990"}],"ref_id":"990"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Abnormal Presentation\""}]}],"ref_id":"991"}],"ref_id":"992"}],"ref_id":"992"}],"node_type":"Query","ref_id":"993"},{"children":[{"text":"\n      )"}]}],"node_type":"Query","ref_id":"993"}],"node_type":"Exists","ref_id":"981"}],"ref_id":"961"}],"ref_id":"961"}],"node_type":"Query","ref_id":"998"}],"ref_id":"911"}],"define_name":"Encounter With Abnormal Presentation"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births\""}]}]}],"node_type":"ExpressionRef","ref_id":"1009"},{"children":[{"text":" ThirtySevenWeeksPlusEncounter"}]}],"ref_id":"1008"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ThirtySevenWeeksPlusEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"1017"},{"children":[{"text":" EncounterDiagnoses"}]}],"ref_id":"1015"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"1023"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"1024"}],"ref_id":"1024"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Placenta Accreta Spectrum Previa or Vasa Previa\""}]}],"ref_id":"1025"}],"node_type":"InValueSet","ref_id":"1026"},{"children":[{"text":"\n          or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterDiagnoses"}]}],"ref_id":"1027"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"1028"}],"ref_id":"1028"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Genital Herpes\""}]}],"ref_id":"1029"}],"node_type":"InValueSet","ref_id":"1030"}],"ref_id":"1022"}],"ref_id":"1022"}],"node_type":"Query","ref_id":"1031"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"1031"}],"ref_id":"1014"}],"ref_id":"1014"}],"node_type":"Query","ref_id":"1036"}],"ref_id":"1007"}],"define_name":"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\":\n  "}]},{"children":[{"children":[{"children":[{"text":"\"Encounter With Abnormal Presentation\""}]}],"node_type":"ExpressionRef","ref_id":"1003"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"\"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\""}]}],"node_type":"ExpressionRef","ref_id":"1041"}],"node_type":"Union","ref_id":"1044"}],"ref_id":"909"}],"define_name":"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusions\":\n  "}]},{"children":[{"children":[{"text":"\"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum\""}]}],"node_type":"ExpressionRef","ref_id":"1049"}],"ref_id":"907"}],"define_name":"Denominator Exclusions"},{"children":[{"children":[{"children":[{"text":"define \"SDE Variable Calculated Gestational Age\":\n  "}]},{"children":[{"children":[{"children":[{"text":"PCMaternal"}]}],"ref_id":"1058"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Variable Calculated Gestational Age\""}]}],"node_type":"ExpressionRef","ref_id":"1059"}],"node_type":"ExpressionRef","ref_id":"1059"}],"ref_id":"1057"}],"define_name":"SDE Variable Calculated Gestational Age"}],"identifier":{"id":"CMS334PCCesareanBirth","version":"7.1.000"}},"is_main_library":true,"is_top_level":true,"library_name":"CMS334PCCesareanBirth","library_version":"7.1.000","statement_dependencies":[{"_id":"689202f310d20757c0cef954","statement_name":"Patient"},{"_id":"689202f310d20757c0cef955","statement_name":"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks","statement_references":[{"_id":"689202f310d20757c0cef932","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter With Age Range"},{"_id":"689202f310d20757c0cef933","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"}]},{"_id":"689202f310d20757c0cef956","statement_name":"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks","statement_references":[{"_id":"689202f310d20757c0cef934","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter With Age Range"},{"_id":"689202f310d20757c0cef935","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"},{"_id":"689202f310d20757c0cef936","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastEstimatedGestationalAge"}]},{"_id":"689202f310d20757c0cef957","statement_name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding","statement_references":[{"_id":"689202f310d20757c0cef937","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter With Age Range"},{"_id":"689202f310d20757c0cef938","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"},{"_id":"689202f310d20757c0cef939","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastEstimatedGestationalAge"}]},{"_id":"689202f310d20757c0cef958","statement_name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks","statement_references":[{"_id":"689202f310d20757c0cef93a","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Delivery Encounter With Calculated Gestational Age Greater Than Or Equal To 37 Weeks"},{"_id":"689202f310d20757c0cef93b","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Delivery Encounter With Estimated Gestational Age Greater Than Or Equal To 37 Weeks"},{"_id":"689202f310d20757c0cef93c","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks Based On Coding"}]},{"_id":"689202f310d20757c0cef959","statement_name":"Encounter With Singleton Delivery","statement_references":[{"_id":"689202fa10d20757c0cefbc8","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter With Age Range"}]},{"_id":"689202f310d20757c0cef95a","statement_name":"LastGravida","statement_references":[{"_id":"689202f310d20757c0cef93d","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef93e","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"689202f310d20757c0cef95b","statement_name":"LastParity","statement_references":[{"_id":"689202f310d20757c0cef93f","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef940","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"689202f310d20757c0cef95c","statement_name":"LastHistoryPretermBirth","statement_references":[{"_id":"689202f310d20757c0cef941","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef942","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"689202f310d20757c0cef95d","statement_name":"LastHistoryTermBirth","statement_references":[{"_id":"689202f310d20757c0cef943","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef944","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"689202f310d20757c0cef95e","statement_name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births","statement_references":[{"_id":"689202f310d20757c0cef945","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Delivery Encounter With Gestational Age Greater Than Or Equal To 37 Weeks"},{"_id":"689202f310d20757c0cef946","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Encounter With Singleton Delivery"},{"_id":"689202f310d20757c0cef947","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"LastGravida"},{"_id":"689202f310d20757c0cef948","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"LastParity"},{"_id":"689202f310d20757c0cef949","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"LastHistoryPretermBirth"},{"_id":"689202f310d20757c0cef94a","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"LastHistoryTermBirth"}]},{"_id":"689202f310d20757c0cef95f","statement_name":"Denominator","statement_references":[{"_id":"689202fa10d20757c0cefbc9","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"}]},{"_id":"689202f310d20757c0cef960","statement_name":"Initial Population","statement_references":[{"_id":"689202fa10d20757c0cefbca","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter With Age Range"}]},{"_id":"689202f310d20757c0cef961","statement_name":"Delivery Encounter With Cesarean Birth","statement_references":[{"_id":"689202f310d20757c0cef94b","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"},{"_id":"689202f310d20757c0cef94c","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"},{"_id":"689202f310d20757c0cef94d","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"689202f310d20757c0cef962","statement_name":"Numerator","statement_references":[{"_id":"689202fa10d20757c0cefbcb","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Delivery Encounter With Cesarean Birth"}]},{"_id":"689202f310d20757c0cef963","statement_name":"SDE Ethnicity"},{"_id":"689202f310d20757c0cef964","statement_name":"SDE Payer"},{"_id":"689202f310d20757c0cef965","statement_name":"SDE Race"},{"_id":"689202f310d20757c0cef966","statement_name":"SDE Sex"},{"_id":"689202f310d20757c0cef967","statement_name":"Encounter With Abnormal Presentation","statement_references":[{"_id":"689202f310d20757c0cef94e","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"},{"_id":"689202f310d20757c0cef94f","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef950","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"},{"_id":"689202f310d20757c0cef951","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"689202f310d20757c0cef968","statement_name":"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum","statement_references":[{"_id":"689202fa10d20757c0cefbcc","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Singleton Delivery Encounters At 37 Plus Weeks Gravida 1 Parity 0, No Previous Births"}]},{"_id":"689202f310d20757c0cef969","statement_name":"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum","statement_references":[{"_id":"689202f310d20757c0cef952","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Encounter With Abnormal Presentation"},{"_id":"689202f310d20757c0cef953","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Encounter With Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum"}]},{"_id":"689202f310d20757c0cef96a","statement_name":"Denominator Exclusions","statement_references":[{"_id":"689202fa10d20757c0cefbcd","hqmf_id":null,"library_name":"CMS334PCCesareanBirth","statement_name":"Delivery Encounter With Abnormal Presentation, Genital Herpes, Placenta Previa, Vasa Previa Or Placenta Accreta Spectrum"}]},{"_id":"689202f310d20757c0cef96b","statement_name":"SDE Variable Calculated Gestational Age","statement_references":[{"_id":"689202fa10d20757c0cefbce","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Variable Calculated Gestational Age"}]}]},{"_id":"689202f310d20757c0cef98d","cql":"library CQMCommonQDM version '9.0.000'\n\n/*Upversion to 9.0.000 renaming the library to CQMCommonQDM to align with the FHIR naming convention and to remove the old MAT designation*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"message":"An operand identifier [Encounter] is hiding another identifier of the same name.","errorType":"semantic","errorSeverity":"warning","type":"CqlToElmError"},{"type":"Annotation","s":{"r":"1247","s":[{"value":["","library CQMCommonQDM version '9.0.000'"]}]}}],"identifier":{"id":"CQMCommonQDM","version":"9.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["/*Upversion to 9.0.000 renaming the library to CQMCommonQDM to align with the FHIR naming convention and to remove the old MAT designation*/\n\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"212","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"213","s":[{"value":["Interval\u003c"]},{"r":"214","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"217","type":"IntervalTypeSpecifier","pointType":{"localId":"218","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"213","locator":"13:32-13:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"215","type":"IntervalTypeSpecifier","pointType":{"localId":"216","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"214","locator":"13:41-13:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"207","locator":"7:1-7:82","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}],"codeSystem":[]},{"localId":"208","locator":"8:1-8:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}],"codeSystem":[]},{"localId":"209","locator":"9:1-9:72","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}],"codeSystem":[]},{"localId":"210","locator":"10:1-10:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}],"codeSystem":[]}]},"contexts":{"def":[{"localId":"222","locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"localId":"224","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"224","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"227","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"231","type":"ListTypeSpecifier","elementType":{"localId":"232","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"227","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"229","type":"ListTypeSpecifier","elementType":{"localId":"230","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"226","locator":"18:28-18:55","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"1212","locator":"168:1-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1212","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1218","s":[{"r":"1218","s":[{"value":["if "]},{"r":"1222","s":[{"value":["( "]},{"r":"1222","s":[{"value":["HasStart","("]},{"r":"1219","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"1223","s":[{"value":["start of "]},{"r":"1224","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"1227","s":[{"value":["end of "]},{"r":"1228","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"1218","locator":"169:3-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"If","condition":{"localId":"1222","locator":"169:6-169:24","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasStart","type":"FunctionRef","signature":[],"operand":[{"localId":"1219","locator":"169:17-169:22","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1220","type":"IntervalTypeSpecifier","pointType":{"localId":"1221","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"then":{"localId":"1223","locator":"169:31-169:45","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1224","locator":"169:40-169:45","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1225","type":"IntervalTypeSpecifier","pointType":{"localId":"1226","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"else":{"localId":"1227","locator":"171:3-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1228","locator":"171:10-171:15","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1229","type":"IntervalTypeSpecifier","pointType":{"localId":"1230","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1217","name":"period","operandTypeSpecifier":{"localId":"1213","locator":"168:35-168:52","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1215","type":"IntervalTypeSpecifier","pointType":{"localId":"1216","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1214","locator":"168:44-168:51","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1247","locator":"178:1-179:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1247","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1262","s":[{"r":"1262","s":[{"value":["Earliest","("]},{"r":"1259","s":[{"value":["NormalizeInterval","("]},{"r":"1255","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1256","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1262","locator":"179:3-179:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Earliest","type":"FunctionRef","signature":[],"operand":[{"localId":"1259","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","resultTypeSpecifier":{"localId":"1260","type":"IntervalTypeSpecifier","pointType":{"localId":"1261","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1255","locator":"179:30-179:40","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},{"localId":"1256","locator":"179:43-179:48","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1257","type":"IntervalTypeSpecifier","pointType":{"localId":"1258","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]},"operand":[{"localId":"1249","name":"pointInTime","operandTypeSpecifier":{"localId":"1248","locator":"178:42-178:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1254","name":"period","operandTypeSpecifier":{"localId":"1250","locator":"178:59-178:76","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1252","type":"IntervalTypeSpecifier","pointType":{"localId":"1253","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1251","locator":"178:68-178:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"48:1-52:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"398","s":[{"r":"398","s":[{"value":["start of "]},{"r":"427","s":[{"r":"426","s":[{"value":["First","("]},{"r":"421","s":[{"s":[{"r":"399","s":[{"r":"401","s":[{"value":["("]},{"r":"401","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"400","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"411","s":[{"value":["where "]},{"r":"411","s":[{"r":"409","s":[{"r":"408","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"409","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"410","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"417","s":[{"value":["sort by "]},{"r":"416","s":[{"r":"412","s":[{"value":["start of "]},{"r":"413","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"427","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"398","locator":"49:3-52:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"427","locator":"49:12-52:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"430","type":"IntervalTypeSpecifier","pointType":{"localId":"431","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"426","locator":"49:12-52:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"421","locator":"49:18-51:35","type":"Query","resultTypeSpecifier":{"localId":"422","type":"ListTypeSpecifier","elementType":{"localId":"423","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"399","locator":"49:18-49:72","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"406","type":"ListTypeSpecifier","elementType":{"localId":"407","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"401","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"404","type":"ListTypeSpecifier","elementType":{"localId":"405","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"400","locator":"49:46-49:54","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"where":{"localId":"411","locator":"50:5-50:63","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"409","locator":"50:11-50:31","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"410","locator":"50:36-50:63","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"417","locator":"51:5-51:35","by":[{"localId":"416","locator":"51:13-51:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"412","locator":"51:13-51:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"413","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"414","type":"IntervalTypeSpecifier","pointType":{"localId":"415","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"397","name":"Encounter","operandTypeSpecifier":{"localId":"396","locator":"48:60-48:81","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1063","locator":"134:1-139:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1063","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1110","s":[{"r":"1110","s":[{"value":["First","("]},{"r":"1105","s":[{"s":[{"r":"1066","s":[{"r":"1068","s":[{"value":["("]},{"r":"1068","s":[{"r":"1067","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"1068","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"1077","s":[{"value":["where "]},{"r":"1077","s":[{"r":"1081","s":[{"r":"1079","s":[{"r":"1078","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"1079","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"1080","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"1094","s":[{"r":"1083","s":[{"r":"1082","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"1083","s":[{"value":["locationPeriod"]}]}]},{"r":"1094","value":[" ","during"," "]},{"r":"1089","s":[{"r":"1088","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"1089","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"1101","s":[{"value":["sort by "]},{"r":"1100","s":[{"r":"1096","s":[{"value":["start of "]},{"r":"1097","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"1110","locator":"135:3-139:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"1105","locator":"135:9-138:37","type":"Query","resultTypeSpecifier":{"localId":"1106","type":"ListTypeSpecifier","elementType":{"localId":"1107","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"1066","locator":"135:9-135:53","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"1075","type":"ListTypeSpecifier","elementType":{"localId":"1076","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"1068","locator":"135:9-135:37","path":"facilityLocations","type":"Property","resultTypeSpecifier":{"localId":"1073","type":"ListTypeSpecifier","elementType":{"localId":"1074","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":{"localId":"1067","locator":"135:10-135:18","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}}],"let":[],"relationship":[],"where":{"localId":"1077","locator":"136:7-137:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1081","locator":"136:13-136:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"1079","locator":"136:13-136:33","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"1080","locator":"136:38-136:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Intensive Care Unit","preserve":true}},{"localId":"1094","locator":"137:13-137:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IncludedIn","signature":[],"operand":[{"localId":"1083","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property","resultTypeSpecifier":{"localId":"1086","type":"IntervalTypeSpecifier","pointType":{"localId":"1087","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"1089","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"1092","type":"IntervalTypeSpecifier","pointType":{"localId":"1093","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"1088","locator":"137:52-137:60","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"1101","locator":"138:7-138:37","by":[{"localId":"1100","locator":"138:15-138:37","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1096","locator":"138:15-138:37","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1097","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1098","type":"IntervalTypeSpecifier","pointType":{"localId":"1099","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}},"operand":[{"localId":"1065","name":"Encounter","operandTypeSpecifier":{"localId":"1064","locator":"134:61-134:82","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1173","locator":"154:1-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1173","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1179","s":[{"r":"1179","s":[{"value":["not "]},{"r":"1180","s":[{"value":["( \n    "]},{"r":"1180","s":[{"r":"1185","s":[{"r":"1181","s":[{"value":["end of "]},{"r":"1182","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"1186","s":[{"r":"1187","s":[{"value":["end of "]},{"r":"1188","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"1192","s":[{"value":["maximum"," "]},{"r":"1191","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"1179","locator":"155:3-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1180","locator":"155:7-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1185","locator":"156:5-156:25","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1181","locator":"156:5-156:17","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1182","locator":"156:12-156:17","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1183","type":"IntervalTypeSpecifier","pointType":{"localId":"1184","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},{"localId":"1186","locator":"158:7-158:38","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"1187","locator":"158:7-158:19","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1188","locator":"158:14-158:19","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1189","type":"IntervalTypeSpecifier","pointType":{"localId":"1190","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1192","locator":"158:23-158:38","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"localId":"1178","name":"period","operandTypeSpecifier":{"localId":"1174","locator":"154:33-154:50","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1176","type":"IntervalTypeSpecifier","pointType":{"localId":"1177","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1175","locator":"154:42-154:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1153","locator":"148:1-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1153","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1159","s":[{"r":"1159","s":[{"value":["not "]},{"r":"1160","s":[{"value":["( "]},{"r":"1160","s":[{"r":"1165","s":[{"r":"1161","s":[{"value":["start of "]},{"r":"1162","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"1166","s":[{"r":"1167","s":[{"value":["start of "]},{"r":"1168","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"1172","s":[{"value":["minimum"," "]},{"r":"1171","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"1159","locator":"149:3-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1160","locator":"149:7-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1165","locator":"149:9-149:31","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1161","locator":"149:9-149:23","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1162","locator":"149:18-149:23","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1163","type":"IntervalTypeSpecifier","pointType":{"localId":"1164","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},{"localId":"1166","locator":"150:10-150:43","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"1167","locator":"150:10-150:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1168","locator":"150:19-150:24","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1169","type":"IntervalTypeSpecifier","pointType":{"localId":"1170","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1172","locator":"150:28-150:43","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"localId":"1158","name":"period","operandTypeSpecifier":{"localId":"1154","locator":"148:35-148:52","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1156","type":"IntervalTypeSpecifier","pointType":{"localId":"1157","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1155","locator":"148:44-148:51","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"432","locator":"55:1-56:39","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"432","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"435","s":[{"r":"435","s":[{"value":["start of "]},{"r":"440","s":[{"value":["\"Hospitalization\"","("]},{"r":"436","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"435","locator":"56:3-56:39","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"440","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","resultTypeSpecifier":{"localId":"528","type":"IntervalTypeSpecifier","pointType":{"localId":"529","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"436","locator":"56:30-56:38","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}},"operand":[{"localId":"434","name":"Encounter","operandTypeSpecifier":{"localId":"433","locator":"55:51-55:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"530","locator":"59:1-62:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"530","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"533","s":[{"r":"533","s":[{"value":["start of "]},{"r":"558","s":[{"r":"557","s":[{"value":["First","("]},{"r":"552","s":[{"s":[{"r":"534","s":[{"r":"536","s":[{"value":["("]},{"r":"536","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"535","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"548","s":[{"value":["sort by "]},{"r":"547","s":[{"r":"543","s":[{"value":["start of "]},{"r":"544","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"558","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"533","locator":"60:3-62:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"558","locator":"60:12-62:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"561","type":"IntervalTypeSpecifier","pointType":{"localId":"562","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"557","locator":"60:12-62:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"552","locator":"60:18-61:35","type":"Query","resultTypeSpecifier":{"localId":"553","type":"ListTypeSpecifier","elementType":{"localId":"554","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"534","locator":"60:18-60:72","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"541","type":"ListTypeSpecifier","elementType":{"localId":"542","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"536","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"539","type":"ListTypeSpecifier","elementType":{"localId":"540","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"535","locator":"60:46-60:54","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"sort":{"localId":"548","locator":"61:5-61:35","by":[{"localId":"547","locator":"61:13-61:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"543","locator":"61:13-61:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"544","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"545","type":"IntervalTypeSpecifier","pointType":{"localId":"546","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"532","name":"Encounter","operandTypeSpecifier":{"localId":"531","locator":"59:49-59:70","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"660","locator":"80:1-83:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"660","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"663","s":[{"r":"663","s":[{"value":["end of "]},{"r":"688","s":[{"r":"687","s":[{"value":["Last","("]},{"r":"682","s":[{"s":[{"r":"664","s":[{"r":"666","s":[{"value":["("]},{"r":"666","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"665","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"678","s":[{"value":["sort by "]},{"r":"677","s":[{"r":"673","s":[{"value":["start of "]},{"r":"674","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"688","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"663","locator":"81:3-83:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"688","locator":"81:10-83:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"691","type":"IntervalTypeSpecifier","pointType":{"localId":"692","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"687","locator":"81:10-83:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"Last","signature":[],"source":{"localId":"682","locator":"81:15-82:35","type":"Query","resultTypeSpecifier":{"localId":"683","type":"ListTypeSpecifier","elementType":{"localId":"684","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"664","locator":"81:15-81:69","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"671","type":"ListTypeSpecifier","elementType":{"localId":"672","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"666","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"669","type":"ListTypeSpecifier","elementType":{"localId":"670","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"665","locator":"81:43-81:51","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"sort":{"localId":"678","locator":"82:5-82:35","by":[{"localId":"677","locator":"82:13-82:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"673","locator":"82:13-82:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"674","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"675","type":"IntervalTypeSpecifier","pointType":{"localId":"676","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"662","name":"Encounter","operandTypeSpecifier":{"localId":"661","locator":"80:51-80:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"693","locator":"86:1-87:33","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"693","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"696","s":[{"r":"696","s":[{"value":["end of "]},{"r":"698","s":[{"r":"697","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"698","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"696","locator":"87:3-87:33","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"698","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"701","type":"IntervalTypeSpecifier","pointType":{"localId":"702","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"697","locator":"87:10-87:18","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}},"operand":[{"localId":"695","name":"Encounter","operandTypeSpecifier":{"localId":"694","locator":"86:51-86:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"437","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"437","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"645","s":[{"r":"645","s":[{"s":[{"r":"563","s":[{"r":"564","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"565","s":[{"value":["EDVisit",": "]},{"r":"614","s":[{"value":["Last","("]},{"r":"609","s":[{"s":[{"r":"566","s":[{"r":"569","s":[{"r":"569","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"599","s":[{"value":["where "]},{"r":"599","s":[{"r":"578","s":[{"r":"577","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"578","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"599","s":[{"value":["ends "]},{"r":"591","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"583","s":[{"value":["start of "]},{"r":"585","s":[{"r":"584","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"585","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"605","s":[{"value":["sort by \n  \t\t\t"]},{"r":"604","s":[{"r":"600","s":[{"value":["end of "]},{"r":"601","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"615","s":[{"value":["return "]},{"r":"640","s":[{"value":["Interval["]},{"r":"632","s":[{"value":["Coalesce","("]},{"r":"616","s":[{"value":["start of "]},{"r":"618","s":[{"r":"617","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"618","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"623","s":[{"value":["start of "]},{"r":"625","s":[{"r":"624","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"625","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"633","s":[{"value":["end of "]},{"r":"635","s":[{"r":"634","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"635","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"650","type":"IntervalTypeSpecifier","pointType":{"localId":"651","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"645","locator":"66:3-73:31","type":"Query","resultTypeSpecifier":{"localId":"648","type":"IntervalTypeSpecifier","pointType":{"localId":"649","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"563","locator":"66:3-66:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"564","locator":"66:3-66:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"565","locator":"67:8-71:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"614","locator":"67:17-71:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"609","locator":"67:22-70:26","type":"Query","resultTypeSpecifier":{"localId":"610","type":"ListTypeSpecifier","elementType":{"localId":"611","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"566","locator":"67:22-67:82","alias":"LastED","resultTypeSpecifier":{"localId":"575","type":"ListTypeSpecifier","elementType":{"localId":"576","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"569","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"573","type":"ListTypeSpecifier","elementType":{"localId":"574","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"568","locator":"67:47-67:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"599","locator":"68:6-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"596","locator":"68:39-68:52","type":"In","signature":[],"operand":[{"localId":"590","locator":"68:34-68:37","type":"End","signature":[],"operand":{"localId":"578","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"581","type":"IntervalTypeSpecifier","pointType":{"localId":"582","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"593","locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"594","type":"IntervalTypeSpecifier","pointType":{"localId":"595","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"592","locator":"68:67-68:95","type":"Subtract","signature":[],"operand":[{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"591","locator":"68:39-68:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"598","locator":"68:39-68:52","type":"Not","signature":[],"operand":{"localId":"597","locator":"68:39-68:52","type":"IsNull","signature":[],"operand":{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"605","locator":"69:6-70:26","by":[{"localId":"604","locator":"70:6-70:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"600","locator":"70:6-70:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"601","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"602","type":"IntervalTypeSpecifier","pointType":{"localId":"603","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"615","locator":"72:4-73:31","resultTypeSpecifier":{"localId":"643","type":"IntervalTypeSpecifier","pointType":{"localId":"644","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"640","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"641","type":"IntervalTypeSpecifier","pointType":{"localId":"642","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"632","locator":"72:20-72:91","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"616","locator":"72:29-72:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"618","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"621","type":"IntervalTypeSpecifier","pointType":{"localId":"622","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"617","locator":"72:38-72:44","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"623","locator":"72:62-72:90","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"625","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"628","type":"IntervalTypeSpecifier","pointType":{"localId":"629","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]},"high":{"localId":"633","locator":"73:4-73:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"635","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"638","type":"IntervalTypeSpecifier","pointType":{"localId":"639","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"439","name":"Encounter","operandTypeSpecifier":{"localId":"438","locator":"65:45-65:66","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"652","locator":"76:1-77:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"652","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"659","s":[{"r":"659","s":[{"value":["LengthInDays","("]},{"r":"656","s":[{"value":["\"Hospitalization\"","("]},{"r":"655","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"659","locator":"77:3-77:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","type":"FunctionRef","signature":[],"operand":[{"localId":"656","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","resultTypeSpecifier":{"localId":"657","type":"IntervalTypeSpecifier","pointType":{"localId":"658","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"655","locator":"77:34-77:42","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"localId":"654","name":"Encounter","operandTypeSpecifier":{"localId":"653","locator":"76:57-76:78","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"300","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"300","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"388","s":[{"r":"388","s":[{"s":[{"r":"303","s":[{"r":"304","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"305","s":[{"value":["EDVisit",": "]},{"r":"354","s":[{"value":["Last","("]},{"r":"349","s":[{"s":[{"r":"306","s":[{"r":"309","s":[{"r":"309","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"339","s":[{"value":["where "]},{"r":"339","s":[{"r":"318","s":[{"r":"317","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"318","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"339","s":[{"value":["ends "]},{"r":"331","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"323","s":[{"value":["start of "]},{"r":"325","s":[{"r":"324","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"325","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"345","s":[{"value":["sort by \n  \t\t\t"]},{"r":"344","s":[{"r":"340","s":[{"value":["end of "]},{"r":"341","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"355","s":[{"value":["return "]},{"r":"356","s":[{"value":["if "]},{"r":"358","s":[{"r":"357","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"360","s":[{"r":"359","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"360","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"365","s":[{"value":["flatten "]},{"r":"366","s":[{"value":["{ "]},{"r":"368","s":[{"r":"367","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"368","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"374","s":[{"r":"373","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"374","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"393","type":"ListTypeSpecifier","elementType":{"localId":"394","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"388","locator":"38:3-45:71","type":"Query","resultTypeSpecifier":{"localId":"391","type":"ListTypeSpecifier","elementType":{"localId":"392","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"303","locator":"38:3-38:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"304","locator":"38:3-38:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"305","locator":"39:8-43:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"354","locator":"39:17-43:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"349","locator":"39:22-42:26","type":"Query","resultTypeSpecifier":{"localId":"350","type":"ListTypeSpecifier","elementType":{"localId":"351","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"306","locator":"39:22-39:82","alias":"LastED","resultTypeSpecifier":{"localId":"315","type":"ListTypeSpecifier","elementType":{"localId":"316","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"309","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"313","type":"ListTypeSpecifier","elementType":{"localId":"314","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"308","locator":"39:47-39:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"339","locator":"40:6-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"336","locator":"40:39-40:52","type":"In","signature":[],"operand":[{"localId":"330","locator":"40:34-40:37","type":"End","signature":[],"operand":{"localId":"318","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"321","type":"IntervalTypeSpecifier","pointType":{"localId":"322","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"333","locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"334","type":"IntervalTypeSpecifier","pointType":{"localId":"335","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"332","locator":"40:67-40:95","type":"Subtract","signature":[],"operand":[{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"331","locator":"40:39-40:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"338","locator":"40:39-40:52","type":"Not","signature":[],"operand":{"localId":"337","locator":"40:39-40:52","type":"IsNull","signature":[],"operand":{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"345","locator":"41:6-42:26","by":[{"localId":"344","locator":"42:6-42:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"340","locator":"42:6-42:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"341","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"342","type":"IntervalTypeSpecifier","pointType":{"localId":"343","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"355","locator":"44:4-45:71","resultTypeSpecifier":{"localId":"386","type":"ListTypeSpecifier","elementType":{"localId":"387","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"356","locator":"44:11-45:71","type":"If","resultTypeSpecifier":{"localId":"384","type":"ListTypeSpecifier","elementType":{"localId":"385","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"condition":{"localId":"358","locator":"44:14-44:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"357","locator":"44:14-44:20","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"360","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"363","type":"ListTypeSpecifier","elementType":{"localId":"364","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}},"else":{"localId":"365","locator":"45:10-45:71","type":"Flatten","resultTypeSpecifier":{"localId":"382","type":"ListTypeSpecifier","elementType":{"localId":"383","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":{"localId":"366","locator":"45:18-45:71","type":"List","resultTypeSpecifier":{"localId":"379","type":"ListTypeSpecifier","elementType":{"localId":"380","type":"ListTypeSpecifier","elementType":{"localId":"381","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}},"element":[{"localId":"368","locator":"45:20-45:44","path":"facilityLocations","type":"Property","resultTypeSpecifier":{"localId":"371","type":"ListTypeSpecifier","elementType":{"localId":"372","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":{"localId":"367","locator":"45:20-45:26","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}},{"localId":"374","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"377","type":"ListTypeSpecifier","elementType":{"localId":"378","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}}]}}}}},"operand":[{"localId":"302","name":"Encounter","operandTypeSpecifier":{"localId":"301","locator":"37:54-37:75","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"907","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"907","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1048","s":[{"r":"1048","s":[{"s":[{"r":"910","s":[{"r":"911","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"912","s":[{"value":["ObsVisit",": "]},{"r":"961","s":[{"value":["Last","("]},{"r":"956","s":[{"s":[{"r":"913","s":[{"r":"916","s":[{"r":"916","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"946","s":[{"value":["where "]},{"r":"946","s":[{"r":"925","s":[{"r":"924","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"925","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"946","s":[{"value":["ends "]},{"r":"938","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"930","s":[{"value":["start of "]},{"r":"932","s":[{"r":"931","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"932","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"952","s":[{"value":["sort by \n  \t\t\t"]},{"r":"951","s":[{"r":"947","s":[{"value":["end of "]},{"r":"948","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"962","s":[{"value":["VisitStart",": "]},{"r":"979","s":[{"value":["Coalesce","("]},{"r":"963","s":[{"value":["start of "]},{"r":"965","s":[{"r":"964","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"965","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"970","s":[{"value":["start of "]},{"r":"972","s":[{"r":"971","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"972","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"980","s":[{"value":["EDVisit",": "]},{"r":"1023","s":[{"value":["Last","("]},{"r":"1018","s":[{"s":[{"r":"981","s":[{"r":"984","s":[{"r":"984","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"1008","s":[{"value":["where "]},{"r":"1008","s":[{"r":"993","s":[{"r":"992","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"993","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"1008","s":[{"value":["ends "]},{"r":"1000","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"998","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"1014","s":[{"value":["sort by \n  \t\t\t"]},{"r":"1013","s":[{"r":"1009","s":[{"value":["end of "]},{"r":"1010","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"1024","s":[{"value":["return "]},{"r":"1043","s":[{"value":["Interval["]},{"r":"1035","s":[{"value":["Coalesce","("]},{"r":"1025","s":[{"value":["start of "]},{"r":"1027","s":[{"r":"1026","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"1027","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"1032","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"1036","s":[{"value":["end of "]},{"r":"1038","s":[{"r":"1037","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"1038","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1053","type":"IntervalTypeSpecifier","pointType":{"localId":"1054","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1048","locator":"114:3-127:31","type":"Query","resultTypeSpecifier":{"localId":"1051","type":"IntervalTypeSpecifier","pointType":{"localId":"1052","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"910","locator":"114:3-114:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"911","locator":"114:3-114:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"912","locator":"115:8-119:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"961","locator":"115:18-119:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"956","locator":"115:23-118:26","type":"Query","resultTypeSpecifier":{"localId":"957","type":"ListTypeSpecifier","elementType":{"localId":"958","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"913","locator":"115:23-115:78","alias":"LastObs","resultTypeSpecifier":{"localId":"922","type":"ListTypeSpecifier","elementType":{"localId":"923","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"916","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"920","type":"ListTypeSpecifier","elementType":{"localId":"921","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"915","locator":"115:48-115:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"946","locator":"116:6-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"943","locator":"116:40-116:53","type":"In","signature":[],"operand":[{"localId":"937","locator":"116:35-116:38","type":"End","signature":[],"operand":{"localId":"925","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"928","type":"IntervalTypeSpecifier","pointType":{"localId":"929","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"940","locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"941","type":"IntervalTypeSpecifier","pointType":{"localId":"942","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"939","locator":"116:68-116:96","type":"Subtract","signature":[],"operand":[{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"938","locator":"116:40-116:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"945","locator":"116:40-116:53","type":"Not","signature":[],"operand":{"localId":"944","locator":"116:40-116:53","type":"IsNull","signature":[],"operand":{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"952","locator":"117:6-118:26","by":[{"localId":"951","locator":"118:6-118:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"947","locator":"118:6-118:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"948","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"949","type":"IntervalTypeSpecifier","pointType":{"localId":"950","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"962","locator":"120:4-120:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"979","locator":"120:16-120:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"963","locator":"120:25-120:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"965","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"968","type":"IntervalTypeSpecifier","pointType":{"localId":"969","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"964","locator":"120:34-120:41","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"970","locator":"120:59-120:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"972","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"975","type":"IntervalTypeSpecifier","pointType":{"localId":"976","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"980","locator":"121:4-125:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"1023","locator":"121:13-125:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"1018","locator":"121:18-124:26","type":"Query","resultTypeSpecifier":{"localId":"1019","type":"ListTypeSpecifier","elementType":{"localId":"1020","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"981","locator":"121:18-121:78","alias":"LastED","resultTypeSpecifier":{"localId":"990","type":"ListTypeSpecifier","elementType":{"localId":"991","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"984","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"988","type":"ListTypeSpecifier","elementType":{"localId":"989","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"983","locator":"121:43-121:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1008","locator":"122:6-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1005","locator":"122:39-122:52","type":"In","signature":[],"operand":[{"localId":"999","locator":"122:34-122:37","type":"End","signature":[],"operand":{"localId":"993","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"996","type":"IntervalTypeSpecifier","pointType":{"localId":"997","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1002","locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1003","type":"IntervalTypeSpecifier","pointType":{"localId":"1004","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1001","locator":"122:67-122:76","type":"Subtract","signature":[],"operand":[{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"1000","locator":"122:39-122:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"1007","locator":"122:39-122:52","type":"Not","signature":[],"operand":{"localId":"1006","locator":"122:39-122:52","type":"IsNull","signature":[],"operand":{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"1014","locator":"123:6-124:26","by":[{"localId":"1013","locator":"124:6-124:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1009","locator":"124:6-124:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1010","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1011","type":"IntervalTypeSpecifier","pointType":{"localId":"1012","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"1024","locator":"126:4-127:31","resultTypeSpecifier":{"localId":"1046","type":"IntervalTypeSpecifier","pointType":{"localId":"1047","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1043","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1044","type":"IntervalTypeSpecifier","pointType":{"localId":"1045","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1035","locator":"126:20-126:72","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"1025","locator":"126:29-126:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1027","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"1030","type":"IntervalTypeSpecifier","pointType":{"localId":"1031","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"1026","locator":"126:38-126:44","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"1032","locator":"126:62-126:71","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"1036","locator":"127:4-127:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1038","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"1041","type":"IntervalTypeSpecifier","pointType":{"localId":"1042","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"909","name":"Encounter","operandTypeSpecifier":{"localId":"908","locator":"113:60-113:81","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"703","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"703","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"900","s":[{"r":"900","s":[{"s":[{"r":"706","s":[{"r":"707","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"708","s":[{"value":["ObsVisit",": "]},{"r":"757","s":[{"value":["Last","("]},{"r":"752","s":[{"s":[{"r":"709","s":[{"r":"712","s":[{"r":"712","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"742","s":[{"value":["where "]},{"r":"742","s":[{"r":"721","s":[{"r":"720","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"721","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"742","s":[{"value":["ends "]},{"r":"734","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"726","s":[{"value":["start of "]},{"r":"728","s":[{"r":"727","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"728","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"748","s":[{"value":["sort by \n  \t\t\t"]},{"r":"747","s":[{"r":"743","s":[{"value":["end of "]},{"r":"744","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"758","s":[{"value":["VisitStart",": "]},{"r":"775","s":[{"value":["Coalesce","("]},{"r":"759","s":[{"value":["start of "]},{"r":"761","s":[{"r":"760","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"761","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"766","s":[{"value":["start of "]},{"r":"768","s":[{"r":"767","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"768","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"776","s":[{"value":["EDVisit",": "]},{"r":"819","s":[{"value":["Last","("]},{"r":"814","s":[{"s":[{"r":"777","s":[{"r":"780","s":[{"r":"780","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"804","s":[{"value":["where "]},{"r":"804","s":[{"r":"789","s":[{"r":"788","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"789","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"804","s":[{"value":["ends "]},{"r":"796","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"794","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"810","s":[{"value":["sort by \n  \t\t\t"]},{"r":"809","s":[{"r":"805","s":[{"value":["end of "]},{"r":"806","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"820","s":[{"value":["VisitStartWithED",": "]},{"r":"831","s":[{"value":["Coalesce","("]},{"r":"821","s":[{"value":["start of "]},{"r":"823","s":[{"r":"822","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"823","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"828","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"832","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"875","s":[{"value":["Last","("]},{"r":"870","s":[{"s":[{"r":"833","s":[{"r":"836","s":[{"r":"836","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"860","s":[{"value":["where "]},{"r":"860","s":[{"r":"845","s":[{"r":"844","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"845","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"860","s":[{"value":["ends "]},{"r":"852","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"850","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"866","s":[{"value":["sort by \n  \t\t\t"]},{"r":"865","s":[{"r":"861","s":[{"value":["end of "]},{"r":"862","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"876","s":[{"value":["return "]},{"r":"895","s":[{"value":["Interval["]},{"r":"887","s":[{"value":["Coalesce","("]},{"r":"877","s":[{"value":["start of "]},{"r":"879","s":[{"r":"878","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"879","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"884","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"888","s":[{"value":["end of "]},{"r":"890","s":[{"r":"889","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"890","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"905","type":"IntervalTypeSpecifier","pointType":{"localId":"906","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"900","locator":"91:3-110:31","type":"Query","resultTypeSpecifier":{"localId":"903","type":"IntervalTypeSpecifier","pointType":{"localId":"904","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"706","locator":"91:3-91:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"707","locator":"91:3-91:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"708","locator":"92:8-96:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"757","locator":"92:18-96:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"752","locator":"92:23-95:26","type":"Query","resultTypeSpecifier":{"localId":"753","type":"ListTypeSpecifier","elementType":{"localId":"754","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"709","locator":"92:23-92:78","alias":"LastObs","resultTypeSpecifier":{"localId":"718","type":"ListTypeSpecifier","elementType":{"localId":"719","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"712","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"716","type":"ListTypeSpecifier","elementType":{"localId":"717","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"711","locator":"92:48-92:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"742","locator":"93:6-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"739","locator":"93:40-93:53","type":"In","signature":[],"operand":[{"localId":"733","locator":"93:35-93:38","type":"End","signature":[],"operand":{"localId":"721","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"724","type":"IntervalTypeSpecifier","pointType":{"localId":"725","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"736","locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"737","type":"IntervalTypeSpecifier","pointType":{"localId":"738","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"735","locator":"93:68-93:96","type":"Subtract","signature":[],"operand":[{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"734","locator":"93:40-93:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"741","locator":"93:40-93:53","type":"Not","signature":[],"operand":{"localId":"740","locator":"93:40-93:53","type":"IsNull","signature":[],"operand":{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"748","locator":"94:6-95:26","by":[{"localId":"747","locator":"95:6-95:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"743","locator":"95:6-95:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"744","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"745","type":"IntervalTypeSpecifier","pointType":{"localId":"746","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"758","locator":"97:4-97:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"775","locator":"97:16-97:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"759","locator":"97:25-97:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"761","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"764","type":"IntervalTypeSpecifier","pointType":{"localId":"765","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"760","locator":"97:34-97:41","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"766","locator":"97:59-97:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"768","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"771","type":"IntervalTypeSpecifier","pointType":{"localId":"772","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"776","locator":"98:4-102:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"819","locator":"98:13-102:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"814","locator":"98:18-101:26","type":"Query","resultTypeSpecifier":{"localId":"815","type":"ListTypeSpecifier","elementType":{"localId":"816","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"777","locator":"98:18-98:78","alias":"LastED","resultTypeSpecifier":{"localId":"786","type":"ListTypeSpecifier","elementType":{"localId":"787","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"780","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"784","type":"ListTypeSpecifier","elementType":{"localId":"785","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"779","locator":"98:43-98:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"804","locator":"99:6-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"801","locator":"99:39-99:52","type":"In","signature":[],"operand":[{"localId":"795","locator":"99:34-99:37","type":"End","signature":[],"operand":{"localId":"789","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"792","type":"IntervalTypeSpecifier","pointType":{"localId":"793","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"798","locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"799","type":"IntervalTypeSpecifier","pointType":{"localId":"800","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"797","locator":"99:67-99:76","type":"Subtract","signature":[],"operand":[{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"796","locator":"99:39-99:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"803","locator":"99:39-99:52","type":"Not","signature":[],"operand":{"localId":"802","locator":"99:39-99:52","type":"IsNull","signature":[],"operand":{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"810","locator":"100:6-101:26","by":[{"localId":"809","locator":"101:6-101:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"805","locator":"101:6-101:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"806","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"807","type":"IntervalTypeSpecifier","pointType":{"localId":"808","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"820","locator":"103:4-103:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStartWithED","expression":{"localId":"831","locator":"103:22-103:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"821","locator":"103:31-103:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"823","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"826","type":"IntervalTypeSpecifier","pointType":{"localId":"827","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"822","locator":"103:40-103:46","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"828","locator":"103:64-103:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"832","locator":"104:4-108:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"OutpatientSurgeryVisit","expression":{"localId":"875","locator":"104:28-108:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"870","locator":"104:33-107:26","type":"Query","resultTypeSpecifier":{"localId":"871","type":"ListTypeSpecifier","elementType":{"localId":"872","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"833","locator":"104:33-104:100","alias":"LastSurgeryOP","resultTypeSpecifier":{"localId":"842","type":"ListTypeSpecifier","elementType":{"localId":"843","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"836","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"840","type":"ListTypeSpecifier","elementType":{"localId":"841","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"835","locator":"104:58-104:85","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"860","locator":"105:6-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"857","locator":"105:46-105:59","type":"In","signature":[],"operand":[{"localId":"851","locator":"105:41-105:44","type":"End","signature":[],"operand":{"localId":"845","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property","resultTypeSpecifier":{"localId":"848","type":"IntervalTypeSpecifier","pointType":{"localId":"849","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"854","locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"855","type":"IntervalTypeSpecifier","pointType":{"localId":"856","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"853","locator":"105:74-105:89","type":"Subtract","signature":[],"operand":[{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"852","locator":"105:46-105:51","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"localId":"859","locator":"105:46-105:59","type":"Not","signature":[],"operand":{"localId":"858","locator":"105:46-105:59","type":"IsNull","signature":[],"operand":{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"866","locator":"106:6-107:26","by":[{"localId":"865","locator":"107:6-107:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"861","locator":"107:6-107:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"862","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"863","type":"IntervalTypeSpecifier","pointType":{"localId":"864","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"876","locator":"109:4-110:31","resultTypeSpecifier":{"localId":"898","type":"IntervalTypeSpecifier","pointType":{"localId":"899","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"895","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"896","type":"IntervalTypeSpecifier","pointType":{"localId":"897","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"887","locator":"109:20-109:93","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"877","locator":"109:29-109:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"879","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"882","type":"IntervalTypeSpecifier","pointType":{"localId":"883","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"878","locator":"109:38-109:59","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"884","locator":"109:77-109:92","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"888","locator":"110:4-110:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"890","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"893","type":"IntervalTypeSpecifier","pointType":{"localId":"894","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"705","name":"Encounter","operandTypeSpecifier":{"localId":"704","locator":"90:87-90:108","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1055","locator":"130:1-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1055","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1062","s":[{"r":"1062","s":[{"value":["\"LengthInDays\"","("]},{"r":"1059","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"1058","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1062","locator":"131:3-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","type":"FunctionRef","signature":[],"operand":[{"localId":"1059","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"1060","type":"IntervalTypeSpecifier","pointType":{"localId":"1061","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1058","locator":"131:51-131:59","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"localId":"1057","name":"Encounter","operandTypeSpecifier":{"localId":"1056","locator":"130:72-130:93","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"234","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"234","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"257","s":[{"s":[{"r":"235","s":[{"r":"238","s":[{"r":"238","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"256","s":[{"value":["where "]},{"r":"256","s":[{"r":"247","s":[{"r":"246","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"247","s":[{"value":["relevantPeriod"]}]}]},{"r":"256","value":[" ","ends during day of"," "]},{"r":"252","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"260","type":"ListTypeSpecifier","elementType":{"localId":"261","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"257","locator":"21:3-22:83","type":"Query","resultTypeSpecifier":{"localId":"258","type":"ListTypeSpecifier","elementType":{"localId":"259","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"235","locator":"21:3-21:68","alias":"EncounterInpatient","resultTypeSpecifier":{"localId":"244","type":"ListTypeSpecifier","elementType":{"localId":"245","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"238","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"242","type":"ListTypeSpecifier","elementType":{"localId":"243","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"237","locator":"21:28-21:48","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"256","locator":"22:5-22:83","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"255","locator":"22:45-22:48","type":"End","signature":[],"operand":{"localId":"247","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property","resultTypeSpecifier":{"localId":"250","type":"IntervalTypeSpecifier","pointType":{"localId":"251","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"252","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"253","type":"IntervalTypeSpecifier","pointType":{"localId":"254","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}},{"localId":"1193","locator":"162:1-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1193","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1199","s":[{"r":"1199","s":[{"value":["if "]},{"r":"1203","s":[{"value":["( "]},{"r":"1203","s":[{"value":["HasEnd","("]},{"r":"1200","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"1204","s":[{"value":["end of "]},{"r":"1205","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"1208","s":[{"value":["start of "]},{"r":"1209","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"1199","locator":"163:3-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"If","condition":{"localId":"1203","locator":"163:6-163:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasEnd","type":"FunctionRef","signature":[],"operand":[{"localId":"1200","locator":"163:15-163:20","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1201","type":"IntervalTypeSpecifier","pointType":{"localId":"1202","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"then":{"localId":"1204","locator":"164:3-164:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1205","locator":"164:10-164:15","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1206","type":"IntervalTypeSpecifier","pointType":{"localId":"1207","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"else":{"localId":"1208","locator":"165:10-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1209","locator":"165:19-165:24","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1210","type":"IntervalTypeSpecifier","pointType":{"localId":"1211","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1198","name":"period","operandTypeSpecifier":{"localId":"1194","locator":"162:33-162:50","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1196","type":"IntervalTypeSpecifier","pointType":{"localId":"1197","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1195","locator":"162:42-162:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1231","locator":"174:1-175:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1231","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1246","s":[{"r":"1246","s":[{"value":["Latest","("]},{"r":"1243","s":[{"value":["NormalizeInterval","("]},{"r":"1239","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1240","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1246","locator":"175:3-175:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Latest","type":"FunctionRef","signature":[],"operand":[{"localId":"1243","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","resultTypeSpecifier":{"localId":"1244","type":"IntervalTypeSpecifier","pointType":{"localId":"1245","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1239","locator":"175:28-175:38","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},{"localId":"1240","locator":"175:41-175:46","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1241","type":"IntervalTypeSpecifier","pointType":{"localId":"1242","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]},"operand":[{"localId":"1233","name":"pointInTime","operandTypeSpecifier":{"localId":"1232","locator":"174:40-174:47","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1238","name":"period","operandTypeSpecifier":{"localId":"1234","locator":"174:57-174:74","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1236","type":"IntervalTypeSpecifier","pointType":{"localId":"1237","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1235","locator":"174:66-174:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"285","locator":"33:1-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"285","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  "]},{"r":"291","s":[{"r":"291","s":[{"value":["difference in days between "]},{"r":"292","s":[{"value":["start of "]},{"r":"293","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"296","s":[{"value":["end of "]},{"r":"297","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"291","locator":"34:3-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Day","type":"DifferenceBetween","signature":[],"operand":[{"localId":"292","locator":"34:30-34:43","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"293","locator":"34:39-34:43","name":"Value","type":"OperandRef","resultTypeSpecifier":{"localId":"294","type":"IntervalTypeSpecifier","pointType":{"localId":"295","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"296","locator":"34:49-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"297","locator":"34:56-34:60","name":"Value","type":"OperandRef","resultTypeSpecifier":{"localId":"298","type":"IntervalTypeSpecifier","pointType":{"localId":"299","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]},"operand":[{"localId":"290","name":"Value","operandTypeSpecifier":{"localId":"286","locator":"33:38-33:55","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"288","type":"IntervalTypeSpecifier","pointType":{"localId":"289","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"287","locator":"33:47-33:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1111","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1111","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1119","s":[{"r":"1119","s":[{"value":["if "]},{"r":"1122","s":[{"r":"1120","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"1125","s":[{"value":["Interval["]},{"r":"1123","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1124","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"1128","s":[{"value":["if "]},{"r":"1133","s":[{"r":"1129","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"1134","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"1137","s":[{"r":"1138","value":["null"," as "]},{"r":"1139","s":[{"value":["Interval\u003c"]},{"r":"1140","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1151","type":"IntervalTypeSpecifier","pointType":{"localId":"1152","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1119","locator":"143:3-145:35","type":"If","resultTypeSpecifier":{"localId":"1149","type":"IntervalTypeSpecifier","pointType":{"localId":"1150","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"condition":{"localId":"1122","locator":"143:6-143:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1121","locator":"143:6-143:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1120","locator":"143:6-143:16","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"1125","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1126","type":"IntervalTypeSpecifier","pointType":{"localId":"1127","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1123","locator":"143:44-143:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},"high":{"localId":"1124","locator":"143:57-143:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"1128","locator":"144:10-145:35","type":"If","resultTypeSpecifier":{"localId":"1145","type":"IntervalTypeSpecifier","pointType":{"localId":"1146","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"condition":{"localId":"1133","locator":"144:13-144:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1132","locator":"144:13-144:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1129","locator":"144:13-144:18","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1130","type":"IntervalTypeSpecifier","pointType":{"localId":"1131","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"then":{"localId":"1134","locator":"144:37-144:42","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1135","type":"IntervalTypeSpecifier","pointType":{"localId":"1136","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},"else":{"localId":"1137","locator":"145:10-145:35","strict":false,"type":"As","resultTypeSpecifier":{"localId":"1143","type":"IntervalTypeSpecifier","pointType":{"localId":"1144","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":{"localId":"1138","locator":"145:10-145:13","resultTypeName":"{urn:hl7-org:elm-types:r1}Any","type":"Null"},"asTypeSpecifier":{"localId":"1139","locator":"145:18-145:35","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1141","type":"IntervalTypeSpecifier","pointType":{"localId":"1142","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1140","locator":"145:27-145:34","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1113","name":"pointInTime","operandTypeSpecifier":{"localId":"1112","locator":"142:49-142:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1118","name":"period","operandTypeSpecifier":{"localId":"1114","locator":"142:66-142:83","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1116","type":"IntervalTypeSpecifier","pointType":{"localId":"1117","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1115","locator":"142:75-142:82","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"220","locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"localId":"221","type":"SingletonFrom","signature":[],"operand":{"localId":"219","locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"262","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"262","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"278","s":[{"r":"278","s":[{"value":["Interval["]},{"r":"268","s":[{"value":["date from "]},{"r":"269","s":[{"value":["start of "]},{"r":"270","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"273","s":[{"value":["date from "]},{"r":"274","s":[{"value":["end of "]},{"r":"275","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"resultTypeSpecifier":{"localId":"283","type":"IntervalTypeSpecifier","pointType":{"localId":"284","name":"{urn:hl7-org:elm-types:r1}Date","type":"NamedTypeSpecifier"}},"expression":{"localId":"278","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"281","type":"IntervalTypeSpecifier","pointType":{"localId":"282","name":"{urn:hl7-org:elm-types:r1}Date","type":"NamedTypeSpecifier"}},"low":{"localId":"268","locator":"30:12-30:36","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"269","locator":"30:22-30:36","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"270","locator":"30:31-30:36","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"271","type":"IntervalTypeSpecifier","pointType":{"localId":"272","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"high":{"localId":"273","locator":"30:39-30:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"274","locator":"30:49-30:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"275","locator":"30:56-30:61","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"276","type":"IntervalTypeSpecifier","pointType":{"localId":"277","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}},"operand":[{"localId":"267","name":"period","operandTypeSpecifier":{"localId":"263","locator":"29:41-29:58","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"265","type":"IntervalTypeSpecifier","pointType":{"localId":"266","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"264","locator":"29:50-29:57","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"227"}],"ref_id":"224"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1219"},{"children":[{"text":")"}]}],"ref_id":"1222"},{"children":[{"text":")"}]}],"ref_id":"1222"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1224"}],"ref_id":"1223"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1228"}],"ref_id":"1227"}],"node_type":"If","ref_id":"1218"}],"node_type":"If","ref_id":"1218"}],"ref_id":"1212"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1255"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1256"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1259"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1262"}],"node_type":"FunctionRef","ref_id":"1262"}],"ref_id":"1247"}],"define_name":"EarliestOf"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"400"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"401"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"401"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"399"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"408"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"409"}],"ref_id":"409"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"410"}],"ref_id":"411"}],"ref_id":"411"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"413"}],"node_type":"Start","ref_id":"412"}],"ref_id":"416"}],"ref_id":"417"}],"ref_id":"421"},{"children":[{"text":"\n  )"}]}],"ref_id":"426"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"427"}],"node_type":"Property","ref_id":"427"}],"node_type":"Start","ref_id":"398"}],"node_type":"Start","ref_id":"398"}],"ref_id":"395"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"1067"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"1068"}],"node_type":"Property","ref_id":"1068"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"1068"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1066"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1078"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"1079"}],"ref_id":"1079"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"1080"}],"node_type":"InValueSet","ref_id":"1081"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1082"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"1083"}],"node_type":"Property","ref_id":"1083"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"1094"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"1088"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1089"}],"node_type":"Property","ref_id":"1089"}],"node_type":"IncludedIn","ref_id":"1094"}],"ref_id":"1077"}],"ref_id":"1077"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1097"}],"node_type":"Start","ref_id":"1096"}],"ref_id":"1100"}],"ref_id":"1101"}],"ref_id":"1105"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"1110"}],"node_type":"First","ref_id":"1110"}],"ref_id":"1063"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1182"}],"node_type":"End","ref_id":"1181"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"1185"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1188"}],"node_type":"End","ref_id":"1187"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1191"}],"node_type":"MaxValue","ref_id":"1192"}],"node_type":"Equal","ref_id":"1186"}],"node_type":"Or","ref_id":"1180"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"1180"}],"node_type":"Not","ref_id":"1179"}],"node_type":"Not","ref_id":"1179"}],"ref_id":"1173"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1162"}],"node_type":"Start","ref_id":"1161"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"1165"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1168"}],"node_type":"Start","ref_id":"1167"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1171"}],"node_type":"MinValue","ref_id":"1172"}],"node_type":"Equal","ref_id":"1166"}],"node_type":"Or","ref_id":"1160"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"1160"}],"node_type":"Not","ref_id":"1159"}],"node_type":"Not","ref_id":"1159"}],"ref_id":"1153"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"436"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"440"}],"node_type":"Start","ref_id":"435"}],"node_type":"Start","ref_id":"435"}],"ref_id":"432"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"535"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"536"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"536"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"534"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"544"}],"node_type":"Start","ref_id":"543"}],"ref_id":"547"}],"ref_id":"548"}],"ref_id":"552"},{"children":[{"text":"\n  )"}]}],"ref_id":"557"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"558"}],"node_type":"Property","ref_id":"558"}],"node_type":"Start","ref_id":"533"}],"node_type":"Start","ref_id":"533"}],"ref_id":"530"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"665"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"666"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"666"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"664"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"674"}],"node_type":"Start","ref_id":"673"}],"ref_id":"677"}],"ref_id":"678"}],"ref_id":"682"},{"children":[{"text":"\n  )"}]}],"ref_id":"687"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"688"}],"node_type":"Property","ref_id":"688"}],"node_type":"End","ref_id":"663"}],"node_type":"End","ref_id":"663"}],"ref_id":"660"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"697"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"698"}],"node_type":"Property","ref_id":"698"}],"node_type":"End","ref_id":"696"}],"node_type":"End","ref_id":"696"}],"ref_id":"693"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"564"},{"children":[{"text":" Visit"}]}],"ref_id":"563"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"569"}],"node_type":"Retrieve","ref_id":"569"},{"children":[{"text":" LastED"}]}],"ref_id":"566"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"577"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"578"}],"node_type":"Property","ref_id":"578"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"591"},{"children":[{"text":" or less on or before"}]}],"ref_id":"599"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"584"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"585"}],"node_type":"Property","ref_id":"585"}],"node_type":"Start","ref_id":"583"}],"ref_id":"599"}],"ref_id":"599"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"601"}],"node_type":"End","ref_id":"600"}],"ref_id":"604"}],"ref_id":"605"}],"ref_id":"609"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"614"}],"ref_id":"565"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"617"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"618"}],"node_type":"Property","ref_id":"618"}],"node_type":"Start","ref_id":"616"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"624"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"625"}],"node_type":"Property","ref_id":"625"}],"node_type":"Start","ref_id":"623"},{"children":[{"text":")"}]}],"ref_id":"632"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"634"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"635"}],"node_type":"Property","ref_id":"635"}],"ref_id":"633"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"640"}],"ref_id":"615"}],"node_type":"Query","ref_id":"645"}],"node_type":"Query","ref_id":"645"}],"ref_id":"437"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"655"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"656"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"659"}],"node_type":"FunctionRef","ref_id":"659"}],"ref_id":"652"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"304"},{"children":[{"text":" Visit"}]}],"ref_id":"303"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"309"}],"node_type":"Retrieve","ref_id":"309"},{"children":[{"text":" LastED"}]}],"ref_id":"306"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"317"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"318"}],"node_type":"Property","ref_id":"318"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"331"},{"children":[{"text":" or less on or before"}]}],"ref_id":"339"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"324"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"325"}],"node_type":"Property","ref_id":"325"}],"node_type":"Start","ref_id":"323"}],"ref_id":"339"}],"ref_id":"339"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"341"}],"node_type":"End","ref_id":"340"}],"ref_id":"344"}],"ref_id":"345"}],"ref_id":"349"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"354"}],"ref_id":"305"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"357"},{"children":[{"text":" is null"}]}],"ref_id":"358"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"359"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"360"}],"ref_id":"360"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"367"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"368"}],"ref_id":"368"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"373"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"374"}],"ref_id":"374"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"366"}],"ref_id":"365"}],"node_type":"If","ref_id":"356"}],"ref_id":"355"}],"node_type":"Query","ref_id":"388"}],"node_type":"Query","ref_id":"388"}],"ref_id":"300"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"911"},{"children":[{"text":" Visit"}]}],"ref_id":"910"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"916"}],"node_type":"Retrieve","ref_id":"916"},{"children":[{"text":" LastObs"}]}],"ref_id":"913"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"924"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"925"}],"node_type":"Property","ref_id":"925"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"938"},{"children":[{"text":" or less on or before"}]}],"ref_id":"946"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"931"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"932"}],"node_type":"Property","ref_id":"932"}],"node_type":"Start","ref_id":"930"}],"ref_id":"946"}],"ref_id":"946"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"948"}],"node_type":"End","ref_id":"947"}],"ref_id":"951"}],"ref_id":"952"}],"ref_id":"956"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"961"}],"ref_id":"912"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"964"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"965"}],"node_type":"Property","ref_id":"965"}],"node_type":"Start","ref_id":"963"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"971"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"972"}],"node_type":"Property","ref_id":"972"}],"node_type":"Start","ref_id":"970"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"979"}],"ref_id":"962"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"984"}],"node_type":"Retrieve","ref_id":"984"},{"children":[{"text":" LastED"}]}],"ref_id":"981"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"992"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"993"}],"node_type":"Property","ref_id":"993"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"1000"},{"children":[{"text":" or less on or before"}]}],"ref_id":"1008"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"998"}],"ref_id":"1008"}],"ref_id":"1008"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1010"}],"node_type":"End","ref_id":"1009"}],"ref_id":"1013"}],"ref_id":"1014"}],"ref_id":"1018"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"1023"}],"ref_id":"980"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"1026"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1027"}],"node_type":"Property","ref_id":"1027"}],"node_type":"Start","ref_id":"1025"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"1032"},{"children":[{"text":")"}]}],"ref_id":"1035"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"1037"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1038"}],"node_type":"Property","ref_id":"1038"}],"ref_id":"1036"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"1043"}],"ref_id":"1024"}],"node_type":"Query","ref_id":"1048"}],"node_type":"Query","ref_id":"1048"}],"ref_id":"907"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"707"},{"children":[{"text":" Visit"}]}],"ref_id":"706"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"712"}],"node_type":"Retrieve","ref_id":"712"},{"children":[{"text":" LastObs"}]}],"ref_id":"709"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"720"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"721"}],"node_type":"Property","ref_id":"721"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"734"},{"children":[{"text":" or less on or before"}]}],"ref_id":"742"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"727"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"728"}],"node_type":"Property","ref_id":"728"}],"node_type":"Start","ref_id":"726"}],"ref_id":"742"}],"ref_id":"742"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"744"}],"node_type":"End","ref_id":"743"}],"ref_id":"747"}],"ref_id":"748"}],"ref_id":"752"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"757"}],"ref_id":"708"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"760"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"761"}],"node_type":"Property","ref_id":"761"}],"node_type":"Start","ref_id":"759"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"767"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"768"}],"node_type":"Property","ref_id":"768"}],"node_type":"Start","ref_id":"766"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"775"}],"ref_id":"758"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"780"}],"node_type":"Retrieve","ref_id":"780"},{"children":[{"text":" LastED"}]}],"ref_id":"777"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"788"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"789"}],"node_type":"Property","ref_id":"789"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"796"},{"children":[{"text":" or less on or before"}]}],"ref_id":"804"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"794"}],"ref_id":"804"}],"ref_id":"804"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"806"}],"node_type":"End","ref_id":"805"}],"ref_id":"809"}],"ref_id":"810"}],"ref_id":"814"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"819"}],"ref_id":"776"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"822"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"823"}],"node_type":"Property","ref_id":"823"}],"node_type":"Start","ref_id":"821"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"828"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"831"}],"ref_id":"820"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"836"}],"node_type":"Retrieve","ref_id":"836"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"833"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"844"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"845"}],"node_type":"Property","ref_id":"845"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"852"},{"children":[{"text":" or less on or before"}]}],"ref_id":"860"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"850"}],"ref_id":"860"}],"ref_id":"860"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"862"}],"node_type":"End","ref_id":"861"}],"ref_id":"865"}],"ref_id":"866"}],"ref_id":"870"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"875"}],"ref_id":"832"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"878"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"879"}],"node_type":"Property","ref_id":"879"}],"node_type":"Start","ref_id":"877"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"884"},{"children":[{"text":")"}]}],"ref_id":"887"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"889"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"890"}],"node_type":"Property","ref_id":"890"}],"ref_id":"888"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"895"}],"ref_id":"876"}],"node_type":"Query","ref_id":"900"}],"node_type":"Query","ref_id":"900"}],"ref_id":"703"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1058"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1059"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1062"}],"node_type":"FunctionRef","ref_id":"1062"}],"ref_id":"1055"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"238"}],"node_type":"Retrieve","ref_id":"238"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"235"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"246"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"247"}],"node_type":"Property","ref_id":"247"},{"children":[{"text":" ends during day of "}],"ref_id":"256"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"252"}],"ref_id":"256"}],"ref_id":"256"}],"node_type":"Query","ref_id":"257"}],"ref_id":"234"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1200"},{"children":[{"text":")"}]}],"ref_id":"1203"},{"children":[{"text":")"}]}],"ref_id":"1203"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1205"}],"ref_id":"1204"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1209"}],"ref_id":"1208"}],"node_type":"If","ref_id":"1199"}],"node_type":"If","ref_id":"1199"}],"ref_id":"1193"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1239"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1240"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1243"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1246"}],"node_type":"FunctionRef","ref_id":"1246"}],"ref_id":"1231"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"293"}],"node_type":"Start","ref_id":"292"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"297"}],"node_type":"End","ref_id":"296"}],"node_type":"DifferenceBetween","ref_id":"291"}],"node_type":"DifferenceBetween","ref_id":"291"}],"ref_id":"285"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1120"},{"children":[{"text":" is not null"}]}],"ref_id":"1122"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"1123"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"1124"},{"children":[{"text":"]"}]}],"ref_id":"1125"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1129"},{"children":[{"text":" is not null"}]}],"ref_id":"1133"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"1134"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"1138"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1140"},{"children":[{"text":"\u003e"}]}],"ref_id":"1139"}],"ref_id":"1137"}],"ref_id":"1128"}],"node_type":"If","ref_id":"1119"}],"node_type":"If","ref_id":"1119"}],"ref_id":"1111"}],"define_name":"NormalizeInterval"},{"children":[{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"270"}],"node_type":"Start","ref_id":"269"}],"ref_id":"268"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"275"}],"node_type":"End","ref_id":"274"}],"ref_id":"273"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"278"}],"node_type":"Interval","ref_id":"278"}],"ref_id":"262"}],"define_name":"ToDateInterval"}],"identifier":{"id":"CQMCommonQDM","version":"9.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"CQMCommonQDM","library_version":"9.0.000","statement_dependencies":[{"_id":"689202f310d20757c0cef96e","statement_name":"Inpatient Encounter"},{"_id":"689202f310d20757c0cef96f","statement_name":"NormalizeInterval"},{"_id":"689202f310d20757c0cef970","statement_name":"EarliestOf","statement_references":[{"_id":"689202f310d20757c0cef96c","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"Earliest"},{"_id":"689202f310d20757c0cef96d","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"689202f310d20757c0cef971","statement_name":"Earliest","statement_references":[{"_id":"689202fa10d20757c0cefbcf","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"HasStart"}]},{"_id":"689202f310d20757c0cef972","statement_name":"HasStart"}]},{"_id":"689202f310d20757c0cef98e","cql":"library PCMaternalQDM version '5.0.000'\n\nusing QDM version '5.6'\n\ninclude CQMCommonQDM version '9.0.000' called Global\n\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\nvalueset \"Delivery Procedures\": 'urn:oid:2.16.840.1.113762.1.4.1045.59' \nvalueset \"ED Visit and OB Triage\": 'urn:oid:2.16.840.1.113762.1.4.1029.369' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Estimated Gestational Age at Delivery\": 'urn:oid:2.16.840.1.113762.1.4.1045.26' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \n\ncode \"Date and time of obstetric delivery\": '93857-1' from \"LOINC\" display 'Date and time of obstetric delivery'\ncode \"Delivery date Estimated\": '11778-8' from \"LOINC\" display 'Delivery date Estimated'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Encounter With Age Range\":\n  Global.\"Inpatient Encounter\" InpatientEncounter\n    where AgeInYearsAt(date from start of InpatientEncounter.relevantPeriod) \u003e= 8\n      and AgeInYearsAt(date from start of InpatientEncounter.relevantPeriod) \u003c 65\n\ndefine \"Delivery Encounter With Age Range\":\n  \"Encounter With Age Range\" EncounterWithAge\n    with [\"Procedure, Performed\": \"Delivery Procedures\"] DeliveryProcedure\n      such that Global.\"NormalizeInterval\" ( DeliveryProcedure.relevantDatetime, DeliveryProcedure.relevantPeriod ) starts during \"HospitalizationWithEDOBTriageObservation\"(EncounterWithAge)\n\ndefine \"Variable Calculated Gestational Age\":\n  //This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition.  \n  \n  \"Delivery Encounter With Age Range\" DeliveryEncounter\n    let CGA: \"CalculatedGestationalAge\"(DeliveryEncounter)\n    return { DeliveryEncounter, CGA }\n\ndefine function \"LastTimeOfDelivery\"(Encounter \"Encounter, Performed\" ):\n  Last([\"Assessment, Performed\": \"Date and time of obstetric delivery\"] TimeOfDelivery\n      where Global.\"EarliestOf\"(TimeOfDelivery.relevantDatetime, TimeOfDelivery.relevantPeriod) during \"HospitalizationWithEDOBTriageObservation\"(Encounter)\n        and TimeOfDelivery.result as DateTime during \"HospitalizationWithEDOBTriageObservation\"(Encounter)\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as DateTime\n\ndefine function \"HospitalizationWithEDOBTriageObservation\"(Encounter \"Encounter, Performed\" ):\n  //HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter.\n  Encounter Visit\n    let ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n        where LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n        sort by \n        end of relevantPeriod\n    ),\n    VisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n    EDOBTriageVisit: Last([\"Encounter, Performed\": \"ED Visit and OB Triage\"] LastEDOBTriage\n        where LastEDOBTriage.relevantPeriod ends 1 hour or less on or before VisitStart\n        sort by \n        end of relevantPeriod\n    )\n    return Interval[Coalesce(start of EDOBTriageVisit.relevantPeriod, VisitStart), \n    end of Visit.relevantPeriod]\n\ndefine function \"LastEstimatedDeliveryDate\"(Encounter \"Encounter, Performed\" ):\n  //This function identifies the last time the Estimated Delivery Date was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.  \n  Last([\"Assessment, Performed\": \"Delivery date Estimated\"] EstimatedDateOfDelivery\n      where Global.\"EarliestOf\"(EstimatedDateOfDelivery.relevantDatetime, EstimatedDateOfDelivery.relevantPeriod)42 weeks or less before or on \"LastTimeOfDelivery\"(Encounter)\n        and EstimatedDateOfDelivery.result is not null\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as DateTime\n\ndefine function \"CalculatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  // Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n  \n  ( 280 - ( difference in days between \"LastTimeOfDelivery\"(Encounter) and \"LastEstimatedDeliveryDate\"(Encounter) ) ) div 7\n\ndefine function \"LastEstimatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  Last([\"Assessment, Performed\": \"Estimated Gestational Age at Delivery\"] EstimatedGestationalAge\n      let EGATiming: Global.\"EarliestOf\"(EstimatedGestationalAge.relevantDatetime, EstimatedGestationalAge.relevantPeriod)\n      where(EGATiming 24 hours or less before or on \"LastTimeOfDelivery\"(Encounter)\n          and EstimatedGestationalAge.result is not null\n      )\n        or(EGATiming same day as \"LastTimeOfDelivery\"(Encounter)\n            and EGATiming during \"HospitalizationWithEDOBTriageObservation\"(Encounter)\n            and EstimatedGestationalAge.result is not null\n        )\n      sort by Global.\"EarliestOf\"(relevantDatetime, relevantPeriod)\n  ).result as Quantity","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"message":"An operand identifier [Encounter] is hiding another identifier of the same name.","errorType":"semantic","errorSeverity":"warning","type":"CqlToElmError"},{"message":"An operand identifier [Encounter] is hiding another identifier of the same name.","errorType":"semantic","errorSeverity":"warning","type":"CqlToElmError"},{"type":"Annotation","s":{"r":"1032","s":[{"value":["","library PCMaternalQDM version '5.0.000'"]}]}}],"identifier":{"id":"PCMaternalQDM","version":"5.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"includes":{"def":[{"localId":"207","locator":"5:1-5:52","localIdentifier":"Global","path":"CQMCommonQDM","version":"9.0.000","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","include "]},{"s":[{"value":["CQMCommonQDM"]}]},{"value":[" version ","'9.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"218","locator":"18:1-18:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"218","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"219","s":[{"value":["Interval\u003c"]},{"r":"220","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"223","type":"IntervalTypeSpecifier","pointType":{"localId":"224","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"219","locator":"18:32-18:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"221","type":"IntervalTypeSpecifier","pointType":{"localId":"222","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"220","locator":"18:41-18:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"208","locator":"7:1-7:51","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"209","locator":"9:1-9:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Delivery Procedures","id":"2.16.840.1.113762.1.4.1045.59","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","valueset ","\"Delivery Procedures\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.59'"]}]}}],"codeSystem":[]},{"localId":"210","locator":"10:1-10:75","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"ED Visit and OB Triage","id":"2.16.840.1.113762.1.4.1029.369","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"ED Visit and OB Triage\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.369'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}],"codeSystem":[]},{"localId":"212","locator":"12:1-12:89","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Estimated Gestational Age at Delivery","id":"2.16.840.1.113762.1.4.1045.26","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","valueset ","\"Estimated Gestational Age at Delivery\"",": ","'urn:oid:2.16.840.1.113762.1.4.1045.26'"]}]}}],"codeSystem":[]},{"localId":"213","locator":"13:1-13:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"213","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}],"codeSystem":[]}]},"codes":{"def":[{"localId":"214","locator":"15:1-15:112","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Date and time of obstetric delivery","id":"93857-1","display":"Date and time of obstetric delivery","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"214","s":[{"value":["","code ","\"Date and time of obstetric delivery\"",": ","'93857-1'"," from "]},{"r":"215","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Date and time of obstetric delivery'"]}]}}],"codeSystem":{"localId":"215","locator":"15:60-15:66","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}},{"localId":"216","locator":"16:1-16:88","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Delivery date Estimated","id":"11778-8","display":"Delivery date Estimated","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"216","s":[{"value":["","code ","\"Delivery date Estimated\"",": ","'11778-8'"," from "]},{"r":"217","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Delivery date Estimated'"]}]}}],"codeSystem":{"localId":"217","locator":"16:48-16:54","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}}]},"contexts":{"def":[{"localId":"228","locator":"20:1-20:15","name":"Patient"}]},"statements":{"def":[{"localId":"481","locator":"71:1-74:123","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CalculatedGestationalAge","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"481","s":[{"value":["","define function \"CalculatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  // Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n  \n  "]},{"r":"1023","s":[{"r":"1023","s":[{"r":"1024","s":[{"value":["( "]},{"r":"1024","s":[{"r":"1025","value":["280"," - "]},{"r":"1026","s":[{"value":["( "]},{"r":"1026","s":[{"value":["difference in days between "]},{"r":"1028","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1027","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[" and "]},{"r":"1030","s":[{"value":["\"LastEstimatedDeliveryDate\"","("]},{"r":"1029","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":[" )"]}]}]},{"value":[" )"]}]},{"r":"1031","value":[" div ","7"]}]}]}]}}],"expression":{"localId":"1023","locator":"74:3-74:123","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","type":"TruncatedDivide","signature":[],"operand":[{"localId":"1024","locator":"74:3-74:117","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","type":"Subtract","signature":[],"operand":[{"localId":"1025","locator":"74:5-74:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"280","type":"Literal"},{"localId":"1026","locator":"74:11-74:115","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Day","type":"DifferenceBetween","signature":[],"operand":[{"localId":"1028","locator":"74:40-74:70","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"1027","locator":"74:61-74:69","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"1030","locator":"74:76-74:113","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastEstimatedDeliveryDate","type":"FunctionRef","signature":[],"operand":[{"localId":"1029","locator":"74:104-74:112","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]}]},{"localId":"1031","locator":"74:123","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"7","type":"Literal"}]},"operand":[{"localId":"483","name":"Encounter","operandTypeSpecifier":{"localId":"482","locator":"71:54-71:75","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"279","locator":"27:1-30:190","name":"Delivery Encounter With Age Range","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"279","s":[{"value":["","define ","\"Delivery Encounter With Age Range\"",":\n  "]},{"r":"466","s":[{"s":[{"r":"280","s":[{"r":"281","s":[{"s":[{"value":["\"Encounter With Age Range\""]}]}]},{"value":[" ","EncounterWithAge"]}]}]},{"value":["\n    "]},{"r":"463","s":[{"value":["with "]},{"r":"286","s":[{"r":"289","s":[{"r":"289","s":[{"value":["[","\"Procedure, Performed\"",": "]},{"s":[{"value":["\"Delivery Procedures\""]}]},{"value":["]"]}]}]},{"value":[" ","DeliveryProcedure"]}]},{"value":["\n      such that "]},{"r":"462","s":[{"r":"306","s":[{"r":"297","s":[{"value":["Global"]}]},{"value":["."]},{"r":"306","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"299","s":[{"r":"298","s":[{"value":["DeliveryProcedure"]}]},{"value":["."]},{"r":"299","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"301","s":[{"r":"300","s":[{"value":["DeliveryProcedure"]}]},{"value":["."]},{"r":"301","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"462","value":[" ","starts during"," "]},{"r":"315","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"311","s":[{"value":["EncounterWithAge"]}]},{"value":[")"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"469","type":"ListTypeSpecifier","elementType":{"localId":"470","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"466","locator":"28:3-30:190","type":"Query","resultTypeSpecifier":{"localId":"467","type":"ListTypeSpecifier","elementType":{"localId":"468","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"280","locator":"28:3-28:45","alias":"EncounterWithAge","resultTypeSpecifier":{"localId":"284","type":"ListTypeSpecifier","elementType":{"localId":"285","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"281","locator":"28:3-28:28","name":"Encounter With Age Range","type":"ExpressionRef","resultTypeSpecifier":{"localId":"282","type":"ListTypeSpecifier","elementType":{"localId":"283","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[{"localId":"463","locator":"29:5-30:190","alias":"DeliveryProcedure","type":"With","resultTypeSpecifier":{"localId":"464","type":"ListTypeSpecifier","elementType":{"localId":"465","name":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"289","locator":"29:10-29:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","templateId":"PositiveProcedurePerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"293","type":"ListTypeSpecifier","elementType":{"localId":"294","name":"{urn:healthit-gov:qdm:v5_6}PositiveProcedurePerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"288","locator":"29:35-29:55","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Delivery Procedures","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},"suchThat":{"localId":"462","locator":"30:17-30:190","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"In","signature":[],"operand":[{"localId":"461","locator":"30:117-30:122","type":"Start","signature":[],"operand":{"localId":"306","locator":"30:17-30:115","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"309","type":"IntervalTypeSpecifier","pointType":{"localId":"310","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"299","locator":"30:46-30:79","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"DeliveryProcedure","type":"Property"},{"localId":"301","locator":"30:82-30:113","path":"relevantPeriod","scope":"DeliveryProcedure","type":"Property","resultTypeSpecifier":{"localId":"304","type":"IntervalTypeSpecifier","pointType":{"localId":"305","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}},{"localId":"315","locator":"30:131-30:190","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"459","type":"IntervalTypeSpecifier","pointType":{"localId":"460","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"311","locator":"30:174-30:189","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EncounterWithAge","type":"AliasRef"}]}]}}]}},{"localId":"230","locator":"22:1-25:81","name":"Encounter With Age Range","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"230","s":[{"value":["","define ","\"Encounter With Age Range\"",":\n  "]},{"r":"273","s":[{"s":[{"r":"231","s":[{"r":"233","s":[{"s":[{"value":["Global",".","\"Inpatient Encounter\""]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n    "]},{"r":"238","s":[{"value":["where "]},{"r":"238","s":[{"r":"239","s":[{"r":"254","s":[{"value":["AgeInYearsAt","("]},{"r":"240","s":[{"value":["date from "]},{"r":"241","s":[{"value":["start of "]},{"r":"243","s":[{"r":"242","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"243","s":[{"value":["relevantPeriod"]}]}]}]}]},{"value":[")"]}]},{"r":"255","value":[" ","\u003e="," ","8"]}]},{"value":["\n      and "]},{"r":"256","s":[{"r":"271","s":[{"value":["AgeInYearsAt","("]},{"r":"257","s":[{"value":["date from "]},{"r":"258","s":[{"value":["start of "]},{"r":"260","s":[{"r":"259","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"260","s":[{"value":["relevantPeriod"]}]}]}]}]},{"value":[")"]}]},{"r":"272","value":[" ","\u003c"," ","65"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"276","type":"ListTypeSpecifier","elementType":{"localId":"277","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"273","locator":"23:3-25:81","type":"Query","resultTypeSpecifier":{"localId":"274","type":"ListTypeSpecifier","elementType":{"localId":"275","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"231","locator":"23:3-23:49","alias":"InpatientEncounter","resultTypeSpecifier":{"localId":"236","type":"ListTypeSpecifier","elementType":{"localId":"237","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"233","locator":"23:3-23:30","name":"Inpatient Encounter","libraryName":"Global","type":"ExpressionRef","resultTypeSpecifier":{"localId":"234","type":"ListTypeSpecifier","elementType":{"localId":"235","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[],"relationship":[],"where":{"localId":"238","locator":"24:5-25:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"239","locator":"24:11-24:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"GreaterOrEqual","signature":[],"operand":[{"localId":"254","locator":"24:11-24:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Year","type":"CalculateAgeAt","signature":[],"operand":[{"localId":"253","type":"ToDate","signature":[],"operand":{"localId":"251","path":"birthDatetime","type":"Property","source":{"localId":"250","name":"Patient","type":"ExpressionRef"}}},{"localId":"240","locator":"24:24-24:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"241","locator":"24:34-24:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"243","locator":"24:43-24:75","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property","resultTypeSpecifier":{"localId":"246","type":"IntervalTypeSpecifier","pointType":{"localId":"247","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"255","locator":"24:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"8","type":"Literal"}]},{"localId":"256","locator":"25:11-25:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Less","signature":[],"operand":[{"localId":"271","locator":"25:11-25:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Year","type":"CalculateAgeAt","signature":[],"operand":[{"localId":"270","type":"ToDate","signature":[],"operand":{"localId":"268","path":"birthDatetime","type":"Property","source":{"localId":"267","name":"Patient","type":"ExpressionRef"}}},{"localId":"257","locator":"25:24-25:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"258","locator":"25:34-25:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"260","locator":"25:43-25:75","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property","resultTypeSpecifier":{"localId":"263","type":"IntervalTypeSpecifier","pointType":{"localId":"264","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"272","locator":"25:80-25:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"65","type":"Literal"}]}]}}},{"localId":"312","locator":"46:1-61:32","name":"HospitalizationWithEDOBTriageObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"312","s":[{"value":["","define function \"HospitalizationWithEDOBTriageObservation\"(Encounter \"Encounter, Performed\" ):\n  //HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter.\n  "]},{"r":"926","s":[{"r":"926","s":[{"s":[{"r":"788","s":[{"r":"789","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"790","s":[{"value":["ObsVisit",": "]},{"r":"839","s":[{"value":["Last","("]},{"r":"834","s":[{"s":[{"r":"791","s":[{"r":"794","s":[{"r":"794","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n        "]},{"r":"824","s":[{"value":["where "]},{"r":"824","s":[{"r":"803","s":[{"r":"802","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"803","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"824","s":[{"value":["ends "]},{"r":"816","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"808","s":[{"value":["start of "]},{"r":"810","s":[{"r":"809","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"810","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n        "]},{"r":"830","s":[{"value":["sort by \n        "]},{"r":"829","s":[{"r":"825","s":[{"value":["end of "]},{"r":"826","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n    )"]}]}]},{"value":[",\n    "]},{"r":"840","s":[{"value":["VisitStart",": "]},{"r":"857","s":[{"value":["Coalesce","("]},{"r":"841","s":[{"value":["start of "]},{"r":"843","s":[{"r":"842","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"843","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"848","s":[{"value":["start of "]},{"r":"850","s":[{"r":"849","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"850","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n    "]},{"r":"858","s":[{"value":["EDOBTriageVisit",": "]},{"r":"901","s":[{"value":["Last","("]},{"r":"896","s":[{"s":[{"r":"859","s":[{"r":"862","s":[{"r":"862","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"ED Visit and OB Triage\""]}]},{"value":["]"]}]}]},{"value":[" ","LastEDOBTriage"]}]}]},{"value":["\n        "]},{"r":"886","s":[{"value":["where "]},{"r":"886","s":[{"r":"871","s":[{"r":"870","s":[{"value":["LastEDOBTriage"]}]},{"value":["."]},{"r":"871","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"886","s":[{"value":["ends "]},{"r":"878","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"876","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n        "]},{"r":"892","s":[{"value":["sort by \n        "]},{"r":"891","s":[{"r":"887","s":[{"value":["end of "]},{"r":"888","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    "]},{"r":"902","s":[{"value":["return "]},{"r":"921","s":[{"value":["Interval["]},{"r":"913","s":[{"value":["Coalesce","("]},{"r":"903","s":[{"value":["start of "]},{"r":"905","s":[{"r":"904","s":[{"value":["EDOBTriageVisit"]}]},{"value":["."]},{"r":"905","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"910","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n    "]},{"r":"914","s":[{"value":["end of "]},{"r":"916","s":[{"r":"915","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"916","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"931","type":"IntervalTypeSpecifier","pointType":{"localId":"932","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"926","locator":"48:3-61:32","type":"Query","resultTypeSpecifier":{"localId":"929","type":"IntervalTypeSpecifier","pointType":{"localId":"930","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"788","locator":"48:3-48:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"789","locator":"48:3-48:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"790","locator":"49:9-53:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"839","locator":"49:19-53:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"834","locator":"49:24-52:29","type":"Query","resultTypeSpecifier":{"localId":"835","type":"ListTypeSpecifier","elementType":{"localId":"836","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"791","locator":"49:24-49:79","alias":"LastObs","resultTypeSpecifier":{"localId":"800","type":"ListTypeSpecifier","elementType":{"localId":"801","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"794","locator":"49:24-49:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"798","type":"ListTypeSpecifier","elementType":{"localId":"799","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"793","locator":"49:49-49:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"824","locator":"50:9-50:99","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"821","locator":"50:43-50:56","type":"In","signature":[],"operand":[{"localId":"815","locator":"50:38-50:41","type":"End","signature":[],"operand":{"localId":"803","locator":"50:15-50:36","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"806","type":"IntervalTypeSpecifier","pointType":{"localId":"807","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"818","locator":"50:43-50:56","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"819","type":"IntervalTypeSpecifier","pointType":{"localId":"820","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"817","locator":"50:71-50:99","type":"Subtract","signature":[],"operand":[{"localId":"808","locator":"50:71-50:99","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"810","locator":"50:80-50:99","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"813","type":"IntervalTypeSpecifier","pointType":{"localId":"814","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"816","locator":"50:43-50:48","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"808","locator":"50:71-50:99","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"810","locator":"50:80-50:99","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"813","type":"IntervalTypeSpecifier","pointType":{"localId":"814","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"823","locator":"50:43-50:56","type":"Not","signature":[],"operand":{"localId":"822","locator":"50:43-50:56","type":"IsNull","signature":[],"operand":{"localId":"808","locator":"50:71-50:99","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"810","locator":"50:80-50:99","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"813","type":"IntervalTypeSpecifier","pointType":{"localId":"814","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"830","locator":"51:9-52:29","by":[{"localId":"829","locator":"52:9-52:29","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"825","locator":"52:9-52:29","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"826","locator":"52:16-52:29","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"827","type":"IntervalTypeSpecifier","pointType":{"localId":"828","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"840","locator":"54:5-54:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"857","locator":"54:17-54:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"841","locator":"54:26-54:57","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"843","locator":"54:35-54:57","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"846","type":"IntervalTypeSpecifier","pointType":{"localId":"847","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"842","locator":"54:35-54:42","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"848","locator":"54:60-54:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"850","locator":"54:69-54:88","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"853","type":"IntervalTypeSpecifier","pointType":{"localId":"854","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"858","locator":"55:5-59:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDOBTriageVisit","expression":{"localId":"901","locator":"55:22-59:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"896","locator":"55:27-58:29","type":"Query","resultTypeSpecifier":{"localId":"897","type":"ListTypeSpecifier","elementType":{"localId":"898","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"859","locator":"55:27-55:91","alias":"LastEDOBTriage","resultTypeSpecifier":{"localId":"868","type":"ListTypeSpecifier","elementType":{"localId":"869","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"862","locator":"55:27-55:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"866","type":"ListTypeSpecifier","elementType":{"localId":"867","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"861","locator":"55:52-55:75","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"ED Visit and OB Triage","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"886","locator":"56:9-56:87","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"883","locator":"56:50-56:63","type":"In","signature":[],"operand":[{"localId":"877","locator":"56:45-56:48","type":"End","signature":[],"operand":{"localId":"871","locator":"56:15-56:43","path":"relevantPeriod","scope":"LastEDOBTriage","type":"Property","resultTypeSpecifier":{"localId":"874","type":"IntervalTypeSpecifier","pointType":{"localId":"875","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"880","locator":"56:50-56:63","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"881","type":"IntervalTypeSpecifier","pointType":{"localId":"882","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"879","locator":"56:78-56:87","type":"Subtract","signature":[],"operand":[{"localId":"876","locator":"56:78-56:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"878","locator":"56:50-56:55","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"876","locator":"56:78-56:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"885","locator":"56:50-56:63","type":"Not","signature":[],"operand":{"localId":"884","locator":"56:50-56:63","type":"IsNull","signature":[],"operand":{"localId":"876","locator":"56:78-56:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"892","locator":"57:9-58:29","by":[{"localId":"891","locator":"58:9-58:29","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"887","locator":"58:9-58:29","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"888","locator":"58:16-58:29","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"889","type":"IntervalTypeSpecifier","pointType":{"localId":"890","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"902","locator":"60:5-61:32","resultTypeSpecifier":{"localId":"924","type":"IntervalTypeSpecifier","pointType":{"localId":"925","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"921","locator":"60:12-61:32","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"922","type":"IntervalTypeSpecifier","pointType":{"localId":"923","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"913","locator":"60:21-60:81","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"903","locator":"60:30-60:68","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"905","locator":"60:39-60:68","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"908","type":"IntervalTypeSpecifier","pointType":{"localId":"909","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"904","locator":"60:39-60:53","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDOBTriageVisit","type":"QueryLetRef"}}},{"localId":"910","locator":"60:71-60:80","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"914","locator":"61:5-61:31","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"916","locator":"61:12-61:31","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"919","type":"IntervalTypeSpecifier","pointType":{"localId":"920","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"314","name":"Encounter","operandTypeSpecifier":{"localId":"313","locator":"46:70-46:91","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"586","locator":"63:1-69:22","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastEstimatedDeliveryDate","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"586","s":[{"value":["","define function \"LastEstimatedDeliveryDate\"(Encounter \"Encounter, Performed\" ):\n  //This function identifies the last time the Estimated Delivery Date was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.  \n  "]},{"r":"933","s":[{"r":"933","s":[{"r":"1005","s":[{"r":"1004","s":[{"value":["Last","("]},{"r":"999","s":[{"s":[{"r":"934","s":[{"r":"937","s":[{"r":"937","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Delivery date Estimated\""]}]},{"value":["]"]}]}]},{"value":[" ","EstimatedDateOfDelivery"]}]}]},{"value":["\n      "]},{"r":"946","s":[{"value":["where "]},{"r":"946","s":[{"r":"967","s":[{"r":"956","s":[{"r":"947","s":[{"value":["Global"]}]},{"value":["."]},{"r":"956","s":[{"value":["\"EarliestOf\"","("]},{"r":"949","s":[{"r":"948","s":[{"value":["EstimatedDateOfDelivery"]}]},{"value":["."]},{"r":"949","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"951","s":[{"r":"950","s":[{"value":["EstimatedDateOfDelivery"]}]},{"value":["."]},{"r":"951","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"967","s":[{"r":"959","s":[{"value":["42 ","weeks"]}]},{"value":[" or less before or on"]}]},{"value":[" "]},{"r":"958","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"957","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n        and "]},{"r":"987","s":[{"r":"969","s":[{"r":"968","s":[{"value":["EstimatedDateOfDelivery"]}]},{"value":["."]},{"r":"969","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]}]},{"value":["\n      "]},{"r":"995","s":[{"value":["sort by "]},{"r":"994","s":[{"r":"993","s":[{"r":"988","s":[{"value":["Global"]}]},{"value":["."]},{"r":"993","s":[{"value":["\"EarliestOf\"","("]},{"r":"989","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"990","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"1005","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"1022","s":[{"value":["DateTime"]}]}]}]}]}}],"expression":{"localId":"933","locator":"65:3-69:22","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","strict":false,"type":"As","signature":[],"operand":{"localId":"1005","locator":"65:3-69:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"1014","type":"ChoiceTypeSpecifier","choice":[{"localId":"1015","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1016","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1017","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1018","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1019","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1020","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1021","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"1004","locator":"65:3-69:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"999","locator":"65:8-68:67","type":"Query","resultTypeSpecifier":{"localId":"1000","type":"ListTypeSpecifier","elementType":{"localId":"1001","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"934","locator":"65:8-65:83","alias":"EstimatedDateOfDelivery","resultTypeSpecifier":{"localId":"944","type":"ListTypeSpecifier","elementType":{"localId":"945","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"937","locator":"65:8-65:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"942","type":"ListTypeSpecifier","elementType":{"localId":"943","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"939","type":"ToList","signature":[],"operand":{"localId":"936","locator":"65:34-65:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Delivery date Estimated","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"946","locator":"66:7-67:54","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"967","locator":"66:13-66:174","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"964","locator":"66:114-66:129","type":"In","signature":[],"operand":[{"localId":"956","locator":"66:13-66:113","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"949","locator":"66:33-66:72","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"EstimatedDateOfDelivery","type":"Property"},{"localId":"951","locator":"66:75-66:112","path":"relevantPeriod","scope":"EstimatedDateOfDelivery","type":"Property","resultTypeSpecifier":{"localId":"954","type":"IntervalTypeSpecifier","pointType":{"localId":"955","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"961","locator":"66:114-66:129","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"962","type":"IntervalTypeSpecifier","pointType":{"localId":"963","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"960","locator":"66:144-66:174","type":"Subtract","signature":[],"operand":[{"localId":"958","locator":"66:144-66:174","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"957","locator":"66:165-66:173","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"959","locator":"66:114-66:121","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":42,"unit":"weeks","type":"Quantity"}]},"high":{"localId":"958","locator":"66:144-66:174","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"957","locator":"66:165-66:173","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}]},{"localId":"966","locator":"66:114-66:129","type":"Not","signature":[],"operand":{"localId":"965","locator":"66:114-66:129","type":"IsNull","signature":[],"operand":{"localId":"958","locator":"66:144-66:174","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"957","locator":"66:165-66:173","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"987","locator":"67:13-67:54","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"986","locator":"67:13-67:54","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"969","locator":"67:13-67:42","path":"result","scope":"EstimatedDateOfDelivery","type":"Property","resultTypeSpecifier":{"localId":"978","type":"ChoiceTypeSpecifier","choice":[{"localId":"979","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"980","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"981","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"982","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"983","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"984","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"985","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]},"sort":{"localId":"995","locator":"68:7-68:67","by":[{"localId":"994","locator":"68:15-68:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"993","locator":"68:15-68:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"989","locator":"68:35-68:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"990","locator":"68:53-68:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"991","type":"IntervalTypeSpecifier","pointType":{"localId":"992","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"1022","locator":"69:15-69:22","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"operand":[{"localId":"588","name":"Encounter","operandTypeSpecifier":{"localId":"587","locator":"63:55-63:76","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1032","locator":"76:1-87:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","name":"LastEstimatedGestationalAge","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1032","s":[{"value":["","define function \"LastEstimatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1035","s":[{"r":"1035","s":[{"r":"1142","s":[{"r":"1141","s":[{"value":["Last","("]},{"r":"1136","s":[{"s":[{"r":"1036","s":[{"r":"1039","s":[{"r":"1039","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Estimated Gestational Age at Delivery\""]}]},{"value":["]"]}]}]},{"value":[" ","EstimatedGestationalAge"]}]}]},{"value":["\n      "]},{"s":[{"value":["let "]},{"r":"1047","s":[{"value":["EGATiming",": "]},{"r":"1057","s":[{"r":"1048","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1057","s":[{"value":["\"EarliestOf\"","("]},{"r":"1050","s":[{"r":"1049","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"1050","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"1052","s":[{"r":"1051","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"1052","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]}]}]},{"value":["\n      "]},{"r":"1058","s":[{"value":["where"]},{"r":"1058","s":[{"r":"1059","s":[{"value":["("]},{"r":"1059","s":[{"r":"1071","s":[{"r":"1060","s":[{"value":["EGATiming"]}]},{"value":[" "]},{"r":"1071","s":[{"r":"1063","s":[{"value":["24 ","hours"]}]},{"value":[" or less before or on"]}]},{"value":[" "]},{"r":"1062","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1061","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n          and "]},{"r":"1091","s":[{"r":"1073","s":[{"r":"1072","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"1073","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n      )"]}]},{"value":["\n        or"]},{"r":"1092","s":[{"value":["("]},{"r":"1092","s":[{"r":"1093","s":[{"r":"1097","s":[{"r":"1094","s":[{"value":["EGATiming"]}]},{"r":"1097","value":[" ","same day as"," "]},{"r":"1096","s":[{"value":["\"LastTimeOfDelivery\"","("]},{"r":"1095","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n            and "]},{"r":"1104","s":[{"r":"1098","s":[{"value":["EGATiming"]}]},{"r":"1104","value":[" ","during"," "]},{"r":"1100","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"1099","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]},{"value":["\n            and "]},{"r":"1124","s":[{"r":"1106","s":[{"r":"1105","s":[{"value":["EstimatedGestationalAge"]}]},{"value":["."]},{"r":"1106","s":[{"value":["result"]}]}]},{"value":[" is not null"]}]}]},{"value":["\n        )"]}]}]}]},{"value":["\n      "]},{"r":"1132","s":[{"value":["sort by "]},{"r":"1131","s":[{"r":"1130","s":[{"r":"1125","s":[{"value":["Global"]}]},{"value":["."]},{"r":"1130","s":[{"value":["\"EarliestOf\"","("]},{"r":"1126","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"1127","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"1142","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"1159","s":[{"value":["Quantity"]}]}]}]}]}}],"expression":{"localId":"1035","locator":"77:3-87:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","strict":false,"type":"As","signature":[],"operand":{"localId":"1142","locator":"77:3-87:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"1151","type":"ChoiceTypeSpecifier","choice":[{"localId":"1152","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1153","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1154","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1155","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1156","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1157","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1158","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"1141","locator":"77:3-87:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"1136","locator":"77:8-86:67","type":"Query","resultTypeSpecifier":{"localId":"1137","type":"ListTypeSpecifier","elementType":{"localId":"1138","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"1036","locator":"77:8-77:97","alias":"EstimatedGestationalAge","resultTypeSpecifier":{"localId":"1045","type":"ListTypeSpecifier","elementType":{"localId":"1046","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"1039","locator":"77:8-77:73","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"1043","type":"ListTypeSpecifier","elementType":{"localId":"1044","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"1038","locator":"77:34-77:72","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Estimated Gestational Age at Delivery","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[{"localId":"1047","locator":"78:11-78:122","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"EGATiming","expression":{"localId":"1057","locator":"78:22-78:122","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1050","locator":"78:42-78:81","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"EstimatedGestationalAge","type":"Property"},{"localId":"1052","locator":"78:84-78:121","path":"relevantPeriod","scope":"EstimatedGestationalAge","type":"Property","resultTypeSpecifier":{"localId":"1055","type":"IntervalTypeSpecifier","pointType":{"localId":"1056","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}],"relationship":[],"where":{"localId":"1058","locator":"79:7-85:9","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1059","locator":"79:12-81:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1071","locator":"79:13-79:83","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1068","locator":"79:23-79:38","type":"In","signature":[],"operand":[{"localId":"1060","locator":"79:13-79:21","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EGATiming","type":"QueryLetRef"},{"localId":"1065","locator":"79:23-79:38","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1066","type":"IntervalTypeSpecifier","pointType":{"localId":"1067","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1064","locator":"79:53-79:83","type":"Subtract","signature":[],"operand":[{"localId":"1062","locator":"79:53-79:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"1061","locator":"79:74-79:82","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]},{"localId":"1063","locator":"79:23-79:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":24,"unit":"hours","type":"Quantity"}]},"high":{"localId":"1062","locator":"79:53-79:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"1061","locator":"79:74-79:82","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}]},{"localId":"1070","locator":"79:23-79:38","type":"Not","signature":[],"operand":{"localId":"1069","locator":"79:23-79:38","type":"IsNull","signature":[],"operand":{"localId":"1062","locator":"79:53-79:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"1061","locator":"79:74-79:82","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}}]},{"localId":"1091","locator":"80:15-80:56","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1090","locator":"80:15-80:56","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1073","locator":"80:15-80:44","path":"result","scope":"EstimatedGestationalAge","type":"Property","resultTypeSpecifier":{"localId":"1082","type":"ChoiceTypeSpecifier","choice":[{"localId":"1083","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1084","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1085","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1086","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1087","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1088","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1089","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]},{"localId":"1092","locator":"82:11-85:9","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1093","locator":"82:12-83:86","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1097","locator":"82:12-82:64","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"SameAs","signature":[],"operand":[{"localId":"1094","locator":"82:12-82:20","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EGATiming","type":"QueryLetRef"},{"localId":"1096","locator":"82:34-82:64","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","type":"FunctionRef","signature":[],"operand":[{"localId":"1095","locator":"82:55-82:63","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},{"localId":"1104","locator":"83:17-83:86","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"In","signature":[],"operand":[{"localId":"1098","locator":"83:17-83:25","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EGATiming","type":"QueryLetRef"},{"localId":"1100","locator":"83:34-83:86","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"1101","type":"IntervalTypeSpecifier","pointType":{"localId":"1102","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1099","locator":"83:77-83:85","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]}]},{"localId":"1124","locator":"84:17-84:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1123","locator":"84:17-84:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1106","locator":"84:17-84:46","path":"result","scope":"EstimatedGestationalAge","type":"Property","resultTypeSpecifier":{"localId":"1115","type":"ChoiceTypeSpecifier","choice":[{"localId":"1116","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"1117","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"1118","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"1119","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"1120","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"1121","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"1122","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}}}]}]},"sort":{"localId":"1132","locator":"86:7-86:67","by":[{"localId":"1131","locator":"86:15-86:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1130","locator":"86:15-86:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"1126","locator":"86:35-86:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"1127","locator":"86:53-86:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1128","type":"IntervalTypeSpecifier","pointType":{"localId":"1129","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"1159","locator":"87:15-87:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"}},"operand":[{"localId":"1034","name":"Encounter","operandTypeSpecifier":{"localId":"1033","locator":"76:57-76:78","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"490","locator":"39:1-44:22","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LastTimeOfDelivery","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"490","s":[{"value":["","define function \"LastTimeOfDelivery\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"697","s":[{"r":"697","s":[{"r":"770","s":[{"r":"769","s":[{"value":["Last","("]},{"r":"764","s":[{"s":[{"r":"698","s":[{"r":"701","s":[{"r":"701","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Date and time of obstetric delivery\""]}]},{"value":["]"]}]}]},{"value":[" ","TimeOfDelivery"]}]}]},{"value":["\n      "]},{"r":"710","s":[{"value":["where "]},{"r":"710","s":[{"r":"726","s":[{"r":"720","s":[{"r":"711","s":[{"value":["Global"]}]},{"value":["."]},{"r":"720","s":[{"value":["\"EarliestOf\"","("]},{"r":"713","s":[{"r":"712","s":[{"value":["TimeOfDelivery"]}]},{"value":["."]},{"r":"713","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"715","s":[{"r":"714","s":[{"value":["TimeOfDelivery"]}]},{"value":["."]},{"r":"715","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"726","value":[" ","during"," "]},{"r":"722","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"721","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]},{"value":["\n        and "]},{"r":"752","s":[{"r":"727","s":[{"r":"729","s":[{"r":"728","s":[{"value":["TimeOfDelivery"]}]},{"value":["."]},{"r":"729","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"746","s":[{"value":["DateTime"]}]}]},{"r":"752","value":[" ","during"," "]},{"r":"748","s":[{"value":["\"HospitalizationWithEDOBTriageObservation\"","("]},{"r":"747","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]},{"value":["\n      "]},{"r":"760","s":[{"value":["sort by "]},{"r":"759","s":[{"r":"758","s":[{"r":"753","s":[{"value":["Global"]}]},{"value":["."]},{"r":"758","s":[{"value":["\"EarliestOf\"","("]},{"r":"754","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"755","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"770","s":[{"value":["result"]}]}]},{"value":[" as "]},{"r":"787","s":[{"value":["DateTime"]}]}]}]}]}}],"expression":{"localId":"697","locator":"40:3-44:22","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","strict":false,"type":"As","signature":[],"operand":{"localId":"770","locator":"40:3-44:10","path":"result","type":"Property","resultTypeSpecifier":{"localId":"779","type":"ChoiceTypeSpecifier","choice":[{"localId":"780","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"781","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"782","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"783","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"784","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"785","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"786","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]},"source":{"localId":"769","locator":"40:3-44:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"764","locator":"40:8-43:67","type":"Query","resultTypeSpecifier":{"localId":"765","type":"ListTypeSpecifier","elementType":{"localId":"766","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"698","locator":"40:8-40:86","alias":"TimeOfDelivery","resultTypeSpecifier":{"localId":"708","type":"ListTypeSpecifier","elementType":{"localId":"709","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"701","locator":"40:8-40:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"706","type":"ListTypeSpecifier","elementType":{"localId":"707","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"703","type":"ToList","signature":[],"operand":{"localId":"700","locator":"40:34-40:70","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Date and time of obstetric delivery","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"710","locator":"41:7-42:106","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"726","locator":"41:13-41:156","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"In","signature":[],"operand":[{"localId":"720","locator":"41:13-41:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"713","locator":"41:33-41:63","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"TimeOfDelivery","type":"Property"},{"localId":"715","locator":"41:66-41:94","path":"relevantPeriod","scope":"TimeOfDelivery","type":"Property","resultTypeSpecifier":{"localId":"718","type":"IntervalTypeSpecifier","pointType":{"localId":"719","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"722","locator":"41:104-41:156","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"723","type":"IntervalTypeSpecifier","pointType":{"localId":"724","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"721","locator":"41:147-41:155","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},{"localId":"752","locator":"42:13-42:106","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"In","signature":[],"operand":[{"localId":"727","locator":"42:13-42:45","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","strict":false,"type":"As","signature":[],"operand":{"localId":"729","locator":"42:13-42:33","path":"result","scope":"TimeOfDelivery","type":"Property","resultTypeSpecifier":{"localId":"738","type":"ChoiceTypeSpecifier","choice":[{"localId":"739","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"740","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"741","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"742","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"743","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"744","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"745","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}},"asTypeSpecifier":{"localId":"746","locator":"42:38-42:45","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"748","locator":"42:54-42:106","name":"HospitalizationWithEDOBTriageObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"749","type":"IntervalTypeSpecifier","pointType":{"localId":"750","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"747","locator":"42:97-42:105","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]}]},"sort":{"localId":"760","locator":"43:7-43:67","by":[{"localId":"759","locator":"43:15-43:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"758","locator":"43:15-43:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","libraryName":"Global","type":"FunctionRef","signature":[],"operand":[{"localId":"754","locator":"43:35-43:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"755","locator":"43:53-43:66","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"756","type":"IntervalTypeSpecifier","pointType":{"localId":"757","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}]}}}},"asTypeSpecifier":{"localId":"787","locator":"44:15-44:22","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"operand":[{"localId":"492","name":"Encounter","operandTypeSpecifier":{"localId":"491","locator":"39:48-39:69","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"226","locator":"20:1-20:15","name":"Patient","context":"Patient","expression":{"localId":"227","type":"SingletonFrom","signature":[],"operand":{"localId":"225","locator":"20:1-20:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"472","locator":"32:1-37:37","name":"Variable Calculated Gestational Age","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"472","s":[{"value":["","define ","\"Variable Calculated Gestational Age\"",":\n  //This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition.  \n  \n  "]},{"r":"690","s":[{"s":[{"r":"473","s":[{"r":"474","s":[{"s":[{"value":["\"Delivery Encounter With Age Range\""]}]}]},{"value":[" ","DeliveryEncounter"]}]}]},{"value":["\n    "]},{"s":[{"value":["let "]},{"r":"479","s":[{"value":["CGA",": "]},{"r":"484","s":[{"value":["\"CalculatedGestationalAge\"","("]},{"r":"480","s":[{"value":["DeliveryEncounter"]}]},{"value":[")"]}]}]}]},{"value":["\n    "]},{"r":"681","s":[{"value":["return "]},{"r":"682","s":[{"value":["{ "]},{"r":"683","s":[{"value":["DeliveryEncounter"]}]},{"value":[", "]},{"r":"684","s":[{"value":["CGA"]}]},{"value":[" }"]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"694","type":"ListTypeSpecifier","elementType":{"localId":"695","type":"ListTypeSpecifier","elementType":{"localId":"696","name":"{urn:hl7-org:elm-types:r1}Any","type":"NamedTypeSpecifier"}}},"expression":{"localId":"690","locator":"35:3-37:37","type":"Query","resultTypeSpecifier":{"localId":"691","type":"ListTypeSpecifier","elementType":{"localId":"692","type":"ListTypeSpecifier","elementType":{"localId":"693","name":"{urn:hl7-org:elm-types:r1}Any","type":"NamedTypeSpecifier"}}},"source":[{"localId":"473","locator":"35:3-35:55","alias":"DeliveryEncounter","resultTypeSpecifier":{"localId":"477","type":"ListTypeSpecifier","elementType":{"localId":"478","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"474","locator":"35:3-35:37","name":"Delivery Encounter With Age Range","type":"ExpressionRef","resultTypeSpecifier":{"localId":"475","type":"ListTypeSpecifier","elementType":{"localId":"476","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}],"let":[{"localId":"479","locator":"36:9-36:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","identifier":"CGA","expression":{"localId":"484","locator":"36:14-36:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CalculatedGestationalAge","type":"FunctionRef","signature":[],"operand":[{"localId":"480","locator":"36:41-36:57","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"}]}}],"relationship":[],"return":{"localId":"681","locator":"37:5-37:37","resultTypeSpecifier":{"localId":"687","type":"ListTypeSpecifier","elementType":{"localId":"688","type":"ListTypeSpecifier","elementType":{"localId":"689","name":"{urn:hl7-org:elm-types:r1}Any","type":"NamedTypeSpecifier"}}},"expression":{"localId":"682","locator":"37:12-37:37","type":"List","resultTypeSpecifier":{"localId":"685","type":"ListTypeSpecifier","elementType":{"localId":"686","name":"{urn:hl7-org:elm-types:r1}Any","type":"NamedTypeSpecifier"}},"element":[{"localId":"683","locator":"37:14-37:30","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"DeliveryEncounter","type":"AliasRef"},{"localId":"684","locator":"37:33-37:35","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"CGA","type":"QueryLetRef"}]}}}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define function \"CalculatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  // Age = (280-(Estimated Delivery Date minus Reference Date/Delivery Date))/7\n  \n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"280 - "}],"node_type":"Literal","ref_id":"1025"},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1027"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1028"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"\"LastEstimatedDeliveryDate\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1029"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1030"}],"node_type":"DifferenceBetween","ref_id":"1026"},{"children":[{"text":" )"}]}],"node_type":"DifferenceBetween","ref_id":"1026"}],"node_type":"Subtract","ref_id":"1024"},{"children":[{"text":" )"}]}],"node_type":"Subtract","ref_id":"1024"},{"children":[{"text":" div 7"}],"node_type":"Literal","ref_id":"1031"}],"node_type":"TruncatedDivide","ref_id":"1023"}],"node_type":"TruncatedDivide","ref_id":"1023"}],"ref_id":"481"}],"define_name":"CalculatedGestationalAge"},{"children":[{"children":[{"children":[{"text":"define \"Delivery Encounter With Age Range\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Encounter With Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"281"},{"children":[{"text":" EncounterWithAge"}]}],"ref_id":"280"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Procedure, Performed\": "}]},{"children":[{"children":[{"text":"\"Delivery Procedures\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"289"}],"node_type":"Retrieve","ref_id":"289"},{"children":[{"text":" DeliveryProcedure"}]}],"ref_id":"286"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"297"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"DeliveryProcedure"}]}],"ref_id":"298"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"299"}],"node_type":"Property","ref_id":"299"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"DeliveryProcedure"}]}],"ref_id":"300"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"301"}],"node_type":"Property","ref_id":"301"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"306"}],"node_type":"FunctionRef","ref_id":"306"},{"children":[{"text":" starts during "}],"node_type":"In","ref_id":"462"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"EncounterWithAge"}]}],"node_type":"AliasRef","ref_id":"311"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"315"}],"node_type":"In","ref_id":"462"}],"ref_id":"463"}],"node_type":"Query","ref_id":"466"}],"ref_id":"279"}],"define_name":"Delivery Encounter With Age Range"},{"children":[{"children":[{"children":[{"text":"define \"Encounter With Age Range\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global.\"Inpatient Encounter\""}]}]}],"node_type":"ExpressionRef","ref_id":"233"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"231"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"242"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"243"}],"node_type":"Property","ref_id":"243"}],"node_type":"Start","ref_id":"241"}],"node_type":"DateFrom","ref_id":"240"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"254"},{"children":[{"text":" \u003e= 8"}],"node_type":"Literal","ref_id":"255"}],"node_type":"GreaterOrEqual","ref_id":"239"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"259"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"260"}],"node_type":"Property","ref_id":"260"}],"node_type":"Start","ref_id":"258"}],"node_type":"DateFrom","ref_id":"257"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"271"},{"children":[{"text":" \u003c 65"}],"node_type":"Literal","ref_id":"272"}],"node_type":"Less","ref_id":"256"}],"ref_id":"238"}],"ref_id":"238"}],"node_type":"Query","ref_id":"273"}],"ref_id":"230"}],"define_name":"Encounter With Age Range"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalizationWithEDOBTriageObservation\"(Encounter \"Encounter, Performed\" ):\n  //HospitalizationWithEDOBTriageObservation returns the total interval from the start of any immediately prior emergency department visit or OB Triage visit through the observation visit to the discharge of the given encounter.\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"789"},{"children":[{"text":" Visit"}]}],"ref_id":"788"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"794"}],"node_type":"Retrieve","ref_id":"794"},{"children":[{"text":" LastObs"}]}],"ref_id":"791"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"802"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"803"}],"node_type":"Property","ref_id":"803"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"816"},{"children":[{"text":" or less on or before"}]}],"ref_id":"824"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"809"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"810"}],"node_type":"Property","ref_id":"810"}],"node_type":"Start","ref_id":"808"}],"ref_id":"824"}],"ref_id":"824"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"826"}],"node_type":"End","ref_id":"825"}],"ref_id":"829"}],"ref_id":"830"}],"ref_id":"834"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"839"}],"ref_id":"790"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"842"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"843"}],"node_type":"Property","ref_id":"843"}],"node_type":"Start","ref_id":"841"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"849"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"850"}],"node_type":"Property","ref_id":"850"}],"node_type":"Start","ref_id":"848"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"857"}],"ref_id":"840"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDOBTriageVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"ED Visit and OB Triage\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"862"}],"node_type":"Retrieve","ref_id":"862"},{"children":[{"text":" LastEDOBTriage"}]}],"ref_id":"859"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastEDOBTriage"}]}],"ref_id":"870"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"871"}],"node_type":"Property","ref_id":"871"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"878"},{"children":[{"text":" or less on or before"}]}],"ref_id":"886"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"876"}],"ref_id":"886"}],"ref_id":"886"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"888"}],"node_type":"End","ref_id":"887"}],"ref_id":"891"}],"ref_id":"892"}],"ref_id":"896"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"901"}],"ref_id":"858"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDOBTriageVisit"}]}],"ref_id":"904"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"905"}],"node_type":"Property","ref_id":"905"}],"node_type":"Start","ref_id":"903"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"910"},{"children":[{"text":")"}]}],"ref_id":"913"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"915"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"916"}],"node_type":"Property","ref_id":"916"}],"ref_id":"914"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"921"}],"ref_id":"902"}],"node_type":"Query","ref_id":"926"}],"node_type":"Query","ref_id":"926"}],"ref_id":"312"}],"define_name":"HospitalizationWithEDOBTriageObservation"},{"children":[{"children":[{"children":[{"text":"define function \"LastEstimatedDeliveryDate\"(Encounter \"Encounter, Performed\" ):\n  //This function identifies the last time the Estimated Delivery Date was assessed 42 weeks or less prior to or on delivery and stores the result of that assessment.  \n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Delivery date Estimated\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"937"}],"node_type":"Retrieve","ref_id":"937"},{"children":[{"text":" EstimatedDateOfDelivery"}]}],"ref_id":"934"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"947"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"EstimatedDateOfDelivery"}]}],"ref_id":"948"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"949"}],"node_type":"Property","ref_id":"949"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"EstimatedDateOfDelivery"}]}],"ref_id":"950"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"951"}],"node_type":"Property","ref_id":"951"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"956"}],"node_type":"FunctionRef","ref_id":"956"},{"children":[{"children":[{"children":[{"text":"42 weeks"}]}],"node_type":"Quantity","ref_id":"959"},{"children":[{"text":" or less before or on"}]}],"node_type":"And","ref_id":"967"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"957"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"958"}],"node_type":"And","ref_id":"967"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EstimatedDateOfDelivery"}]}],"ref_id":"968"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"969"}],"node_type":"Property","ref_id":"969"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"987"}],"ref_id":"946"}],"ref_id":"946"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"988"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"989"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"990"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"993"}],"node_type":"FunctionRef","ref_id":"993"}],"ref_id":"994"}],"ref_id":"995"}],"ref_id":"999"},{"children":[{"text":"\n  )"}]}],"ref_id":"1004"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1005"}],"node_type":"Property","ref_id":"1005"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1022"}],"node_type":"As","ref_id":"933"}],"node_type":"As","ref_id":"933"}],"ref_id":"586"}],"define_name":"LastEstimatedDeliveryDate"},{"children":[{"children":[{"children":[{"text":"define function \"LastEstimatedGestationalAge\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Estimated Gestational Age at Delivery\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"1039"}],"node_type":"Retrieve","ref_id":"1039"},{"children":[{"text":" EstimatedGestationalAge"}]}],"ref_id":"1036"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EGATiming: "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1048"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"1049"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"1050"}],"node_type":"Property","ref_id":"1050"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"1051"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1052"}],"node_type":"Property","ref_id":"1052"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1057"}],"node_type":"FunctionRef","ref_id":"1057"}],"ref_id":"1047"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where"}]},{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"children":[{"text":"EGATiming"}]}],"node_type":"QueryLetRef","ref_id":"1060"},{"children":[{"text":" "}]},{"children":[{"children":[{"children":[{"text":"24 hours"}]}],"node_type":"Quantity","ref_id":"1063"},{"children":[{"text":" or less before or on"}]}],"node_type":"And","ref_id":"1071"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1061"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1062"}],"node_type":"And","ref_id":"1071"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"1072"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1073"}],"node_type":"Property","ref_id":"1073"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"1091"}],"node_type":"And","ref_id":"1059"},{"children":[{"text":"\n      )"}]}],"node_type":"And","ref_id":"1059"},{"children":[{"text":"\n        or"}]},{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"EGATiming"}]}],"node_type":"QueryLetRef","ref_id":"1094"},{"children":[{"text":" same day as "}],"node_type":"SameAs","ref_id":"1097"},{"children":[{"children":[{"text":"\"LastTimeOfDelivery\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1095"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1096"}],"node_type":"SameAs","ref_id":"1097"},{"children":[{"text":"\n            and "}]},{"children":[{"children":[{"children":[{"text":"EGATiming"}]}],"node_type":"QueryLetRef","ref_id":"1098"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"1104"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1099"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1100"}],"node_type":"In","ref_id":"1104"}],"node_type":"And","ref_id":"1093"},{"children":[{"text":"\n            and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EstimatedGestationalAge"}]}],"ref_id":"1105"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1106"}],"node_type":"Property","ref_id":"1106"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"1124"}],"node_type":"And","ref_id":"1092"},{"children":[{"text":"\n        )"}]}],"node_type":"And","ref_id":"1092"}],"ref_id":"1058"}],"ref_id":"1058"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"1125"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"1126"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1127"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1130"}],"node_type":"FunctionRef","ref_id":"1130"}],"ref_id":"1131"}],"ref_id":"1132"}],"ref_id":"1136"},{"children":[{"text":"\n  )"}]}],"ref_id":"1141"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"1142"}],"node_type":"Property","ref_id":"1142"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"Quantity"}]}],"ref_id":"1159"}],"node_type":"As","ref_id":"1035"}],"node_type":"As","ref_id":"1035"}],"ref_id":"1032"}],"define_name":"LastEstimatedGestationalAge"},{"children":[{"children":[{"children":[{"text":"define function \"LastTimeOfDelivery\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Date and time of obstetric delivery\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"701"}],"node_type":"Retrieve","ref_id":"701"},{"children":[{"text":" TimeOfDelivery"}]}],"ref_id":"698"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"711"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"children":[{"text":"TimeOfDelivery"}]}],"ref_id":"712"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"713"}],"node_type":"Property","ref_id":"713"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TimeOfDelivery"}]}],"ref_id":"714"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"715"}],"node_type":"Property","ref_id":"715"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"720"}],"node_type":"FunctionRef","ref_id":"720"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"726"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"721"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"722"}],"node_type":"In","ref_id":"726"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"TimeOfDelivery"}]}],"ref_id":"728"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"729"}],"node_type":"Property","ref_id":"729"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"746"}],"node_type":"As","ref_id":"727"},{"children":[{"text":" during "}],"node_type":"In","ref_id":"752"},{"children":[{"children":[{"text":"\"HospitalizationWithEDOBTriageObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"747"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"748"}],"node_type":"In","ref_id":"752"}],"ref_id":"710"}],"ref_id":"710"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"753"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"EarliestOf\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"754"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"755"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"758"}],"node_type":"FunctionRef","ref_id":"758"}],"ref_id":"759"}],"ref_id":"760"}],"ref_id":"764"},{"children":[{"text":"\n  )"}]}],"ref_id":"769"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"770"}],"node_type":"Property","ref_id":"770"},{"children":[{"text":" as "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"787"}],"node_type":"As","ref_id":"697"}],"node_type":"As","ref_id":"697"}],"ref_id":"490"}],"define_name":"LastTimeOfDelivery"},{"children":[{"children":[{"children":[{"text":"define \"Variable Calculated Gestational Age\":\n  //This definition establishes a variable of CGA (Calculated Gestational Age).  CGA is a supplemental data element to store the calculated gestational age result from the \"CalculatedGestationalAge\" function.  The data element enables the capturing and saving of the CGA for data analysis post data receipt. Hospitals do not need to submit any additional data to comply with this definition.  \n  \n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Delivery Encounter With Age Range\""}]}]}],"node_type":"ExpressionRef","ref_id":"474"},{"children":[{"text":" DeliveryEncounter"}]}],"ref_id":"473"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"CGA: "}]},{"children":[{"children":[{"text":"\"CalculatedGestationalAge\"("}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"node_type":"AliasRef","ref_id":"480"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"484"}],"ref_id":"479"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"text":"DeliveryEncounter"}]}],"ref_id":"683"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"CGA"}]}],"ref_id":"684"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"682"}],"ref_id":"681"}],"node_type":"Query","ref_id":"690"}],"ref_id":"472"}],"define_name":"Variable Calculated Gestational Age"}],"identifier":{"id":"PCMaternalQDM","version":"5.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"PCMaternalQDM","library_version":"5.0.000","statement_dependencies":[{"_id":"689202f310d20757c0cef983","statement_name":"Delivery Encounter With Age Range","statement_references":[{"_id":"689202f310d20757c0cef973","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Encounter With Age Range"},{"_id":"689202f310d20757c0cef974","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"},{"_id":"689202f310d20757c0cef975","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"689202f310d20757c0cef984","statement_name":"Encounter With Age Range","statement_references":[{"_id":"689202f310d20757c0cef976","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"Inpatient Encounter"},{"_id":"689202f310d20757c0cef977","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Patient"}]},{"_id":"689202f310d20757c0cef985","statement_name":"Patient"},{"_id":"689202f310d20757c0cef986","statement_name":"HospitalizationWithEDOBTriageObservation"},{"_id":"689202f310d20757c0cef987","statement_name":"CalculatedGestationalAge","statement_references":[{"_id":"689202f310d20757c0cef978","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"},{"_id":"689202f310d20757c0cef979","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastEstimatedDeliveryDate"}]},{"_id":"689202f310d20757c0cef988","statement_name":"LastTimeOfDelivery","statement_references":[{"_id":"689202f310d20757c0cef97a","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef97b","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"689202f310d20757c0cef989","statement_name":"LastEstimatedDeliveryDate","statement_references":[{"_id":"689202f310d20757c0cef97c","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef97d","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"}]},{"_id":"689202f310d20757c0cef98a","statement_name":"LastEstimatedGestationalAge","statement_references":[{"_id":"689202f310d20757c0cef97e","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"EarliestOf"},{"_id":"689202f310d20757c0cef97f","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"LastTimeOfDelivery"},{"_id":"689202f310d20757c0cef980","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"HospitalizationWithEDOBTriageObservation"}]},{"_id":"689202f310d20757c0cef98b","statement_name":"Variable Calculated Gestational Age","statement_references":[{"_id":"689202f310d20757c0cef981","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"Delivery Encounter With Age Range"},{"_id":"689202f310d20757c0cef982","hqmf_id":null,"library_name":"PCMaternalQDM","statement_name":"CalculatedGestationalAge"}]}]}],"created_at":null,"description":"Nulliparous patients with a term, singleton baby in a vertex position delivered by cesarean birth","hqmf_id":"77FF65A8-93B3-4919-8D9B-D80024EE4520","hqmf_set_id":"FC52D0DE-B53D-4CCF-816E-1E527748D2D9","hqmf_version_number":"7.1.000","main_cql_library":"CMS334PCCesareanBirth","measure_attributes":[{"code":"OTH","value":"334","name":"CMS ID","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CMS ID"},"value_obj":{"type":"ED","value":"334","media_type":"text/plain"}},{"code":"OTH","value":"0471e","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"0471e","media_type":"text/plain"}},{"code":"COPY","value":"Measure specifications are in the Public Domain. LOINC(R) copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2024 World Health Organization. All Rights Reserved.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"Measure specifications are in the Public Domain. LOINC(R) copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2024 World Health Organization. All Rights Reserved.","media_type":"text/plain"}},{"code":"DISC","value":"These performance measures are not clinical guidelines, do not establish a standard of medical care, and have not been tested for all potential applications. The measures and specifications are provided without warranty.","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"These performance measures are not clinical guidelines, do not establish a standard of medical care, and have not been tested for all potential applications. The measures and specifications are provided without warranty.","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"OUTCOME","title":"Outcome"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"The removal of any pressure to not perform a cesarean birth has led to a skyrocketing of hospital, state and national cesarean birth (CB) rates. Some hospitals CB rates were over 50%. Hospitals with CB rates at 15-20% have infant outcomes that are just as good and better maternal outcomes (Symum \u0026 Zayas-Castro, 2023). There is no data that higher rates improve any outcomes, yet the CB rates continue to rise (Bailit, Garrett, Miller, McMahon, \u0026 Cefalo, 2002; Main, Bloomfield, \u0026 Hunt, 2004). This measure seeks to focus attention on the most variable portion of the CB epidemic, the term labor CB in nulliparous patients. This population segment accounts for the large majority of the variable portion of the CB rate and is the area most affected by subjectivity. As compared to other CB measures, what is different about Nulliparous, Term, Singleton, Vertex (NTSV) CB rate is that there are clear cut quality improvement activities that can be done to address the differences. Main et al. (2012) found that over 60% of the variation among hospitals can be attributed to first birth labor induction rates and first birth early labor admission rates (Main et al., 2006). The results showed if labor was forced when the cervix was not ready the outcomes were poorer. Rosenstein et al. (2021) also showed that labor and delivery guidelines can make a difference in labor outcomes. Many authors have shown that physician factors, rather than patient characteristics or obstetric diagnoses are the major driver for the difference in rates within a hospital (Berkowitz, Fiarman, Mojica, Bauman, \u0026 de Regt, 1989; Goyert, Bottoms, Treadwell, \u0026 Nehra, 1989; Luthy, Malmgren, Zingheim, \u0026 Leininger, 2003; Symum \u0026 Zayas-Castro, 2023; Main et al., 2006). The dramatic variation in cesarean rates seen in all populations studied is striking. Cesarean rates varied tenfold in US hospitals nationwide across hospitals (Agency for Healthcare Research and Quality [AHRQ], 2002), from 7.1% to 69.9%, and there was a 15-fold variation among low-risk women, from 2.4% to 36.5% (Kozhimannil, Law, \u0026 Virnig, 2013). A reduction in the number of NTSV patients delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs (Main et al., 2019). Successful quality improvement efforts incorporate audit and feedback strategies combined with provider and nurse education, guidelines and peer review. The measure will assist health care organizations to track NTSV patients delivering by cesarean birth to reduce the occurrence. Nulliparous patients have 4-6 times the cesarean birth rate than multiparous patients thus the NTSV population is the largest driver of primary cesarean birth rate (Sakala, Belanoff, \u0026 Declercq, 2020). NTSV has a large variation among facilities, thus identifying an important population on which to focus quality improvement efforts. In accordance with the American College of Obstetricians and Gynecologists (ACOG) recommendations (2020), cesarean delivery is indicated for patients with active genital lesions of genital herpes or prodromal symptoms (i.e., vulvar pain or burning at delivery) that may indicate viral shedding. Therefore, the measure will exclude encounters with a diagnosis of active genital herpes. In addition, the accepted approach to treat placenta accreta spectrum, or the range of pathologic adherence of the placenta that includes placenta increta, placenta percreta, and placenta accreta, as well as placenta previa, is cesarean delivery (ACOG \u0026 Society for Maternal-Fetal Medicine (SMFM), 2018). Vasa previa is an indication for cesarean delivery (SMFM Publications Committee, Sinkey, Odibo, \u0026 Dashe, 2015). Accordingly, placenta previa, vasa previa, and placenta accreta spectrum are all qualifying conditions to also be excluded from the measure. Ultimately, a reduction in primary cesarean births will reduce the number of patients having repeat cesarean births (almost 90% of mothers who have a primary cesarean birth will have subsequent cesarean birth (Centers for Disease Control and Prevention, 2020)). Thus, improvement in the rates of cesarean birth for the first birth will reduce the morbidity of all future births and avoid all the controversies with trial of labor after cesarean/elective repeat cesareans.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"The removal of any pressure to not perform a cesarean birth has led to a skyrocketing of hospital, state and national cesarean birth (CB) rates. Some hospitals CB rates were over 50%. Hospitals with CB rates at 15-20% have infant outcomes that are just as good and better maternal outcomes (Symum \u0026 Zayas-Castro, 2023). There is no data that higher rates improve any outcomes, yet the CB rates continue to rise (Bailit, Garrett, Miller, McMahon, \u0026 Cefalo, 2002; Main, Bloomfield, \u0026 Hunt, 2004). This measure seeks to focus attention on the most variable portion of the CB epidemic, the term labor CB in nulliparous patients. This population segment accounts for the large majority of the variable portion of the CB rate and is the area most affected by subjectivity. As compared to other CB measures, what is different about Nulliparous, Term, Singleton, Vertex (NTSV) CB rate is that there are clear cut quality improvement activities that can be done to address the differences. Main et al. (2012) found that over 60% of the variation among hospitals can be attributed to first birth labor induction rates and first birth early labor admission rates (Main et al., 2006). The results showed if labor was forced when the cervix was not ready the outcomes were poorer. Rosenstein et al. (2021) also showed that labor and delivery guidelines can make a difference in labor outcomes. Many authors have shown that physician factors, rather than patient characteristics or obstetric diagnoses are the major driver for the difference in rates within a hospital (Berkowitz, Fiarman, Mojica, Bauman, \u0026 de Regt, 1989; Goyert, Bottoms, Treadwell, \u0026 Nehra, 1989; Luthy, Malmgren, Zingheim, \u0026 Leininger, 2003; Symum \u0026 Zayas-Castro, 2023; Main et al., 2006). The dramatic variation in cesarean rates seen in all populations studied is striking. Cesarean rates varied tenfold in US hospitals nationwide across hospitals (Agency for Healthcare Research and Quality [AHRQ], 2002), from 7.1% to 69.9%, and there was a 15-fold variation among low-risk women, from 2.4% to 36.5% (Kozhimannil, Law, \u0026 Virnig, 2013). A reduction in the number of NTSV patients delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs (Main et al., 2019). Successful quality improvement efforts incorporate audit and feedback strategies combined with provider and nurse education, guidelines and peer review. The measure will assist health care organizations to track NTSV patients delivering by cesarean birth to reduce the occurrence. Nulliparous patients have 4-6 times the cesarean birth rate than multiparous patients thus the NTSV population is the largest driver of primary cesarean birth rate (Sakala, Belanoff, \u0026 Declercq, 2020). NTSV has a large variation among facilities, thus identifying an important population on which to focus quality improvement efforts. In accordance with the American College of Obstetricians and Gynecologists (ACOG) recommendations (2020), cesarean delivery is indicated for patients with active genital lesions of genital herpes or prodromal symptoms (i.e., vulvar pain or burning at delivery) that may indicate viral shedding. Therefore, the measure will exclude encounters with a diagnosis of active genital herpes. In addition, the accepted approach to treat placenta accreta spectrum, or the range of pathologic adherence of the placenta that includes placenta increta, placenta percreta, and placenta accreta, as well as placenta previa, is cesarean delivery (ACOG \u0026 Society for Maternal-Fetal Medicine (SMFM), 2018). Vasa previa is an indication for cesarean delivery (SMFM Publications Committee, Sinkey, Odibo, \u0026 Dashe, 2015). Accordingly, placenta previa, vasa previa, and placenta accreta spectrum are all qualifying conditions to also be excluded from the measure. Ultimately, a reduction in primary cesarean births will reduce the number of patients having repeat cesarean births (almost 90% of mothers who have a primary cesarean birth will have subsequent cesarean birth (Centers for Disease Control and Prevention, 2020)). Thus, improvement in the rates of cesarean birth for the first birth will reduce the morbidity of all future births and avoid all the controversies with trial of labor after cesarean/elective repeat cesareans.","media_type":"text/plain"}},{"code":"CRS","value":"The ACOG report, Evaluation of Cesarean Delivery (2000), recognizes the importance of the Nulliparous, Term, Singleton, Vertex (NTSV) population as the optimal focus for measurement and quality improvement action. A reduction in the number of nulliparous patients with live term singleton newborns in vertex position delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs.","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"The ACOG report, Evaluation of Cesarean Delivery (2000), recognizes the importance of the Nulliparous, Term, Singleton, Vertex (NTSV) population as the optimal focus for measurement and quality improvement action. A reduction in the number of nulliparous patients with live term singleton newborns in vertex position delivering by cesarean birth will result in increased patient safety, a substantial decrease in maternal and neonatal morbidity and substantial savings in health care costs.","media_type":"text/plain"}},{"code":"IDUR","value":"Decreased score indicates improvement - The Joint Commission does not encourage inappropriately low Cesarean rates that may be unsafe to patients. Acceptable PC-02 rates are 30% or lower, however there is not an established threshold for what rate may be too low. PC-06 serves as a balancing measure for PC-02 to guard against any unanticipated or unintended consequences and to identify unforeseen complications that might arise as a result of quality improvement activities and efforts for this measure. In order to identify areas for improvement, hospitals may want to review results based on specific ICD-10 codes or patient populations. Data could then be analyzed further to determine specific patterns or trends to help reduce cesarean births.","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Decreased score indicates improvement - The Joint Commission does not encourage inappropriately low Cesarean rates that may be unsafe to patients. Acceptable PC-02 rates are 30% or lower, however there is not an established threshold for what rate may be too low. PC-06 serves as a balancing measure for PC-02 to guard against any unanticipated or unintended consequences and to identify unforeseen complications that might arise as a result of quality improvement activities and efforts for this measure. In order to identify areas for improvement, hospitals may want to review results based on specific ICD-10 codes or patient populations. Data could then be analyzed further to determine specific patterns or trends to help reduce cesarean births.","media_type":"text/plain"}},{"code":"REF","value":"CITATION Agency for Healthcare Research and Quality. (2002). AHRQ Quality Indicators Guide to Inpatient Quality Indicators: Quality of Care in Hospitals Volume, Mortality, and Utilization. Revision 4 (2004, December 22). AHRQ Pub. No. 02-RO204.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Agency for Healthcare Research and Quality. (2002). AHRQ Quality Indicators Guide to Inpatient Quality Indicators: Quality of Care in Hospitals Volume, Mortality, and Utilization. Revision 4 (2004, December 22). AHRQ Pub. No. 02-RO204.","media_type":"text/plain"}},{"code":"REF","value":"CITATION American College of Obstetricians and Gynecologists, \u0026 Society for Maternal-Fetal Medicine. (2018). Obstetric Care Consensus No. 7: Placenta Accreta Spectrum. Obstetrics and Gynecology, 132(6), e259e275. https://doi.org/10.1097/AOG.0000000000002983","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION American College of Obstetricians and Gynecologists, \u0026 Society for Maternal-Fetal Medicine. (2018). Obstetric Care Consensus No. 7: Placenta Accreta Spectrum. Obstetrics and Gynecology, 132(6), e259e275. https://doi.org/10.1097/AOG.0000000000002983","media_type":"text/plain"}},{"code":"REF","value":"CITATION American College of Obstetricians and Gynecologists. (2000). Task Force on Cesarean Delivery Rates. Evaluation of Cesarean Delivery. (Developed under the direction of the Task Force on Cesarean Delivery Rates, Roger K. Freeman, MD, Chair, Arnold W. Cohen, MD, Richard Depp III, MD, Fredric D. Frigoletto Jr, MD, Gary D.V. Hankins, MD, Ellice Lieberman, MD, DrPH, M. Kathryn Menard, MD, David A. Nagey, MD, Carol W. Saffold, MD, Lisa Sams, RNC, MSN and ACOG Staff: Stanley Zinberg, MD, MS, Debra A. Hawks, MPH, and Elizabeth Steele)","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION American College of Obstetricians and Gynecologists. (2000). Task Force on Cesarean Delivery Rates. Evaluation of Cesarean Delivery. (Developed under the direction of the Task Force on Cesarean Delivery Rates, Roger K. Freeman, MD, Chair, Arnold W. Cohen, MD, Richard Depp III, MD, Fredric D. Frigoletto Jr, MD, Gary D.V. Hankins, MD, Ellice Lieberman, MD, DrPH, M. Kathryn Menard, MD, David A. Nagey, MD, Carol W. Saffold, MD, Lisa Sams, RNC, MSN and ACOG Staff: Stanley Zinberg, MD, MS, Debra A. Hawks, MPH, and Elizabeth Steele)","media_type":"text/plain"}},{"code":"REF","value":"CITATION American College of Obstetricians and Gynecologists. (2014). Revitalize: Obstetrics Data Definitions Version 1.0. American College of Obstetricians and Gynecologists. Revitalize: Obstetrics Data Definitions Version 1.0 - Search (bing.com)","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION American College of Obstetricians and Gynecologists. (2014). Revitalize: Obstetrics Data Definitions Version 1.0. American College of Obstetricians and Gynecologists. Revitalize: Obstetrics Data Definitions Version 1.0 - Search (bing.com)","media_type":"text/plain"}},{"code":"REF","value":"CITATION American College of Obstetricians and Gynecologists. (2020). ACOG Practice Bulletin Number 220: Management of Genital Herpes in Pregnancy. Obstetrics \u0026 Gynecology, 135(5), e193-e200.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION American College of Obstetricians and Gynecologists. (2020). ACOG Practice Bulletin Number 220: Management of Genital Herpes in Pregnancy. Obstetrics \u0026 Gynecology, 135(5), e193-e200.","media_type":"text/plain"}},{"code":"REF","value":"CITATION Bailit, J.L., Garrett, J.M., Miller, W.C., McMahon, M.J., \u0026 Cefalo, R.C. (2002). Hospital primary cesarean delivery rates and the risk of poor neonatal outcomes. American Journal of Obstetrics \u0026 Gynecology, 187(3):721-727. https://doi.org/10.1067/mob.2002.125886","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Bailit, J.L., Garrett, J.M., Miller, W.C., McMahon, M.J., \u0026 Cefalo, R.C. (2002). Hospital primary cesarean delivery rates and the risk of poor neonatal outcomes. American Journal of Obstetrics \u0026 Gynecology, 187(3):721-727. https://doi.org/10.1067/mob.2002.125886","media_type":"text/plain"}},{"code":"REF","value":"CITATION Berkowitz, G. S., Fiarman, G. S., Mojica, M. A., Bauman, J., \u0026 de Regt, R. H. (1989). Effect of physician characteristics on the cesarean birth rate. American Journal of Obstetrics and Gynecology, 161(1), 146149. https://doi.org/10.1016/0002-9378(89)90252-4","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Berkowitz, G. S., Fiarman, G. S., Mojica, M. A., Bauman, J., \u0026 de Regt, R. H. (1989). Effect of physician characteristics on the cesarean birth rate. American Journal of Obstetrics and Gynecology, 161(1), 146149. https://doi.org/10.1016/0002-9378(89)90252-4","media_type":"text/plain"}},{"code":"REF","value":"CITATION Centers for Disease Control and Prevention. (2020) Recent trends in vaginal birth after cesarean delivery: United States, 2016-2018. Retrieved from National Center for Health Statistics: https://www.cdc.gov/nchs/products/databriefs/db359.htm","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Centers for Disease Control and Prevention. (2020) Recent trends in vaginal birth after cesarean delivery: United States, 2016-2018. Retrieved from National Center for Health Statistics: https://www.cdc.gov/nchs/products/databriefs/db359.htm","media_type":"text/plain"}},{"code":"REF","value":"CITATION Goyert, G. L., Bottoms, S. F., Treadwell, M. C., \u0026 Nehra, P. C. (1989). The physician factor in cesarean birth rates. The New England Journal of Medicine, 320(11), 706709. https://doi.org/10.1056/NEJM198903163201106","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Goyert, G. L., Bottoms, S. F., Treadwell, M. C., \u0026 Nehra, P. C. (1989). The physician factor in cesarean birth rates. The New England Journal of Medicine, 320(11), 706709. https://doi.org/10.1056/NEJM198903163201106","media_type":"text/plain"}},{"code":"REF","value":"CITATION Kozhimannil, K. B., Law, M. R., \u0026 Virnig, B. A. (2013). Cesarean delivery rates vary tenfold among US hospitals; reducing variation may address quality and cost issues. Health Affairs, 32(3), 527535. https://doi.org/10.1377/hlthaff.2012.1030","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Kozhimannil, K. B., Law, M. R., \u0026 Virnig, B. A. (2013). Cesarean delivery rates vary tenfold among US hospitals; reducing variation may address quality and cost issues. Health Affairs, 32(3), 527535. https://doi.org/10.1377/hlthaff.2012.1030","media_type":"text/plain"}},{"code":"REF","value":"CITATION Luthy, D. A., Malmgren, J. A., Zingheim, R. W., \u0026 Leininger, C. J. (2003). Physician contribution to a cesarean delivery risk model. American Journal of Obstetrics and Gynecology, 188(6), 15791587. https://doi.org/10.1067/mob.2003.389","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Luthy, D. A., Malmgren, J. A., Zingheim, R. W., \u0026 Leininger, C. J. (2003). Physician contribution to a cesarean delivery risk model. American Journal of Obstetrics and Gynecology, 188(6), 15791587. https://doi.org/10.1067/mob.2003.389","media_type":"text/plain"}},{"code":"REF","value":"CITATION Main E.K., Bloomfield, L., \u0026 Hunt, G. (2004). Development of a large-scale obstetric quality-improvement program that focused on the nulliparous patient at term. American Journal of Obstetrics and Gynecology, 190(6), 1747-56. https://doi.org/10.1016/j.ajog.2004.02.055","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Main E.K., Bloomfield, L., \u0026 Hunt, G. (2004). Development of a large-scale obstetric quality-improvement program that focused on the nulliparous patient at term. American Journal of Obstetrics and Gynecology, 190(6), 1747-56. https://doi.org/10.1016/j.ajog.2004.02.055","media_type":"text/plain"}},{"code":"REF","value":"CITATION Main, E. K., Chang, S. C., Cape, V., Sakowski, C., Smith, H., \u0026 Vasher, J. (2019). Safety assessment of a large-scale improvement collaborative to reduce nulliparous cesarean delivery rates. Obstetrics and Gynecology, 133(4), 613623. https://doi.org/10.1097/AOG.0000000000003109","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Main, E. K., Chang, S. C., Cape, V., Sakowski, C., Smith, H., \u0026 Vasher, J. (2019). Safety assessment of a large-scale improvement collaborative to reduce nulliparous cesarean delivery rates. Obstetrics and Gynecology, 133(4), 613623. https://doi.org/10.1097/AOG.0000000000003109","media_type":"text/plain"}},{"code":"REF","value":"CITATION Main, E. K., Moore, D., Farrell, B., Schimmel, L. D., Altman, R. J., Abrahams, C., . . . Sterling, J. (2006). Is there a useful cesarean birth measure? Assessment of the nulliparous term singleton vertex cesarean birth rate as a tool for obstetric quality improvement. American Journal of Obstetrics and Gynecology, 194(6), 16441651. https://doi.org/10.1016/j.ajog.2006.03.013","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Main, E. K., Moore, D., Farrell, B., Schimmel, L. D., Altman, R. J., Abrahams, C., . . . Sterling, J. (2006). Is there a useful cesarean birth measure? Assessment of the nulliparous term singleton vertex cesarean birth rate as a tool for obstetric quality improvement. American Journal of Obstetrics and Gynecology, 194(6), 16441651. https://doi.org/10.1016/j.ajog.2006.03.013","media_type":"text/plain"}},{"code":"REF","value":"CITATION Main, E. K., Morton, C. H., Melsop, K., Hopkins, D., Giuliani, G., \u0026 Gould, J. B. (2012). Creating a public agenda for maternity safety and quality in cesarean delivery. Obstetrics and Gynecology, 120(5), 11941198. https://doi.org/10.1097/aog.0b013e31826fc13d","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Main, E. K., Morton, C. H., Melsop, K., Hopkins, D., Giuliani, G., \u0026 Gould, J. B. (2012). Creating a public agenda for maternity safety and quality in cesarean delivery. Obstetrics and Gynecology, 120(5), 11941198. https://doi.org/10.1097/aog.0b013e31826fc13d","media_type":"text/plain"}},{"code":"REF","value":"CITATION Rosenstein, M. G., Chang, S. C., Sakowski, C., Markow, C., Teleki, S., Lang, L., . . . Main, E. K. (2021). Hospital quality improvement interventions, statewide policy initiatives, and rates of cesarean delivery for nulliparous, term, singleton, vertex births in California. JAMA, 325(16), 16311639. https://doi.org/10.1001/jama.2021.3816","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Rosenstein, M. G., Chang, S. C., Sakowski, C., Markow, C., Teleki, S., Lang, L., . . . Main, E. K. (2021). Hospital quality improvement interventions, statewide policy initiatives, and rates of cesarean delivery for nulliparous, term, singleton, vertex births in California. JAMA, 325(16), 16311639. https://doi.org/10.1001/jama.2021.3816","media_type":"text/plain"}},{"code":"REF","value":"CITATION Sakala, C., Belanoff, C., \u0026 Declercq, E. R. (2020). Factors Associated with Unplanned Primary Cesarean Birth: Secondary analysis of the listening to mothers in california survey. BMC Pregnancy and Childbirth, 20(1), 462. https://doi.org/10.1186/s12884-020-03095-4","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Sakala, C., Belanoff, C., \u0026 Declercq, E. R. (2020). Factors Associated with Unplanned Primary Cesarean Birth: Secondary analysis of the listening to mothers in california survey. BMC Pregnancy and Childbirth, 20(1), 462. https://doi.org/10.1186/s12884-020-03095-4","media_type":"text/plain"}},{"code":"REF","value":"CITATION Society of Maternal-Fetal (SMFM) Publications Committee, Sinkey, R. G., Odibo, A. O., \u0026 Dashe, J. S. (2015). #37: Diagnosis and management of vasa previa. American Journal of Obstetrics \u0026 Gynecology, 213(5), 615-619. https://doi.org/10.1016/j.ajog.2015.08.031","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Society of Maternal-Fetal (SMFM) Publications Committee, Sinkey, R. G., Odibo, A. O., \u0026 Dashe, J. S. (2015). #37: Diagnosis and management of vasa previa. American Journal of Obstetrics \u0026 Gynecology, 213(5), 615-619. https://doi.org/10.1016/j.ajog.2015.08.031","media_type":"text/plain"}},{"code":"REF","value":"CITATION Symum, H., \u0026 Zayas-Castro, J. L. (2023). A multistate decomposition analysis of cesarean rate variations, associated health outcomes, and financial implications in the United States. American Journal of Perinatology, 40(13), 1473-1483. https://doi.org/10.1055/s-0041-1736538","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Symum, H., \u0026 Zayas-Castro, J. L. (2023). A multistate decomposition analysis of cesarean rate variations, associated health outcomes, and financial implications in the United States. American Journal of Perinatology, 40(13), 1473-1483. https://doi.org/10.1055/s-0041-1736538","media_type":"text/plain"}},{"code":"DEF","value":"Parity: The number of pregnancies reaching 20 weeks gestation regardless of the number of fetuses or outcomes Gravidity: The number of pregnancies, current and past, regardless of the pregnancy outcome Preterm Birth: The number of births \u003e= 20 weeks and \u003c 37 weeks gestation, regardless of outcome Term Birth: The number of births \u003e= 37 weeks gestation, regardless of outcome Nulliparous: Parity = 0 or Gravidity = 1 or Preterm \u0026 Term Births both = 0","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Parity: The number of pregnancies reaching 20 weeks gestation regardless of the number of fetuses or outcomes Gravidity: The number of pregnancies, current and past, regardless of the pregnancy outcome Preterm Birth: The number of births \u003e= 20 weeks and \u003c 37 weeks gestation, regardless of outcome Term Birth: The number of births \u003e= 37 weeks gestation, regardless of outcome Nulliparous: Parity = 0 or Gravidity = 1 or Preterm \u0026 Term Births both = 0","media_type":"text/plain"}},{"code":"GUIDE","value":"Vertex position is modeled implicitly, as the measure excludes deliveries with abnormal presentations. Patients who do not receive prenatal care and have no documented gestational age or estimated due date are implicitly excluded from the measure, as gestational age is required to meet denominator criteria. This measure allows for 3 approaches to determine gestational age (GA) in the following order of precedence: 1. The GA is calculated using the American College of Obstetricians and Gynecologists ReVITALize guidelines.* 2. When the calculated GA is not available, the GA is obtained from a discrete field in the electronic health record. The intent is to capture the last estimated GA in the interval starting 24 hours or less prior to delivery and ending before midnight on the same day of delivery. 3. The GA is based on ICD10 or SNOMED codes indicative of weeks gestation. This option is only used when results from items #1 and #2 (see above) are not available. *ACOG ReVITALize Guidelines for Calculating Gestational Age (ACOG, 2014): Gestational Age = (280-(EDD minus Reference Date))/7 --Estimated Due Date (EDD): The best obstetrical Estimated Due Date is determined by last menstrual period if confirmed by early ultrasound or no ultrasound performed, or early ultrasound if no known last menstrual period or the ultrasound is not consistent with last menstrual period, or known date of fertilization (e.g., assisted reproductive technology) --Reference Date is the date on which you are trying to determine gestational age. For purposes of this eCQM, Reference Date would be the Date of Delivery. Note however the calculation may yield a non-whole number, and gestational age should be rounded off to the nearest completed week. For example, an infant born on the 5th day of the 36th week (35 weeks and 5/7 days) is at a gestational age of 35 weeks, not 36 weeks. The timing relationship of relevantDatetime 42 weeks or less before TimeOfDelivery is applied to the data elements of parity, gravida, preterm/term live births for which prenatal records may include relevant information. Note: The eCQM and chart-based measure slightly digress in the denominator and denominator exclusion logic. The chart-based measure excludes single stillbirth and patients with multiple gestations from the denominator. These concepts are mutually exclusive of the denominator requirement of live singleton newborn and therefore the logic does not address single stillbirth nor multiple gestation. Parity, preterm and term live births may be updated by the electronic health record software or by clinicians during a delivery encounter. To capture the pre-delivery value, organizations may need to create a rule or calculation to capture the number prior to the delivery start time. \"Gravida\", \"PretermBirth\", \"TermBirth\" and \"Parity\" results should be submitted via QRDA I as integer and not as number or quantity. This eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period. This version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"Vertex position is modeled implicitly, as the measure excludes deliveries with abnormal presentations. Patients who do not receive prenatal care and have no documented gestational age or estimated due date are implicitly excluded from the measure, as gestational age is required to meet denominator criteria. This measure allows for 3 approaches to determine gestational age (GA) in the following order of precedence: 1. The GA is calculated using the American College of Obstetricians and Gynecologists ReVITALize guidelines.* 2. When the calculated GA is not available, the GA is obtained from a discrete field in the electronic health record. The intent is to capture the last estimated GA in the interval starting 24 hours or less prior to delivery and ending before midnight on the same day of delivery. 3. The GA is based on ICD10 or SNOMED codes indicative of weeks gestation. This option is only used when results from items #1 and #2 (see above) are not available. *ACOG ReVITALize Guidelines for Calculating Gestational Age (ACOG, 2014): Gestational Age = (280-(EDD minus Reference Date))/7 --Estimated Due Date (EDD): The best obstetrical Estimated Due Date is determined by last menstrual period if confirmed by early ultrasound or no ultrasound performed, or early ultrasound if no known last menstrual period or the ultrasound is not consistent with last menstrual period, or known date of fertilization (e.g., assisted reproductive technology) --Reference Date is the date on which you are trying to determine gestational age. For purposes of this eCQM, Reference Date would be the Date of Delivery. Note however the calculation may yield a non-whole number, and gestational age should be rounded off to the nearest completed week. For example, an infant born on the 5th day of the 36th week (35 weeks and 5/7 days) is at a gestational age of 35 weeks, not 36 weeks. The timing relationship of relevantDatetime 42 weeks or less before TimeOfDelivery is applied to the data elements of parity, gravida, preterm/term live births for which prenatal records may include relevant information. Note: The eCQM and chart-based measure slightly digress in the denominator and denominator exclusion logic. The chart-based measure excludes single stillbirth and patients with multiple gestations from the denominator. These concepts are mutually exclusive of the denominator requirement of live singleton newborn and therefore the logic does not address single stillbirth nor multiple gestation. Parity, preterm and term live births may be updated by the electronic health record software or by clinicians during a delivery encounter. To capture the pre-delivery value, organizations may need to create a rule or calculation to capture the number prior to the delivery start time. \"Gravida\", \"PretermBirth\", \"TermBirth\" and \"Parity\" results should be submitted via QRDA I as integer and not as number or quantity. This eCQM is an episode-based measure. An episode is defined as each inpatient hospitalization or encounter that ends during the measurement period. This version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"Inpatient hospitalizations for patients age \u003e= 8 years and \u003c 65 admitted to the hospital for inpatient acute care who undergo a delivery procedure with a discharge date that ends during the measurement period","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients age \u003e= 8 years and \u003c 65 admitted to the hospital for inpatient acute care who undergo a delivery procedure with a discharge date that ends during the measurement period","media_type":"text/plain"}},{"code":"DENOM","value":"Inpatient hospitalizations for nulliparous patients who delivered a live term singleton newborn \u003e= 37 weeks' gestation See Guidance and Definition Sections for more details.","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for nulliparous patients who delivered a live term singleton newborn \u003e= 37 weeks' gestation See Guidance and Definition Sections for more details.","media_type":"text/plain"}},{"code":"DENEX","value":"Inpatient hospitalizations for patients with any of the following conditions during the encounter: - abnormal presentation - genital herpes - placenta previa - vasa previa - placenta accreta spectrum","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients with any of the following conditions during the encounter: - abnormal presentation - genital herpes - placenta previa - vasa previa - placenta accreta spectrum","media_type":"text/plain"}},{"code":"NUMER","value":"Inpatient hospitalizations for patients who deliver by cesarean section","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Inpatient hospitalizations for patients who deliver by cesarean section","media_type":"text/plain"}},{"code":"NUMEX","value":"None","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity, sex and calculated gestational age","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity, sex and calculated gestational age","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"6C878F86-5B24-4B60-B65E-F050C4AB5207","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"CMS334PCCesareanBirth__Initial_Population__8f3123ab_8f4d_4311_9b63_eb78add12c3c"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"BD55DE56-C278-44A9-913D-07C8526CBE1D","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"CMS334PCCesareanBirth__Denominator__8f3123ab_8f4d_4311_9b63_eb78add12c3c"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"6F01B069-FC08-4E93-99D4-3950A55A91AB","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"CMS334PCCesareanBirth__Numerator__8f3123ab_8f4d_4311_9b63_eb78add12c3c"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"9CF38431-47F7-4A2C-B1EC-96F35DDA7837","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"CMS334PCCesareanBirth__Denominator_Exclusions__8f3123ab_8f4d_4311_9b63_eb78add12c3c"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"689202fa10d20757c0cefbd0","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"689202fa10d20757c0cefbd1","hqmf_id":"9CF38431-47F7-4A2C-B1EC-96F35DDA7837","library_name":"CMS334PCCesareanBirth","statement_name":"Denominator Exclusions"},"DENOM":{"_id":"689202fa10d20757c0cefbd2","hqmf_id":"BD55DE56-C278-44A9-913D-07C8526CBE1D","library_name":"CMS334PCCesareanBirth","statement_name":"Denominator"},"IPP":{"_id":"689202fa10d20757c0cefbd3","hqmf_id":"6C878F86-5B24-4B60-B65E-F050C4AB5207","library_name":"CMS334PCCesareanBirth","statement_name":"Initial Population"},"NUMER":{"_id":"689202fa10d20757c0cefbd4","hqmf_id":"6F01B069-FC08-4E93-99D4-3950A55A91AB","library_name":"CMS334PCCesareanBirth","statement_name":"Numerator"},"_id":"689202fa10d20757c0cefbd5","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"689202f310d20757c0cef92d","hqmf_id":"16aa1a3a-b396-49f4-90d3-072e356a5a73","library_name":"CMS334PCCesareanBirth","statement_name":"SDE Variable Calculated Gestational Age"},{"_id":"689202f310d20757c0cef92e","hqmf_id":"a041e89f-ca2c-4f53-b129-325199fc7ee6","library_name":"CMS334PCCesareanBirth","statement_name":"SDE Race"},{"_id":"689202f310d20757c0cef92f","hqmf_id":"7e9844e9-9e87-40a1-9fa2-dd2f20cbe00f","library_name":"CMS334PCCesareanBirth","statement_name":"SDE Ethnicity"},{"_id":"689202f310d20757c0cef930","hqmf_id":"91a3e8b8-4a31-4134-b50a-e5c720a67f63","library_name":"CMS334PCCesareanBirth","statement_name":"SDE Sex"},{"_id":"689202f310d20757c0cef931","hqmf_id":"d52006ae-cbc6-4ceb-8be7-df17f673b96c","library_name":"CMS334PCCesareanBirth","statement_name":"SDE Payer"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"689202fa10d20757c0cefbd6","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1021.121","dataElementCodes":[],"description":"Patient Characteristic Sex: FederalAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"689202fa10d20757c0cefbd6","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"689202fa10d20757c0cefbd7","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"689202fa10d20757c0cefbd7","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"689202f310d20757c0cef993","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.117.1.7.1.282","components":null,"dataElementCodes":[],"description":"Procedure, Performed: CesareanBirth","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"689202f310d20757c0cef993","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689202fa10d20757c0cefbd8","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"689202fa10d20757c0cefbd8","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"689202f310d20757c0cef98f","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1045.26","components":null,"dataElementCodes":[],"description":"Assessment, Performed: EstimatedGestationalAgeatDelivery","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef98f","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef991","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113762.1.4.1111.143","dataElementCodes":[],"description":"Encounter, Performed: ObservationServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689202f310d20757c0cef991","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689202f310d20757c0cef990","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1045.105","components":null,"dataElementCodes":[],"description":"Assessment, Performed: AbnormalPresentation","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef990","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef992","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689202f310d20757c0cef992","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689202f310d20757c0cef994","_type":"QDM::ProcedurePerformed","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113762.1.4.1045.59","components":null,"dataElementCodes":[],"description":"Procedure, Performed: DeliveryProcedures","hqmfOid":"2.16.840.1.113883.10.20.28.4.67","id":"689202f310d20757c0cef994","incisionDatetime":null,"method":null,"negationRationale":null,"qdmCategory":"procedure","qdmStatus":"performed","qdmTitle":"Procedure, Performed","qdmVersion":"5.6","rank":null,"reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689202fa10d20757c0cefbd9","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"689202fa10d20757c0cefbd9","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"689202f310d20757c0cef995","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113762.1.4.1029.369","dataElementCodes":[],"description":"Encounter, Performed: EDVisitandOBTriage","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689202f310d20757c0cef995","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689202f310d20757c0cef996","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-5d675ef561723071efd724aaf1b2a31d80f41201306dec8d64e6114b8c3f7e06","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Delivery date Estimated","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef996","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef997","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-330789823cbca1c3c129091cf96c9035e23e878ddc26195cb1148c67a7d5f75c","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Pregnancies","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef997","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef998","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-f32065ce97f4266f39e2f6d9b63bb6a59ff5d1277a6bb48aaca6506b4e7aa302","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Births.preterm","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef998","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef999","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-1df797108d11f91daf4f63c7425b43dadc661ce941ef3ae3660309bb5f20c9fe","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Births.term","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef999","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef99a","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-da42ff6ab07eb61cb1fbef112c248c914dac65ea6e9e63af77b47c506a9683b4","components":null,"dataElementCodes":[],"description":"Assessment, Performed: [#] Parity","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef99a","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689202f310d20757c0cef99b","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-8df2bc282d295fbf16354ed7166c5d223040c70dc4662c5b41261f2ea62a907c","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Date and time of obstetric delivery","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689202f310d20757c0cef99b","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null}],"title":"Cesarean Birth","updated_at":null,"value_set_ids":["689202f310d20757c0cef99c","689202f310d20757c0cef99d","689202f310d20757c0cef99e","689202f310d20757c0cef99f","689202f310d20757c0cef9a0","689202f310d20757c0cef9a1","689202fa10d20757c0cefbac","689202fa10d20757c0cefbad","689202fa10d20757c0cefbae","689202fa10d20757c0cefbaf","689202fa10d20757c0cefbb0","689202fa10d20757c0cefbb1","689202fa10d20757c0cefbb2","689202fa10d20757c0cefbb3","689202fa10d20757c0cefbb4","689202fa10d20757c0cefbb5","689202fa10d20757c0cefbb6","689202fa10d20757c0cefbb7","689202fa10d20757c0cefbb8","689202fa10d20757c0cefbb9","689202fa10d20757c0cefbba","689202fa10d20757c0cefbbb","689202fa10d20757c0cefbbc","689202fa10d20757c0cefbbd"]}