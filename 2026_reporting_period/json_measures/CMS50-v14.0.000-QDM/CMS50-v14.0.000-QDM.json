{"_id":"6892031910d20757c0cf11ac","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS50v14","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"6892031310d20757c0cf0ecf","cql":"library CMS50CRLReceiptofSpecialistReportQDM version '14.0.000'\n\nusing QDM version '5.6'\n\ninclude CQMCommonQDM  version '9.0.000' called Global\n\ncodesystem \"CPT\": 'urn:oid:2.16.840.1.113883.6.12'\n\nvalueset \"Behavioral or Neuropsych Assessment\": 'urn:oid:2.16.840.1.113883.3.526.3.1023'\nvalueset \"Consultant Report\": 'urn:oid:2.16.840.1.113883.3.464.1003.121.12.1006'\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'\nvalueset \"Ophthalmological Services\": 'urn:oid:2.16.840.1.113883.3.526.3.1285'\nvalueset \"Federal Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1021.121'\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\nvalueset \"Preventive Care Services Established Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'\nvalueset \"Preventive Care Services Initial Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'\nvalueset \"Preventive Care Services, Initial Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'\nvalueset \"Preventive Care, Established Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'\nvalueset \"Psych Visit Diagnostic Evaluation\": 'urn:oid:2.16.840.1.113883.3.526.3.1492'\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\nvalueset \"Referral\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1046'\n\ncode \"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour\": '96112' from \"CPT\" display 'Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour'\ncode \"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\": '96156' from \"CPT\" display 'Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)'\ncode \"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes\": '96136' from \"CPT\" display 'Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes'\ncode \"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes\": '96138' from \"CPT\" display 'Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes'\ncode \"Psychotherapy for crisis; first 60 minutes\": '90839' from \"CPT\" display 'Psychotherapy for crisis; first 60 minutes'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient \n\ndefine \"Denominator\":\n  \"Initial Population\"\n\ndefine \"SDE Ethnicity\":\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\n\ndefine \"SDE Payer\":\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\n\ndefine \"SDE Race\":\n  [\"Patient Characteristic Race\": \"Race\"]\n\ndefine \"SDE Sex\":\n  [\"Patient Characteristic Sex\": \"Federal Administrative Sex\"]\n\ndefine \"Numerator\":\n  \"Referring Clinician Receives Consultant Report to Close Referral Loop\"\n\ndefine \"Referring Clinician Receives Consultant Report to Close Referral Loop\":\n  exists ( [\"Communication, Performed\": \"Consultant Report\"] ConsultantReportCommunicated\n      with \"First Referral during First 10 Months of Measurement Period\" FirstReferral\n        such that FirstReferral.identification in ConsultantReportCommunicated.relatedTo\n          and ConsultantReportCommunicated.receivedDatetime after FirstReferral.dateIntervention\n          and ConsultantReportCommunicated.receivedDatetime during day of \"Measurement Period\"\n  )\n\ndefine \"First Referral during First 10 Months of Measurement Period\":\n  First((([\"Intervention, Performed\": \"Referral\"] ReferralPerform\n        where Global.\"NormalizeInterval\"(ReferralPerform.relevantDatetime, ReferralPerform.relevantPeriod) ends during day of Interval[start of \"Measurement Period\", Date(year from start of \"Measurement Period\", 10, 31)]\n        return {\n          identification: ReferralPerform.id,\n          dateIntervention: \n          end of Global.\"NormalizeInterval\"(ReferralPerform.relevantDatetime, ReferralPerform.relevantPeriod)\n        }\n    )\n      union([\"Intervention, Order\": \"Referral\"] ReferralOrder\n          where ReferralOrder.authorDatetime during day of Interval[start of \"Measurement Period\", Date(year from start of \"Measurement Period\", 10, 31)]\n          return {\n            identification: ReferralOrder.id,\n            dateIntervention: ReferralOrder.authorDatetime\n          }\n      )) ReferralInterventions\n      sort by dateIntervention ascending\n  )\n\ndefine \"Initial Population\":\n  ( \"Has Encounter during Measurement Period\"\n      or \"Has Intervention during Measurement Period\"\n  )\n    and \"First Referral during First 10 Months of Measurement Period\" is not null\n\ndefine \"Has Encounter during Measurement Period\":\n  exists ( ( [\"Encounter, Performed\": \"Office Visit\"]\n      union [\"Encounter, Performed\": \"Ophthalmological Services\"]\n      union [\"Encounter, Performed\": \"Preventive Care Services Established Office Visit, 18 and Up\"]\n      union [\"Encounter, Performed\": \"Preventive Care Services, Initial Office Visit, 0 to 17\"]\n      union [\"Encounter, Performed\": \"Preventive Care Services Initial Office Visit, 18 and Up\"]\n      union [\"Encounter, Performed\": \"Preventive Care, Established Office Visit, 0 to 17\"] ) Encounter\n      where Encounter.relevantPeriod during day of \"Measurement Period\"\n  )\n\ndefine \"Has Intervention during Measurement Period\":\n  exists ( ( [\"Intervention, Performed\": \"Behavioral or Neuropsych Assessment\"]\n      union [\"Intervention, Performed\": \"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\"]\n      union [\"Intervention, Performed\": \"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes\"]\n      union [\"Intervention, Performed\": \"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes\"]\n      union [\"Intervention, Performed\": \"Psychotherapy for crisis; first 60 minutes\"]\n      union [\"Intervention, Performed\": \"Psych Visit Diagnostic Evaluation\"]\n      union [\"Intervention, Performed\": \"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour\"] ) Intervention\n      where Global.\"NormalizeInterval\" ( Intervention.relevantDatetime, Intervention.relevantPeriod ) ends during day of \"Measurement Period\"\n  )","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"329","s":[{"value":["","library CMS50CRLReceiptofSpecialistReportQDM version '14.0.000'"]}]}}],"identifier":{"id":"CMS50CRLReceiptofSpecialistReportQDM","version":"14.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"includes":{"def":[{"localId":"207","locator":"5:1-5:53","localIdentifier":"Global","path":"CQMCommonQDM","version":"9.0.000","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","include "]},{"s":[{"value":["CQMCommonQDM"]}]},{"value":["  version ","'9.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"233","locator":"30:1-30:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"233","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"234","s":[{"value":["Interval\u003c"]},{"r":"235","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"238","type":"IntervalTypeSpecifier","pointType":{"localId":"239","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"234","locator":"30:32-30:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"236","type":"IntervalTypeSpecifier","pointType":{"localId":"237","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"235","locator":"30:41-30:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"208","locator":"7:1-7:50","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT","id":"2.16.840.1.113883.6.12","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","codesystem ","\"CPT\"",": ","'urn:oid:2.16.840.1.113883.6.12'"]}]}}]}]},"valueSets":{"def":[{"localId":"209","locator":"9:1-9:88","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Behavioral or Neuropsych Assessment","id":"2.16.840.1.113883.3.526.3.1023","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","valueset ","\"Behavioral or Neuropsych Assessment\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1023'"]}]}}],"codeSystem":[]},{"localId":"210","locator":"10:1-10:80","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Consultant Report","id":"2.16.840.1.113883.3.464.1003.121.12.1006","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"Consultant Report\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.121.12.1006'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}],"codeSystem":[]},{"localId":"212","locator":"12:1-12:75","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Office Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","valueset ","\"Office Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'"]}]}}],"codeSystem":[]},{"localId":"213","locator":"13:1-13:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ophthalmological Services","id":"2.16.840.1.113883.3.526.3.1285","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"213","s":[{"value":["","valueset ","\"Ophthalmological Services\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1285'"]}]}}],"codeSystem":[]},{"localId":"214","locator":"14:1-14:79","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Federal Administrative Sex","id":"2.16.840.1.113762.1.4.1021.121","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"214","s":[{"value":["","valueset ","\"Federal Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1021.121'"]}]}}],"codeSystem":[]},{"localId":"215","locator":"15:1-15:60","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"215","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}],"codeSystem":[]},{"localId":"216","locator":"16:1-16:123","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Established Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1025","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"216","s":[{"value":["","valueset ","\"Preventive Care Services Established Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'"]}]}}],"codeSystem":[]},{"localId":"217","locator":"17:1-17:119","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Initial Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1023","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"217","s":[{"value":["","valueset ","\"Preventive Care Services Initial Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'"]}]}}],"codeSystem":[]},{"localId":"218","locator":"18:1-18:118","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services, Initial Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1022","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"218","s":[{"value":["","valueset ","\"Preventive Care Services, Initial Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'"]}]}}],"codeSystem":[]},{"localId":"219","locator":"19:1-19:113","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care, Established Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1024","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"219","s":[{"value":["","valueset ","\"Preventive Care, Established Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'"]}]}}],"codeSystem":[]},{"localId":"220","locator":"20:1-20:86","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psych Visit Diagnostic Evaluation","id":"2.16.840.1.113883.3.526.3.1492","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"220","s":[{"value":["","valueset ","\"Psych Visit Diagnostic Evaluation\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1492'"]}]}}],"codeSystem":[]},{"localId":"221","locator":"21:1-21:53","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"221","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}],"codeSystem":[]},{"localId":"222","locator":"22:1-22:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Referral","id":"2.16.840.1.113883.3.464.1003.101.12.1046","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"222","s":[{"value":["","valueset ","\"Referral\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1046'"]}]}}],"codeSystem":[]}]},"codes":{"def":[{"localId":"223","locator":"24:1-24:662","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour","id":"96112","display":"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"223","s":[{"value":["","code ","\"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour\"",": ","'96112'"," from "]},{"r":"224","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour'"]}]}}],"codeSystem":{"localId":"224","locator":"24:335-24:339","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"225","locator":"25:1-25:308","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","id":"96156","display":"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"225","s":[{"value":["","code ","\"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\"",": ","'96156'"," from "]},{"r":"226","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)'"]}]}}],"codeSystem":{"localId":"226","locator":"25:158-25:162","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"227","locator":"26:1-26:384","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes","id":"96136","display":"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"227","s":[{"value":["","code ","\"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes\"",": ","'96136'"," from "]},{"r":"228","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes'"]}]}}],"codeSystem":{"localId":"228","locator":"26:196-26:200","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"229","locator":"27:1-27:298","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes","id":"96138","display":"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"229","s":[{"value":["","code ","\"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes\"",": ","'96138'"," from "]},{"r":"230","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes'"]}]}}],"codeSystem":{"localId":"230","locator":"27:153-27:157","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"231","locator":"28:1-28:122","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Psychotherapy for crisis; first 60 minutes","id":"90839","display":"Psychotherapy for crisis; first 60 minutes","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"231","s":[{"value":["","code ","\"Psychotherapy for crisis; first 60 minutes\"",": ","'90839'"," from "]},{"r":"232","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Psychotherapy for crisis; first 60 minutes'"]}]}}],"codeSystem":{"localId":"232","locator":"28:65-28:69","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}}]},"contexts":{"def":[{"localId":"243","locator":"32:1-32:15","name":"Patient"}]},"statements":{"def":[{"localId":"241","locator":"32:1-32:15","name":"Patient","context":"Patient","expression":{"localId":"242","type":"SingletonFrom","signature":[],"operand":{"localId":"240","locator":"32:1-32:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"251","locator":"85:1-93:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Has Encounter during Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"251","s":[{"value":["","define ","\"Has Encounter during Measurement Period\"",":\n  "]},{"r":"252","s":[{"value":["exists "]},{"r":"322","s":[{"value":["( "]},{"r":"322","s":[{"s":[{"r":"253","s":[{"r":"304","s":[{"value":["( "]},{"r":"304","s":[{"r":"294","s":[{"r":"285","s":[{"r":"275","s":[{"r":"266","s":[{"r":"256","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]},{"value":["\n      union "]},{"r":"262","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Ophthalmological Services\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"271","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Established Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"280","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services, Initial Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"290","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Initial Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"299","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care, Established Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","Encounter"]}]}]},{"value":["\n      "]},{"r":"320","s":[{"value":["where "]},{"r":"320","s":[{"r":"312","s":[{"r":"311","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"312","s":[{"value":["relevantPeriod"]}]}]},{"r":"320","value":[" ","during day of"," "]},{"r":"317","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"252","locator":"86:3-93:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"322","locator":"86:10-93:3","type":"Query","resultTypeSpecifier":{"localId":"325","type":"ListTypeSpecifier","elementType":{"localId":"326","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"253","locator":"86:12-91:102","alias":"Encounter","resultTypeSpecifier":{"localId":"309","type":"ListTypeSpecifier","elementType":{"localId":"310","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"304","locator":"86:12-91:92","type":"Union","resultTypeSpecifier":{"localId":"307","type":"ListTypeSpecifier","elementType":{"localId":"308","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"285","locator":"86:14-89:95","type":"Union","resultTypeSpecifier":{"localId":"286","type":"ListTypeSpecifier","elementType":{"localId":"287","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"266","locator":"86:14-87:65","type":"Union","resultTypeSpecifier":{"localId":"267","type":"ListTypeSpecifier","elementType":{"localId":"268","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"256","locator":"86:14-86:53","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"258","type":"ListTypeSpecifier","elementType":{"localId":"259","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"255","locator":"86:39-86:52","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Office Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"262","locator":"87:13-87:65","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"264","type":"ListTypeSpecifier","elementType":{"localId":"265","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"261","locator":"87:38-87:64","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ophthalmological Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]},{"localId":"284","type":"Union","signature":[],"operand":[{"localId":"271","locator":"88:13-88:100","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"273","type":"ListTypeSpecifier","elementType":{"localId":"274","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"270","locator":"88:38-88:99","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Established Office Visit, 18 and Up","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"280","locator":"89:13-89:95","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"282","type":"ListTypeSpecifier","elementType":{"localId":"283","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"279","locator":"89:38-89:94","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services, Initial Office Visit, 0 to 17","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"303","type":"Union","signature":[],"operand":[{"localId":"290","locator":"90:13-90:96","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"292","type":"ListTypeSpecifier","elementType":{"localId":"293","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"289","locator":"90:38-90:95","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Initial Office Visit, 18 and Up","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"299","locator":"91:13-91:90","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"301","type":"ListTypeSpecifier","elementType":{"localId":"302","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"298","locator":"91:38-91:89","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care, Established Office Visit, 0 to 17","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]}}],"let":[],"relationship":[],"where":{"localId":"320","locator":"92:7-92:71","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"312","locator":"92:13-92:36","path":"relevantPeriod","scope":"Encounter","type":"Property","resultTypeSpecifier":{"localId":"315","type":"IntervalTypeSpecifier","pointType":{"localId":"316","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"317","locator":"92:52-92:71","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"318","type":"IntervalTypeSpecifier","pointType":{"localId":"319","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}},{"localId":"329","locator":"95:1-104:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Has Intervention during Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"329","s":[{"value":["","define ","\"Has Intervention during Measurement Period\"",":\n  "]},{"r":"330","s":[{"value":["exists "]},{"r":"422","s":[{"value":["( "]},{"r":"422","s":[{"s":[{"r":"331","s":[{"r":"396","s":[{"value":["( "]},{"r":"396","s":[{"r":"386","s":[{"r":"376","s":[{"r":"366","s":[{"r":"355","s":[{"r":"345","s":[{"r":"334","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Behavioral or Neuropsych Assessment\""]}]},{"value":["]"]}]},{"value":["\n      union "]},{"r":"340","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"350","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"360","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"371","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Psychotherapy for crisis; first 60 minutes\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"381","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Psych Visit Diagnostic Evaluation\""]}]},{"value":["]"]}]}]},{"value":["\n      union "]},{"r":"391","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","Intervention"]}]}]},{"value":["\n      "]},{"r":"421","s":[{"value":["where "]},{"r":"421","s":[{"r":"412","s":[{"r":"403","s":[{"value":["Global"]}]},{"value":["."]},{"r":"412","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"405","s":[{"r":"404","s":[{"value":["Intervention"]}]},{"value":["."]},{"r":"405","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"407","s":[{"r":"406","s":[{"value":["Intervention"]}]},{"value":["."]},{"r":"407","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"421","value":[" ","ends during day of"," "]},{"r":"417","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"330","locator":"96:3-104:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"422","locator":"96:10-104:3","type":"Query","resultTypeSpecifier":{"localId":"425","type":"ListTypeSpecifier","elementType":{"localId":"426","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"331","locator":"96:12-102:370","alias":"Intervention","resultTypeSpecifier":{"localId":"401","type":"ListTypeSpecifier","elementType":{"localId":"402","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"396","locator":"96:12-102:357","type":"Union","resultTypeSpecifier":{"localId":"399","type":"ListTypeSpecifier","elementType":{"localId":"400","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"386","locator":"96:14-101:76","type":"Union","resultTypeSpecifier":{"localId":"387","type":"ListTypeSpecifier","elementType":{"localId":"388","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"366","locator":"96:14-99:173","type":"Union","resultTypeSpecifier":{"localId":"367","type":"ListTypeSpecifier","elementType":{"localId":"368","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"345","locator":"96:14-97:178","type":"Union","resultTypeSpecifier":{"localId":"346","type":"ListTypeSpecifier","elementType":{"localId":"347","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"334","locator":"96:14-96:79","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"336","type":"ListTypeSpecifier","elementType":{"localId":"337","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"333","locator":"96:42-96:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Behavioral or Neuropsych Assessment","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"340","locator":"97:13-97:178","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"343","type":"ListTypeSpecifier","elementType":{"localId":"344","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"342","type":"ToList","signature":[],"operand":{"localId":"339","locator":"97:41-97:177","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]},{"localId":"365","type":"Union","signature":[],"operand":[{"localId":"350","locator":"98:13-98:216","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"353","type":"ListTypeSpecifier","elementType":{"localId":"354","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"352","type":"ToList","signature":[],"operand":{"localId":"349","locator":"98:41-98:215","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"360","locator":"99:13-99:173","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"363","type":"ListTypeSpecifier","elementType":{"localId":"364","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"362","type":"ToList","signature":[],"operand":{"localId":"359","locator":"99:41-99:172","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"385","type":"Union","signature":[],"operand":[{"localId":"371","locator":"100:13-100:85","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"374","type":"ListTypeSpecifier","elementType":{"localId":"375","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"373","type":"ToList","signature":[],"operand":{"localId":"370","locator":"100:41-100:84","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Psychotherapy for crisis; first 60 minutes","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"381","locator":"101:13-101:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"383","type":"ListTypeSpecifier","elementType":{"localId":"384","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"380","locator":"101:41-101:75","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psych Visit Diagnostic Evaluation","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"391","locator":"102:13-102:355","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"394","type":"ListTypeSpecifier","elementType":{"localId":"395","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"393","type":"ToList","signature":[],"operand":{"localId":"390","locator":"102:41-102:354","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}}],"let":[],"relationship":[],"where":{"localId":"421","locator":"103:7-103:141","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"420","locator":"103:103-103:106","type":"End","signature":[],"operand":{"localId":"412","locator":"103:13-103:101","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"415","type":"IntervalTypeSpecifier","pointType":{"localId":"416","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"405","locator":"103:42-103:70","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"Intervention","type":"Property"},{"localId":"407","locator":"103:73-103:99","path":"relevantPeriod","scope":"Intervention","type":"Property","resultTypeSpecifier":{"localId":"410","type":"IntervalTypeSpecifier","pointType":{"localId":"411","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}},{"localId":"417","locator":"103:122-103:141","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"418","type":"IntervalTypeSpecifier","pointType":{"localId":"419","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}},{"localId":"429","locator":"60:1-77:3","name":"First Referral during First 10 Months of Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"429","s":[{"value":["","define ","\"First Referral during First 10 Months of Measurement Period\"",":\n  "]},{"r":"618","s":[{"value":["First","("]},{"r":"609","s":[{"s":[{"r":"430","s":[{"r":"584","s":[{"value":["("]},{"r":"584","s":[{"r":"507","s":[{"value":["("]},{"r":"507","s":[{"s":[{"r":"431","s":[{"r":"434","s":[{"r":"434","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Referral\""]}]},{"value":["]"]}]}]},{"value":[" ","ReferralPerform"]}]}]},{"value":["\n        "]},{"r":"476","s":[{"value":["where "]},{"r":"476","s":[{"r":"451","s":[{"r":"442","s":[{"value":["Global"]}]},{"value":["."]},{"r":"451","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"444","s":[{"r":"443","s":[{"value":["ReferralPerform"]}]},{"value":["."]},{"r":"444","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"446","s":[{"r":"445","s":[{"value":["ReferralPerform"]}]},{"value":["."]},{"r":"446","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"476","value":[" ","ends during day of"," "]},{"r":"470","s":[{"value":["Interval["]},{"r":"456","s":[{"value":["start of "]},{"r":"457","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[", "]},{"r":"469","s":[{"value":["Date","("]},{"r":"460","s":[{"value":["year from "]},{"r":"461","s":[{"value":["start of "]},{"r":"462","s":[{"value":["\"Measurement Period\""]}]}]}]},{"r":"465","value":[", ","10",", ","31",")"]}]},{"value":["]"]}]}]}]},{"value":["\n        "]},{"r":"477","s":[{"value":["return "]},{"r":"478","s":[{"value":["{\n          "]},{"s":[{"value":["identification",": "]},{"r":"480","s":[{"r":"479","s":[{"value":["ReferralPerform"]}]},{"value":["."]},{"r":"480","s":[{"value":["id"]}]}]}]},{"value":[",\n          "]},{"s":[{"value":["dateIntervention",": \n          "]},{"r":"481","s":[{"value":["end of "]},{"r":"491","s":[{"r":"482","s":[{"value":["Global"]}]},{"value":["."]},{"r":"491","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"484","s":[{"r":"483","s":[{"value":["ReferralPerform"]}]},{"value":["."]},{"r":"484","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"486","s":[{"r":"485","s":[{"value":["ReferralPerform"]}]},{"value":["."]},{"r":"486","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]}]}]},{"value":["\n        }"]}]}]}]},{"value":["\n    )"]}]},{"value":["\n      union"]},{"r":"571","s":[{"value":["("]},{"r":"571","s":[{"s":[{"r":"520","s":[{"r":"523","s":[{"r":"523","s":[{"value":["[","\"Intervention, Order\"",": "]},{"s":[{"value":["\"Referral\""]}]},{"value":["]"]}]}]},{"value":[" ","ReferralOrder"]}]}]},{"value":["\n          "]},{"r":"553","s":[{"value":["where "]},{"r":"553","s":[{"r":"532","s":[{"r":"531","s":[{"value":["ReferralOrder"]}]},{"value":["."]},{"r":"532","s":[{"value":["authorDatetime"]}]}]},{"r":"553","value":[" ","during day of"," "]},{"r":"547","s":[{"value":["Interval["]},{"r":"533","s":[{"value":["start of "]},{"r":"534","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[", "]},{"r":"546","s":[{"value":["Date","("]},{"r":"537","s":[{"value":["year from "]},{"r":"538","s":[{"value":["start of "]},{"r":"539","s":[{"value":["\"Measurement Period\""]}]}]}]},{"r":"542","value":[", ","10",", ","31",")"]}]},{"value":["]"]}]}]}]},{"value":["\n          "]},{"r":"554","s":[{"value":["return "]},{"r":"555","s":[{"value":["{\n            "]},{"s":[{"value":["identification",": "]},{"r":"557","s":[{"r":"556","s":[{"value":["ReferralOrder"]}]},{"value":["."]},{"r":"557","s":[{"value":["id"]}]}]}]},{"value":[",\n            "]},{"s":[{"value":["dateIntervention",": "]},{"r":"559","s":[{"r":"558","s":[{"value":["ReferralOrder"]}]},{"value":["."]},{"r":"559","s":[{"value":["authorDatetime"]}]}]}]},{"value":["\n          }"]}]}]}]},{"value":["\n      )"]}]}]},{"value":[")"]}]},{"value":[" ","ReferralInterventions"]}]}]},{"value":["\n      "]},{"r":"605","s":[{"value":["sort by "]},{"r":"604","s":[{"r":"603","s":[{"value":["dateIntervention"]}]},{"value":[" ascending"]}]}]}]},{"value":["\n  )"]}]}]}}],"resultTypeSpecifier":{"localId":"751","type":"TupleTypeSpecifier","element":[{"localId":"752","name":"identification","elementType":{"localId":"753","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"754","name":"dateIntervention","elementType":{"localId":"755","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},"expression":{"localId":"618","locator":"61:3-77:3","type":"First","resultTypeSpecifier":{"localId":"619","type":"TupleTypeSpecifier","element":[{"localId":"620","name":"identification","elementType":{"localId":"621","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"622","name":"dateIntervention","elementType":{"localId":"623","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},"signature":[],"source":{"localId":"609","locator":"61:9-76:40","type":"Query","resultTypeSpecifier":{"localId":"610","type":"ListTypeSpecifier","elementType":{"localId":"611","type":"TupleTypeSpecifier","element":[{"localId":"612","name":"identification","elementType":{"localId":"613","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"614","name":"dateIntervention","elementType":{"localId":"615","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"source":[{"localId":"430","locator":"61:9-75:30","alias":"ReferralInterventions","resultTypeSpecifier":{"localId":"597","type":"ListTypeSpecifier","elementType":{"localId":"598","type":"TupleTypeSpecifier","element":[{"localId":"599","name":"identification","elementType":{"localId":"600","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"601","name":"dateIntervention","elementType":{"localId":"602","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"expression":{"localId":"584","locator":"61:9-75:8","type":"Union","resultTypeSpecifier":{"localId":"591","type":"ListTypeSpecifier","elementType":{"localId":"592","type":"TupleTypeSpecifier","element":[{"localId":"593","name":"identification","elementType":{"localId":"594","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"595","name":"dateIntervention","elementType":{"localId":"596","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"signature":[],"operand":[{"localId":"507","locator":"61:10-68:5","type":"Query","resultTypeSpecifier":{"localId":"514","type":"ListTypeSpecifier","elementType":{"localId":"515","type":"TupleTypeSpecifier","element":[{"localId":"516","name":"identification","elementType":{"localId":"517","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"518","name":"dateIntervention","elementType":{"localId":"519","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"source":[{"localId":"431","locator":"61:11-61:65","alias":"ReferralPerform","resultTypeSpecifier":{"localId":"440","type":"ListTypeSpecifier","elementType":{"localId":"441","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"434","locator":"61:11-61:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"438","type":"ListTypeSpecifier","elementType":{"localId":"439","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"433","locator":"61:39-61:48","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Referral","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"476","locator":"62:9-62:220","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"475","locator":"62:108-62:111","type":"End","signature":[],"operand":{"localId":"451","locator":"62:15-62:106","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"454","type":"IntervalTypeSpecifier","pointType":{"localId":"455","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"444","locator":"62:42-62:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"ReferralPerform","type":"Property"},{"localId":"446","locator":"62:76-62:105","path":"relevantPeriod","scope":"ReferralPerform","type":"Property","resultTypeSpecifier":{"localId":"449","type":"IntervalTypeSpecifier","pointType":{"localId":"450","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}},{"localId":"470","locator":"62:127-62:220","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"473","type":"IntervalTypeSpecifier","pointType":{"localId":"474","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"456","locator":"62:136-62:164","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"457","locator":"62:145-62:164","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"458","type":"IntervalTypeSpecifier","pointType":{"localId":"459","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"high":{"localId":"472","type":"ToDateTime","signature":[],"operand":{"localId":"469","locator":"62:167-62:219","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"Date","signature":[],"year":{"localId":"460","locator":"62:172-62:210","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Year","type":"DateTimeComponentFrom","signature":[],"operand":{"localId":"461","locator":"62:182-62:210","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"462","locator":"62:191-62:210","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"463","type":"IntervalTypeSpecifier","pointType":{"localId":"464","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"month":{"localId":"465","locator":"62:213-62:214","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"10","type":"Literal"},"day":{"localId":"466","locator":"62:217-62:218","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"31","type":"Literal"}}}}]},"return":{"localId":"477","locator":"63:9-67:9","resultTypeSpecifier":{"localId":"501","type":"ListTypeSpecifier","elementType":{"localId":"502","type":"TupleTypeSpecifier","element":[{"localId":"503","name":"identification","elementType":{"localId":"504","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"505","name":"dateIntervention","elementType":{"localId":"506","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"expression":{"localId":"478","locator":"63:16-67:9","type":"Tuple","resultTypeSpecifier":{"localId":"496","type":"TupleTypeSpecifier","element":[{"localId":"497","name":"identification","elementType":{"localId":"498","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"499","name":"dateIntervention","elementType":{"localId":"500","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},"element":[{"name":"identification","value":{"localId":"480","locator":"64:27-64:44","resultTypeName":"{urn:hl7-org:elm-types:r1}String","path":"id","scope":"ReferralPerform","type":"Property"}},{"name":"dateIntervention","value":{"localId":"481","locator":"66:11-66:109","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"491","locator":"66:18-66:109","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"494","type":"IntervalTypeSpecifier","pointType":{"localId":"495","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"484","locator":"66:45-66:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"ReferralPerform","type":"Property"},{"localId":"486","locator":"66:79-66:108","path":"relevantPeriod","scope":"ReferralPerform","type":"Property","resultTypeSpecifier":{"localId":"489","type":"IntervalTypeSpecifier","pointType":{"localId":"490","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]}}},{"localId":"571","locator":"69:12-75:7","type":"Query","resultTypeSpecifier":{"localId":"578","type":"ListTypeSpecifier","elementType":{"localId":"579","type":"TupleTypeSpecifier","element":[{"localId":"580","name":"identification","elementType":{"localId":"581","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"582","name":"dateIntervention","elementType":{"localId":"583","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"source":[{"localId":"520","locator":"69:13-69:61","alias":"ReferralOrder","resultTypeSpecifier":{"localId":"529","type":"ListTypeSpecifier","elementType":{"localId":"530","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}},"expression":{"localId":"523","locator":"69:13-69:47","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","templateId":"PositiveInterventionOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"527","type":"ListTypeSpecifier","elementType":{"localId":"528","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}},"codes":{"localId":"522","locator":"69:37-69:46","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Referral","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"553","locator":"70:11-70:153","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"532","locator":"70:17-70:44","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"authorDatetime","scope":"ReferralOrder","type":"Property"},{"localId":"547","locator":"70:60-70:153","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"550","type":"IntervalTypeSpecifier","pointType":{"localId":"551","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"533","locator":"70:69-70:97","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"534","locator":"70:78-70:97","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"535","type":"IntervalTypeSpecifier","pointType":{"localId":"536","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"high":{"localId":"549","type":"ToDateTime","signature":[],"operand":{"localId":"546","locator":"70:100-70:152","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"Date","signature":[],"year":{"localId":"537","locator":"70:105-70:143","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Year","type":"DateTimeComponentFrom","signature":[],"operand":{"localId":"538","locator":"70:115-70:143","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"539","locator":"70:124-70:143","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"540","type":"IntervalTypeSpecifier","pointType":{"localId":"541","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"month":{"localId":"542","locator":"70:146-70:147","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"10","type":"Literal"},"day":{"localId":"543","locator":"70:150-70:151","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"31","type":"Literal"}}}}]},"return":{"localId":"554","locator":"71:11-74:11","resultTypeSpecifier":{"localId":"565","type":"ListTypeSpecifier","elementType":{"localId":"566","type":"TupleTypeSpecifier","element":[{"localId":"567","name":"identification","elementType":{"localId":"568","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"569","name":"dateIntervention","elementType":{"localId":"570","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"expression":{"localId":"555","locator":"71:18-74:11","type":"Tuple","resultTypeSpecifier":{"localId":"560","type":"TupleTypeSpecifier","element":[{"localId":"561","name":"identification","elementType":{"localId":"562","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"563","name":"dateIntervention","elementType":{"localId":"564","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},"element":[{"name":"identification","value":{"localId":"557","locator":"72:29-72:44","resultTypeName":"{urn:hl7-org:elm-types:r1}String","path":"id","scope":"ReferralOrder","type":"Property"}},{"name":"dateIntervention","value":{"localId":"559","locator":"73:31-73:58","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"authorDatetime","scope":"ReferralOrder","type":"Property"}}]}}}]}}],"let":[],"relationship":[],"sort":{"localId":"605","locator":"76:7-76:40","by":[{"localId":"604","locator":"76:15-76:40","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"ascending","path":"dateIntervention","type":"ByColumn"}]}}}},{"localId":"247","locator":"79:1-83:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"247","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"248","s":[{"r":"249","s":[{"value":["( "]},{"r":"249","s":[{"r":"327","s":[{"value":["\"Has Encounter during Measurement Period\""]}]},{"value":["\n      or "]},{"r":"427","s":[{"value":["\"Has Intervention during Measurement Period\""]}]}]},{"value":["\n  )"]}]},{"value":["\n    and "]},{"r":"636","s":[{"r":"629","s":[{"value":["\"First Referral during First 10 Months of Measurement Period\""]}]},{"value":[" is not null"]}]}]}]}}],"expression":{"localId":"248","locator":"80:3-83:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"249","locator":"80:3-82:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"327","locator":"80:5-80:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Has Encounter during Measurement Period","type":"ExpressionRef"},{"localId":"427","locator":"81:10-81:53","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Has Intervention during Measurement Period","type":"ExpressionRef"}]},{"localId":"636","locator":"83:9-83:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"635","locator":"83:9-83:81","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"629","locator":"83:9-83:69","name":"First Referral during First 10 Months of Measurement Period","type":"ExpressionRef","resultTypeSpecifier":{"localId":"630","type":"TupleTypeSpecifier","element":[{"localId":"631","name":"identification","elementType":{"localId":"632","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"633","name":"dateIntervention","elementType":{"localId":"634","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}}}}]}},{"localId":"245","locator":"34:1-35:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"245","s":[{"value":["","define ","\"Denominator\"",":\n  "]},{"r":"637","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"637","locator":"35:3-35:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Initial Population","type":"ExpressionRef"}},{"localId":"639","locator":"37:1-38:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"639","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"642","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"646","type":"ListTypeSpecifier","elementType":{"localId":"647","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","type":"NamedTypeSpecifier"}},"expression":{"localId":"642","locator":"38:3-38:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"644","type":"ListTypeSpecifier","elementType":{"localId":"645","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","type":"NamedTypeSpecifier"}},"codes":{"localId":"641","locator":"38:40-38:50","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ethnicity","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"649","locator":"40:1-41:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"649","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"652","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"656","type":"ListTypeSpecifier","elementType":{"localId":"657","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","type":"NamedTypeSpecifier"}},"expression":{"localId":"652","locator":"41:3-41:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"654","type":"ListTypeSpecifier","elementType":{"localId":"655","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","type":"NamedTypeSpecifier"}},"codes":{"localId":"651","locator":"41:36-41:47","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Payer Type","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"659","locator":"43:1-44:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"659","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"662","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"666","type":"ListTypeSpecifier","elementType":{"localId":"667","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","type":"NamedTypeSpecifier"}},"expression":{"localId":"662","locator":"44:3-44:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"664","type":"ListTypeSpecifier","elementType":{"localId":"665","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","type":"NamedTypeSpecifier"}},"codes":{"localId":"661","locator":"44:35-44:40","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Race","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"669","locator":"46:1-47:62","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"669","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"672","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"Federal Administrative Sex\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"676","type":"ListTypeSpecifier","elementType":{"localId":"677","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","type":"NamedTypeSpecifier"}},"expression":{"localId":"672","locator":"47:3-47:62","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"674","type":"ListTypeSpecifier","elementType":{"localId":"675","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","type":"NamedTypeSpecifier"}},"codes":{"localId":"671","locator":"47:34-47:61","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Federal Administrative Sex","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"681","locator":"52:1-58:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Referring Clinician Receives Consultant Report to Close Referral Loop","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"681","s":[{"value":["","define ","\"Referring Clinician Receives Consultant Report to Close Referral Loop\"",":\n  "]},{"r":"682","s":[{"value":["exists "]},{"r":"745","s":[{"value":["( "]},{"r":"745","s":[{"s":[{"r":"683","s":[{"r":"686","s":[{"r":"686","s":[{"value":["[","\"Communication, Performed\"",": "]},{"s":[{"value":["\"Consultant Report\""]}]},{"value":["]"]}]}]},{"value":[" ","ConsultantReportCommunicated"]}]}]},{"value":["\n      "]},{"r":"739","s":[{"value":["with "]},{"r":"694","s":[{"r":"695","s":[{"s":[{"value":["\"First Referral during First 10 Months of Measurement Period\""]}]}]},{"value":[" ","FirstReferral"]}]},{"value":["\n        such that "]},{"r":"706","s":[{"r":"707","s":[{"r":"721","s":[{"r":"714","s":[{"r":"708","s":[{"value":["FirstReferral"]}]},{"value":["."]},{"r":"714","s":[{"value":["identification"]}]}]},{"value":[" in "]},{"r":"716","s":[{"r":"715","s":[{"value":["ConsultantReportCommunicated"]}]},{"value":["."]},{"r":"716","s":[{"value":["relatedTo"]}]}]}]},{"value":["\n          and "]},{"r":"731","s":[{"r":"723","s":[{"r":"722","s":[{"value":["ConsultantReportCommunicated"]}]},{"value":["."]},{"r":"723","s":[{"value":["receivedDatetime"]}]}]},{"r":"731","value":[" ","after"," "]},{"r":"730","s":[{"r":"724","s":[{"value":["FirstReferral"]}]},{"value":["."]},{"r":"730","s":[{"value":["dateIntervention"]}]}]}]}]},{"value":["\n          and "]},{"r":"738","s":[{"r":"733","s":[{"r":"732","s":[{"value":["ConsultantReportCommunicated"]}]},{"value":["."]},{"r":"733","s":[{"value":["receivedDatetime"]}]}]},{"r":"738","value":[" ","during day of"," "]},{"r":"734","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"682","locator":"53:3-58:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"745","locator":"53:10-58:3","type":"Query","resultTypeSpecifier":{"localId":"748","type":"ListTypeSpecifier","elementType":{"localId":"749","name":"{urn:healthit-gov:qdm:v5_6}PositiveCommunicationPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"683","locator":"53:12-53:89","alias":"ConsultantReportCommunicated","resultTypeSpecifier":{"localId":"692","type":"ListTypeSpecifier","elementType":{"localId":"693","name":"{urn:healthit-gov:qdm:v5_6}PositiveCommunicationPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"686","locator":"53:12-53:60","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveCommunicationPerformed","templateId":"PositiveCommunicationPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"690","type":"ListTypeSpecifier","elementType":{"localId":"691","name":"{urn:healthit-gov:qdm:v5_6}PositiveCommunicationPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"685","locator":"53:41-53:59","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Consultant Report","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[{"localId":"739","locator":"54:7-57:94","alias":"FirstReferral","type":"With","resultTypeSpecifier":{"localId":"740","type":"TupleTypeSpecifier","element":[{"localId":"741","name":"identification","elementType":{"localId":"742","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"743","name":"dateIntervention","elementType":{"localId":"744","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},"expression":{"localId":"695","locator":"54:12-54:72","name":"First Referral during First 10 Months of Measurement Period","type":"ExpressionRef","resultTypeSpecifier":{"localId":"696","type":"TupleTypeSpecifier","element":[{"localId":"697","name":"identification","elementType":{"localId":"698","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}},{"localId":"699","name":"dateIntervention","elementType":{"localId":"700","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]}},"suchThat":{"localId":"706","locator":"55:19-57:94","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"707","locator":"55:19-56:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"721","locator":"55:19-55:88","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"In","signature":[],"operand":[{"localId":"714","locator":"55:19-55:46","resultTypeName":"{urn:hl7-org:elm-types:r1}String","path":"identification","scope":"FirstReferral","type":"Property"},{"localId":"716","locator":"55:51-55:88","path":"relatedTo","scope":"ConsultantReportCommunicated","type":"Property","resultTypeSpecifier":{"localId":"719","type":"ListTypeSpecifier","elementType":{"localId":"720","name":"{urn:hl7-org:elm-types:r1}String","type":"NamedTypeSpecifier"}}}]},{"localId":"731","locator":"56:15-56:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"After","signature":[],"operand":[{"localId":"723","locator":"56:15-56:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"receivedDatetime","scope":"ConsultantReportCommunicated","type":"Property"},{"localId":"730","locator":"56:67-56:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"dateIntervention","scope":"FirstReferral","type":"Property"}]}]},{"localId":"738","locator":"57:15-57:94","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"733","locator":"57:15-57:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"receivedDatetime","scope":"ConsultantReportCommunicated","type":"Property"},{"localId":"734","locator":"57:75-57:94","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"735","type":"IntervalTypeSpecifier","pointType":{"localId":"736","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}]}}},{"localId":"679","locator":"49:1-50:73","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"679","s":[{"value":["","define ","\"Numerator\"",":\n  "]},{"r":"750","s":[{"value":["\"Referring Clinician Receives Consultant Report to Close Referral Loop\""]}]}]}}],"expression":{"localId":"750","locator":"50:3-50:73","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Referring Clinician Receives Consultant Report to Close Referral Loop","type":"ExpressionRef"}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Has Encounter during Measurement Period\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"256"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Ophthalmological Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"262"}],"node_type":"Union","ref_id":"266"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Established Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"271"}],"ref_id":"275"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services, Initial Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"280"}],"node_type":"Union","ref_id":"285"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Initial Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"290"}],"ref_id":"294"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care, Established Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"299"}],"node_type":"Union","ref_id":"304"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"304"},{"children":[{"text":" Encounter"}]}],"ref_id":"253"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"311"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"312"}],"node_type":"Property","ref_id":"312"},{"children":[{"text":" during day of "}],"ref_id":"320"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"317"}],"ref_id":"320"}],"ref_id":"320"}],"node_type":"Query","ref_id":"322"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"322"}],"node_type":"Exists","ref_id":"252"}],"ref_id":"251"}],"define_name":"Has Encounter during Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Has Intervention during Measurement Period\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Behavioral or Neuropsych Assessment\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"334"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"340"}],"node_type":"Union","ref_id":"345"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"350"}],"ref_id":"355"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"360"}],"node_type":"Union","ref_id":"366"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Psychotherapy for crisis; first 60 minutes\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"371"}],"ref_id":"376"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Psych Visit Diagnostic Evaluation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"381"}],"node_type":"Union","ref_id":"386"},{"children":[{"text":"\n      union "}]},{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"391"}],"node_type":"Union","ref_id":"396"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"396"},{"children":[{"text":" Intervention"}]}],"ref_id":"331"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"403"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"Intervention"}]}],"ref_id":"404"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"405"}],"node_type":"Property","ref_id":"405"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Intervention"}]}],"ref_id":"406"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"407"}],"node_type":"Property","ref_id":"407"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"412"}],"node_type":"FunctionRef","ref_id":"412"},{"children":[{"text":" ends during day of "}],"ref_id":"421"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"417"}],"ref_id":"421"}],"ref_id":"421"}],"node_type":"Query","ref_id":"422"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"422"}],"node_type":"Exists","ref_id":"330"}],"ref_id":"329"}],"define_name":"Has Intervention during Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"First Referral during First 10 Months of Measurement Period\":\n  "}]},{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Referral\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"434"}],"node_type":"Retrieve","ref_id":"434"},{"children":[{"text":" ReferralPerform"}]}],"ref_id":"431"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"442"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"children":[{"text":"ReferralPerform"}]}],"ref_id":"443"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"444"}],"node_type":"Property","ref_id":"444"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"ReferralPerform"}]}],"ref_id":"445"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"446"}],"node_type":"Property","ref_id":"446"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"451"}],"node_type":"FunctionRef","ref_id":"451"},{"children":[{"text":" ends during day of "}],"ref_id":"476"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"457"}],"ref_id":"456"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Date("}]},{"children":[{"children":[{"text":"year from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"462"}],"node_type":"Start","ref_id":"461"}],"ref_id":"460"},{"children":[{"text":", 10, 31)"}],"ref_id":"465"}],"node_type":"Date","ref_id":"469"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"470"}],"ref_id":"476"}],"ref_id":"476"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"{\n          "}]},{"children":[{"children":[{"text":"identification: "}]},{"children":[{"children":[{"children":[{"text":"ReferralPerform"}]}],"ref_id":"479"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"id"}]}],"ref_id":"480"}],"ref_id":"480"}]},{"children":[{"text":",\n          "}]},{"children":[{"children":[{"text":"dateIntervention: \n          "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"482"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"children":[{"text":"ReferralPerform"}]}],"ref_id":"483"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"484"}],"node_type":"Property","ref_id":"484"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"ReferralPerform"}]}],"ref_id":"485"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"486"}],"node_type":"Property","ref_id":"486"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"491"}],"node_type":"FunctionRef","ref_id":"491"}],"ref_id":"481"}]},{"children":[{"text":"\n        }"}]}],"node_type":"Tuple","ref_id":"478"}],"ref_id":"477"}],"node_type":"Query","ref_id":"507"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"507"},{"children":[{"text":"\n      union"}]},{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Order\": "}]},{"children":[{"children":[{"text":"\"Referral\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"523"}],"node_type":"Retrieve","ref_id":"523"},{"children":[{"text":" ReferralOrder"}]}],"ref_id":"520"}]},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ReferralOrder"}]}],"ref_id":"531"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"532"}],"node_type":"Property","ref_id":"532"},{"children":[{"text":" during day of "}],"ref_id":"553"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"534"}],"ref_id":"533"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Date("}]},{"children":[{"children":[{"text":"year from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"539"}],"node_type":"Start","ref_id":"538"}],"ref_id":"537"},{"children":[{"text":", 10, 31)"}],"ref_id":"542"}],"node_type":"Date","ref_id":"546"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"547"}],"ref_id":"553"}],"ref_id":"553"},{"children":[{"text":"\n          "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"{\n            "}]},{"children":[{"children":[{"text":"identification: "}]},{"children":[{"children":[{"children":[{"text":"ReferralOrder"}]}],"ref_id":"556"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"id"}]}],"ref_id":"557"}],"ref_id":"557"}]},{"children":[{"text":",\n            "}]},{"children":[{"children":[{"text":"dateIntervention: "}]},{"children":[{"children":[{"children":[{"text":"ReferralOrder"}]}],"ref_id":"558"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"ref_id":"559"}],"ref_id":"559"}]},{"children":[{"text":"\n          }"}]}],"node_type":"Tuple","ref_id":"555"}],"ref_id":"554"}],"node_type":"Query","ref_id":"571"},{"children":[{"text":"\n      )"}]}],"node_type":"Query","ref_id":"571"}],"node_type":"Union","ref_id":"584"},{"children":[{"text":")"}]}],"node_type":"Union","ref_id":"584"},{"children":[{"text":" ReferralInterventions"}]}],"ref_id":"430"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"dateIntervention"}]}],"ref_id":"603"},{"children":[{"text":" ascending"}]}],"ref_id":"604"}],"ref_id":"605"}],"ref_id":"609"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"618"}],"ref_id":"429"}],"define_name":"First Referral during First 10 Months of Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"\"Has Encounter during Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"327"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"text":"\"Has Intervention during Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"427"}],"node_type":"Or","ref_id":"249"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"249"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"children":[{"text":"\"First Referral during First 10 Months of Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"629"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"636"}],"node_type":"And","ref_id":"248"}],"ref_id":"247"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"637"}],"ref_id":"245"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"642"}],"ref_id":"639"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"652"}],"ref_id":"649"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"662"}],"ref_id":"659"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"Federal Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"672"}],"ref_id":"669"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Referring Clinician Receives Consultant Report to Close Referral Loop\":\n  "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Communication, Performed\": "}]},{"children":[{"children":[{"text":"\"Consultant Report\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"686"}],"node_type":"Retrieve","ref_id":"686"},{"children":[{"text":" ConsultantReportCommunicated"}]}],"ref_id":"683"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"First Referral during First 10 Months of Measurement Period\""}]}]}],"node_type":"ExpressionRef","ref_id":"695"},{"children":[{"text":" FirstReferral"}]}],"ref_id":"694"},{"children":[{"text":"\n        such that "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"FirstReferral"}]}],"ref_id":"708"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"identification"}]}],"node_type":"Property","ref_id":"714"}],"node_type":"Property","ref_id":"714"},{"children":[{"text":" in "}]},{"children":[{"children":[{"children":[{"text":"ConsultantReportCommunicated"}]}],"ref_id":"715"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relatedTo"}]}],"node_type":"Property","ref_id":"716"}],"node_type":"Property","ref_id":"716"}],"node_type":"In","ref_id":"721"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ConsultantReportCommunicated"}]}],"ref_id":"722"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"receivedDatetime"}]}],"node_type":"Property","ref_id":"723"}],"node_type":"Property","ref_id":"723"},{"children":[{"text":" after "}],"node_type":"After","ref_id":"731"},{"children":[{"children":[{"children":[{"text":"FirstReferral"}]}],"ref_id":"724"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dateIntervention"}]}],"node_type":"Property","ref_id":"730"}],"node_type":"Property","ref_id":"730"}],"node_type":"After","ref_id":"731"}],"node_type":"And","ref_id":"707"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ConsultantReportCommunicated"}]}],"ref_id":"732"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"receivedDatetime"}]}],"node_type":"Property","ref_id":"733"}],"node_type":"Property","ref_id":"733"},{"children":[{"text":" during day of "}],"node_type":"In","ref_id":"738"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"734"}],"node_type":"In","ref_id":"738"}],"node_type":"And","ref_id":"706"}],"ref_id":"739"}],"node_type":"Query","ref_id":"745"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"745"}],"node_type":"Exists","ref_id":"682"}],"ref_id":"681"}],"define_name":"Referring Clinician Receives Consultant Report to Close Referral Loop"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"text":"\"Referring Clinician Receives Consultant Report to Close Referral Loop\""}]}],"node_type":"ExpressionRef","ref_id":"750"}],"ref_id":"679"}],"define_name":"Numerator"}],"identifier":{"id":"CMS50CRLReceiptofSpecialistReportQDM","version":"14.0.000"}},"is_main_library":true,"is_top_level":true,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","library_version":"14.0.000","statement_dependencies":[{"_id":"6892031310d20757c0cf0ec3","statement_name":"Patient"},{"_id":"6892031310d20757c0cf0ec4","statement_name":"Has Encounter during Measurement Period"},{"_id":"6892031310d20757c0cf0ec5","statement_name":"Has Intervention during Measurement Period","statement_references":[{"_id":"6892031910d20757c0cf11b4","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"6892031310d20757c0cf0ec6","statement_name":"First Referral during First 10 Months of Measurement Period","statement_references":[{"_id":"6892031910d20757c0cf11b5","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"6892031310d20757c0cf0ec7","statement_name":"Initial Population","statement_references":[{"_id":"6892031310d20757c0cf0ec0","hqmf_id":null,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Has Encounter during Measurement Period"},{"_id":"6892031310d20757c0cf0ec1","hqmf_id":null,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Has Intervention during Measurement Period"},{"_id":"6892031310d20757c0cf0ec2","hqmf_id":null,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"First Referral during First 10 Months of Measurement Period"}]},{"_id":"6892031310d20757c0cf0ec8","statement_name":"Denominator","statement_references":[{"_id":"6892031910d20757c0cf11b6","hqmf_id":null,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Initial Population"}]},{"_id":"6892031310d20757c0cf0ec9","statement_name":"SDE Ethnicity"},{"_id":"6892031310d20757c0cf0eca","statement_name":"SDE Payer"},{"_id":"6892031310d20757c0cf0ecb","statement_name":"SDE Race"},{"_id":"6892031310d20757c0cf0ecc","statement_name":"SDE Sex"},{"_id":"6892031310d20757c0cf0ecd","statement_name":"Referring Clinician Receives Consultant Report to Close Referral Loop","statement_references":[{"_id":"6892031910d20757c0cf11b7","hqmf_id":null,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"First Referral during First 10 Months of Measurement Period"}]},{"_id":"6892031310d20757c0cf0ece","statement_name":"Numerator","statement_references":[{"_id":"6892031910d20757c0cf11b8","hqmf_id":null,"library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Referring Clinician Receives Consultant Report to Close Referral Loop"}]}]},{"_id":"6892031310d20757c0cf0ed0","cql":"library CQMCommonQDM version '9.0.000'\n\n/*Upversion to 9.0.000 renaming the library to CQMCommonQDM to align with the FHIR naming convention and to remove the old MAT designation*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"message":"An operand identifier [Encounter] is hiding another identifier of the same name.","errorType":"semantic","errorSeverity":"warning","type":"CqlToElmError"},{"type":"Annotation","s":{"r":"1247","s":[{"value":["","library CQMCommonQDM version '9.0.000'"]}]}}],"identifier":{"id":"CQMCommonQDM","version":"9.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["/*Upversion to 9.0.000 renaming the library to CQMCommonQDM to align with the FHIR naming convention and to remove the old MAT designation*/\n\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"212","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"213","s":[{"value":["Interval\u003c"]},{"r":"214","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"217","type":"IntervalTypeSpecifier","pointType":{"localId":"218","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"213","locator":"13:32-13:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"215","type":"IntervalTypeSpecifier","pointType":{"localId":"216","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"214","locator":"13:41-13:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"207","locator":"7:1-7:82","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}],"codeSystem":[]},{"localId":"208","locator":"8:1-8:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}],"codeSystem":[]},{"localId":"209","locator":"9:1-9:72","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}],"codeSystem":[]},{"localId":"210","locator":"10:1-10:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}],"codeSystem":[]}]},"contexts":{"def":[{"localId":"222","locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"localId":"224","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"224","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"227","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"231","type":"ListTypeSpecifier","elementType":{"localId":"232","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"227","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"229","type":"ListTypeSpecifier","elementType":{"localId":"230","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"226","locator":"18:28-18:55","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"1212","locator":"168:1-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1212","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1218","s":[{"r":"1218","s":[{"value":["if "]},{"r":"1222","s":[{"value":["( "]},{"r":"1222","s":[{"value":["HasStart","("]},{"r":"1219","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"1223","s":[{"value":["start of "]},{"r":"1224","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"1227","s":[{"value":["end of "]},{"r":"1228","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"1218","locator":"169:3-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"If","condition":{"localId":"1222","locator":"169:6-169:24","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasStart","type":"FunctionRef","signature":[],"operand":[{"localId":"1219","locator":"169:17-169:22","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1220","type":"IntervalTypeSpecifier","pointType":{"localId":"1221","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"then":{"localId":"1223","locator":"169:31-169:45","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1224","locator":"169:40-169:45","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1225","type":"IntervalTypeSpecifier","pointType":{"localId":"1226","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"else":{"localId":"1227","locator":"171:3-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1228","locator":"171:10-171:15","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1229","type":"IntervalTypeSpecifier","pointType":{"localId":"1230","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1217","name":"period","operandTypeSpecifier":{"localId":"1213","locator":"168:35-168:52","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1215","type":"IntervalTypeSpecifier","pointType":{"localId":"1216","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1214","locator":"168:44-168:51","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1247","locator":"178:1-179:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1247","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1262","s":[{"r":"1262","s":[{"value":["Earliest","("]},{"r":"1259","s":[{"value":["NormalizeInterval","("]},{"r":"1255","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1256","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1262","locator":"179:3-179:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Earliest","type":"FunctionRef","signature":[],"operand":[{"localId":"1259","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","resultTypeSpecifier":{"localId":"1260","type":"IntervalTypeSpecifier","pointType":{"localId":"1261","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1255","locator":"179:30-179:40","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},{"localId":"1256","locator":"179:43-179:48","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1257","type":"IntervalTypeSpecifier","pointType":{"localId":"1258","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]},"operand":[{"localId":"1249","name":"pointInTime","operandTypeSpecifier":{"localId":"1248","locator":"178:42-178:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1254","name":"period","operandTypeSpecifier":{"localId":"1250","locator":"178:59-178:76","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1252","type":"IntervalTypeSpecifier","pointType":{"localId":"1253","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1251","locator":"178:68-178:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"48:1-52:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"398","s":[{"r":"398","s":[{"value":["start of "]},{"r":"427","s":[{"r":"426","s":[{"value":["First","("]},{"r":"421","s":[{"s":[{"r":"399","s":[{"r":"401","s":[{"value":["("]},{"r":"401","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"400","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"411","s":[{"value":["where "]},{"r":"411","s":[{"r":"409","s":[{"r":"408","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"409","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"410","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"417","s":[{"value":["sort by "]},{"r":"416","s":[{"r":"412","s":[{"value":["start of "]},{"r":"413","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"427","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"398","locator":"49:3-52:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"427","locator":"49:12-52:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"430","type":"IntervalTypeSpecifier","pointType":{"localId":"431","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"426","locator":"49:12-52:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"421","locator":"49:18-51:35","type":"Query","resultTypeSpecifier":{"localId":"422","type":"ListTypeSpecifier","elementType":{"localId":"423","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"399","locator":"49:18-49:72","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"406","type":"ListTypeSpecifier","elementType":{"localId":"407","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"401","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"404","type":"ListTypeSpecifier","elementType":{"localId":"405","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"400","locator":"49:46-49:54","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"where":{"localId":"411","locator":"50:5-50:63","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"409","locator":"50:11-50:31","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"410","locator":"50:36-50:63","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"417","locator":"51:5-51:35","by":[{"localId":"416","locator":"51:13-51:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"412","locator":"51:13-51:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"413","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"414","type":"IntervalTypeSpecifier","pointType":{"localId":"415","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"397","name":"Encounter","operandTypeSpecifier":{"localId":"396","locator":"48:60-48:81","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1063","locator":"134:1-139:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1063","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1110","s":[{"r":"1110","s":[{"value":["First","("]},{"r":"1105","s":[{"s":[{"r":"1066","s":[{"r":"1068","s":[{"value":["("]},{"r":"1068","s":[{"r":"1067","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"1068","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"1077","s":[{"value":["where "]},{"r":"1077","s":[{"r":"1081","s":[{"r":"1079","s":[{"r":"1078","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"1079","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"1080","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"1094","s":[{"r":"1083","s":[{"r":"1082","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"1083","s":[{"value":["locationPeriod"]}]}]},{"r":"1094","value":[" ","during"," "]},{"r":"1089","s":[{"r":"1088","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"1089","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"1101","s":[{"value":["sort by "]},{"r":"1100","s":[{"r":"1096","s":[{"value":["start of "]},{"r":"1097","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"1110","locator":"135:3-139:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"1105","locator":"135:9-138:37","type":"Query","resultTypeSpecifier":{"localId":"1106","type":"ListTypeSpecifier","elementType":{"localId":"1107","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"1066","locator":"135:9-135:53","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"1075","type":"ListTypeSpecifier","elementType":{"localId":"1076","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"1068","locator":"135:9-135:37","path":"facilityLocations","type":"Property","resultTypeSpecifier":{"localId":"1073","type":"ListTypeSpecifier","elementType":{"localId":"1074","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":{"localId":"1067","locator":"135:10-135:18","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}}],"let":[],"relationship":[],"where":{"localId":"1077","locator":"136:7-137:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1081","locator":"136:13-136:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"1079","locator":"136:13-136:33","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"1080","locator":"136:38-136:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Intensive Care Unit","preserve":true}},{"localId":"1094","locator":"137:13-137:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IncludedIn","signature":[],"operand":[{"localId":"1083","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property","resultTypeSpecifier":{"localId":"1086","type":"IntervalTypeSpecifier","pointType":{"localId":"1087","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"1089","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"1092","type":"IntervalTypeSpecifier","pointType":{"localId":"1093","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"1088","locator":"137:52-137:60","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"1101","locator":"138:7-138:37","by":[{"localId":"1100","locator":"138:15-138:37","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1096","locator":"138:15-138:37","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1097","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1098","type":"IntervalTypeSpecifier","pointType":{"localId":"1099","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}},"operand":[{"localId":"1065","name":"Encounter","operandTypeSpecifier":{"localId":"1064","locator":"134:61-134:82","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1173","locator":"154:1-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1173","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1179","s":[{"r":"1179","s":[{"value":["not "]},{"r":"1180","s":[{"value":["( \n    "]},{"r":"1180","s":[{"r":"1185","s":[{"r":"1181","s":[{"value":["end of "]},{"r":"1182","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"1186","s":[{"r":"1187","s":[{"value":["end of "]},{"r":"1188","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"1192","s":[{"value":["maximum"," "]},{"r":"1191","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"1179","locator":"155:3-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1180","locator":"155:7-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1185","locator":"156:5-156:25","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1181","locator":"156:5-156:17","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1182","locator":"156:12-156:17","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1183","type":"IntervalTypeSpecifier","pointType":{"localId":"1184","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},{"localId":"1186","locator":"158:7-158:38","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"1187","locator":"158:7-158:19","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1188","locator":"158:14-158:19","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1189","type":"IntervalTypeSpecifier","pointType":{"localId":"1190","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1192","locator":"158:23-158:38","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"localId":"1178","name":"period","operandTypeSpecifier":{"localId":"1174","locator":"154:33-154:50","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1176","type":"IntervalTypeSpecifier","pointType":{"localId":"1177","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1175","locator":"154:42-154:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1153","locator":"148:1-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1153","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1159","s":[{"r":"1159","s":[{"value":["not "]},{"r":"1160","s":[{"value":["( "]},{"r":"1160","s":[{"r":"1165","s":[{"r":"1161","s":[{"value":["start of "]},{"r":"1162","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"1166","s":[{"r":"1167","s":[{"value":["start of "]},{"r":"1168","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"1172","s":[{"value":["minimum"," "]},{"r":"1171","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"1159","locator":"149:3-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1160","locator":"149:7-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1165","locator":"149:9-149:31","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1161","locator":"149:9-149:23","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1162","locator":"149:18-149:23","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1163","type":"IntervalTypeSpecifier","pointType":{"localId":"1164","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},{"localId":"1166","locator":"150:10-150:43","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"1167","locator":"150:10-150:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1168","locator":"150:19-150:24","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1169","type":"IntervalTypeSpecifier","pointType":{"localId":"1170","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1172","locator":"150:28-150:43","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"localId":"1158","name":"period","operandTypeSpecifier":{"localId":"1154","locator":"148:35-148:52","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1156","type":"IntervalTypeSpecifier","pointType":{"localId":"1157","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1155","locator":"148:44-148:51","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"432","locator":"55:1-56:39","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"432","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"435","s":[{"r":"435","s":[{"value":["start of "]},{"r":"440","s":[{"value":["\"Hospitalization\"","("]},{"r":"436","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"435","locator":"56:3-56:39","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"440","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","resultTypeSpecifier":{"localId":"528","type":"IntervalTypeSpecifier","pointType":{"localId":"529","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"436","locator":"56:30-56:38","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}},"operand":[{"localId":"434","name":"Encounter","operandTypeSpecifier":{"localId":"433","locator":"55:51-55:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"530","locator":"59:1-62:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"530","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"533","s":[{"r":"533","s":[{"value":["start of "]},{"r":"558","s":[{"r":"557","s":[{"value":["First","("]},{"r":"552","s":[{"s":[{"r":"534","s":[{"r":"536","s":[{"value":["("]},{"r":"536","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"535","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"548","s":[{"value":["sort by "]},{"r":"547","s":[{"r":"543","s":[{"value":["start of "]},{"r":"544","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"558","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"533","locator":"60:3-62:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"558","locator":"60:12-62:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"561","type":"IntervalTypeSpecifier","pointType":{"localId":"562","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"557","locator":"60:12-62:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"552","locator":"60:18-61:35","type":"Query","resultTypeSpecifier":{"localId":"553","type":"ListTypeSpecifier","elementType":{"localId":"554","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"534","locator":"60:18-60:72","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"541","type":"ListTypeSpecifier","elementType":{"localId":"542","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"536","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"539","type":"ListTypeSpecifier","elementType":{"localId":"540","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"535","locator":"60:46-60:54","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"sort":{"localId":"548","locator":"61:5-61:35","by":[{"localId":"547","locator":"61:13-61:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"543","locator":"61:13-61:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"544","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"545","type":"IntervalTypeSpecifier","pointType":{"localId":"546","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"532","name":"Encounter","operandTypeSpecifier":{"localId":"531","locator":"59:49-59:70","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"660","locator":"80:1-83:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"660","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"663","s":[{"r":"663","s":[{"value":["end of "]},{"r":"688","s":[{"r":"687","s":[{"value":["Last","("]},{"r":"682","s":[{"s":[{"r":"664","s":[{"r":"666","s":[{"value":["("]},{"r":"666","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"665","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"678","s":[{"value":["sort by "]},{"r":"677","s":[{"r":"673","s":[{"value":["start of "]},{"r":"674","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"688","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"663","locator":"81:3-83:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"688","locator":"81:10-83:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"691","type":"IntervalTypeSpecifier","pointType":{"localId":"692","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"687","locator":"81:10-83:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"Last","signature":[],"source":{"localId":"682","locator":"81:15-82:35","type":"Query","resultTypeSpecifier":{"localId":"683","type":"ListTypeSpecifier","elementType":{"localId":"684","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"664","locator":"81:15-81:69","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"671","type":"ListTypeSpecifier","elementType":{"localId":"672","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"666","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"669","type":"ListTypeSpecifier","elementType":{"localId":"670","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"665","locator":"81:43-81:51","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"sort":{"localId":"678","locator":"82:5-82:35","by":[{"localId":"677","locator":"82:13-82:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"673","locator":"82:13-82:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"674","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"675","type":"IntervalTypeSpecifier","pointType":{"localId":"676","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"662","name":"Encounter","operandTypeSpecifier":{"localId":"661","locator":"80:51-80:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"693","locator":"86:1-87:33","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"693","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"696","s":[{"r":"696","s":[{"value":["end of "]},{"r":"698","s":[{"r":"697","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"698","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"696","locator":"87:3-87:33","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"698","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"701","type":"IntervalTypeSpecifier","pointType":{"localId":"702","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"697","locator":"87:10-87:18","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}},"operand":[{"localId":"695","name":"Encounter","operandTypeSpecifier":{"localId":"694","locator":"86:51-86:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"437","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"437","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"645","s":[{"r":"645","s":[{"s":[{"r":"563","s":[{"r":"564","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"565","s":[{"value":["EDVisit",": "]},{"r":"614","s":[{"value":["Last","("]},{"r":"609","s":[{"s":[{"r":"566","s":[{"r":"569","s":[{"r":"569","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"599","s":[{"value":["where "]},{"r":"599","s":[{"r":"578","s":[{"r":"577","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"578","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"599","s":[{"value":["ends "]},{"r":"591","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"583","s":[{"value":["start of "]},{"r":"585","s":[{"r":"584","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"585","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"605","s":[{"value":["sort by \n  \t\t\t"]},{"r":"604","s":[{"r":"600","s":[{"value":["end of "]},{"r":"601","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"615","s":[{"value":["return "]},{"r":"640","s":[{"value":["Interval["]},{"r":"632","s":[{"value":["Coalesce","("]},{"r":"616","s":[{"value":["start of "]},{"r":"618","s":[{"r":"617","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"618","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"623","s":[{"value":["start of "]},{"r":"625","s":[{"r":"624","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"625","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"633","s":[{"value":["end of "]},{"r":"635","s":[{"r":"634","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"635","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"650","type":"IntervalTypeSpecifier","pointType":{"localId":"651","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"645","locator":"66:3-73:31","type":"Query","resultTypeSpecifier":{"localId":"648","type":"IntervalTypeSpecifier","pointType":{"localId":"649","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"563","locator":"66:3-66:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"564","locator":"66:3-66:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"565","locator":"67:8-71:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"614","locator":"67:17-71:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"609","locator":"67:22-70:26","type":"Query","resultTypeSpecifier":{"localId":"610","type":"ListTypeSpecifier","elementType":{"localId":"611","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"566","locator":"67:22-67:82","alias":"LastED","resultTypeSpecifier":{"localId":"575","type":"ListTypeSpecifier","elementType":{"localId":"576","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"569","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"573","type":"ListTypeSpecifier","elementType":{"localId":"574","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"568","locator":"67:47-67:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"599","locator":"68:6-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"596","locator":"68:39-68:52","type":"In","signature":[],"operand":[{"localId":"590","locator":"68:34-68:37","type":"End","signature":[],"operand":{"localId":"578","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"581","type":"IntervalTypeSpecifier","pointType":{"localId":"582","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"593","locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"594","type":"IntervalTypeSpecifier","pointType":{"localId":"595","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"592","locator":"68:67-68:95","type":"Subtract","signature":[],"operand":[{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"591","locator":"68:39-68:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"598","locator":"68:39-68:52","type":"Not","signature":[],"operand":{"localId":"597","locator":"68:39-68:52","type":"IsNull","signature":[],"operand":{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"605","locator":"69:6-70:26","by":[{"localId":"604","locator":"70:6-70:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"600","locator":"70:6-70:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"601","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"602","type":"IntervalTypeSpecifier","pointType":{"localId":"603","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"615","locator":"72:4-73:31","resultTypeSpecifier":{"localId":"643","type":"IntervalTypeSpecifier","pointType":{"localId":"644","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"640","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"641","type":"IntervalTypeSpecifier","pointType":{"localId":"642","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"632","locator":"72:20-72:91","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"616","locator":"72:29-72:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"618","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"621","type":"IntervalTypeSpecifier","pointType":{"localId":"622","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"617","locator":"72:38-72:44","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"623","locator":"72:62-72:90","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"625","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"628","type":"IntervalTypeSpecifier","pointType":{"localId":"629","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]},"high":{"localId":"633","locator":"73:4-73:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"635","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"638","type":"IntervalTypeSpecifier","pointType":{"localId":"639","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"439","name":"Encounter","operandTypeSpecifier":{"localId":"438","locator":"65:45-65:66","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"652","locator":"76:1-77:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"652","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"659","s":[{"r":"659","s":[{"value":["LengthInDays","("]},{"r":"656","s":[{"value":["\"Hospitalization\"","("]},{"r":"655","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"659","locator":"77:3-77:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","type":"FunctionRef","signature":[],"operand":[{"localId":"656","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","resultTypeSpecifier":{"localId":"657","type":"IntervalTypeSpecifier","pointType":{"localId":"658","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"655","locator":"77:34-77:42","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"localId":"654","name":"Encounter","operandTypeSpecifier":{"localId":"653","locator":"76:57-76:78","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"300","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"300","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"388","s":[{"r":"388","s":[{"s":[{"r":"303","s":[{"r":"304","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"305","s":[{"value":["EDVisit",": "]},{"r":"354","s":[{"value":["Last","("]},{"r":"349","s":[{"s":[{"r":"306","s":[{"r":"309","s":[{"r":"309","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"339","s":[{"value":["where "]},{"r":"339","s":[{"r":"318","s":[{"r":"317","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"318","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"339","s":[{"value":["ends "]},{"r":"331","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"323","s":[{"value":["start of "]},{"r":"325","s":[{"r":"324","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"325","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"345","s":[{"value":["sort by \n  \t\t\t"]},{"r":"344","s":[{"r":"340","s":[{"value":["end of "]},{"r":"341","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"355","s":[{"value":["return "]},{"r":"356","s":[{"value":["if "]},{"r":"358","s":[{"r":"357","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"360","s":[{"r":"359","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"360","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"365","s":[{"value":["flatten "]},{"r":"366","s":[{"value":["{ "]},{"r":"368","s":[{"r":"367","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"368","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"374","s":[{"r":"373","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"374","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"393","type":"ListTypeSpecifier","elementType":{"localId":"394","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"388","locator":"38:3-45:71","type":"Query","resultTypeSpecifier":{"localId":"391","type":"ListTypeSpecifier","elementType":{"localId":"392","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"303","locator":"38:3-38:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"304","locator":"38:3-38:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"305","locator":"39:8-43:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"354","locator":"39:17-43:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"349","locator":"39:22-42:26","type":"Query","resultTypeSpecifier":{"localId":"350","type":"ListTypeSpecifier","elementType":{"localId":"351","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"306","locator":"39:22-39:82","alias":"LastED","resultTypeSpecifier":{"localId":"315","type":"ListTypeSpecifier","elementType":{"localId":"316","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"309","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"313","type":"ListTypeSpecifier","elementType":{"localId":"314","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"308","locator":"39:47-39:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"339","locator":"40:6-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"336","locator":"40:39-40:52","type":"In","signature":[],"operand":[{"localId":"330","locator":"40:34-40:37","type":"End","signature":[],"operand":{"localId":"318","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"321","type":"IntervalTypeSpecifier","pointType":{"localId":"322","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"333","locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"334","type":"IntervalTypeSpecifier","pointType":{"localId":"335","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"332","locator":"40:67-40:95","type":"Subtract","signature":[],"operand":[{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"331","locator":"40:39-40:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"338","locator":"40:39-40:52","type":"Not","signature":[],"operand":{"localId":"337","locator":"40:39-40:52","type":"IsNull","signature":[],"operand":{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"345","locator":"41:6-42:26","by":[{"localId":"344","locator":"42:6-42:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"340","locator":"42:6-42:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"341","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"342","type":"IntervalTypeSpecifier","pointType":{"localId":"343","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"355","locator":"44:4-45:71","resultTypeSpecifier":{"localId":"386","type":"ListTypeSpecifier","elementType":{"localId":"387","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"356","locator":"44:11-45:71","type":"If","resultTypeSpecifier":{"localId":"384","type":"ListTypeSpecifier","elementType":{"localId":"385","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"condition":{"localId":"358","locator":"44:14-44:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"357","locator":"44:14-44:20","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"360","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"363","type":"ListTypeSpecifier","elementType":{"localId":"364","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}},"else":{"localId":"365","locator":"45:10-45:71","type":"Flatten","resultTypeSpecifier":{"localId":"382","type":"ListTypeSpecifier","elementType":{"localId":"383","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":{"localId":"366","locator":"45:18-45:71","type":"List","resultTypeSpecifier":{"localId":"379","type":"ListTypeSpecifier","elementType":{"localId":"380","type":"ListTypeSpecifier","elementType":{"localId":"381","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}},"element":[{"localId":"368","locator":"45:20-45:44","path":"facilityLocations","type":"Property","resultTypeSpecifier":{"localId":"371","type":"ListTypeSpecifier","elementType":{"localId":"372","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":{"localId":"367","locator":"45:20-45:26","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}},{"localId":"374","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"377","type":"ListTypeSpecifier","elementType":{"localId":"378","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}}]}}}}},"operand":[{"localId":"302","name":"Encounter","operandTypeSpecifier":{"localId":"301","locator":"37:54-37:75","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"907","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"907","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1048","s":[{"r":"1048","s":[{"s":[{"r":"910","s":[{"r":"911","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"912","s":[{"value":["ObsVisit",": "]},{"r":"961","s":[{"value":["Last","("]},{"r":"956","s":[{"s":[{"r":"913","s":[{"r":"916","s":[{"r":"916","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"946","s":[{"value":["where "]},{"r":"946","s":[{"r":"925","s":[{"r":"924","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"925","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"946","s":[{"value":["ends "]},{"r":"938","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"930","s":[{"value":["start of "]},{"r":"932","s":[{"r":"931","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"932","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"952","s":[{"value":["sort by \n  \t\t\t"]},{"r":"951","s":[{"r":"947","s":[{"value":["end of "]},{"r":"948","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"962","s":[{"value":["VisitStart",": "]},{"r":"979","s":[{"value":["Coalesce","("]},{"r":"963","s":[{"value":["start of "]},{"r":"965","s":[{"r":"964","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"965","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"970","s":[{"value":["start of "]},{"r":"972","s":[{"r":"971","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"972","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"980","s":[{"value":["EDVisit",": "]},{"r":"1023","s":[{"value":["Last","("]},{"r":"1018","s":[{"s":[{"r":"981","s":[{"r":"984","s":[{"r":"984","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"1008","s":[{"value":["where "]},{"r":"1008","s":[{"r":"993","s":[{"r":"992","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"993","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"1008","s":[{"value":["ends "]},{"r":"1000","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"998","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"1014","s":[{"value":["sort by \n  \t\t\t"]},{"r":"1013","s":[{"r":"1009","s":[{"value":["end of "]},{"r":"1010","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"1024","s":[{"value":["return "]},{"r":"1043","s":[{"value":["Interval["]},{"r":"1035","s":[{"value":["Coalesce","("]},{"r":"1025","s":[{"value":["start of "]},{"r":"1027","s":[{"r":"1026","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"1027","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"1032","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"1036","s":[{"value":["end of "]},{"r":"1038","s":[{"r":"1037","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"1038","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1053","type":"IntervalTypeSpecifier","pointType":{"localId":"1054","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1048","locator":"114:3-127:31","type":"Query","resultTypeSpecifier":{"localId":"1051","type":"IntervalTypeSpecifier","pointType":{"localId":"1052","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"910","locator":"114:3-114:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"911","locator":"114:3-114:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"912","locator":"115:8-119:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"961","locator":"115:18-119:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"956","locator":"115:23-118:26","type":"Query","resultTypeSpecifier":{"localId":"957","type":"ListTypeSpecifier","elementType":{"localId":"958","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"913","locator":"115:23-115:78","alias":"LastObs","resultTypeSpecifier":{"localId":"922","type":"ListTypeSpecifier","elementType":{"localId":"923","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"916","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"920","type":"ListTypeSpecifier","elementType":{"localId":"921","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"915","locator":"115:48-115:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"946","locator":"116:6-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"943","locator":"116:40-116:53","type":"In","signature":[],"operand":[{"localId":"937","locator":"116:35-116:38","type":"End","signature":[],"operand":{"localId":"925","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"928","type":"IntervalTypeSpecifier","pointType":{"localId":"929","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"940","locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"941","type":"IntervalTypeSpecifier","pointType":{"localId":"942","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"939","locator":"116:68-116:96","type":"Subtract","signature":[],"operand":[{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"938","locator":"116:40-116:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"945","locator":"116:40-116:53","type":"Not","signature":[],"operand":{"localId":"944","locator":"116:40-116:53","type":"IsNull","signature":[],"operand":{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"952","locator":"117:6-118:26","by":[{"localId":"951","locator":"118:6-118:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"947","locator":"118:6-118:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"948","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"949","type":"IntervalTypeSpecifier","pointType":{"localId":"950","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"962","locator":"120:4-120:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"979","locator":"120:16-120:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"963","locator":"120:25-120:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"965","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"968","type":"IntervalTypeSpecifier","pointType":{"localId":"969","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"964","locator":"120:34-120:41","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"970","locator":"120:59-120:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"972","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"975","type":"IntervalTypeSpecifier","pointType":{"localId":"976","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"980","locator":"121:4-125:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"1023","locator":"121:13-125:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"1018","locator":"121:18-124:26","type":"Query","resultTypeSpecifier":{"localId":"1019","type":"ListTypeSpecifier","elementType":{"localId":"1020","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"981","locator":"121:18-121:78","alias":"LastED","resultTypeSpecifier":{"localId":"990","type":"ListTypeSpecifier","elementType":{"localId":"991","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"984","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"988","type":"ListTypeSpecifier","elementType":{"localId":"989","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"983","locator":"121:43-121:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1008","locator":"122:6-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1005","locator":"122:39-122:52","type":"In","signature":[],"operand":[{"localId":"999","locator":"122:34-122:37","type":"End","signature":[],"operand":{"localId":"993","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"996","type":"IntervalTypeSpecifier","pointType":{"localId":"997","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1002","locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1003","type":"IntervalTypeSpecifier","pointType":{"localId":"1004","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1001","locator":"122:67-122:76","type":"Subtract","signature":[],"operand":[{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"1000","locator":"122:39-122:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"1007","locator":"122:39-122:52","type":"Not","signature":[],"operand":{"localId":"1006","locator":"122:39-122:52","type":"IsNull","signature":[],"operand":{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"1014","locator":"123:6-124:26","by":[{"localId":"1013","locator":"124:6-124:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1009","locator":"124:6-124:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1010","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1011","type":"IntervalTypeSpecifier","pointType":{"localId":"1012","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"1024","locator":"126:4-127:31","resultTypeSpecifier":{"localId":"1046","type":"IntervalTypeSpecifier","pointType":{"localId":"1047","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1043","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1044","type":"IntervalTypeSpecifier","pointType":{"localId":"1045","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1035","locator":"126:20-126:72","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"1025","locator":"126:29-126:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1027","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"1030","type":"IntervalTypeSpecifier","pointType":{"localId":"1031","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"1026","locator":"126:38-126:44","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"1032","locator":"126:62-126:71","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"1036","locator":"127:4-127:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1038","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"1041","type":"IntervalTypeSpecifier","pointType":{"localId":"1042","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"909","name":"Encounter","operandTypeSpecifier":{"localId":"908","locator":"113:60-113:81","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"703","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"703","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"900","s":[{"r":"900","s":[{"s":[{"r":"706","s":[{"r":"707","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"708","s":[{"value":["ObsVisit",": "]},{"r":"757","s":[{"value":["Last","("]},{"r":"752","s":[{"s":[{"r":"709","s":[{"r":"712","s":[{"r":"712","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"742","s":[{"value":["where "]},{"r":"742","s":[{"r":"721","s":[{"r":"720","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"721","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"742","s":[{"value":["ends "]},{"r":"734","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"726","s":[{"value":["start of "]},{"r":"728","s":[{"r":"727","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"728","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"748","s":[{"value":["sort by \n  \t\t\t"]},{"r":"747","s":[{"r":"743","s":[{"value":["end of "]},{"r":"744","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"758","s":[{"value":["VisitStart",": "]},{"r":"775","s":[{"value":["Coalesce","("]},{"r":"759","s":[{"value":["start of "]},{"r":"761","s":[{"r":"760","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"761","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"766","s":[{"value":["start of "]},{"r":"768","s":[{"r":"767","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"768","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"776","s":[{"value":["EDVisit",": "]},{"r":"819","s":[{"value":["Last","("]},{"r":"814","s":[{"s":[{"r":"777","s":[{"r":"780","s":[{"r":"780","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"804","s":[{"value":["where "]},{"r":"804","s":[{"r":"789","s":[{"r":"788","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"789","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"804","s":[{"value":["ends "]},{"r":"796","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"794","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"810","s":[{"value":["sort by \n  \t\t\t"]},{"r":"809","s":[{"r":"805","s":[{"value":["end of "]},{"r":"806","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"820","s":[{"value":["VisitStartWithED",": "]},{"r":"831","s":[{"value":["Coalesce","("]},{"r":"821","s":[{"value":["start of "]},{"r":"823","s":[{"r":"822","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"823","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"828","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"832","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"875","s":[{"value":["Last","("]},{"r":"870","s":[{"s":[{"r":"833","s":[{"r":"836","s":[{"r":"836","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"860","s":[{"value":["where "]},{"r":"860","s":[{"r":"845","s":[{"r":"844","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"845","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"860","s":[{"value":["ends "]},{"r":"852","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"850","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"866","s":[{"value":["sort by \n  \t\t\t"]},{"r":"865","s":[{"r":"861","s":[{"value":["end of "]},{"r":"862","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"876","s":[{"value":["return "]},{"r":"895","s":[{"value":["Interval["]},{"r":"887","s":[{"value":["Coalesce","("]},{"r":"877","s":[{"value":["start of "]},{"r":"879","s":[{"r":"878","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"879","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"884","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"888","s":[{"value":["end of "]},{"r":"890","s":[{"r":"889","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"890","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"905","type":"IntervalTypeSpecifier","pointType":{"localId":"906","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"900","locator":"91:3-110:31","type":"Query","resultTypeSpecifier":{"localId":"903","type":"IntervalTypeSpecifier","pointType":{"localId":"904","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"706","locator":"91:3-91:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"707","locator":"91:3-91:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"708","locator":"92:8-96:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"757","locator":"92:18-96:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"752","locator":"92:23-95:26","type":"Query","resultTypeSpecifier":{"localId":"753","type":"ListTypeSpecifier","elementType":{"localId":"754","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"709","locator":"92:23-92:78","alias":"LastObs","resultTypeSpecifier":{"localId":"718","type":"ListTypeSpecifier","elementType":{"localId":"719","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"712","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"716","type":"ListTypeSpecifier","elementType":{"localId":"717","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"711","locator":"92:48-92:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"742","locator":"93:6-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"739","locator":"93:40-93:53","type":"In","signature":[],"operand":[{"localId":"733","locator":"93:35-93:38","type":"End","signature":[],"operand":{"localId":"721","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"724","type":"IntervalTypeSpecifier","pointType":{"localId":"725","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"736","locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"737","type":"IntervalTypeSpecifier","pointType":{"localId":"738","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"735","locator":"93:68-93:96","type":"Subtract","signature":[],"operand":[{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"734","locator":"93:40-93:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"741","locator":"93:40-93:53","type":"Not","signature":[],"operand":{"localId":"740","locator":"93:40-93:53","type":"IsNull","signature":[],"operand":{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"748","locator":"94:6-95:26","by":[{"localId":"747","locator":"95:6-95:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"743","locator":"95:6-95:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"744","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"745","type":"IntervalTypeSpecifier","pointType":{"localId":"746","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"758","locator":"97:4-97:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"775","locator":"97:16-97:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"759","locator":"97:25-97:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"761","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"764","type":"IntervalTypeSpecifier","pointType":{"localId":"765","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"760","locator":"97:34-97:41","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"766","locator":"97:59-97:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"768","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"771","type":"IntervalTypeSpecifier","pointType":{"localId":"772","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"776","locator":"98:4-102:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"819","locator":"98:13-102:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"814","locator":"98:18-101:26","type":"Query","resultTypeSpecifier":{"localId":"815","type":"ListTypeSpecifier","elementType":{"localId":"816","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"777","locator":"98:18-98:78","alias":"LastED","resultTypeSpecifier":{"localId":"786","type":"ListTypeSpecifier","elementType":{"localId":"787","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"780","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"784","type":"ListTypeSpecifier","elementType":{"localId":"785","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"779","locator":"98:43-98:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"804","locator":"99:6-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"801","locator":"99:39-99:52","type":"In","signature":[],"operand":[{"localId":"795","locator":"99:34-99:37","type":"End","signature":[],"operand":{"localId":"789","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"792","type":"IntervalTypeSpecifier","pointType":{"localId":"793","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"798","locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"799","type":"IntervalTypeSpecifier","pointType":{"localId":"800","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"797","locator":"99:67-99:76","type":"Subtract","signature":[],"operand":[{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"796","locator":"99:39-99:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"803","locator":"99:39-99:52","type":"Not","signature":[],"operand":{"localId":"802","locator":"99:39-99:52","type":"IsNull","signature":[],"operand":{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"810","locator":"100:6-101:26","by":[{"localId":"809","locator":"101:6-101:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"805","locator":"101:6-101:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"806","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"807","type":"IntervalTypeSpecifier","pointType":{"localId":"808","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"820","locator":"103:4-103:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStartWithED","expression":{"localId":"831","locator":"103:22-103:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"821","locator":"103:31-103:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"823","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"826","type":"IntervalTypeSpecifier","pointType":{"localId":"827","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"822","locator":"103:40-103:46","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"828","locator":"103:64-103:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"832","locator":"104:4-108:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"OutpatientSurgeryVisit","expression":{"localId":"875","locator":"104:28-108:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"870","locator":"104:33-107:26","type":"Query","resultTypeSpecifier":{"localId":"871","type":"ListTypeSpecifier","elementType":{"localId":"872","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"833","locator":"104:33-104:100","alias":"LastSurgeryOP","resultTypeSpecifier":{"localId":"842","type":"ListTypeSpecifier","elementType":{"localId":"843","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"836","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"840","type":"ListTypeSpecifier","elementType":{"localId":"841","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"835","locator":"104:58-104:85","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"860","locator":"105:6-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"857","locator":"105:46-105:59","type":"In","signature":[],"operand":[{"localId":"851","locator":"105:41-105:44","type":"End","signature":[],"operand":{"localId":"845","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property","resultTypeSpecifier":{"localId":"848","type":"IntervalTypeSpecifier","pointType":{"localId":"849","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"854","locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"855","type":"IntervalTypeSpecifier","pointType":{"localId":"856","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"853","locator":"105:74-105:89","type":"Subtract","signature":[],"operand":[{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"852","locator":"105:46-105:51","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"localId":"859","locator":"105:46-105:59","type":"Not","signature":[],"operand":{"localId":"858","locator":"105:46-105:59","type":"IsNull","signature":[],"operand":{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"866","locator":"106:6-107:26","by":[{"localId":"865","locator":"107:6-107:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"861","locator":"107:6-107:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"862","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"863","type":"IntervalTypeSpecifier","pointType":{"localId":"864","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"876","locator":"109:4-110:31","resultTypeSpecifier":{"localId":"898","type":"IntervalTypeSpecifier","pointType":{"localId":"899","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"895","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"896","type":"IntervalTypeSpecifier","pointType":{"localId":"897","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"887","locator":"109:20-109:93","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"877","locator":"109:29-109:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"879","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"882","type":"IntervalTypeSpecifier","pointType":{"localId":"883","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"878","locator":"109:38-109:59","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"884","locator":"109:77-109:92","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"888","locator":"110:4-110:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"890","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"893","type":"IntervalTypeSpecifier","pointType":{"localId":"894","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"705","name":"Encounter","operandTypeSpecifier":{"localId":"704","locator":"90:87-90:108","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1055","locator":"130:1-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1055","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1062","s":[{"r":"1062","s":[{"value":["\"LengthInDays\"","("]},{"r":"1059","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"1058","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1062","locator":"131:3-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","type":"FunctionRef","signature":[],"operand":[{"localId":"1059","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"1060","type":"IntervalTypeSpecifier","pointType":{"localId":"1061","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1058","locator":"131:51-131:59","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"localId":"1057","name":"Encounter","operandTypeSpecifier":{"localId":"1056","locator":"130:72-130:93","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"234","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"234","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"257","s":[{"s":[{"r":"235","s":[{"r":"238","s":[{"r":"238","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"256","s":[{"value":["where "]},{"r":"256","s":[{"r":"247","s":[{"r":"246","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"247","s":[{"value":["relevantPeriod"]}]}]},{"r":"256","value":[" ","ends during day of"," "]},{"r":"252","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"260","type":"ListTypeSpecifier","elementType":{"localId":"261","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"257","locator":"21:3-22:83","type":"Query","resultTypeSpecifier":{"localId":"258","type":"ListTypeSpecifier","elementType":{"localId":"259","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"235","locator":"21:3-21:68","alias":"EncounterInpatient","resultTypeSpecifier":{"localId":"244","type":"ListTypeSpecifier","elementType":{"localId":"245","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"238","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"242","type":"ListTypeSpecifier","elementType":{"localId":"243","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"237","locator":"21:28-21:48","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"256","locator":"22:5-22:83","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"255","locator":"22:45-22:48","type":"End","signature":[],"operand":{"localId":"247","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property","resultTypeSpecifier":{"localId":"250","type":"IntervalTypeSpecifier","pointType":{"localId":"251","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"252","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"253","type":"IntervalTypeSpecifier","pointType":{"localId":"254","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}},{"localId":"1193","locator":"162:1-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1193","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1199","s":[{"r":"1199","s":[{"value":["if "]},{"r":"1203","s":[{"value":["( "]},{"r":"1203","s":[{"value":["HasEnd","("]},{"r":"1200","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"1204","s":[{"value":["end of "]},{"r":"1205","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"1208","s":[{"value":["start of "]},{"r":"1209","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"1199","locator":"163:3-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"If","condition":{"localId":"1203","locator":"163:6-163:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasEnd","type":"FunctionRef","signature":[],"operand":[{"localId":"1200","locator":"163:15-163:20","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1201","type":"IntervalTypeSpecifier","pointType":{"localId":"1202","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"then":{"localId":"1204","locator":"164:3-164:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1205","locator":"164:10-164:15","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1206","type":"IntervalTypeSpecifier","pointType":{"localId":"1207","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"else":{"localId":"1208","locator":"165:10-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1209","locator":"165:19-165:24","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1210","type":"IntervalTypeSpecifier","pointType":{"localId":"1211","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1198","name":"period","operandTypeSpecifier":{"localId":"1194","locator":"162:33-162:50","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1196","type":"IntervalTypeSpecifier","pointType":{"localId":"1197","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1195","locator":"162:42-162:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1231","locator":"174:1-175:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1231","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1246","s":[{"r":"1246","s":[{"value":["Latest","("]},{"r":"1243","s":[{"value":["NormalizeInterval","("]},{"r":"1239","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1240","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1246","locator":"175:3-175:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Latest","type":"FunctionRef","signature":[],"operand":[{"localId":"1243","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","resultTypeSpecifier":{"localId":"1244","type":"IntervalTypeSpecifier","pointType":{"localId":"1245","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1239","locator":"175:28-175:38","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},{"localId":"1240","locator":"175:41-175:46","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1241","type":"IntervalTypeSpecifier","pointType":{"localId":"1242","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]},"operand":[{"localId":"1233","name":"pointInTime","operandTypeSpecifier":{"localId":"1232","locator":"174:40-174:47","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1238","name":"period","operandTypeSpecifier":{"localId":"1234","locator":"174:57-174:74","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1236","type":"IntervalTypeSpecifier","pointType":{"localId":"1237","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1235","locator":"174:66-174:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"285","locator":"33:1-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"285","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  "]},{"r":"291","s":[{"r":"291","s":[{"value":["difference in days between "]},{"r":"292","s":[{"value":["start of "]},{"r":"293","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"296","s":[{"value":["end of "]},{"r":"297","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"291","locator":"34:3-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Day","type":"DifferenceBetween","signature":[],"operand":[{"localId":"292","locator":"34:30-34:43","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"293","locator":"34:39-34:43","name":"Value","type":"OperandRef","resultTypeSpecifier":{"localId":"294","type":"IntervalTypeSpecifier","pointType":{"localId":"295","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"296","locator":"34:49-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"297","locator":"34:56-34:60","name":"Value","type":"OperandRef","resultTypeSpecifier":{"localId":"298","type":"IntervalTypeSpecifier","pointType":{"localId":"299","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]},"operand":[{"localId":"290","name":"Value","operandTypeSpecifier":{"localId":"286","locator":"33:38-33:55","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"288","type":"IntervalTypeSpecifier","pointType":{"localId":"289","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"287","locator":"33:47-33:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1111","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1111","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1119","s":[{"r":"1119","s":[{"value":["if "]},{"r":"1122","s":[{"r":"1120","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"1125","s":[{"value":["Interval["]},{"r":"1123","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1124","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"1128","s":[{"value":["if "]},{"r":"1133","s":[{"r":"1129","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"1134","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"1137","s":[{"r":"1138","value":["null"," as "]},{"r":"1139","s":[{"value":["Interval\u003c"]},{"r":"1140","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1151","type":"IntervalTypeSpecifier","pointType":{"localId":"1152","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1119","locator":"143:3-145:35","type":"If","resultTypeSpecifier":{"localId":"1149","type":"IntervalTypeSpecifier","pointType":{"localId":"1150","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"condition":{"localId":"1122","locator":"143:6-143:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1121","locator":"143:6-143:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1120","locator":"143:6-143:16","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"1125","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1126","type":"IntervalTypeSpecifier","pointType":{"localId":"1127","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1123","locator":"143:44-143:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},"high":{"localId":"1124","locator":"143:57-143:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"1128","locator":"144:10-145:35","type":"If","resultTypeSpecifier":{"localId":"1145","type":"IntervalTypeSpecifier","pointType":{"localId":"1146","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"condition":{"localId":"1133","locator":"144:13-144:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1132","locator":"144:13-144:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1129","locator":"144:13-144:18","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1130","type":"IntervalTypeSpecifier","pointType":{"localId":"1131","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"then":{"localId":"1134","locator":"144:37-144:42","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1135","type":"IntervalTypeSpecifier","pointType":{"localId":"1136","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},"else":{"localId":"1137","locator":"145:10-145:35","strict":false,"type":"As","resultTypeSpecifier":{"localId":"1143","type":"IntervalTypeSpecifier","pointType":{"localId":"1144","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":{"localId":"1138","locator":"145:10-145:13","resultTypeName":"{urn:hl7-org:elm-types:r1}Any","type":"Null"},"asTypeSpecifier":{"localId":"1139","locator":"145:18-145:35","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1141","type":"IntervalTypeSpecifier","pointType":{"localId":"1142","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1140","locator":"145:27-145:34","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1113","name":"pointInTime","operandTypeSpecifier":{"localId":"1112","locator":"142:49-142:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1118","name":"period","operandTypeSpecifier":{"localId":"1114","locator":"142:66-142:83","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1116","type":"IntervalTypeSpecifier","pointType":{"localId":"1117","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1115","locator":"142:75-142:82","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"220","locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"localId":"221","type":"SingletonFrom","signature":[],"operand":{"localId":"219","locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"262","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"262","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"278","s":[{"r":"278","s":[{"value":["Interval["]},{"r":"268","s":[{"value":["date from "]},{"r":"269","s":[{"value":["start of "]},{"r":"270","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"273","s":[{"value":["date from "]},{"r":"274","s":[{"value":["end of "]},{"r":"275","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"resultTypeSpecifier":{"localId":"283","type":"IntervalTypeSpecifier","pointType":{"localId":"284","name":"{urn:hl7-org:elm-types:r1}Date","type":"NamedTypeSpecifier"}},"expression":{"localId":"278","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"281","type":"IntervalTypeSpecifier","pointType":{"localId":"282","name":"{urn:hl7-org:elm-types:r1}Date","type":"NamedTypeSpecifier"}},"low":{"localId":"268","locator":"30:12-30:36","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"269","locator":"30:22-30:36","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"270","locator":"30:31-30:36","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"271","type":"IntervalTypeSpecifier","pointType":{"localId":"272","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"high":{"localId":"273","locator":"30:39-30:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"274","locator":"30:49-30:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"275","locator":"30:56-30:61","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"276","type":"IntervalTypeSpecifier","pointType":{"localId":"277","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}},"operand":[{"localId":"267","name":"period","operandTypeSpecifier":{"localId":"263","locator":"29:41-29:58","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"265","type":"IntervalTypeSpecifier","pointType":{"localId":"266","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"264","locator":"29:50-29:57","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"227"}],"ref_id":"224"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1219"},{"children":[{"text":")"}]}],"ref_id":"1222"},{"children":[{"text":")"}]}],"ref_id":"1222"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1224"}],"ref_id":"1223"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1228"}],"ref_id":"1227"}],"node_type":"If","ref_id":"1218"}],"node_type":"If","ref_id":"1218"}],"ref_id":"1212"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1255"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1256"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1259"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1262"}],"node_type":"FunctionRef","ref_id":"1262"}],"ref_id":"1247"}],"define_name":"EarliestOf"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"400"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"401"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"401"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"399"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"408"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"409"}],"ref_id":"409"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"410"}],"ref_id":"411"}],"ref_id":"411"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"413"}],"node_type":"Start","ref_id":"412"}],"ref_id":"416"}],"ref_id":"417"}],"ref_id":"421"},{"children":[{"text":"\n  )"}]}],"ref_id":"426"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"427"}],"node_type":"Property","ref_id":"427"}],"node_type":"Start","ref_id":"398"}],"node_type":"Start","ref_id":"398"}],"ref_id":"395"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"1067"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"1068"}],"node_type":"Property","ref_id":"1068"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"1068"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1066"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1078"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"1079"}],"ref_id":"1079"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"1080"}],"node_type":"InValueSet","ref_id":"1081"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1082"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"1083"}],"node_type":"Property","ref_id":"1083"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"1094"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"1088"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1089"}],"node_type":"Property","ref_id":"1089"}],"node_type":"IncludedIn","ref_id":"1094"}],"ref_id":"1077"}],"ref_id":"1077"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1097"}],"node_type":"Start","ref_id":"1096"}],"ref_id":"1100"}],"ref_id":"1101"}],"ref_id":"1105"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"1110"}],"node_type":"First","ref_id":"1110"}],"ref_id":"1063"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1182"}],"node_type":"End","ref_id":"1181"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"1185"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1188"}],"node_type":"End","ref_id":"1187"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1191"}],"node_type":"MaxValue","ref_id":"1192"}],"node_type":"Equal","ref_id":"1186"}],"node_type":"Or","ref_id":"1180"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"1180"}],"node_type":"Not","ref_id":"1179"}],"node_type":"Not","ref_id":"1179"}],"ref_id":"1173"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1162"}],"node_type":"Start","ref_id":"1161"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"1165"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1168"}],"node_type":"Start","ref_id":"1167"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1171"}],"node_type":"MinValue","ref_id":"1172"}],"node_type":"Equal","ref_id":"1166"}],"node_type":"Or","ref_id":"1160"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"1160"}],"node_type":"Not","ref_id":"1159"}],"node_type":"Not","ref_id":"1159"}],"ref_id":"1153"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"436"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"440"}],"node_type":"Start","ref_id":"435"}],"node_type":"Start","ref_id":"435"}],"ref_id":"432"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"535"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"536"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"536"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"534"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"544"}],"node_type":"Start","ref_id":"543"}],"ref_id":"547"}],"ref_id":"548"}],"ref_id":"552"},{"children":[{"text":"\n  )"}]}],"ref_id":"557"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"558"}],"node_type":"Property","ref_id":"558"}],"node_type":"Start","ref_id":"533"}],"node_type":"Start","ref_id":"533"}],"ref_id":"530"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"665"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"666"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"666"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"664"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"674"}],"node_type":"Start","ref_id":"673"}],"ref_id":"677"}],"ref_id":"678"}],"ref_id":"682"},{"children":[{"text":"\n  )"}]}],"ref_id":"687"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"688"}],"node_type":"Property","ref_id":"688"}],"node_type":"End","ref_id":"663"}],"node_type":"End","ref_id":"663"}],"ref_id":"660"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"697"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"698"}],"node_type":"Property","ref_id":"698"}],"node_type":"End","ref_id":"696"}],"node_type":"End","ref_id":"696"}],"ref_id":"693"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"564"},{"children":[{"text":" Visit"}]}],"ref_id":"563"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"569"}],"node_type":"Retrieve","ref_id":"569"},{"children":[{"text":" LastED"}]}],"ref_id":"566"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"577"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"578"}],"node_type":"Property","ref_id":"578"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"591"},{"children":[{"text":" or less on or before"}]}],"ref_id":"599"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"584"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"585"}],"node_type":"Property","ref_id":"585"}],"node_type":"Start","ref_id":"583"}],"ref_id":"599"}],"ref_id":"599"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"601"}],"node_type":"End","ref_id":"600"}],"ref_id":"604"}],"ref_id":"605"}],"ref_id":"609"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"614"}],"ref_id":"565"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"617"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"618"}],"node_type":"Property","ref_id":"618"}],"node_type":"Start","ref_id":"616"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"624"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"625"}],"node_type":"Property","ref_id":"625"}],"node_type":"Start","ref_id":"623"},{"children":[{"text":")"}]}],"ref_id":"632"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"634"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"635"}],"node_type":"Property","ref_id":"635"}],"ref_id":"633"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"640"}],"ref_id":"615"}],"node_type":"Query","ref_id":"645"}],"node_type":"Query","ref_id":"645"}],"ref_id":"437"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"655"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"656"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"659"}],"node_type":"FunctionRef","ref_id":"659"}],"ref_id":"652"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"304"},{"children":[{"text":" Visit"}]}],"ref_id":"303"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"309"}],"node_type":"Retrieve","ref_id":"309"},{"children":[{"text":" LastED"}]}],"ref_id":"306"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"317"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"318"}],"node_type":"Property","ref_id":"318"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"331"},{"children":[{"text":" or less on or before"}]}],"ref_id":"339"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"324"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"325"}],"node_type":"Property","ref_id":"325"}],"node_type":"Start","ref_id":"323"}],"ref_id":"339"}],"ref_id":"339"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"341"}],"node_type":"End","ref_id":"340"}],"ref_id":"344"}],"ref_id":"345"}],"ref_id":"349"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"354"}],"ref_id":"305"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"357"},{"children":[{"text":" is null"}]}],"ref_id":"358"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"359"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"360"}],"ref_id":"360"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"367"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"368"}],"ref_id":"368"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"373"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"374"}],"ref_id":"374"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"366"}],"ref_id":"365"}],"node_type":"If","ref_id":"356"}],"ref_id":"355"}],"node_type":"Query","ref_id":"388"}],"node_type":"Query","ref_id":"388"}],"ref_id":"300"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"911"},{"children":[{"text":" Visit"}]}],"ref_id":"910"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"916"}],"node_type":"Retrieve","ref_id":"916"},{"children":[{"text":" LastObs"}]}],"ref_id":"913"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"924"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"925"}],"node_type":"Property","ref_id":"925"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"938"},{"children":[{"text":" or less on or before"}]}],"ref_id":"946"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"931"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"932"}],"node_type":"Property","ref_id":"932"}],"node_type":"Start","ref_id":"930"}],"ref_id":"946"}],"ref_id":"946"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"948"}],"node_type":"End","ref_id":"947"}],"ref_id":"951"}],"ref_id":"952"}],"ref_id":"956"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"961"}],"ref_id":"912"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"964"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"965"}],"node_type":"Property","ref_id":"965"}],"node_type":"Start","ref_id":"963"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"971"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"972"}],"node_type":"Property","ref_id":"972"}],"node_type":"Start","ref_id":"970"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"979"}],"ref_id":"962"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"984"}],"node_type":"Retrieve","ref_id":"984"},{"children":[{"text":" LastED"}]}],"ref_id":"981"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"992"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"993"}],"node_type":"Property","ref_id":"993"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"1000"},{"children":[{"text":" or less on or before"}]}],"ref_id":"1008"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"998"}],"ref_id":"1008"}],"ref_id":"1008"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1010"}],"node_type":"End","ref_id":"1009"}],"ref_id":"1013"}],"ref_id":"1014"}],"ref_id":"1018"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"1023"}],"ref_id":"980"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"1026"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1027"}],"node_type":"Property","ref_id":"1027"}],"node_type":"Start","ref_id":"1025"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"1032"},{"children":[{"text":")"}]}],"ref_id":"1035"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"1037"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1038"}],"node_type":"Property","ref_id":"1038"}],"ref_id":"1036"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"1043"}],"ref_id":"1024"}],"node_type":"Query","ref_id":"1048"}],"node_type":"Query","ref_id":"1048"}],"ref_id":"907"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"707"},{"children":[{"text":" Visit"}]}],"ref_id":"706"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"712"}],"node_type":"Retrieve","ref_id":"712"},{"children":[{"text":" LastObs"}]}],"ref_id":"709"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"720"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"721"}],"node_type":"Property","ref_id":"721"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"734"},{"children":[{"text":" or less on or before"}]}],"ref_id":"742"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"727"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"728"}],"node_type":"Property","ref_id":"728"}],"node_type":"Start","ref_id":"726"}],"ref_id":"742"}],"ref_id":"742"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"744"}],"node_type":"End","ref_id":"743"}],"ref_id":"747"}],"ref_id":"748"}],"ref_id":"752"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"757"}],"ref_id":"708"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"760"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"761"}],"node_type":"Property","ref_id":"761"}],"node_type":"Start","ref_id":"759"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"767"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"768"}],"node_type":"Property","ref_id":"768"}],"node_type":"Start","ref_id":"766"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"775"}],"ref_id":"758"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"780"}],"node_type":"Retrieve","ref_id":"780"},{"children":[{"text":" LastED"}]}],"ref_id":"777"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"788"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"789"}],"node_type":"Property","ref_id":"789"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"796"},{"children":[{"text":" or less on or before"}]}],"ref_id":"804"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"794"}],"ref_id":"804"}],"ref_id":"804"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"806"}],"node_type":"End","ref_id":"805"}],"ref_id":"809"}],"ref_id":"810"}],"ref_id":"814"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"819"}],"ref_id":"776"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"822"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"823"}],"node_type":"Property","ref_id":"823"}],"node_type":"Start","ref_id":"821"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"828"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"831"}],"ref_id":"820"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"836"}],"node_type":"Retrieve","ref_id":"836"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"833"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"844"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"845"}],"node_type":"Property","ref_id":"845"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"852"},{"children":[{"text":" or less on or before"}]}],"ref_id":"860"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"850"}],"ref_id":"860"}],"ref_id":"860"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"862"}],"node_type":"End","ref_id":"861"}],"ref_id":"865"}],"ref_id":"866"}],"ref_id":"870"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"875"}],"ref_id":"832"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"878"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"879"}],"node_type":"Property","ref_id":"879"}],"node_type":"Start","ref_id":"877"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"884"},{"children":[{"text":")"}]}],"ref_id":"887"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"889"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"890"}],"node_type":"Property","ref_id":"890"}],"ref_id":"888"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"895"}],"ref_id":"876"}],"node_type":"Query","ref_id":"900"}],"node_type":"Query","ref_id":"900"}],"ref_id":"703"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1058"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1059"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1062"}],"node_type":"FunctionRef","ref_id":"1062"}],"ref_id":"1055"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"238"}],"node_type":"Retrieve","ref_id":"238"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"235"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"246"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"247"}],"node_type":"Property","ref_id":"247"},{"children":[{"text":" ends during day of "}],"ref_id":"256"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"252"}],"ref_id":"256"}],"ref_id":"256"}],"node_type":"Query","ref_id":"257"}],"ref_id":"234"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1200"},{"children":[{"text":")"}]}],"ref_id":"1203"},{"children":[{"text":")"}]}],"ref_id":"1203"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1205"}],"ref_id":"1204"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1209"}],"ref_id":"1208"}],"node_type":"If","ref_id":"1199"}],"node_type":"If","ref_id":"1199"}],"ref_id":"1193"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1239"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1240"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1243"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1246"}],"node_type":"FunctionRef","ref_id":"1246"}],"ref_id":"1231"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"293"}],"node_type":"Start","ref_id":"292"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"297"}],"node_type":"End","ref_id":"296"}],"node_type":"DifferenceBetween","ref_id":"291"}],"node_type":"DifferenceBetween","ref_id":"291"}],"ref_id":"285"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1120"},{"children":[{"text":" is not null"}]}],"ref_id":"1122"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"1123"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"1124"},{"children":[{"text":"]"}]}],"ref_id":"1125"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1129"},{"children":[{"text":" is not null"}]}],"ref_id":"1133"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"1134"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"1138"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1140"},{"children":[{"text":"\u003e"}]}],"ref_id":"1139"}],"ref_id":"1137"}],"ref_id":"1128"}],"node_type":"If","ref_id":"1119"}],"node_type":"If","ref_id":"1119"}],"ref_id":"1111"}],"define_name":"NormalizeInterval"},{"children":[{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"270"}],"node_type":"Start","ref_id":"269"}],"ref_id":"268"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"275"}],"node_type":"End","ref_id":"274"}],"ref_id":"273"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"278"}],"node_type":"Interval","ref_id":"278"}],"ref_id":"262"}],"define_name":"ToDateInterval"}],"identifier":{"id":"CQMCommonQDM","version":"9.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"CQMCommonQDM","library_version":"9.0.000","statement_dependencies":[{"_id":"6892031910d20757c0cf11b9","statement_name":"NormalizeInterval"}]}],"created_at":null,"description":"Percentage of patients with referrals, regardless of age, for which the referring clinician receives a report from the clinician to whom the patient was referred","hqmf_id":"2AF15F05-07A9-4F5C-9A40-11EA768ADCDA","hqmf_set_id":"F58FC0D6-EDF5-416A-8D29-79AFBFD24DEA","hqmf_version_number":"14.0.000","main_cql_library":"CMS50CRLReceiptofSpecialistReportQDM","measure_attributes":[{"code":"OTH","value":"50","name":"CMS ID","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CMS ID"},"value_obj":{"type":"ED","value":"50","media_type":"text/plain"}},{"code":"OTH","value":"Not Applicable","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"COPY","value":"This electronic clinical quality measure (Measure) and related data specifications are owned and stewarded by the Centers for Medicare \u0026 Medicaid Services (CMS). CMS contracted (Contract # 75FCMC18D0027/ Task Order #: 75FCMC24F0144) with the American Institutes for Research (AIR) to develop this electronic measure. AIR is not responsible for any use of the Measure. AIR makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and AIR has no liability to anyone who relies on such measures or specifications. Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. AIR disclaims all liability for use or accuracy of any third-party codes contained in the specifications. CPT(R) contained in the Measure specifications is copyright 2004-2024 American Medical Association. LOINC(R) is copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"This electronic clinical quality measure (Measure) and related data specifications are owned and stewarded by the Centers for Medicare \u0026 Medicaid Services (CMS). CMS contracted (Contract # 75FCMC18D0027/ Task Order #: 75FCMC24F0144) with the American Institutes for Research (AIR) to develop this electronic measure. AIR is not responsible for any use of the Measure. AIR makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and AIR has no liability to anyone who relies on such measures or specifications. Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. AIR disclaims all liability for use or accuracy of any third-party codes contained in the specifications. CPT(R) contained in the Measure specifications is copyright 2004-2024 American Medical Association. LOINC(R) is copyright 2004-2024 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation.","media_type":"text/plain"}},{"code":"DISC","value":"This performance Measure is not a clinical guideline, does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"This performance Measure is not a clinical guideline, does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROCESS","title":"Process"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Problems in the outpatient referral and consultation process have been documented, including inadequate care pathways between specialty and primary care. Studies suggest that both specialists and primary care providers (PCPs) are not satisfied with current processes (Institute for Healthcare Improvement / National Patient Safety Foundation, 2017; Greenwood-Lee et. al, 2018). Breakdowns in referral communication leads to worse health outcomes, increased cost, and appointment delays (Patel et. al, 2018; Odisho et. al, 2020). A 2018 analysis of primary care referrals to specialists found that of the 103,737 referral scheduling attempts analyzed, only 36,072 (34.8%) resulted in documented complete appointments, defined by the specialty clinician providing report to the PCP after the referral visit (Patel et. al, 2018). Technological and process-based updates can improve the referral loop process and increase rates of closing the referral loop. Ramelson et. al (2018) enhanced an EHR's Referral Manager module to meet the Controlled Risk Insurance Companys best practice steps and the requirements of both the CMS EHR Incentive Program and the National Committee for Quality Assurance Patient-Centered Medical Home program. Following the updates, 76.8% of referrals were completed and all defined referral process steps were easier to accomplish. Odisho et. al (2020) developed a referrals automation software to simplify the fax to referral process. Feedback from key stakeholder interviews noted that the software enhanced the referrals process by further streamlining and organizing the patient referral process. The Institute for Healthcare Improvement and the National Patient Safety Foundation (2017) reviewed the referrals process in the ambulatory care setting and found that organizational leaders, EHR vendors, regulatory agencies, clinicians, and patients all play a role in creating a referrals system that is effective, safe, convenient, and patient-centered.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Problems in the outpatient referral and consultation process have been documented, including inadequate care pathways between specialty and primary care. Studies suggest that both specialists and primary care providers (PCPs) are not satisfied with current processes (Institute for Healthcare Improvement / National Patient Safety Foundation, 2017; Greenwood-Lee et. al, 2018). Breakdowns in referral communication leads to worse health outcomes, increased cost, and appointment delays (Patel et. al, 2018; Odisho et. al, 2020). A 2018 analysis of primary care referrals to specialists found that of the 103,737 referral scheduling attempts analyzed, only 36,072 (34.8%) resulted in documented complete appointments, defined by the specialty clinician providing report to the PCP after the referral visit (Patel et. al, 2018). Technological and process-based updates can improve the referral loop process and increase rates of closing the referral loop. Ramelson et. al (2018) enhanced an EHR's Referral Manager module to meet the Controlled Risk Insurance Companys best practice steps and the requirements of both the CMS EHR Incentive Program and the National Committee for Quality Assurance Patient-Centered Medical Home program. Following the updates, 76.8% of referrals were completed and all defined referral process steps were easier to accomplish. Odisho et. al (2020) developed a referrals automation software to simplify the fax to referral process. Feedback from key stakeholder interviews noted that the software enhanced the referrals process by further streamlining and organizing the patient referral process. The Institute for Healthcare Improvement and the National Patient Safety Foundation (2017) reviewed the referrals process in the ambulatory care setting and found that organizational leaders, EHR vendors, regulatory agencies, clinicians, and patients all play a role in creating a referrals system that is effective, safe, convenient, and patient-centered.","media_type":"text/plain"}},{"code":"CRS","value":"None","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"IDUR","value":"Higher score indicates better quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Higher score indicates better quality","media_type":"text/plain"}},{"code":"REF","value":"CITATION Greenwood-Lee, J., Jewett, L., Woodhouse, L., \u0026 Marshall, D. A. (2018). A categorisation of problems and solutions to improve patient referrals from primary to specialty care. BMC health services research, 18(1), 986. https://doi.org/10.1186/s12913-018-3745-y","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Greenwood-Lee, J., Jewett, L., Woodhouse, L., \u0026 Marshall, D. A. (2018). A categorisation of problems and solutions to improve patient referrals from primary to specialty care. BMC health services research, 18(1), 986. https://doi.org/10.1186/s12913-018-3745-y","media_type":"text/plain"}},{"code":"REF","value":"CITATION Institute for Healthcare Improvement / National Patient Safety Foundation. (2017). Closing the Loop: A Guide to Safer Ambulatory Referrals in the EHR Era. https://www.ihi.org/resources/Pages/Publications/Closing-the-Loop-A-Guide-to-Safer-Ambulatory-Referrals.aspx","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Institute for Healthcare Improvement / National Patient Safety Foundation. (2017). Closing the Loop: A Guide to Safer Ambulatory Referrals in the EHR Era. https://www.ihi.org/resources/Pages/Publications/Closing-the-Loop-A-Guide-to-Safer-Ambulatory-Referrals.aspx","media_type":"text/plain"}},{"code":"REF","value":"CITATION Odisho, A. Y., Lui, H., Yerramsetty, R., Bautista, F., Gleason, N., Martin, E., Young, J. J., Blum, M., \u0026 Neinstein, A. B. (2020). Design and development of referrals automation, a SMART on FHIR solution to improve patient access to specialty care. JAMIA open, 3(3), 405412. https://doi.org/10.1093/jamiaopen/ooaa036","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Odisho, A. Y., Lui, H., Yerramsetty, R., Bautista, F., Gleason, N., Martin, E., Young, J. J., Blum, M., \u0026 Neinstein, A. B. (2020). Design and development of referrals automation, a SMART on FHIR solution to improve patient access to specialty care. JAMIA open, 3(3), 405412. https://doi.org/10.1093/jamiaopen/ooaa036","media_type":"text/plain"}},{"code":"REF","value":"CITATION Patel, M. P., Schettini, P., O'Leary, C. P., Bosworth, H. B., Anderson, J. B., \u0026 Shah, K. P. (2018). Closing the Referral Loop: an Analysis of Primary Care Referrals to Specialists in a Large Health System. Journal of general internal medicine, 33(5), 715721. https://doi.org/10.1007/s11606-018-4392-z","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Patel, M. P., Schettini, P., O'Leary, C. P., Bosworth, H. B., Anderson, J. B., \u0026 Shah, K. P. (2018). Closing the Referral Loop: an Analysis of Primary Care Referrals to Specialists in a Large Health System. Journal of general internal medicine, 33(5), 715721. https://doi.org/10.1007/s11606-018-4392-z","media_type":"text/plain"}},{"code":"REF","value":"CITATION Ramelson, H., Nederlof, A., Karmiy, S., Neri, P., Kiernan, D., Krishnamurthy, R., Allen, A., \u0026 Bates, D. W. (2018). Closing the loop with an enhanced referral management system. Journal of the American Medical Informatics Association: JAMIA, 25(6), 715721. https://doi.org/10.1093/jamia/ocy004","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION Ramelson, H., Nederlof, A., Karmiy, S., Neri, P., Kiernan, D., Krishnamurthy, R., Allen, A., \u0026 Bates, D. W. (2018). Closing the loop with an enhanced referral management system. Journal of the American Medical Informatics Association: JAMIA, 25(6), 715721. https://doi.org/10.1093/jamia/ocy004","media_type":"text/plain"}},{"code":"DEF","value":"Referral: A request from one clinician to another clinician for evaluation, treatment, or co-management of a patient's condition. This term encompasses referral and consultation as defined by Centers for Medicare \u0026 Medicaid Services. Report: A written document prepared by the eligible clinician (and staff) to whom the patient was referred and that accounts for his or her findings, provides summary of care information about findings, diagnostics, assessments and/or plans of care, and is provided to the referring eligible clinician.","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Referral: A request from one clinician to another clinician for evaluation, treatment, or co-management of a patient's condition. This term encompasses referral and consultation as defined by Centers for Medicare \u0026 Medicaid Services. Report: A written document prepared by the eligible clinician (and staff) to whom the patient was referred and that accounts for his or her findings, provides summary of care information about findings, diagnostics, assessments and/or plans of care, and is provided to the referring eligible clinician.","media_type":"text/plain"}},{"code":"GUIDE","value":"The clinician who refers the patient to another clinician is the clinician who should be held accountable for the performance of this measure. Only the first referral made between January 1  October 31 of the measurement period will be considered for this measure to allow adequate time for the referring clinician to collect the consult report by the end of the measurement period. If there are multiple referrals for a patient during the measurement period, use the first referral. The clinician to whom the patient was referred is responsible for sending the consultant report that will fulfill the communication. Note: this is not the same clinician who would report on the measure. The consultant report that will successfully close the referral loop should be related to the first referral for a patient during the measurement period. If there are multiple consultant reports received by the referring clinician which pertain to a particular referral, use the first consultant report to satisfy the measure. Eligible clinicians reporting on this measure should note that all data for the measurement period is to be submitted by the deadline established by CMS. Therefore, eligible clinicians who refer patients towards the end of the measurement period (i.e., October), should request that clinicians to whom they referred their patients share their consult reports as soon as possible in order for those patients to be counted in the measure numerator during the measurement period. When clinicians to whom patients are referred communicate the consult report as soon as possible with the referring clinician, it ensures that the communication loop is closed in a timely manner and that the data are included in the submission to CMS. A procedural report received from a specialist for an exam or procedure conducted (e.g., diabetic eye exam, colonoscopy, etc.) can satisfy the numerator requirement and successfully close the referral loop. A separate consultant note or consultant report is not required to close the referral loop in these circumstances. This eCQM is a patient-based measure. This version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"The clinician who refers the patient to another clinician is the clinician who should be held accountable for the performance of this measure. Only the first referral made between January 1  October 31 of the measurement period will be considered for this measure to allow adequate time for the referring clinician to collect the consult report by the end of the measurement period. If there are multiple referrals for a patient during the measurement period, use the first referral. The clinician to whom the patient was referred is responsible for sending the consultant report that will fulfill the communication. Note: this is not the same clinician who would report on the measure. The consultant report that will successfully close the referral loop should be related to the first referral for a patient during the measurement period. If there are multiple consultant reports received by the referring clinician which pertain to a particular referral, use the first consultant report to satisfy the measure. Eligible clinicians reporting on this measure should note that all data for the measurement period is to be submitted by the deadline established by CMS. Therefore, eligible clinicians who refer patients towards the end of the measurement period (i.e., October), should request that clinicians to whom they referred their patients share their consult reports as soon as possible in order for those patients to be counted in the measure numerator during the measurement period. When clinicians to whom patients are referred communicate the consult report as soon as possible with the referring clinician, it ensures that the communication loop is closed in a timely manner and that the data are included in the submission to CMS. A procedural report received from a specialist for an exam or procedure conducted (e.g., diabetic eye exam, colonoscopy, etc.) can satisfy the numerator requirement and successfully close the referral loop. A separate consultant note or consultant report is not required to close the referral loop in these circumstances. This eCQM is a patient-based measure. This version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"Number of patients, regardless of age, who had an encounter during the measurement period and were referred by one clinician to another clinician on or before October 31","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"Number of patients, regardless of age, who had an encounter during the measurement period and were referred by one clinician to another clinician on or before October 31","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial Population","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial Population","media_type":"text/plain"}},{"code":"DENEX","value":"None","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"NUMER","value":"Number of patients with a referral on or before October 31, for which the referring clinician received a report from the first clinician to whom the patient was referred","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Number of patients with a referral on or before October 31, for which the referring clinician received a report from the first clinician to whom the patient was referred","media_type":"text/plain"}},{"code":"NUMEX","value":"None","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"D36BF246-D75C-41C1-B4F6-FA174EC27C0D","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"CMS50CRLReceiptofSpecialistReportQDM__Initial_Population__54c67029_926f_47d6_9752_fcb1b60f77f1"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"894E9268-7EE5-4E26-BF65-4256C215414D","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"CMS50CRLReceiptofSpecialistReportQDM__Denominator__54c67029_926f_47d6_9752_fcb1b60f77f1"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"B5A8F06A-68CE-428F-8FBA-FCCEE730ED0C","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"CMS50CRLReceiptofSpecialistReportQDM__Numerator__54c67029_926f_47d6_9752_fcb1b60f77f1"}],"conjunction_code":"allTrue"}]}},"population_sets":[{"_id":"6892031910d20757c0cf11ba","population_set_id":"PopulationSet_1","populations":{"DENOM":{"_id":"6892031910d20757c0cf11bb","hqmf_id":"894E9268-7EE5-4E26-BF65-4256C215414D","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Denominator"},"IPP":{"_id":"6892031910d20757c0cf11bc","hqmf_id":"D36BF246-D75C-41C1-B4F6-FA174EC27C0D","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Initial Population"},"NUMER":{"_id":"6892031910d20757c0cf11bd","hqmf_id":"B5A8F06A-68CE-428F-8FBA-FCCEE730ED0C","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"Numerator"},"_id":"6892031910d20757c0cf11be","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"6892031310d20757c0cf0ebc","hqmf_id":"395c7e2c-9c8b-4be7-84a2-4090a7d9ae83","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"SDE Ethnicity"},{"_id":"6892031310d20757c0cf0ebd","hqmf_id":"500d77b6-5dbd-44ac-a18f-8c60f9bbf0c1","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"SDE Race"},{"_id":"6892031310d20757c0cf0ebe","hqmf_id":"91220f28-237c-4e35-b4fd-29681e86e66f","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"SDE Sex"},{"_id":"6892031310d20757c0cf0ebf","hqmf_id":"f14a6d40-16d7-4f81-8605-80a7c6d16aa5","library_name":"CMS50CRLReceiptofSpecialistReportQDM","statement_name":"SDE Payer"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"6892031310d20757c0cf0ed1","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1025","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesEstablishedOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"6892031310d20757c0cf0ed1","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"6892031910d20757c0cf11bf","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"6892031910d20757c0cf11bf","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"6892031310d20757c0cf0ed2","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1001","dataElementCodes":[],"description":"Encounter, Performed: OfficeVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"6892031310d20757c0cf0ed2","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"6892031910d20757c0cf11c0","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1021.121","dataElementCodes":[],"description":"Patient Characteristic Sex: FederalAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"6892031910d20757c0cf11c0","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"6892031310d20757c0cf0ed6","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1492","dataElementCodes":[],"description":"Intervention, Performed: PsychVisitDiagnosticEvaluation","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0ed6","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031910d20757c0cf11c1","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"6892031910d20757c0cf11c1","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"6892031310d20757c0cf0ed3","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1023","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"6892031310d20757c0cf0ed3","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"6892031910d20757c0cf11c2","_type":"QDM::CommunicationPerformed","authorDatetime":null,"category":null,"codeListId":"2.16.840.1.113883.3.464.1003.121.12.1006","dataElementCodes":[],"description":"Communication, Performed: ConsultantReport","hqmfOid":"2.16.840.1.113883.10.20.28.4.132","id":"6892031910d20757c0cf11c2","medium":null,"negationRationale":null,"qdmCategory":"communication","qdmStatus":"performed","qdmTitle":"Communication, Performed","qdmVersion":"5.6","receivedDatetime":null,"relatedTo":null,"sentDatetime":null},{"_id":"6892031310d20757c0cf0ed4","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1285","dataElementCodes":[],"description":"Encounter, Performed: OphthalmologicalServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"6892031310d20757c0cf0ed4","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"6892031310d20757c0cf0ed5","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1022","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"6892031310d20757c0cf0ed5","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"6892031910d20757c0cf11c3","_type":"QDM::InterventionOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1046","dataElementCodes":[],"description":"Intervention, Order: Referral","hqmfOid":"2.16.840.1.113883.10.20.28.4.35","id":"6892031910d20757c0cf11c3","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"order","qdmTitle":"Intervention, Order","qdmVersion":"5.6","reason":null},{"_id":"6892031310d20757c0cf0ed7","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1046","dataElementCodes":[],"description":"Intervention, Performed: Referral","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0ed7","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031310d20757c0cf0ed8","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1024","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareEstablishedOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"6892031310d20757c0cf0ed8","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"6892031310d20757c0cf0ed9","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1023","dataElementCodes":[],"description":"Intervention, Performed: BehavioralorNeuropsychAssessment","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0ed9","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031910d20757c0cf11c4","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"6892031910d20757c0cf11c4","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"6892031310d20757c0cf0eda","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"drc-916b29a5c5ee73f8cd1384477a631da38fb259bd126513e630559c32cdfb307b","dataElementCodes":[],"description":"Intervention, Performed: Psychological or neuropsychological test administration and scoring by technician, two or more tests, any method; first 30 minutes","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0eda","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031310d20757c0cf0edb","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"drc-9537a9b89b1ccb96df9e083997b71659d7c8bd2cc4921b7de3ec95c5d1335285","dataElementCodes":[],"description":"Intervention, Performed: Psychological or neuropsychological test administration and scoring by physician or other qualified health care professional, two or more tests, any method; first 30 minutes","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0edb","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031310d20757c0cf0edc","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"drc-643d35525976b33dd790c0de2b71f8102bd264f21a62a70ac3ba998e0d8cb46d","dataElementCodes":[],"description":"Intervention, Performed: Psychotherapy for crisis; first 60 minutes","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0edc","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031310d20757c0cf0edd","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"drc-47f5387ff7b66c3b2f18db2370ca14b9618dab654ab18f59020b723b427ee412","dataElementCodes":[],"description":"Intervention, Performed: Developmental test administration (including assessment of fine and/or gross motor, language, cognitive level, social, memory and/or executive functions by standardized developmental instruments when performed), by physician or other qualified health care professional, with interpretation and report; first hour","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0edd","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"6892031310d20757c0cf0ede","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"drc-be1de7c3996a7d7b6881521072df8e765609af2a1fa11c0fc6863f8840be4e65","dataElementCodes":[],"description":"Intervention, Performed: Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"6892031310d20757c0cf0ede","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null}],"title":"Closing the Referral Loop: Receipt of Specialist Report","updated_at":null,"value_set_ids":["6892031310d20757c0cf0edf","6892031310d20757c0cf0ee0","6892031310d20757c0cf0ee1","6892031310d20757c0cf0ee2","6892031310d20757c0cf0ee3","6892031910d20757c0cf1198","6892031910d20757c0cf1199","6892031910d20757c0cf119a","6892031910d20757c0cf119b","6892031910d20757c0cf119c","6892031910d20757c0cf119d","6892031910d20757c0cf119e","6892031910d20757c0cf119f","6892031910d20757c0cf11a0","6892031910d20757c0cf11a1","6892031910d20757c0cf11a2","6892031910d20757c0cf11a3","6892031910d20757c0cf11a4","6892031910d20757c0cf11a5","6892031910d20757c0cf11a6","6892031910d20757c0cf11a7","6892031910d20757c0cf11a8","6892031910d20757c0cf11a9","6892031910d20757c0cf11aa"]}