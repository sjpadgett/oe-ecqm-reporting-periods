{"_id":"689200be10d20757c0ce0645","calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS138v14","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":"689200b110d20757c0ce03a5","cql":"library CMS138PreventiveTobaccoCessation version '14.0.000'\n\nusing QDM version '5.6'\n\ninclude CQMCommonQDM version '9.0.000' called Global  \ninclude HospiceQDM version '7.0.000' called Hospice\n\ncodesystem \"CPT\": 'urn:oid:2.16.840.1.113883.6.12'\ncodesystem \"ICD10CM\": 'urn:oid:2.16.840.1.113883.6.90'\n\nvalueset \"Annual Wellness Visit\": 'urn:oid:2.16.840.1.113883.3.526.3.1240'\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\nvalueset \"Home Healthcare Services\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'\nvalueset \"Nutrition Services\": 'urn:oid:2.16.840.1.113883.3.464.1003.1006'\nvalueset \"Occupational Therapy Evaluation\": 'urn:oid:2.16.840.1.113883.3.526.3.1011'\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'\nvalueset \"Federal Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1021.121'\nvalueset \"Ophthalmological Services\": 'urn:oid:2.16.840.1.113883.3.526.3.1285'\nvalueset \"Payer Type\": 'urn:oid:2.16.840.1.114222.4.11.3591'\nvalueset \"Physical Therapy Evaluation\": 'urn:oid:2.16.840.1.113883.3.526.3.1022'\nvalueset \"Preventive Care Services Established Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'\nvalueset \"Preventive Care Services Group Counseling\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'\nvalueset \"Preventive Care Services Individual Counseling\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'\nvalueset \"Preventive Care Services Initial Office Visit, 18 and Up\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'\nvalueset \"Preventive Care Services, Initial Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'\nvalueset \"Preventive Care, Established Office Visit, 0 to 17\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'\nvalueset \"Psych Visit Diagnostic Evaluation\": 'urn:oid:2.16.840.1.113883.3.526.3.1492'\nvalueset \"Psych Visit Psychotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1496'\nvalueset \"Psychoanalysis\": 'urn:oid:2.16.840.1.113883.3.526.3.1141'\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\nvalueset \"Speech and Hearing Evaluation\": 'urn:oid:2.16.840.1.113883.3.526.3.1530'\nvalueset \"Telephone Visits\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'\nvalueset \"Tobacco Non User\": 'urn:oid:2.16.840.1.113883.3.526.3.1189'\nvalueset \"Tobacco Use Cessation Counseling\": 'urn:oid:2.16.840.1.113883.3.526.3.509'\nvalueset \"Tobacco Use Cessation Pharmacotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1190'\nvalueset \"Tobacco Use Screening\": 'urn:oid:2.16.840.1.113883.3.526.3.1278'\nvalueset \"Tobacco User\": 'urn:oid:2.16.840.1.113883.3.526.3.1170'\nvalueset \"Virtual Encounter\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'\n\ncode \"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\": '96156' from \"CPT\" display 'Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)'\ncode \"Health behavior intervention, individual, face-to-face; initial 30 minutes\": '96158' from \"CPT\" display 'Health behavior intervention, individual, face-to-face; initial 30 minutes'\ncode \"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure\": '99024' from \"CPT\" display 'Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure'\ncode \"Tobacco abuse counseling\": 'Z71.6' from \"ICD10CM\" display 'Tobacco abuse counseling'\ncode \"Unlisted preventive medicine service\": '99429' from \"CPT\" display 'Unlisted preventive medicine service'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Active Pharmacotherapy for Tobacco Cessation\":\n  [\"Medication, Active\": \"Tobacco Use Cessation Pharmacotherapy\"] TakingCessationPharmacotherapy\n    where Global.\"NormalizeInterval\" ( TakingCessationPharmacotherapy.relevantDatetime, TakingCessationPharmacotherapy.relevantPeriod ) during day of Interval[start of \"Measurement Period\" - 6 months, end of \"Measurement Period\"]\n\ndefine \"Denominator 1\":\n  \"Initial Population\"\n\ndefine \"Denominator 2\":\n  \"Initial Population\"\n    and \"Most Recent Tobacco Use Screening Indicates Tobacco User\" is not null\n\ndefine \"Denominator 3\":\n  \"Initial Population\"\n\ndefine \"Numerator 1\":\n  \"Most Recent Tobacco Use Screening Indicates Tobacco Non User\" is not null\n    or \"Most Recent Tobacco Use Screening Indicates Tobacco User\" is not null\n\ndefine \"Numerator 2\":\n  exists \"Tobacco Cessation Counseling Given\"\n    or exists \"Tobacco Cessation Pharmacotherapy Ordered\"\n    or exists \"Active Pharmacotherapy for Tobacco Cessation\"\n\ndefine \"Numerator 3\":\n  \"Most Recent Tobacco Use Screening Indicates Tobacco Non User\" is not null\n    or ( \"Most Recent Tobacco Use Screening Indicates Tobacco User\" is not null\n        and ( exists \"Tobacco Cessation Counseling Given\"\n            or exists \"Tobacco Cessation Pharmacotherapy Ordered\"\n            or exists \"Active Pharmacotherapy for Tobacco Cessation\"\n        )\n    )\n\ndefine \"SDE Ethnicity\":\n  [\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\n\ndefine \"SDE Payer\":\n  [\"Patient Characteristic Payer\": \"Payer Type\"]\n\ndefine \"SDE Race\":\n  [\"Patient Characteristic Race\": \"Race\"]\n\ndefine \"SDE Sex\":\n  [\"Patient Characteristic Sex\": \"Federal Administrative Sex\"]\n\ndefine \"Most Recent Tobacco Use Screening Indicates Tobacco Non User\":\n  ( Last([\"Assessment, Performed\": \"Tobacco Use Screening\"] TobaccoUseScreening\n      where Global.\"NormalizeInterval\"(TobaccoUseScreening.relevantDatetime, TobaccoUseScreening.relevantPeriod) during day of \"Measurement Period\"\n      sort by start of Global.\"NormalizeInterval\"(relevantDatetime, relevantPeriod)\n  ) ) MostRecentTobaccoUseScreening\n    where MostRecentTobaccoUseScreening.result in \"Tobacco Non User\"\n\ndefine \"Most Recent Tobacco Use Screening Indicates Tobacco User\":\n  ( Last([\"Assessment, Performed\": \"Tobacco Use Screening\"] TobaccoUseScreening\n      where Global.\"NormalizeInterval\"(TobaccoUseScreening.relevantDatetime, TobaccoUseScreening.relevantPeriod) during day of \"Measurement Period\"\n      sort by start of Global.\"NormalizeInterval\"(relevantDatetime, relevantPeriod)\n  ) ) MostRecentTobaccoUseScreening\n    where MostRecentTobaccoUseScreening.result in \"Tobacco User\"\n\ndefine \"Tobacco Cessation Pharmacotherapy Ordered\":\n  [\"Medication, Order\": \"Tobacco Use Cessation Pharmacotherapy\"] CessationPharmacotherapyOrdered\n    where CessationPharmacotherapyOrdered.authorDatetime during day of Interval[start of \"Measurement Period\" - 6 months, end of \"Measurement Period\"]\n\ndefine \"Tobacco Cessation Counseling Given\":\n  ( [\"Intervention, Performed\": \"Tobacco Use Cessation Counseling\"] TobaccoCessationCounseling\n      where Global.\"NormalizeInterval\" ( TobaccoCessationCounseling.relevantDatetime, TobaccoCessationCounseling.relevantPeriod ) during day of Interval[start of \"Measurement Period\" - 6 months, end of \"Measurement Period\"]\n  )\n    union ( [\"Diagnosis\": \"Tobacco abuse counseling\"] TobaccoCounseling\n        where ( TobaccoCounseling.prevalencePeriod ) starts during day of Interval[start of \"Measurement Period\" - 6 months, end of \"Measurement Period\"]\n    )\n\ndefine \"Qualifying Visit During Measurement Period\":\n  ( [\"Encounter, Performed\": \"Health behavior intervention, individual, face-to-face; initial 30 minutes\"]\n    union [\"Encounter, Performed\": \"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\"]\n    union [\"Encounter, Performed\": \"Home Healthcare Services\"]\n    union [\"Encounter, Performed\": \"Occupational Therapy Evaluation\"]\n    union [\"Encounter, Performed\": \"Office Visit\"]\n    union [\"Encounter, Performed\": \"Ophthalmological Services\"]\n    union [\"Encounter, Performed\": \"Physical Therapy Evaluation\"]\n    union [\"Encounter, Performed\": \"Psych Visit Diagnostic Evaluation\"]\n    union [\"Encounter, Performed\": \"Psych Visit Psychotherapy\"]\n    union [\"Encounter, Performed\": \"Psychoanalysis\"]\n    union [\"Encounter, Performed\": \"Speech and Hearing Evaluation\"]\n    union [\"Encounter, Performed\": \"Telephone Visits\"]\n    union [\"Encounter, Performed\": \"Virtual Encounter\"] ) OfficeBasedEncounter\n    where OfficeBasedEncounter.relevantPeriod during day of \"Measurement Period\"\n\ndefine \"Denominator Exclusion\":\n  Hospice.\"Has Hospice Services\"\n\ndefine \"Initial Population\":\n  AgeInYearsAt(date from start of \"Measurement Period\") \u003e= 12\n    and ( Count(\"Qualifying Visit During Measurement Period\") \u003e= 2\n        or exists \"Preventive Visit During Measurement Period\"\n    )\n\ndefine \"Preventive Visit During Measurement Period\":\n  ( [\"Encounter, Performed\": \"Annual Wellness Visit\"]\n    union [\"Encounter, Performed\": \"Preventive Care Services Established Office Visit, 18 and Up\"]\n    union [\"Encounter, Performed\": \"Preventive Care Services Initial Office Visit, 18 and Up\"]\n    union [\"Encounter, Performed\": \"Preventive Care, Established Office Visit, 0 to 17\"]\n    union [\"Encounter, Performed\": \"Preventive Care Services, Initial Office Visit, 0 to 17\"]\n    union [\"Encounter, Performed\": \"Preventive Care Services Group Counseling\"]\n    union [\"Encounter, Performed\": \"Preventive Care Services Individual Counseling\"]\n    union [\"Encounter, Performed\": \"Unlisted preventive medicine service\"]\n    union [\"Encounter, Performed\": \"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure\"]\n    union [\"Encounter, Performed\": \"Nutrition Services\"] ) PreventiveEncounter\n    where PreventiveEncounter.relevantPeriod during day of \"Measurement Period\"","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"481","s":[{"value":["","library CMS138PreventiveTobaccoCessation version '14.0.000'"]}]}}],"identifier":{"id":"CMS138PreventiveTobaccoCessation","version":"14.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"includes":{"def":[{"localId":"207","locator":"5:1-5:52","localIdentifier":"Global","path":"CQMCommonQDM","version":"9.0.000","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","include "]},{"s":[{"value":["CQMCommonQDM"]}]},{"value":[" version ","'9.0.000'"," called ","Global"]}]}}]},{"localId":"208","locator":"6:1-6:51","localIdentifier":"Hospice","path":"HospiceQDM","version":"7.0.000","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","include "]},{"s":[{"value":["HospiceQDM"]}]},{"value":[" version ","'7.0.000'"," called ","Hospice"]}]}}]}]},"parameters":{"def":[{"localId":"249","locator":"46:1-46:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"249","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"250","s":[{"value":["Interval\u003c"]},{"r":"251","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"254","type":"IntervalTypeSpecifier","pointType":{"localId":"255","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"250","locator":"46:32-46:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"252","type":"IntervalTypeSpecifier","pointType":{"localId":"253","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"251","locator":"46:41-46:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"209","locator":"8:1-8:50","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT","id":"2.16.840.1.113883.6.12","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","codesystem ","\"CPT\"",": ","'urn:oid:2.16.840.1.113883.6.12'"]}]}}]},{"localId":"210","locator":"9:1-9:54","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"ICD10CM","id":"2.16.840.1.113883.6.90","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","codesystem ","\"ICD10CM\"",": ","'urn:oid:2.16.840.1.113883.6.90'"]}]}}]}]},"valueSets":{"def":[{"localId":"211","locator":"11:1-11:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Annual Wellness Visit","id":"2.16.840.1.113883.3.526.3.1240","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Annual Wellness Visit\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1240'"]}]}}],"codeSystem":[]},{"localId":"212","locator":"12:1-12:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","valueset ","\"Ethnicity\"",": ","'urn:oid:2.16.840.1.114222.4.11.837'"]}]}}],"codeSystem":[]},{"localId":"213","locator":"13:1-13:87","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Home Healthcare Services","id":"2.16.840.1.113883.3.464.1003.101.12.1016","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"213","s":[{"value":["","valueset ","\"Home Healthcare Services\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1016'"]}]}}],"codeSystem":[]},{"localId":"214","locator":"14:1-14:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Nutrition Services","id":"2.16.840.1.113883.3.464.1003.1006","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"214","s":[{"value":["","valueset ","\"Nutrition Services\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1006'"]}]}}],"codeSystem":[]},{"localId":"215","locator":"15:1-15:84","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Occupational Therapy Evaluation","id":"2.16.840.1.113883.3.526.3.1011","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"215","s":[{"value":["","valueset ","\"Occupational Therapy Evaluation\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1011'"]}]}}],"codeSystem":[]},{"localId":"216","locator":"16:1-16:75","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Office Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1001","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"216","s":[{"value":["","valueset ","\"Office Visit\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'"]}]}}],"codeSystem":[]},{"localId":"217","locator":"17:1-17:79","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Federal Administrative Sex","id":"2.16.840.1.113762.1.4.1021.121","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"217","s":[{"value":["","valueset ","\"Federal Administrative Sex\"",": ","'urn:oid:2.16.840.1.113762.1.4.1021.121'"]}]}}],"codeSystem":[]},{"localId":"218","locator":"18:1-18:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ophthalmological Services","id":"2.16.840.1.113883.3.526.3.1285","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"218","s":[{"value":["","valueset ","\"Ophthalmological Services\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1285'"]}]}}],"codeSystem":[]},{"localId":"219","locator":"19:1-19:60","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Payer Type","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"219","s":[{"value":["","valueset ","\"Payer Type\"",": ","'urn:oid:2.16.840.1.114222.4.11.3591'"]}]}}],"codeSystem":[]},{"localId":"220","locator":"20:1-20:80","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Physical Therapy Evaluation","id":"2.16.840.1.113883.3.526.3.1022","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"220","s":[{"value":["","valueset ","\"Physical Therapy Evaluation\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1022'"]}]}}],"codeSystem":[]},{"localId":"221","locator":"21:1-21:123","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Established Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1025","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"221","s":[{"value":["","valueset ","\"Preventive Care Services Established Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1025'"]}]}}],"codeSystem":[]},{"localId":"222","locator":"22:1-22:104","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Group Counseling","id":"2.16.840.1.113883.3.464.1003.101.12.1027","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"222","s":[{"value":["","valueset ","\"Preventive Care Services Group Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1027'"]}]}}],"codeSystem":[]},{"localId":"223","locator":"23:1-23:109","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Individual Counseling","id":"2.16.840.1.113883.3.464.1003.101.12.1026","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"223","s":[{"value":["","valueset ","\"Preventive Care Services Individual Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1026'"]}]}}],"codeSystem":[]},{"localId":"224","locator":"24:1-24:119","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Initial Office Visit, 18 and Up","id":"2.16.840.1.113883.3.464.1003.101.12.1023","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"224","s":[{"value":["","valueset ","\"Preventive Care Services Initial Office Visit, 18 and Up\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1023'"]}]}}],"codeSystem":[]},{"localId":"225","locator":"25:1-25:118","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services, Initial Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1022","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"225","s":[{"value":["","valueset ","\"Preventive Care Services, Initial Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1022'"]}]}}],"codeSystem":[]},{"localId":"226","locator":"26:1-26:113","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care, Established Office Visit, 0 to 17","id":"2.16.840.1.113883.3.464.1003.101.12.1024","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"226","s":[{"value":["","valueset ","\"Preventive Care, Established Office Visit, 0 to 17\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1024'"]}]}}],"codeSystem":[]},{"localId":"227","locator":"27:1-27:86","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psych Visit Diagnostic Evaluation","id":"2.16.840.1.113883.3.526.3.1492","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"227","s":[{"value":["","valueset ","\"Psych Visit Diagnostic Evaluation\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1492'"]}]}}],"codeSystem":[]},{"localId":"228","locator":"28:1-28:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psych Visit Psychotherapy","id":"2.16.840.1.113883.3.526.3.1496","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"228","s":[{"value":["","valueset ","\"Psych Visit Psychotherapy\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1496'"]}]}}],"codeSystem":[]},{"localId":"229","locator":"29:1-29:67","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psychoanalysis","id":"2.16.840.1.113883.3.526.3.1141","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"229","s":[{"value":["","valueset ","\"Psychoanalysis\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1141'"]}]}}],"codeSystem":[]},{"localId":"230","locator":"30:1-30:53","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"230","s":[{"value":["","valueset ","\"Race\"",": ","'urn:oid:2.16.840.1.114222.4.11.836'"]}]}}],"codeSystem":[]},{"localId":"231","locator":"31:1-31:82","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Speech and Hearing Evaluation","id":"2.16.840.1.113883.3.526.3.1530","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"231","s":[{"value":["","valueset ","\"Speech and Hearing Evaluation\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1530'"]}]}}],"codeSystem":[]},{"localId":"232","locator":"32:1-32:79","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Telephone Visits","id":"2.16.840.1.113883.3.464.1003.101.12.1080","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"232","s":[{"value":["","valueset ","\"Telephone Visits\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1080'"]}]}}],"codeSystem":[]},{"localId":"233","locator":"33:1-33:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Non User","id":"2.16.840.1.113883.3.526.3.1189","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"233","s":[{"value":["","valueset ","\"Tobacco Non User\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1189'"]}]}}],"codeSystem":[]},{"localId":"234","locator":"34:1-34:84","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Cessation Counseling","id":"2.16.840.1.113883.3.526.3.509","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"234","s":[{"value":["","valueset ","\"Tobacco Use Cessation Counseling\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.509'"]}]}}],"codeSystem":[]},{"localId":"235","locator":"35:1-35:90","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Cessation Pharmacotherapy","id":"2.16.840.1.113883.3.526.3.1190","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"235","s":[{"value":["","valueset ","\"Tobacco Use Cessation Pharmacotherapy\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1190'"]}]}}],"codeSystem":[]},{"localId":"236","locator":"36:1-36:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Screening","id":"2.16.840.1.113883.3.526.3.1278","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"236","s":[{"value":["","valueset ","\"Tobacco Use Screening\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1278'"]}]}}],"codeSystem":[]},{"localId":"237","locator":"37:1-37:65","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco User","id":"2.16.840.1.113883.3.526.3.1170","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"237","s":[{"value":["","valueset ","\"Tobacco User\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1170'"]}]}}],"codeSystem":[]},{"localId":"238","locator":"38:1-38:80","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Virtual Encounter","id":"2.16.840.1.113883.3.464.1003.101.12.1089","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"238","s":[{"value":["","valueset ","\"Virtual Encounter\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1089'"]}]}}],"codeSystem":[]}]},"codes":{"def":[{"localId":"239","locator":"40:1-40:308","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","id":"96156","display":"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"239","s":[{"value":["","code ","\"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\"",": ","'96156'"," from "]},{"r":"240","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)'"]}]}}],"codeSystem":{"localId":"240","locator":"40:158-40:162","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"241","locator":"41:1-41:186","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Health behavior intervention, individual, face-to-face; initial 30 minutes","id":"96158","display":"Health behavior intervention, individual, face-to-face; initial 30 minutes","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"241","s":[{"value":["","code ","\"Health behavior intervention, individual, face-to-face; initial 30 minutes\"",": ","'96158'"," from "]},{"r":"242","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Health behavior intervention, individual, face-to-face; initial 30 minutes'"]}]}}],"codeSystem":{"localId":"242","locator":"41:97-41:101","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"243","locator":"42:1-42:480","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure","id":"99024","display":"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"243","s":[{"value":["","code ","\"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure\"",": ","'99024'"," from "]},{"r":"244","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure'"]}]}}],"codeSystem":{"localId":"244","locator":"42:244-42:248","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}},{"localId":"245","locator":"43:1-43:90","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Tobacco abuse counseling","id":"Z71.6","display":"Tobacco abuse counseling","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"245","s":[{"value":["","code ","\"Tobacco abuse counseling\"",": ","'Z71.6'"," from "]},{"r":"246","s":[{"value":["\"ICD10CM\""]}]},{"value":[" display ","'Tobacco abuse counseling'"]}]}}],"codeSystem":{"localId":"246","locator":"43:47-43:55","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"ICD10CM"}},{"localId":"247","locator":"44:1-44:110","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Unlisted preventive medicine service","id":"99429","display":"Unlisted preventive medicine service","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"247","s":[{"value":["","code ","\"Unlisted preventive medicine service\"",": ","'99429'"," from "]},{"r":"248","s":[{"value":["\"CPT\""]}]},{"value":[" display ","'Unlisted preventive medicine service'"]}]}}],"codeSystem":{"localId":"248","locator":"44:59-44:63","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"CPT"}}]},"contexts":{"def":[{"localId":"259","locator":"48:1-48:15","name":"Patient"}]},"statements":{"def":[{"localId":"257","locator":"48:1-48:15","name":"Patient","context":"Patient","expression":{"localId":"258","type":"SingletonFrom","signature":[],"operand":{"localId":"256","locator":"48:1-48:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"261","locator":"50:1-52:229","name":"Active Pharmacotherapy for Tobacco Cessation","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"261","s":[{"value":["","define ","\"Active Pharmacotherapy for Tobacco Cessation\"",":\n  "]},{"r":"302","s":[{"s":[{"r":"262","s":[{"r":"265","s":[{"r":"265","s":[{"value":["[","\"Medication, Active\"",": "]},{"s":[{"value":["\"Tobacco Use Cessation Pharmacotherapy\""]}]},{"value":["]"]}]}]},{"value":[" ","TakingCessationPharmacotherapy"]}]}]},{"value":["\n    "]},{"r":"300","s":[{"value":["where "]},{"r":"300","s":[{"r":"282","s":[{"r":"273","s":[{"value":["Global"]}]},{"value":["."]},{"r":"282","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"275","s":[{"r":"274","s":[{"value":["TakingCessationPharmacotherapy"]}]},{"value":["."]},{"r":"275","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"277","s":[{"r":"276","s":[{"value":["TakingCessationPharmacotherapy"]}]},{"value":["."]},{"r":"277","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"300","value":[" ","during day of"," "]},{"r":"297","s":[{"value":["Interval["]},{"r":"287","s":[{"r":"288","s":[{"value":["start of "]},{"r":"289","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"292","s":[{"value":["6 ","months"]}]}]},{"value":[", "]},{"r":"293","s":[{"value":["end of "]},{"r":"294","s":[{"value":["\"Measurement Period\""]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"305","type":"ListTypeSpecifier","elementType":{"localId":"306","name":"{urn:healthit-gov:qdm:v5_6}MedicationActive","type":"NamedTypeSpecifier"}},"expression":{"localId":"302","locator":"51:3-52:229","type":"Query","resultTypeSpecifier":{"localId":"303","type":"ListTypeSpecifier","elementType":{"localId":"304","name":"{urn:healthit-gov:qdm:v5_6}MedicationActive","type":"NamedTypeSpecifier"}},"source":[{"localId":"262","locator":"51:3-51:96","alias":"TakingCessationPharmacotherapy","resultTypeSpecifier":{"localId":"271","type":"ListTypeSpecifier","elementType":{"localId":"272","name":"{urn:healthit-gov:qdm:v5_6}MedicationActive","type":"NamedTypeSpecifier"}},"expression":{"localId":"265","locator":"51:3-51:65","dataType":"{urn:healthit-gov:qdm:v5_6}MedicationActive","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"269","type":"ListTypeSpecifier","elementType":{"localId":"270","name":"{urn:healthit-gov:qdm:v5_6}MedicationActive","type":"NamedTypeSpecifier"}},"codes":{"localId":"264","locator":"51:26-51:64","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Cessation Pharmacotherapy","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"300","locator":"52:5-52:229","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"282","locator":"52:11-52:135","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"285","type":"IntervalTypeSpecifier","pointType":{"localId":"286","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"275","locator":"52:40-52:86","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"TakingCessationPharmacotherapy","type":"Property"},{"localId":"277","locator":"52:89-52:133","path":"relevantPeriod","scope":"TakingCessationPharmacotherapy","type":"Property","resultTypeSpecifier":{"localId":"280","type":"IntervalTypeSpecifier","pointType":{"localId":"281","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"297","locator":"52:151-52:229","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"298","type":"IntervalTypeSpecifier","pointType":{"localId":"299","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"287","locator":"52:160-52:199","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Subtract","signature":[],"operand":[{"localId":"288","locator":"52:160-52:188","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"289","locator":"52:169-52:188","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"290","type":"IntervalTypeSpecifier","pointType":{"localId":"291","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"292","locator":"52:192-52:199","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":6,"unit":"months","type":"Quantity"}]},"high":{"localId":"293","locator":"52:202-52:228","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"294","locator":"52:209-52:228","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"295","type":"IntervalTypeSpecifier","pointType":{"localId":"296","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}},{"localId":"329","locator":"120:1-134:80","name":"Qualifying Visit During Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"329","s":[{"value":["","define ","\"Qualifying Visit During Measurement Period\"",":\n  "]},{"r":"467","s":[{"s":[{"r":"330","s":[{"r":"449","s":[{"value":["( "]},{"r":"449","s":[{"r":"440","s":[{"r":"430","s":[{"r":"421","s":[{"r":"411","s":[{"r":"402","s":[{"r":"392","s":[{"r":"383","s":[{"r":"373","s":[{"r":"364","s":[{"r":"354","s":[{"r":"345","s":[{"r":"333","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Health behavior intervention, individual, face-to-face; initial 30 minutes\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"340","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"350","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Home Healthcare Services\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"359","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Occupational Therapy Evaluation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"369","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"378","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Ophthalmological Services\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"388","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Physical Therapy Evaluation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"397","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psych Visit Diagnostic Evaluation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"407","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psych Visit Psychotherapy\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"416","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psychoanalysis\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"426","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Speech and Hearing Evaluation\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"435","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Telephone Visits\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"445","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Virtual Encounter\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","OfficeBasedEncounter"]}]}]},{"value":["\n    "]},{"r":"465","s":[{"value":["where "]},{"r":"465","s":[{"r":"457","s":[{"r":"456","s":[{"value":["OfficeBasedEncounter"]}]},{"value":["."]},{"r":"457","s":[{"value":["relevantPeriod"]}]}]},{"r":"465","value":[" ","during day of"," "]},{"r":"462","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1004","type":"ListTypeSpecifier","elementType":{"localId":"1005","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"467","locator":"121:3-134:80","type":"Query","resultTypeSpecifier":{"localId":"468","type":"ListTypeSpecifier","elementType":{"localId":"469","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"330","locator":"121:3-133:78","alias":"OfficeBasedEncounter","resultTypeSpecifier":{"localId":"454","type":"ListTypeSpecifier","elementType":{"localId":"455","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"449","locator":"121:3-133:57","type":"Union","resultTypeSpecifier":{"localId":"452","type":"ListTypeSpecifier","elementType":{"localId":"453","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"440","locator":"121:5-132:54","type":"Union","resultTypeSpecifier":{"localId":"441","type":"ListTypeSpecifier","elementType":{"localId":"442","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"421","locator":"121:5-130:52","type":"Union","resultTypeSpecifier":{"localId":"422","type":"ListTypeSpecifier","elementType":{"localId":"423","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"402","locator":"121:5-128:71","type":"Union","resultTypeSpecifier":{"localId":"403","type":"ListTypeSpecifier","elementType":{"localId":"404","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"383","locator":"121:5-126:63","type":"Union","resultTypeSpecifier":{"localId":"384","type":"ListTypeSpecifier","elementType":{"localId":"385","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"364","locator":"121:5-124:69","type":"Union","resultTypeSpecifier":{"localId":"365","type":"ListTypeSpecifier","elementType":{"localId":"366","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"345","locator":"121:5-122:173","type":"Union","resultTypeSpecifier":{"localId":"346","type":"ListTypeSpecifier","elementType":{"localId":"347","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"333","locator":"121:5-121:106","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"336","type":"ListTypeSpecifier","elementType":{"localId":"337","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"335","type":"ToList","signature":[],"operand":{"localId":"332","locator":"121:30-121:105","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Health behavior intervention, individual, face-to-face; initial 30 minutes","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"340","locator":"122:11-122:173","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"343","type":"ListTypeSpecifier","elementType":{"localId":"344","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"342","type":"ToList","signature":[],"operand":{"localId":"339","locator":"122:36-122:172","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]},{"localId":"363","type":"Union","signature":[],"operand":[{"localId":"350","locator":"123:11-123:62","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"352","type":"ListTypeSpecifier","elementType":{"localId":"353","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"349","locator":"123:36-123:61","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Home Healthcare Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"359","locator":"124:11-124:69","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"361","type":"ListTypeSpecifier","elementType":{"localId":"362","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"358","locator":"124:36-124:68","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Occupational Therapy Evaluation","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"382","type":"Union","signature":[],"operand":[{"localId":"369","locator":"125:11-125:50","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"371","type":"ListTypeSpecifier","elementType":{"localId":"372","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"368","locator":"125:36-125:49","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Office Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"378","locator":"126:11-126:63","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"380","type":"ListTypeSpecifier","elementType":{"localId":"381","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"377","locator":"126:36-126:62","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ophthalmological Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"401","type":"Union","signature":[],"operand":[{"localId":"388","locator":"127:11-127:65","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"390","type":"ListTypeSpecifier","elementType":{"localId":"391","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"387","locator":"127:36-127:64","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Physical Therapy Evaluation","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"397","locator":"128:11-128:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"399","type":"ListTypeSpecifier","elementType":{"localId":"400","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"396","locator":"128:36-128:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psych Visit Diagnostic Evaluation","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"420","type":"Union","signature":[],"operand":[{"localId":"407","locator":"129:11-129:63","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"409","type":"ListTypeSpecifier","elementType":{"localId":"410","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"406","locator":"129:36-129:62","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psych Visit Psychotherapy","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"416","locator":"130:11-130:52","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"418","type":"ListTypeSpecifier","elementType":{"localId":"419","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"415","locator":"130:36-130:51","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Psychoanalysis","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"439","type":"Union","signature":[],"operand":[{"localId":"426","locator":"131:11-131:67","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"428","type":"ListTypeSpecifier","elementType":{"localId":"429","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"425","locator":"131:36-131:66","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Speech and Hearing Evaluation","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"435","locator":"132:11-132:54","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"437","type":"ListTypeSpecifier","elementType":{"localId":"438","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"434","locator":"132:36-132:53","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Telephone Visits","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"445","locator":"133:11-133:55","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"447","type":"ListTypeSpecifier","elementType":{"localId":"448","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"444","locator":"133:36-133:54","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Virtual Encounter","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}}],"let":[],"relationship":[],"where":{"localId":"465","locator":"134:5-134:80","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"457","locator":"134:11-134:45","path":"relevantPeriod","scope":"OfficeBasedEncounter","type":"Property","resultTypeSpecifier":{"localId":"460","type":"IntervalTypeSpecifier","pointType":{"localId":"461","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"462","locator":"134:61-134:80","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"463","type":"IntervalTypeSpecifier","pointType":{"localId":"464","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}},{"localId":"481","locator":"145:1-156:79","name":"Preventive Visit During Measurement Period","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"481","s":[{"value":["","define ","\"Preventive Visit During Measurement Period\"",":\n  "]},{"r":"591","s":[{"s":[{"r":"482","s":[{"r":"573","s":[{"value":["( "]},{"r":"573","s":[{"r":"563","s":[{"r":"553","s":[{"r":"542","s":[{"r":"533","s":[{"r":"523","s":[{"r":"514","s":[{"r":"504","s":[{"r":"495","s":[{"r":"485","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Annual Wellness Visit\""]}]},{"value":["]"]}]},{"value":["\n    union "]},{"r":"491","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Established Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"500","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Initial Office Visit, 18 and Up\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"509","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care, Established Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"519","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services, Initial Office Visit, 0 to 17\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"528","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Group Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"538","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Preventive Care Services Individual Counseling\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"547","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Unlisted preventive medicine service\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"558","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure\""]}]},{"value":["]"]}]}]},{"value":["\n    union "]},{"r":"568","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Nutrition Services\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","PreventiveEncounter"]}]}]},{"value":["\n    "]},{"r":"589","s":[{"value":["where "]},{"r":"589","s":[{"r":"581","s":[{"r":"580","s":[{"value":["PreventiveEncounter"]}]},{"value":["."]},{"r":"581","s":[{"value":["relevantPeriod"]}]}]},{"r":"589","value":[" ","during day of"," "]},{"r":"586","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1010","type":"ListTypeSpecifier","elementType":{"localId":"1011","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"591","locator":"146:3-156:79","type":"Query","resultTypeSpecifier":{"localId":"592","type":"ListTypeSpecifier","elementType":{"localId":"593","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"482","locator":"146:3-155:78","alias":"PreventiveEncounter","resultTypeSpecifier":{"localId":"578","type":"ListTypeSpecifier","elementType":{"localId":"579","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"573","locator":"146:3-155:58","type":"Union","resultTypeSpecifier":{"localId":"576","type":"ListTypeSpecifier","elementType":{"localId":"577","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"553","locator":"146:5-153:74","type":"Union","resultTypeSpecifier":{"localId":"554","type":"ListTypeSpecifier","elementType":{"localId":"555","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"533","locator":"146:5-151:79","type":"Union","resultTypeSpecifier":{"localId":"534","type":"ListTypeSpecifier","elementType":{"localId":"535","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"514","locator":"146:5-149:88","type":"Union","resultTypeSpecifier":{"localId":"515","type":"ListTypeSpecifier","elementType":{"localId":"516","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"495","locator":"146:5-147:98","type":"Union","resultTypeSpecifier":{"localId":"496","type":"ListTypeSpecifier","elementType":{"localId":"497","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"485","locator":"146:5-146:53","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"487","type":"ListTypeSpecifier","elementType":{"localId":"488","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"484","locator":"146:30-146:52","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Annual Wellness Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"491","locator":"147:11-147:98","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"493","type":"ListTypeSpecifier","elementType":{"localId":"494","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"490","locator":"147:36-147:97","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Established Office Visit, 18 and Up","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]},{"localId":"513","type":"Union","signature":[],"operand":[{"localId":"500","locator":"148:11-148:94","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"502","type":"ListTypeSpecifier","elementType":{"localId":"503","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"499","locator":"148:36-148:93","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Initial Office Visit, 18 and Up","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"509","locator":"149:11-149:88","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"511","type":"ListTypeSpecifier","elementType":{"localId":"512","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"508","locator":"149:36-149:87","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care, Established Office Visit, 0 to 17","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"532","type":"Union","signature":[],"operand":[{"localId":"519","locator":"150:11-150:93","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"521","type":"ListTypeSpecifier","elementType":{"localId":"522","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"518","locator":"150:36-150:92","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services, Initial Office Visit, 0 to 17","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"528","locator":"151:11-151:79","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"530","type":"ListTypeSpecifier","elementType":{"localId":"531","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"527","locator":"151:36-151:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Group Counseling","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"552","type":"Union","signature":[],"operand":[{"localId":"538","locator":"152:11-152:84","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"540","type":"ListTypeSpecifier","elementType":{"localId":"541","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"537","locator":"152:36-152:83","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Preventive Care Services Individual Counseling","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"547","locator":"153:11-153:74","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"550","type":"ListTypeSpecifier","elementType":{"localId":"551","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"549","type":"ToList","signature":[],"operand":{"localId":"546","locator":"153:36-153:73","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Unlisted preventive medicine service","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]},{"localId":"572","type":"Union","signature":[],"operand":[{"localId":"558","locator":"154:11-154:259","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"561","type":"ListTypeSpecifier","elementType":{"localId":"562","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"560","type":"ToList","signature":[],"operand":{"localId":"557","locator":"154:36-154:258","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]},{"localId":"568","locator":"155:11-155:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"570","type":"ListTypeSpecifier","elementType":{"localId":"571","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"567","locator":"155:36-155:55","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Nutrition Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}]}]}}],"let":[],"relationship":[],"where":{"localId":"589","locator":"156:5-156:79","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"581","locator":"156:11-156:44","path":"relevantPeriod","scope":"PreventiveEncounter","type":"Property","resultTypeSpecifier":{"localId":"584","type":"IntervalTypeSpecifier","pointType":{"localId":"585","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"586","locator":"156:60-156:79","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"587","type":"IntervalTypeSpecifier","pointType":{"localId":"588","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}},{"localId":"310","locator":"139:1-143:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"310","s":[{"value":["","define ","\"Initial Population\"",":\n  "]},{"r":"311","s":[{"r":"312","s":[{"r":"324","s":[{"value":["AgeInYearsAt","("]},{"r":"313","s":[{"value":["date from "]},{"r":"314","s":[{"value":["start of "]},{"r":"315","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":[")"]}]},{"r":"325","value":[" ","\u003e="," ","12"]}]},{"value":["\n    and "]},{"r":"326","s":[{"value":["( "]},{"r":"326","s":[{"r":"327","s":[{"r":"477","s":[{"value":["Count","("]},{"r":"472","s":[{"value":["\"Qualifying Visit During Measurement Period\""]}]},{"value":[")"]}]},{"r":"478","value":[" ","\u003e="," ","2"]}]},{"value":["\n        or "]},{"r":"479","s":[{"value":["exists "]},{"r":"596","s":[{"value":["\"Preventive Visit During Measurement Period\""]}]}]}]},{"value":["\n    )"]}]}]}]}}],"expression":{"localId":"311","locator":"140:3-143:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"312","locator":"140:3-140:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"GreaterOrEqual","signature":[],"operand":[{"localId":"324","locator":"140:3-140:55","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Year","type":"CalculateAgeAt","signature":[],"operand":[{"localId":"323","type":"ToDate","signature":[],"operand":{"localId":"321","path":"birthDatetime","type":"Property","source":{"localId":"320","name":"Patient","type":"ExpressionRef"}}},{"localId":"313","locator":"140:16-140:54","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"314","locator":"140:26-140:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"315","locator":"140:35-140:54","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"316","type":"IntervalTypeSpecifier","pointType":{"localId":"317","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"325","locator":"140:60-140:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"12","type":"Literal"}]},{"localId":"326","locator":"141:9-143:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"327","locator":"141:11-141:66","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"GreaterOrEqual","signature":[],"operand":[{"localId":"477","locator":"141:11-141:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","type":"Count","signature":[],"source":{"localId":"472","locator":"141:17-141:60","name":"Qualifying Visit During Measurement Period","type":"ExpressionRef","resultTypeSpecifier":{"localId":"473","type":"ListTypeSpecifier","elementType":{"localId":"474","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}},{"localId":"478","locator":"141:66","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"2","type":"Literal"}]},{"localId":"479","locator":"142:12-142:62","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"596","locator":"142:19-142:62","name":"Preventive Visit During Measurement Period","type":"ExpressionRef","resultTypeSpecifier":{"localId":"597","type":"ListTypeSpecifier","elementType":{"localId":"598","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}}}]}]}},{"localId":"308","locator":"54:1-55:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Denominator 1","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"308","s":[{"value":["","define ","\"Denominator 1\"",":\n  "]},{"r":"599","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"599","locator":"55:3-55:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Initial Population","type":"ExpressionRef"}},{"localId":"605","locator":"101:1-106:64","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco User","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"605","s":[{"value":["","define ","\"Most Recent Tobacco Use Screening Indicates Tobacco User\"",":\n  "]},{"r":"680","s":[{"s":[{"r":"606","s":[{"r":"658","s":[{"value":["( "]},{"r":"658","s":[{"value":["Last","("]},{"r":"653","s":[{"s":[{"r":"607","s":[{"r":"610","s":[{"r":"610","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Tobacco Use Screening\""]}]},{"value":["]"]}]}]},{"value":[" ","TobaccoUseScreening"]}]}]},{"value":["\n      "]},{"r":"635","s":[{"value":["where "]},{"r":"635","s":[{"r":"627","s":[{"r":"618","s":[{"value":["Global"]}]},{"value":["."]},{"r":"627","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"620","s":[{"r":"619","s":[{"value":["TobaccoUseScreening"]}]},{"value":["."]},{"r":"620","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"622","s":[{"r":"621","s":[{"value":["TobaccoUseScreening"]}]},{"value":["."]},{"r":"622","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"635","value":[" ","during day of"," "]},{"r":"632","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n      "]},{"r":"649","s":[{"value":["sort by "]},{"r":"648","s":[{"r":"637","s":[{"value":["start of "]},{"r":"643","s":[{"r":"638","s":[{"value":["Global"]}]},{"value":["."]},{"r":"643","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"639","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"640","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":[" )"]}]},{"value":[" ","MostRecentTobaccoUseScreening"]}]}]},{"value":["\n    "]},{"r":"678","s":[{"value":["where "]},{"r":"678","s":[{"r":"660","s":[{"r":"659","s":[{"value":["MostRecentTobaccoUseScreening"]}]},{"value":["."]},{"r":"660","s":[{"value":["result"]}]}]},{"value":[" in "]},{"r":"677","s":[{"value":["\"Tobacco User\""]}]}]}]}]}]}}],"expression":{"localId":"680","locator":"102:3-106:64","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Query","source":[{"localId":"606","locator":"102:3-105:35","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","alias":"MostRecentTobaccoUseScreening","expression":{"localId":"658","locator":"102:3-105:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"653","locator":"102:10-104:83","type":"Query","resultTypeSpecifier":{"localId":"654","type":"ListTypeSpecifier","elementType":{"localId":"655","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"607","locator":"102:10-102:79","alias":"TobaccoUseScreening","resultTypeSpecifier":{"localId":"616","type":"ListTypeSpecifier","elementType":{"localId":"617","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"610","locator":"102:10-102:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"614","type":"ListTypeSpecifier","elementType":{"localId":"615","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"609","locator":"102:36-102:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Screening","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"635","locator":"103:7-103:147","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"627","locator":"103:13-103:112","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"630","type":"IntervalTypeSpecifier","pointType":{"localId":"631","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"620","locator":"103:40-103:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"TobaccoUseScreening","type":"Property"},{"localId":"622","locator":"103:78-103:111","path":"relevantPeriod","scope":"TobaccoUseScreening","type":"Property","resultTypeSpecifier":{"localId":"625","type":"IntervalTypeSpecifier","pointType":{"localId":"626","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"632","locator":"103:128-103:147","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"633","type":"IntervalTypeSpecifier","pointType":{"localId":"634","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"sort":{"localId":"649","locator":"104:7-104:83","by":[{"localId":"648","locator":"104:15-104:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"637","locator":"104:15-104:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"643","locator":"104:24-104:83","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"646","type":"IntervalTypeSpecifier","pointType":{"localId":"647","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"639","locator":"104:51-104:66","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"640","locator":"104:69-104:82","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"641","type":"IntervalTypeSpecifier","pointType":{"localId":"642","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]}}}}],"let":[],"relationship":[],"where":{"localId":"678","locator":"106:5-106:64","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"679","asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","signature":[],"operand":{"localId":"660","locator":"106:11-106:46","path":"result","scope":"MostRecentTobaccoUseScreening","type":"Property","resultTypeSpecifier":{"localId":"669","type":"ChoiceTypeSpecifier","choice":[{"localId":"670","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"671","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"672","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"673","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"674","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"675","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"676","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}},"valueset":{"localId":"677","locator":"106:51-106:64","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco User","preserve":true}}}},{"localId":"601","locator":"57:1-59:78","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Denominator 2","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"601","s":[{"value":["","define ","\"Denominator 2\"",":\n  "]},{"r":"602","s":[{"r":"603","s":[{"value":["\"Initial Population\""]}]},{"value":["\n    and "]},{"r":"683","s":[{"r":"681","s":[{"value":["\"Most Recent Tobacco Use Screening Indicates Tobacco User\""]}]},{"value":[" is not null"]}]}]}]}}],"expression":{"localId":"602","locator":"58:3-59:78","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"603","locator":"58:3-58:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Initial Population","type":"ExpressionRef"},{"localId":"683","locator":"59:9-59:78","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"682","locator":"59:9-59:78","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"681","locator":"59:9-59:66","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco User","type":"ExpressionRef"}}}]}},{"localId":"685","locator":"61:1-62:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Denominator 3","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"685","s":[{"value":["","define ","\"Denominator 3\"",":\n  "]},{"r":"686","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"686","locator":"62:3-62:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Initial Population","type":"ExpressionRef"}},{"localId":"691","locator":"94:1-99:68","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"691","s":[{"value":["","define ","\"Most Recent Tobacco Use Screening Indicates Tobacco Non User\"",":\n  "]},{"r":"766","s":[{"s":[{"r":"692","s":[{"r":"744","s":[{"value":["( "]},{"r":"744","s":[{"value":["Last","("]},{"r":"739","s":[{"s":[{"r":"693","s":[{"r":"696","s":[{"r":"696","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Tobacco Use Screening\""]}]},{"value":["]"]}]}]},{"value":[" ","TobaccoUseScreening"]}]}]},{"value":["\n      "]},{"r":"721","s":[{"value":["where "]},{"r":"721","s":[{"r":"713","s":[{"r":"704","s":[{"value":["Global"]}]},{"value":["."]},{"r":"713","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"706","s":[{"r":"705","s":[{"value":["TobaccoUseScreening"]}]},{"value":["."]},{"r":"706","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"708","s":[{"r":"707","s":[{"value":["TobaccoUseScreening"]}]},{"value":["."]},{"r":"708","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]}]},{"r":"721","value":[" ","during day of"," "]},{"r":"718","s":[{"value":["\"Measurement Period\""]}]}]}]},{"value":["\n      "]},{"r":"735","s":[{"value":["sort by "]},{"r":"734","s":[{"r":"723","s":[{"value":["start of "]},{"r":"729","s":[{"r":"724","s":[{"value":["Global"]}]},{"value":["."]},{"r":"729","s":[{"value":["\"NormalizeInterval\"","("]},{"r":"725","s":[{"value":["relevantDatetime"]}]},{"value":[", "]},{"r":"726","s":[{"value":["relevantPeriod"]}]},{"value":[")"]}]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":[" )"]}]},{"value":[" ","MostRecentTobaccoUseScreening"]}]}]},{"value":["\n    "]},{"r":"764","s":[{"value":["where "]},{"r":"764","s":[{"r":"746","s":[{"r":"745","s":[{"value":["MostRecentTobaccoUseScreening"]}]},{"value":["."]},{"r":"746","s":[{"value":["result"]}]}]},{"value":[" in "]},{"r":"763","s":[{"value":["\"Tobacco Non User\""]}]}]}]}]}]}}],"expression":{"localId":"766","locator":"95:3-99:68","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Query","source":[{"localId":"692","locator":"95:3-98:35","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","alias":"MostRecentTobaccoUseScreening","expression":{"localId":"744","locator":"95:3-98:5","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"Last","signature":[],"source":{"localId":"739","locator":"95:10-97:83","type":"Query","resultTypeSpecifier":{"localId":"740","type":"ListTypeSpecifier","elementType":{"localId":"741","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"693","locator":"95:10-95:79","alias":"TobaccoUseScreening","resultTypeSpecifier":{"localId":"702","type":"ListTypeSpecifier","elementType":{"localId":"703","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"696","locator":"95:10-95:59","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"700","type":"ListTypeSpecifier","elementType":{"localId":"701","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"695","locator":"95:36-95:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Screening","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"721","locator":"96:7-96:147","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"713","locator":"96:13-96:112","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"716","type":"IntervalTypeSpecifier","pointType":{"localId":"717","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"706","locator":"96:40-96:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"TobaccoUseScreening","type":"Property"},{"localId":"708","locator":"96:78-96:111","path":"relevantPeriod","scope":"TobaccoUseScreening","type":"Property","resultTypeSpecifier":{"localId":"711","type":"IntervalTypeSpecifier","pointType":{"localId":"712","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"718","locator":"96:128-96:147","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"719","type":"IntervalTypeSpecifier","pointType":{"localId":"720","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"sort":{"localId":"735","locator":"97:7-97:83","by":[{"localId":"734","locator":"97:15-97:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"723","locator":"97:15-97:83","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"729","locator":"97:24-97:83","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"732","type":"IntervalTypeSpecifier","pointType":{"localId":"733","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"725","locator":"97:51-97:66","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"relevantDatetime","type":"IdentifierRef"},{"localId":"726","locator":"97:69-97:82","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"727","type":"IntervalTypeSpecifier","pointType":{"localId":"728","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]}}}}],"let":[],"relationship":[],"where":{"localId":"764","locator":"99:5-99:68","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"765","asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","signature":[],"operand":{"localId":"746","locator":"99:11-99:46","path":"result","scope":"MostRecentTobaccoUseScreening","type":"Property","resultTypeSpecifier":{"localId":"755","type":"ChoiceTypeSpecifier","choice":[{"localId":"756","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"757","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"758","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"759","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"760","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"761","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"762","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}},"valueset":{"localId":"763","locator":"99:51-99:68","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Non User","preserve":true}}}},{"localId":"688","locator":"64:1-66:77","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Numerator 1","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"688","s":[{"value":["","define ","\"Numerator 1\"",":\n  "]},{"r":"689","s":[{"r":"769","s":[{"r":"767","s":[{"value":["\"Most Recent Tobacco Use Screening Indicates Tobacco Non User\""]}]},{"value":[" is not null"]}]},{"value":["\n    or "]},{"r":"772","s":[{"r":"770","s":[{"value":["\"Most Recent Tobacco Use Screening Indicates Tobacco User\""]}]},{"value":[" is not null"]}]}]}]}}],"expression":{"localId":"689","locator":"65:3-66:77","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"769","locator":"65:3-65:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"768","locator":"65:3-65:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"767","locator":"65:3-65:64","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User","type":"ExpressionRef"}}},{"localId":"772","locator":"66:8-66:77","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"771","locator":"66:8-66:77","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"770","locator":"66:8-66:65","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco User","type":"ExpressionRef"}}}]}},{"localId":"779","locator":"112:1-118:5","name":"Tobacco Cessation Counseling Given","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"779","s":[{"value":["","define ","\"Tobacco Cessation Counseling Given\"",":\n  "]},{"r":"875","s":[{"r":"820","s":[{"value":["( "]},{"r":"820","s":[{"s":[{"r":"780","s":[{"r":"783","s":[{"r":"783","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Tobacco Use Cessation Counseling\""]}]},{"value":["]"]}]}]},{"value":[" ","TobaccoCessationCounseling"]}]}]},{"value":["\n      "]},{"r":"818","s":[{"value":["where "]},{"r":"818","s":[{"r":"800","s":[{"r":"791","s":[{"value":["Global"]}]},{"value":["."]},{"r":"800","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"793","s":[{"r":"792","s":[{"value":["TobaccoCessationCounseling"]}]},{"value":["."]},{"r":"793","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"795","s":[{"r":"794","s":[{"value":["TobaccoCessationCounseling"]}]},{"value":["."]},{"r":"795","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"818","value":[" ","during day of"," "]},{"r":"815","s":[{"value":["Interval["]},{"r":"805","s":[{"r":"806","s":[{"value":["start of "]},{"r":"807","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"810","s":[{"value":["6 ","months"]}]}]},{"value":[", "]},{"r":"811","s":[{"value":["end of "]},{"r":"812","s":[{"value":["\"Measurement Period\""]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n  )"]}]},{"value":["\n    union "]},{"r":"860","s":[{"value":["( "]},{"r":"860","s":[{"s":[{"r":"825","s":[{"r":"828","s":[{"r":"828","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Tobacco abuse counseling\""]}]},{"value":["]"]}]}]},{"value":[" ","TobaccoCounseling"]}]}]},{"value":["\n        "]},{"r":"859","s":[{"value":["where "]},{"r":"859","s":[{"r":"838","s":[{"value":["( "]},{"r":"838","s":[{"r":"837","s":[{"value":["TobaccoCounseling"]}]},{"value":["."]},{"r":"838","s":[{"value":["prevalencePeriod"]}]}]},{"value":[" )"]}]},{"r":"859","value":[" ","starts during day of"," "]},{"r":"855","s":[{"value":["Interval["]},{"r":"845","s":[{"r":"846","s":[{"value":["start of "]},{"r":"847","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"850","s":[{"value":["6 ","months"]}]}]},{"value":[", "]},{"r":"851","s":[{"value":["end of "]},{"r":"852","s":[{"value":["\"Measurement Period\""]}]}]},{"value":["]"]}]}]}]}]},{"value":["\n    )"]}]}]}]}}],"resultTypeSpecifier":{"localId":"1000","type":"ListTypeSpecifier","elementType":{"localId":"1001","type":"ChoiceTypeSpecifier","choice":[{"localId":"1002","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"localId":"1003","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}]}},"expression":{"localId":"875","locator":"113:3-118:5","type":"Union","resultTypeSpecifier":{"localId":"876","type":"ListTypeSpecifier","elementType":{"localId":"877","type":"ChoiceTypeSpecifier","choice":[{"localId":"878","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"localId":"879","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}]}},"signature":[],"operand":[{"localId":"865","type":"As","signature":[],"operand":{"localId":"820","locator":"113:3-115:3","type":"Query","resultTypeSpecifier":{"localId":"823","type":"ListTypeSpecifier","elementType":{"localId":"824","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"780","locator":"113:5-113:94","alias":"TobaccoCessationCounseling","resultTypeSpecifier":{"localId":"789","type":"ListTypeSpecifier","elementType":{"localId":"790","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"783","locator":"113:5-113:67","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"787","type":"ListTypeSpecifier","elementType":{"localId":"788","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"782","locator":"113:33-113:66","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Cessation Counseling","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"818","locator":"114:7-114:223","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"IncludedIn","signature":[],"operand":[{"localId":"800","locator":"114:13-114:129","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"803","type":"IntervalTypeSpecifier","pointType":{"localId":"804","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"793","locator":"114:42-114:84","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"TobaccoCessationCounseling","type":"Property"},{"localId":"795","locator":"114:87-114:127","path":"relevantPeriod","scope":"TobaccoCessationCounseling","type":"Property","resultTypeSpecifier":{"localId":"798","type":"IntervalTypeSpecifier","pointType":{"localId":"799","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"815","locator":"114:145-114:223","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"816","type":"IntervalTypeSpecifier","pointType":{"localId":"817","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"805","locator":"114:154-114:193","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Subtract","signature":[],"operand":[{"localId":"806","locator":"114:154-114:182","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"807","locator":"114:163-114:182","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"808","type":"IntervalTypeSpecifier","pointType":{"localId":"809","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"810","locator":"114:186-114:193","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":6,"unit":"months","type":"Quantity"}]},"high":{"localId":"811","locator":"114:196-114:222","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"812","locator":"114:203-114:222","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"813","type":"IntervalTypeSpecifier","pointType":{"localId":"814","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}},"asTypeSpecifier":{"localId":"866","type":"ListTypeSpecifier","elementType":{"localId":"867","type":"ChoiceTypeSpecifier","choice":[{"localId":"868","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"localId":"869","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}]}}},{"localId":"870","type":"As","signature":[],"operand":{"localId":"860","locator":"116:11-118:5","type":"Query","resultTypeSpecifier":{"localId":"863","type":"ListTypeSpecifier","elementType":{"localId":"864","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}},"source":[{"localId":"825","locator":"116:13-116:71","alias":"TobaccoCounseling","resultTypeSpecifier":{"localId":"835","type":"ListTypeSpecifier","elementType":{"localId":"836","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}},"expression":{"localId":"828","locator":"116:13-116:53","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"833","type":"ListTypeSpecifier","elementType":{"localId":"834","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}},"codes":{"localId":"830","type":"ToList","signature":[],"operand":{"localId":"827","locator":"116:27-116:52","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Tobacco abuse counseling","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"859","locator":"117:9-117:153","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"858","locator":"117:54-117:59","type":"Start","signature":[],"operand":{"localId":"838","locator":"117:15-117:52","path":"prevalencePeriod","scope":"TobaccoCounseling","type":"Property","resultTypeSpecifier":{"localId":"843","type":"IntervalTypeSpecifier","pointType":{"localId":"844","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"855","locator":"117:75-117:153","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"856","type":"IntervalTypeSpecifier","pointType":{"localId":"857","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"845","locator":"117:84-117:123","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Subtract","signature":[],"operand":[{"localId":"846","locator":"117:84-117:112","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"847","locator":"117:93-117:112","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"848","type":"IntervalTypeSpecifier","pointType":{"localId":"849","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"850","locator":"117:116-117:123","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":6,"unit":"months","type":"Quantity"}]},"high":{"localId":"851","locator":"117:126-117:152","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"852","locator":"117:133-117:152","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"853","type":"IntervalTypeSpecifier","pointType":{"localId":"854","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}},"asTypeSpecifier":{"localId":"871","type":"ListTypeSpecifier","elementType":{"localId":"872","type":"ChoiceTypeSpecifier","choice":[{"localId":"873","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"localId":"874","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}]}}}]}},{"localId":"891","locator":"108:1-110:150","name":"Tobacco Cessation Pharmacotherapy Ordered","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"891","s":[{"value":["","define ","\"Tobacco Cessation Pharmacotherapy Ordered\"",":\n  "]},{"r":"920","s":[{"s":[{"r":"892","s":[{"r":"895","s":[{"r":"895","s":[{"value":["[","\"Medication, Order\"",": "]},{"s":[{"value":["\"Tobacco Use Cessation Pharmacotherapy\""]}]},{"value":["]"]}]}]},{"value":[" ","CessationPharmacotherapyOrdered"]}]}]},{"value":["\n    "]},{"r":"919","s":[{"value":["where "]},{"r":"919","s":[{"r":"904","s":[{"r":"903","s":[{"value":["CessationPharmacotherapyOrdered"]}]},{"value":["."]},{"r":"904","s":[{"value":["authorDatetime"]}]}]},{"r":"919","value":[" ","during day of"," "]},{"r":"915","s":[{"value":["Interval["]},{"r":"905","s":[{"r":"906","s":[{"value":["start of "]},{"r":"907","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[" - "]},{"r":"910","s":[{"value":["6 ","months"]}]}]},{"value":[", "]},{"r":"911","s":[{"value":["end of "]},{"r":"912","s":[{"value":["\"Measurement Period\""]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"998","type":"ListTypeSpecifier","elementType":{"localId":"999","name":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","type":"NamedTypeSpecifier"}},"expression":{"localId":"920","locator":"109:3-110:150","type":"Query","resultTypeSpecifier":{"localId":"921","type":"ListTypeSpecifier","elementType":{"localId":"922","name":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","type":"NamedTypeSpecifier"}},"source":[{"localId":"892","locator":"109:3-109:96","alias":"CessationPharmacotherapyOrdered","resultTypeSpecifier":{"localId":"901","type":"ListTypeSpecifier","elementType":{"localId":"902","name":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","type":"NamedTypeSpecifier"}},"expression":{"localId":"895","locator":"109:3-109:64","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","templateId":"PositiveMedicationOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"899","type":"ListTypeSpecifier","elementType":{"localId":"900","name":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","type":"NamedTypeSpecifier"}},"codes":{"localId":"894","locator":"109:25-109:63","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Tobacco Use Cessation Pharmacotherapy","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"919","locator":"110:5-110:150","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"904","locator":"110:11-110:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"authorDatetime","scope":"CessationPharmacotherapyOrdered","type":"Property"},{"localId":"915","locator":"110:72-110:150","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"916","type":"IntervalTypeSpecifier","pointType":{"localId":"917","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"905","locator":"110:81-110:120","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Subtract","signature":[],"operand":[{"localId":"906","locator":"110:81-110:109","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"907","locator":"110:90-110:109","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"908","type":"IntervalTypeSpecifier","pointType":{"localId":"909","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"910","locator":"110:113-110:120","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":6,"unit":"months","type":"Quantity"}]},"high":{"localId":"911","locator":"110:123-110:149","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"912","locator":"110:130-110:149","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"913","type":"IntervalTypeSpecifier","pointType":{"localId":"914","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}},{"localId":"774","locator":"68:1-71:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Numerator 2","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"774","s":[{"value":["","define ","\"Numerator 2\"",":\n  "]},{"r":"775","s":[{"r":"776","s":[{"r":"777","s":[{"value":["exists "]},{"r":"884","s":[{"value":["\"Tobacco Cessation Counseling Given\""]}]}]},{"value":["\n    or "]},{"r":"889","s":[{"value":["exists "]},{"r":"925","s":[{"value":["\"Tobacco Cessation Pharmacotherapy Ordered\""]}]}]}]},{"value":["\n    or "]},{"r":"928","s":[{"value":["exists "]},{"r":"929","s":[{"value":["\"Active Pharmacotherapy for Tobacco Cessation\""]}]}]}]}]}}],"expression":{"localId":"775","locator":"69:3-71:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"776","locator":"69:3-70:57","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"777","locator":"69:3-69:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"884","locator":"69:10-69:45","name":"Tobacco Cessation Counseling Given","type":"ExpressionRef","resultTypeSpecifier":{"localId":"885","type":"ListTypeSpecifier","elementType":{"localId":"886","type":"ChoiceTypeSpecifier","choice":[{"localId":"887","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"localId":"888","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}]}}}},{"localId":"889","locator":"70:8-70:57","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"925","locator":"70:15-70:57","name":"Tobacco Cessation Pharmacotherapy Ordered","type":"ExpressionRef","resultTypeSpecifier":{"localId":"926","type":"ListTypeSpecifier","elementType":{"localId":"927","name":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","type":"NamedTypeSpecifier"}}}}]},{"localId":"928","locator":"71:8-71:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"929","locator":"71:15-71:60","name":"Active Pharmacotherapy for Tobacco Cessation","type":"ExpressionRef","resultTypeSpecifier":{"localId":"930","type":"ListTypeSpecifier","elementType":{"localId":"931","name":"{urn:healthit-gov:qdm:v5_6}MedicationActive","type":"NamedTypeSpecifier"}}}}]}},{"localId":"933","locator":"73:1-80:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Numerator 3","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"933","s":[{"value":["","define ","\"Numerator 3\"",":\n  "]},{"r":"934","s":[{"r":"937","s":[{"r":"935","s":[{"value":["\"Most Recent Tobacco Use Screening Indicates Tobacco Non User\""]}]},{"value":[" is not null"]}]},{"value":["\n    or "]},{"r":"938","s":[{"value":["( "]},{"r":"938","s":[{"r":"941","s":[{"r":"939","s":[{"value":["\"Most Recent Tobacco Use Screening Indicates Tobacco User\""]}]},{"value":[" is not null"]}]},{"value":["\n        and "]},{"r":"942","s":[{"value":["( "]},{"r":"942","s":[{"r":"943","s":[{"r":"944","s":[{"value":["exists "]},{"r":"945","s":[{"value":["\"Tobacco Cessation Counseling Given\""]}]}]},{"value":["\n            or "]},{"r":"950","s":[{"value":["exists "]},{"r":"951","s":[{"value":["\"Tobacco Cessation Pharmacotherapy Ordered\""]}]}]}]},{"value":["\n            or "]},{"r":"954","s":[{"value":["exists "]},{"r":"955","s":[{"value":["\"Active Pharmacotherapy for Tobacco Cessation\""]}]}]}]},{"value":["\n        )"]}]}]},{"value":["\n    )"]}]}]}]}}],"expression":{"localId":"934","locator":"74:3-80:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"937","locator":"74:3-74:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"936","locator":"74:3-74:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"935","locator":"74:3-74:64","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User","type":"ExpressionRef"}}},{"localId":"938","locator":"75:8-80:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"941","locator":"75:10-75:79","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"940","locator":"75:10-75:79","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"939","locator":"75:10-75:67","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","name":"Most Recent Tobacco Use Screening Indicates Tobacco User","type":"ExpressionRef"}}},{"localId":"942","locator":"76:13-79:9","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"943","locator":"76:15-77:65","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"944","locator":"76:15-76:57","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"945","locator":"76:22-76:57","name":"Tobacco Cessation Counseling Given","type":"ExpressionRef","resultTypeSpecifier":{"localId":"946","type":"ListTypeSpecifier","elementType":{"localId":"947","type":"ChoiceTypeSpecifier","choice":[{"localId":"948","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"},{"localId":"949","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}]}}}},{"localId":"950","locator":"77:16-77:65","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"951","locator":"77:23-77:65","name":"Tobacco Cessation Pharmacotherapy Ordered","type":"ExpressionRef","resultTypeSpecifier":{"localId":"952","type":"ListTypeSpecifier","elementType":{"localId":"953","name":"{urn:healthit-gov:qdm:v5_6}PositiveMedicationOrder","type":"NamedTypeSpecifier"}}}}]},{"localId":"954","locator":"78:16-78:68","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"955","locator":"78:23-78:68","name":"Active Pharmacotherapy for Tobacco Cessation","type":"ExpressionRef","resultTypeSpecifier":{"localId":"956","type":"ListTypeSpecifier","elementType":{"localId":"957","name":"{urn:healthit-gov:qdm:v5_6}MedicationActive","type":"NamedTypeSpecifier"}}}}]}]}]}},{"localId":"959","locator":"82:1-83:51","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"959","s":[{"value":["","define ","\"SDE Ethnicity\"",":\n  "]},{"r":"962","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"966","type":"ListTypeSpecifier","elementType":{"localId":"967","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","type":"NamedTypeSpecifier"}},"expression":{"localId":"962","locator":"83:3-83:51","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"964","type":"ListTypeSpecifier","elementType":{"localId":"965","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicEthnicity","type":"NamedTypeSpecifier"}},"codes":{"localId":"961","locator":"83:40-83:50","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Ethnicity","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"969","locator":"85:1-86:48","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"969","s":[{"value":["","define ","\"SDE Payer\"",":\n  "]},{"r":"972","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer Type\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"976","type":"ListTypeSpecifier","elementType":{"localId":"977","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","type":"NamedTypeSpecifier"}},"expression":{"localId":"972","locator":"86:3-86:48","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"974","type":"ListTypeSpecifier","elementType":{"localId":"975","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicPayer","type":"NamedTypeSpecifier"}},"codes":{"localId":"971","locator":"86:36-86:47","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Payer Type","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"979","locator":"88:1-89:41","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"979","s":[{"value":["","define ","\"SDE Race\"",":\n  "]},{"r":"982","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"986","type":"ListTypeSpecifier","elementType":{"localId":"987","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","type":"NamedTypeSpecifier"}},"expression":{"localId":"982","locator":"89:3-89:41","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"984","type":"ListTypeSpecifier","elementType":{"localId":"985","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicRace","type":"NamedTypeSpecifier"}},"codes":{"localId":"981","locator":"89:35-89:40","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Race","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"989","locator":"91:1-92:62","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"989","s":[{"value":["","define ","\"SDE Sex\"",":\n  "]},{"r":"992","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"Federal Administrative Sex\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"996","type":"ListTypeSpecifier","elementType":{"localId":"997","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","type":"NamedTypeSpecifier"}},"expression":{"localId":"992","locator":"92:3-92:62","dataType":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"994","type":"ListTypeSpecifier","elementType":{"localId":"995","name":"{urn:healthit-gov:qdm:v5_6}PatientCharacteristicSex","type":"NamedTypeSpecifier"}},"codes":{"localId":"991","locator":"92:34-92:61","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Federal Administrative Sex","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"1007","locator":"136:1-137:32","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Denominator Exclusion","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"1007","s":[{"value":["","define ","\"Denominator Exclusion\"",":\n  "]},{"r":"1009","s":[{"r":"1008","s":[{"value":["Hospice"]}]},{"value":["."]},{"r":"1009","s":[{"value":["\"Has Hospice Services\""]}]}]}]}}],"expression":{"localId":"1009","locator":"137:3-137:32","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Has Hospice Services","libraryName":"Hospice","type":"ExpressionRef"}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Active Pharmacotherapy for Tobacco Cessation\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Medication, Active\": "}]},{"children":[{"children":[{"text":"\"Tobacco Use Cessation Pharmacotherapy\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"265"}],"node_type":"Retrieve","ref_id":"265"},{"children":[{"text":" TakingCessationPharmacotherapy"}]}],"ref_id":"262"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"273"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"TakingCessationPharmacotherapy"}]}],"ref_id":"274"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"275"}],"node_type":"Property","ref_id":"275"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TakingCessationPharmacotherapy"}]}],"ref_id":"276"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"277"}],"node_type":"Property","ref_id":"277"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"282"}],"node_type":"FunctionRef","ref_id":"282"},{"children":[{"text":" during day of "}],"ref_id":"300"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"289"}],"node_type":"Start","ref_id":"288"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"6 months"}]}],"node_type":"Quantity","ref_id":"292"}],"ref_id":"287"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"294"}],"ref_id":"293"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"297"}],"ref_id":"300"}],"ref_id":"300"}],"node_type":"Query","ref_id":"302"}],"ref_id":"261"}],"define_name":"Active Pharmacotherapy for Tobacco Cessation"},{"children":[{"children":[{"children":[{"text":"define \"Qualifying Visit During Measurement Period\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Health behavior intervention, individual, face-to-face; initial 30 minutes\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"333"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"340"}],"node_type":"Union","ref_id":"345"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Home Healthcare Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"350"}],"ref_id":"354"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Occupational Therapy Evaluation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"359"}],"node_type":"Union","ref_id":"364"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"369"}],"ref_id":"373"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Ophthalmological Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"378"}],"node_type":"Union","ref_id":"383"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Physical Therapy Evaluation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"388"}],"ref_id":"392"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psych Visit Diagnostic Evaluation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"397"}],"node_type":"Union","ref_id":"402"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psych Visit Psychotherapy\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"407"}],"ref_id":"411"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psychoanalysis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"416"}],"node_type":"Union","ref_id":"421"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Speech and Hearing Evaluation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"426"}],"ref_id":"430"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Telephone Visits\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"435"}],"node_type":"Union","ref_id":"440"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Virtual Encounter\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"445"}],"node_type":"Union","ref_id":"449"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"449"},{"children":[{"text":" OfficeBasedEncounter"}]}],"ref_id":"330"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"OfficeBasedEncounter"}]}],"ref_id":"456"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"457"}],"node_type":"Property","ref_id":"457"},{"children":[{"text":" during day of "}],"ref_id":"465"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"462"}],"ref_id":"465"}],"ref_id":"465"}],"node_type":"Query","ref_id":"467"}],"ref_id":"329"}],"define_name":"Qualifying Visit During Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Preventive Visit During Measurement Period\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Annual Wellness Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"485"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Established Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"491"}],"node_type":"Union","ref_id":"495"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Initial Office Visit, 18 and Up\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"500"}],"ref_id":"504"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care, Established Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"509"}],"node_type":"Union","ref_id":"514"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services, Initial Office Visit, 0 to 17\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"519"}],"ref_id":"523"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Group Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"528"}],"node_type":"Union","ref_id":"533"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Preventive Care Services Individual Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"538"}],"ref_id":"542"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Unlisted preventive medicine service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"547"}],"node_type":"Union","ref_id":"553"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"558"}],"ref_id":"563"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Nutrition Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"568"}],"node_type":"Union","ref_id":"573"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"573"},{"children":[{"text":" PreventiveEncounter"}]}],"ref_id":"482"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"PreventiveEncounter"}]}],"ref_id":"580"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"581"}],"node_type":"Property","ref_id":"581"},{"children":[{"text":" during day of "}],"ref_id":"589"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"586"}],"ref_id":"589"}],"ref_id":"589"}],"node_type":"Query","ref_id":"591"}],"ref_id":"481"}],"define_name":"Preventive Visit During Measurement Period"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"AgeInYearsAt("}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"315"}],"node_type":"Start","ref_id":"314"}],"node_type":"DateFrom","ref_id":"313"},{"children":[{"text":")"}]}],"node_type":"CalculateAgeAt","ref_id":"324"},{"children":[{"text":" \u003e= 12"}],"node_type":"Literal","ref_id":"325"}],"node_type":"GreaterOrEqual","ref_id":"312"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Count("}]},{"children":[{"children":[{"text":"\"Qualifying Visit During Measurement Period\""}]}],"ref_id":"472"},{"children":[{"text":")"}]}],"node_type":"Count","ref_id":"477"},{"children":[{"text":" \u003e= 2"}],"node_type":"Literal","ref_id":"478"}],"node_type":"GreaterOrEqual","ref_id":"327"},{"children":[{"text":"\n        or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Preventive Visit During Measurement Period\""}]}],"node_type":"ExpressionRef","ref_id":"596"}],"node_type":"Exists","ref_id":"479"}],"node_type":"Or","ref_id":"326"},{"children":[{"text":"\n    )"}]}],"node_type":"Or","ref_id":"326"}],"node_type":"And","ref_id":"311"}],"ref_id":"310"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Denominator 1\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"599"}],"ref_id":"308"}],"define_name":"Denominator 1"},{"children":[{"children":[{"children":[{"text":"define \"Most Recent Tobacco Use Screening Indicates Tobacco User\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Tobacco Use Screening\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"610"}],"node_type":"Retrieve","ref_id":"610"},{"children":[{"text":" TobaccoUseScreening"}]}],"ref_id":"607"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"618"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"children":[{"text":"TobaccoUseScreening"}]}],"ref_id":"619"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"620"}],"node_type":"Property","ref_id":"620"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TobaccoUseScreening"}]}],"ref_id":"621"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"622"}],"node_type":"Property","ref_id":"622"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"627"}],"node_type":"FunctionRef","ref_id":"627"},{"children":[{"text":" during day of "}],"ref_id":"635"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"632"}],"ref_id":"635"}],"ref_id":"635"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"638"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"639"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"640"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"643"}],"node_type":"FunctionRef","ref_id":"643"}],"node_type":"Start","ref_id":"637"}],"ref_id":"648"}],"ref_id":"649"}],"ref_id":"653"},{"children":[{"text":"\n  )"}]}],"node_type":"Last","ref_id":"658"},{"children":[{"text":" )"}]}],"node_type":"Last","ref_id":"658"},{"children":[{"text":" MostRecentTobaccoUseScreening"}]}],"ref_id":"606"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"MostRecentTobaccoUseScreening"}]}],"ref_id":"659"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"660"}],"node_type":"Property","ref_id":"660"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Tobacco User\""}]}],"ref_id":"677"}],"ref_id":"678"}],"ref_id":"678"}],"node_type":"Query","ref_id":"680"}],"ref_id":"605"}],"define_name":"Most Recent Tobacco Use Screening Indicates Tobacco User"},{"children":[{"children":[{"children":[{"text":"define \"Denominator 2\":\n  "}]},{"children":[{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"603"},{"children":[{"text":"\n    and "}]},{"children":[{"children":[{"children":[{"text":"\"Most Recent Tobacco Use Screening Indicates Tobacco User\""}]}],"node_type":"ExpressionRef","ref_id":"681"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"683"}],"node_type":"And","ref_id":"602"}],"ref_id":"601"}],"define_name":"Denominator 2"},{"children":[{"children":[{"children":[{"text":"define \"Denominator 3\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"686"}],"ref_id":"685"}],"define_name":"Denominator 3"},{"children":[{"children":[{"children":[{"text":"define \"Most Recent Tobacco Use Screening Indicates Tobacco Non User\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Tobacco Use Screening\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"696"}],"node_type":"Retrieve","ref_id":"696"},{"children":[{"text":" TobaccoUseScreening"}]}],"ref_id":"693"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"704"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"children":[{"text":"TobaccoUseScreening"}]}],"ref_id":"705"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"706"}],"node_type":"Property","ref_id":"706"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TobaccoUseScreening"}]}],"ref_id":"707"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"708"}],"node_type":"Property","ref_id":"708"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"713"}],"node_type":"FunctionRef","ref_id":"713"},{"children":[{"text":" during day of "}],"ref_id":"721"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"718"}],"ref_id":"721"}],"ref_id":"721"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"724"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\"("}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"IdentifierRef","ref_id":"725"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"726"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"729"}],"node_type":"FunctionRef","ref_id":"729"}],"node_type":"Start","ref_id":"723"}],"ref_id":"734"}],"ref_id":"735"}],"ref_id":"739"},{"children":[{"text":"\n  )"}]}],"node_type":"Last","ref_id":"744"},{"children":[{"text":" )"}]}],"node_type":"Last","ref_id":"744"},{"children":[{"text":" MostRecentTobaccoUseScreening"}]}],"ref_id":"692"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"MostRecentTobaccoUseScreening"}]}],"ref_id":"745"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"746"}],"node_type":"Property","ref_id":"746"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Tobacco Non User\""}]}],"ref_id":"763"}],"ref_id":"764"}],"ref_id":"764"}],"node_type":"Query","ref_id":"766"}],"ref_id":"691"}],"define_name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User"},{"children":[{"children":[{"children":[{"text":"define \"Numerator 1\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Most Recent Tobacco Use Screening Indicates Tobacco Non User\""}]}],"node_type":"ExpressionRef","ref_id":"767"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"769"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"children":[{"text":"\"Most Recent Tobacco Use Screening Indicates Tobacco User\""}]}],"node_type":"ExpressionRef","ref_id":"770"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"772"}],"node_type":"Or","ref_id":"689"}],"ref_id":"688"}],"define_name":"Numerator 1"},{"children":[{"children":[{"children":[{"text":"define \"Tobacco Cessation Counseling Given\":\n  "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Tobacco Use Cessation Counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"783"}],"node_type":"Retrieve","ref_id":"783"},{"children":[{"text":" TobaccoCessationCounseling"}]}],"ref_id":"780"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"791"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"TobaccoCessationCounseling"}]}],"ref_id":"792"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"793"}],"node_type":"Property","ref_id":"793"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"TobaccoCessationCounseling"}]}],"ref_id":"794"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"795"}],"node_type":"Property","ref_id":"795"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"800"}],"node_type":"FunctionRef","ref_id":"800"},{"children":[{"text":" during day of "}],"ref_id":"818"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"807"}],"node_type":"Start","ref_id":"806"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"6 months"}]}],"node_type":"Quantity","ref_id":"810"}],"ref_id":"805"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"812"}],"ref_id":"811"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"815"}],"ref_id":"818"}],"ref_id":"818"}],"node_type":"Query","ref_id":"820"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"820"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Tobacco abuse counseling\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"828"}],"node_type":"Retrieve","ref_id":"828"},{"children":[{"text":" TobaccoCounseling"}]}],"ref_id":"825"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"text":"TobaccoCounseling"}]}],"ref_id":"837"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"838"}],"node_type":"Property","ref_id":"838"},{"children":[{"text":" )"}]}],"node_type":"Property","ref_id":"838"},{"children":[{"text":" starts during day of "}],"ref_id":"859"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"847"}],"node_type":"Start","ref_id":"846"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"6 months"}]}],"node_type":"Quantity","ref_id":"850"}],"ref_id":"845"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"852"}],"ref_id":"851"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"855"}],"ref_id":"859"}],"ref_id":"859"}],"node_type":"Query","ref_id":"860"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"860"}],"node_type":"Union","ref_id":"875"}],"ref_id":"779"}],"define_name":"Tobacco Cessation Counseling Given"},{"children":[{"children":[{"children":[{"text":"define \"Tobacco Cessation Pharmacotherapy Ordered\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Medication, Order\": "}]},{"children":[{"children":[{"text":"\"Tobacco Use Cessation Pharmacotherapy\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"895"}],"node_type":"Retrieve","ref_id":"895"},{"children":[{"text":" CessationPharmacotherapyOrdered"}]}],"ref_id":"892"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"CessationPharmacotherapyOrdered"}]}],"ref_id":"903"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"904"}],"node_type":"Property","ref_id":"904"},{"children":[{"text":" during day of "}],"ref_id":"919"},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"907"}],"node_type":"Start","ref_id":"906"},{"children":[{"text":" - "}]},{"children":[{"children":[{"text":"6 months"}]}],"node_type":"Quantity","ref_id":"910"}],"ref_id":"905"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"912"}],"ref_id":"911"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"915"}],"ref_id":"919"}],"ref_id":"919"}],"node_type":"Query","ref_id":"920"}],"ref_id":"891"}],"define_name":"Tobacco Cessation Pharmacotherapy Ordered"},{"children":[{"children":[{"children":[{"text":"define \"Numerator 2\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Tobacco Cessation Counseling Given\""}]}],"node_type":"ExpressionRef","ref_id":"884"}],"node_type":"Exists","ref_id":"777"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Tobacco Cessation Pharmacotherapy Ordered\""}]}],"node_type":"ExpressionRef","ref_id":"925"}],"node_type":"Exists","ref_id":"889"}],"node_type":"Or","ref_id":"776"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Active Pharmacotherapy for Tobacco Cessation\""}]}],"node_type":"ExpressionRef","ref_id":"929"}],"node_type":"Exists","ref_id":"928"}],"node_type":"Or","ref_id":"775"}],"ref_id":"774"}],"define_name":"Numerator 2"},{"children":[{"children":[{"children":[{"text":"define \"Numerator 3\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Most Recent Tobacco Use Screening Indicates Tobacco Non User\""}]}],"node_type":"ExpressionRef","ref_id":"935"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"937"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"Most Recent Tobacco Use Screening Indicates Tobacco User\""}]}],"node_type":"ExpressionRef","ref_id":"939"},{"children":[{"text":" is not null"}]}],"node_type":"Not","ref_id":"941"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Tobacco Cessation Counseling Given\""}]}],"node_type":"ExpressionRef","ref_id":"945"}],"node_type":"Exists","ref_id":"944"},{"children":[{"text":"\n            or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Tobacco Cessation Pharmacotherapy Ordered\""}]}],"node_type":"ExpressionRef","ref_id":"951"}],"node_type":"Exists","ref_id":"950"}],"node_type":"Or","ref_id":"943"},{"children":[{"text":"\n            or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"\"Active Pharmacotherapy for Tobacco Cessation\""}]}],"node_type":"ExpressionRef","ref_id":"955"}],"node_type":"Exists","ref_id":"954"}],"node_type":"Or","ref_id":"942"},{"children":[{"text":"\n        )"}]}],"node_type":"Or","ref_id":"942"}],"node_type":"And","ref_id":"938"},{"children":[{"text":"\n    )"}]}],"node_type":"And","ref_id":"938"}],"node_type":"Or","ref_id":"934"}],"ref_id":"933"}],"define_name":"Numerator 3"},{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"962"}],"ref_id":"959"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer Type\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"972"}],"ref_id":"969"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"982"}],"ref_id":"979"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"Federal Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"992"}],"ref_id":"989"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Denominator Exclusion\":\n  "}]},{"children":[{"children":[{"children":[{"text":"Hospice"}]}],"ref_id":"1008"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"Has Hospice Services\""}]}],"node_type":"ExpressionRef","ref_id":"1009"}],"node_type":"ExpressionRef","ref_id":"1009"}],"ref_id":"1007"}],"define_name":"Denominator Exclusion"}],"identifier":{"id":"CMS138PreventiveTobaccoCessation","version":"14.0.000"}},"is_main_library":true,"is_top_level":true,"library_name":"CMS138PreventiveTobaccoCessation","library_version":"14.0.000","statement_dependencies":[{"_id":"689200b110d20757c0ce0391","statement_name":"Patient"},{"_id":"689200b110d20757c0ce0392","statement_name":"Active Pharmacotherapy for Tobacco Cessation","statement_references":[{"_id":"689200be10d20757c0ce0651","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"689200b110d20757c0ce0393","statement_name":"Qualifying Visit During Measurement Period"},{"_id":"689200b110d20757c0ce0394","statement_name":"Preventive Visit During Measurement Period"},{"_id":"689200b110d20757c0ce0395","statement_name":"Initial Population","statement_references":[{"_id":"689200b110d20757c0ce0382","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Patient"},{"_id":"689200b110d20757c0ce0383","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Qualifying Visit During Measurement Period"},{"_id":"689200b110d20757c0ce0384","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Preventive Visit During Measurement Period"}]},{"_id":"689200b110d20757c0ce0396","statement_name":"Denominator 1","statement_references":[{"_id":"689200be10d20757c0ce0652","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Initial Population"}]},{"_id":"689200b110d20757c0ce0397","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco User","statement_references":[{"_id":"689200be10d20757c0ce0653","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"689200b110d20757c0ce0398","statement_name":"Denominator 2","statement_references":[{"_id":"689200b110d20757c0ce0385","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Initial Population"},{"_id":"689200b110d20757c0ce0386","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco User"}]},{"_id":"689200b110d20757c0ce0399","statement_name":"Denominator 3","statement_references":[{"_id":"689200be10d20757c0ce0654","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Initial Population"}]},{"_id":"689200b110d20757c0ce039a","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User","statement_references":[{"_id":"689200be10d20757c0ce0655","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"689200b110d20757c0ce039b","statement_name":"Numerator 1","statement_references":[{"_id":"689200b110d20757c0ce0387","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User"},{"_id":"689200b110d20757c0ce0388","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco User"}]},{"_id":"689200b110d20757c0ce039c","statement_name":"Tobacco Cessation Counseling Given","statement_references":[{"_id":"689200be10d20757c0ce0656","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]},{"_id":"689200b110d20757c0ce039d","statement_name":"Tobacco Cessation Pharmacotherapy Ordered"},{"_id":"689200b110d20757c0ce039e","statement_name":"Numerator 2","statement_references":[{"_id":"689200b110d20757c0ce0389","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Tobacco Cessation Counseling Given"},{"_id":"689200b110d20757c0ce038a","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Tobacco Cessation Pharmacotherapy Ordered"},{"_id":"689200b110d20757c0ce038b","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Active Pharmacotherapy for Tobacco Cessation"}]},{"_id":"689200b110d20757c0ce039f","statement_name":"Numerator 3","statement_references":[{"_id":"689200b110d20757c0ce038c","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco Non User"},{"_id":"689200b110d20757c0ce038d","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Most Recent Tobacco Use Screening Indicates Tobacco User"},{"_id":"689200b110d20757c0ce038e","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Tobacco Cessation Counseling Given"},{"_id":"689200b110d20757c0ce038f","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Tobacco Cessation Pharmacotherapy Ordered"},{"_id":"689200b110d20757c0ce0390","hqmf_id":null,"library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Active Pharmacotherapy for Tobacco Cessation"}]},{"_id":"689200b110d20757c0ce03a0","statement_name":"SDE Ethnicity"},{"_id":"689200b110d20757c0ce03a1","statement_name":"SDE Payer"},{"_id":"689200b110d20757c0ce03a2","statement_name":"SDE Race"},{"_id":"689200b110d20757c0ce03a3","statement_name":"SDE Sex"},{"_id":"689200b110d20757c0ce03a4","statement_name":"Denominator Exclusion","statement_references":[{"_id":"689200be10d20757c0ce0657","hqmf_id":null,"library_name":"HospiceQDM","statement_name":"Has Hospice Services"}]}]},{"_id":"689200b110d20757c0ce03a6","cql":"library CQMCommonQDM version '9.0.000'\n\n/*Upversion to 9.0.000 renaming the library to CQMCommonQDM to align with the FHIR naming convention and to remove the old MAT designation*/\n\nusing QDM version '5.6'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1029.206' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"ED Encounter\":\n  [\"Encounter, Performed\": \"Emergency Department Visit\"]\n\ndefine \"Inpatient Encounter\":\n  [\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n    where EncounterInpatient.relevantPeriod ends during day of \"Measurement Period\"\n\n/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  Interval[date from start of period, date from end of period]\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  difference in days between start of Value and end of Value\n\n/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn if EDVisit is null then Visit.facilityLocations \n  \t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  start of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  start of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n  \tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  LengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  end of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n  \t\tsort by start of locationPeriod\n  ).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  end of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n  \tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n  \t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  Encounter Visit\n  \tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n  \t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t),\n  \tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n  \tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n  \t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n  \t\t\tsort by \n  \t\t\tend of relevantPeriod\n  \t)\n  \treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n  \tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  \"LengthInDays\"(\"HospitalizationWithObservation\"(Encounter))\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  First((Encounter.facilityLocations)HospitalLocation\n      where HospitalLocation.code in \"Intensive Care Unit\"\n        and HospitalLocation.locationPeriod during Encounter.relevantPeriod\n      sort by start of locationPeriod\n  )\n\n/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  if pointInTime is not null then Interval[pointInTime, pointInTime]\n    else if period is not null then period \n    else null as Interval\u003cDateTime\u003e\n\n/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  not ( start of period is null\n      or start of period = minimum DateTime\n  )\n\n/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  not ( \n    end of period is null\n      or \n      end of period = maximum DateTime\n  )\n\n/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasEnd(period)) then \n  end of period \n    else start of period\n\n/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  if ( HasStart(period)) then start of period \n    else \n  end of period\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Latest(NormalizeInterval(pointInTime, period))\n\n/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  Earliest(NormalizeInterval(pointInTime, period))","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"message":"An operand identifier [Encounter] is hiding another identifier of the same name.","errorType":"semantic","errorSeverity":"warning","type":"CqlToElmError"},{"type":"Annotation","s":{"r":"1247","s":[{"value":["","library CQMCommonQDM version '9.0.000'"]}]}}],"identifier":{"id":"CQMCommonQDM","version":"9.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["/*Upversion to 9.0.000 renaming the library to CQMCommonQDM to align with the FHIR naming convention and to remove the old MAT designation*/\n\n","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"parameters":{"def":[{"localId":"212","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"213","s":[{"value":["Interval\u003c"]},{"r":"214","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"217","type":"IntervalTypeSpecifier","pointType":{"localId":"218","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"213","locator":"13:32-13:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"215","type":"IntervalTypeSpecifier","pointType":{"localId":"216","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"214","locator":"13:41-13:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"207","locator":"7:1-7:82","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","valueset ","\"Emergency Department Visit\"",": ","'urn:oid:2.16.840.1.113883.3.117.1.7.1.292'"]}]}}],"codeSystem":[]},{"localId":"208","locator":"8:1-8:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}],"codeSystem":[]},{"localId":"209","locator":"9:1-9:72","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1029.206","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","valueset ","\"Intensive Care Unit\"",": ","'urn:oid:2.16.840.1.113762.1.4.1029.206'"]}]}}],"codeSystem":[]},{"localId":"210","locator":"10:1-10:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"Observation Services\"",": ","'urn:oid:2.16.840.1.113762.1.4.1111.143'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:78","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Outpatient Surgery Service\"",": ","'urn:oid:2.16.840.1.113762.1.4.1110.38'"]}]}}],"codeSystem":[]}]},"contexts":{"def":[{"localId":"222","locator":"15:1-15:15","name":"Patient"}]},"statements":{"def":[{"localId":"224","locator":"17:1-18:56","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"224","s":[{"value":["","define ","\"ED Encounter\"",":\n  "]},{"r":"227","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"resultTypeSpecifier":{"localId":"231","type":"ListTypeSpecifier","elementType":{"localId":"232","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"227","locator":"18:3-18:56","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"229","type":"ListTypeSpecifier","elementType":{"localId":"230","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"226","locator":"18:28-18:55","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}},{"localId":"1212","locator":"168:1-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Earliest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1212","s":[{"value":["/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\n","define function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1218","s":[{"r":"1218","s":[{"value":["if "]},{"r":"1222","s":[{"value":["( "]},{"r":"1222","s":[{"value":["HasStart","("]},{"r":"1219","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then "]},{"r":"1223","s":[{"value":["start of "]},{"r":"1224","s":[{"value":["period"]}]}]},{"value":[" \n    else \n  "]},{"r":"1227","s":[{"value":["end of "]},{"r":"1228","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"1218","locator":"169:3-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"If","condition":{"localId":"1222","locator":"169:6-169:24","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasStart","type":"FunctionRef","signature":[],"operand":[{"localId":"1219","locator":"169:17-169:22","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1220","type":"IntervalTypeSpecifier","pointType":{"localId":"1221","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"then":{"localId":"1223","locator":"169:31-169:45","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1224","locator":"169:40-169:45","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1225","type":"IntervalTypeSpecifier","pointType":{"localId":"1226","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"else":{"localId":"1227","locator":"171:3-171:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1228","locator":"171:10-171:15","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1229","type":"IntervalTypeSpecifier","pointType":{"localId":"1230","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1217","name":"period","operandTypeSpecifier":{"localId":"1213","locator":"168:35-168:52","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1215","type":"IntervalTypeSpecifier","pointType":{"localId":"1216","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1214","locator":"168:44-168:51","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1247","locator":"178:1-179:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EarliestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1247","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\n","define function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1262","s":[{"r":"1262","s":[{"value":["Earliest","("]},{"r":"1259","s":[{"value":["NormalizeInterval","("]},{"r":"1255","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1256","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1262","locator":"179:3-179:50","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Earliest","type":"FunctionRef","signature":[],"operand":[{"localId":"1259","locator":"179:12-179:49","name":"NormalizeInterval","type":"FunctionRef","resultTypeSpecifier":{"localId":"1260","type":"IntervalTypeSpecifier","pointType":{"localId":"1261","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1255","locator":"179:30-179:40","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},{"localId":"1256","locator":"179:43-179:48","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1257","type":"IntervalTypeSpecifier","pointType":{"localId":"1258","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]},"operand":[{"localId":"1249","name":"pointInTime","operandTypeSpecifier":{"localId":"1248","locator":"178:42-178:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1254","name":"period","operandTypeSpecifier":{"localId":"1250","locator":"178:59-178:76","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1252","type":"IntervalTypeSpecifier","pointType":{"localId":"1253","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1251","locator":"178:68-178:75","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"395","locator":"48:1-52:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"395","s":[{"value":["/*Returns the arrival time in the ED for the encounter.*/\n","define function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"398","s":[{"r":"398","s":[{"value":["start of "]},{"r":"427","s":[{"r":"426","s":[{"value":["First","("]},{"r":"421","s":[{"s":[{"r":"399","s":[{"r":"401","s":[{"value":["("]},{"r":"401","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"400","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"411","s":[{"value":["where "]},{"r":"411","s":[{"r":"409","s":[{"r":"408","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"409","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"410","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n  \t\t"]},{"r":"417","s":[{"value":["sort by "]},{"r":"416","s":[{"r":"412","s":[{"value":["start of "]},{"r":"413","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"427","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"398","locator":"49:3-52:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"427","locator":"49:12-52:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"430","type":"IntervalTypeSpecifier","pointType":{"localId":"431","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"426","locator":"49:12-52:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"421","locator":"49:18-51:35","type":"Query","resultTypeSpecifier":{"localId":"422","type":"ListTypeSpecifier","elementType":{"localId":"423","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"399","locator":"49:18-49:72","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"406","type":"ListTypeSpecifier","elementType":{"localId":"407","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"401","locator":"49:18-49:56","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"404","type":"ListTypeSpecifier","elementType":{"localId":"405","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"400","locator":"49:46-49:54","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"where":{"localId":"411","locator":"50:5-50:63","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"409","locator":"50:11-50:31","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"410","locator":"50:36-50:63","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true}},"sort":{"localId":"417","locator":"51:5-51:35","by":[{"localId":"416","locator":"51:13-51:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"412","locator":"51:13-51:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"413","locator":"51:22-51:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"414","type":"IntervalTypeSpecifier","pointType":{"localId":"415","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"397","name":"Encounter","operandTypeSpecifier":{"localId":"396","locator":"48:60-48:81","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1063","locator":"134:1-139:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1063","s":[{"value":["/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\n","define function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1110","s":[{"r":"1110","s":[{"value":["First","("]},{"r":"1105","s":[{"s":[{"r":"1066","s":[{"r":"1068","s":[{"value":["("]},{"r":"1068","s":[{"r":"1067","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"1068","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n      "]},{"r":"1077","s":[{"value":["where "]},{"r":"1077","s":[{"r":"1081","s":[{"r":"1079","s":[{"r":"1078","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"1079","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"1080","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n        and "]},{"r":"1094","s":[{"r":"1083","s":[{"r":"1082","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"1083","s":[{"value":["locationPeriod"]}]}]},{"r":"1094","value":[" ","during"," "]},{"r":"1089","s":[{"r":"1088","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"1089","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n      "]},{"r":"1101","s":[{"value":["sort by "]},{"r":"1100","s":[{"r":"1096","s":[{"value":["start of "]},{"r":"1097","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]}]}]}}],"expression":{"localId":"1110","locator":"135:3-139:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"1105","locator":"135:9-138:37","type":"Query","resultTypeSpecifier":{"localId":"1106","type":"ListTypeSpecifier","elementType":{"localId":"1107","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"1066","locator":"135:9-135:53","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"1075","type":"ListTypeSpecifier","elementType":{"localId":"1076","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"1068","locator":"135:9-135:37","path":"facilityLocations","type":"Property","resultTypeSpecifier":{"localId":"1073","type":"ListTypeSpecifier","elementType":{"localId":"1074","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":{"localId":"1067","locator":"135:10-135:18","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}}],"let":[],"relationship":[],"where":{"localId":"1077","locator":"136:7-137:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1081","locator":"136:13-136:58","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"InValueSet","signature":[],"code":{"localId":"1079","locator":"136:13-136:33","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"1080","locator":"136:38-136:58","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Intensive Care Unit","preserve":true}},{"localId":"1094","locator":"137:13-137:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IncludedIn","signature":[],"operand":[{"localId":"1083","locator":"137:13-137:43","path":"locationPeriod","scope":"HospitalLocation","type":"Property","resultTypeSpecifier":{"localId":"1086","type":"IntervalTypeSpecifier","pointType":{"localId":"1087","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"1089","locator":"137:52-137:75","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"1092","type":"IntervalTypeSpecifier","pointType":{"localId":"1093","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"1088","locator":"137:52-137:60","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"1101","locator":"138:7-138:37","by":[{"localId":"1100","locator":"138:15-138:37","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1096","locator":"138:15-138:37","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1097","locator":"138:24-138:37","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1098","type":"IntervalTypeSpecifier","pointType":{"localId":"1099","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}},"operand":[{"localId":"1065","name":"Encounter","operandTypeSpecifier":{"localId":"1064","locator":"134:61-134:82","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1173","locator":"154:1-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasEnd","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1173","s":[{"value":["/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\n","define function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1179","s":[{"r":"1179","s":[{"value":["not "]},{"r":"1180","s":[{"value":["( \n    "]},{"r":"1180","s":[{"r":"1185","s":[{"r":"1181","s":[{"value":["end of "]},{"r":"1182","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or \n      "]},{"r":"1186","s":[{"r":"1187","s":[{"value":["end of "]},{"r":"1188","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"1192","s":[{"value":["maximum"," "]},{"r":"1191","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"1179","locator":"155:3-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1180","locator":"155:7-159:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1185","locator":"156:5-156:25","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1181","locator":"156:5-156:17","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1182","locator":"156:12-156:17","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1183","type":"IntervalTypeSpecifier","pointType":{"localId":"1184","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},{"localId":"1186","locator":"158:7-158:38","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"1187","locator":"158:7-158:19","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1188","locator":"158:14-158:19","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1189","type":"IntervalTypeSpecifier","pointType":{"localId":"1190","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1192","locator":"158:23-158:38","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MaxValue"}]}]}},"operand":[{"localId":"1178","name":"period","operandTypeSpecifier":{"localId":"1174","locator":"154:33-154:50","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1176","type":"IntervalTypeSpecifier","pointType":{"localId":"1177","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1175","locator":"154:42-154:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1153","locator":"148:1-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasStart","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1153","s":[{"value":["/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\n","define function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1159","s":[{"r":"1159","s":[{"value":["not "]},{"r":"1160","s":[{"value":["( "]},{"r":"1160","s":[{"r":"1165","s":[{"r":"1161","s":[{"value":["start of "]},{"r":"1162","s":[{"value":["period"]}]}]},{"value":[" is null"]}]},{"value":["\n      or "]},{"r":"1166","s":[{"r":"1167","s":[{"value":["start of "]},{"r":"1168","s":[{"value":["period"]}]}]},{"value":[" ","="," "]},{"r":"1172","s":[{"value":["minimum"," "]},{"r":"1171","s":[{"value":["DateTime"]}]}]}]}]},{"value":["\n  )"]}]}]}]}]}}],"expression":{"localId":"1159","locator":"149:3-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1160","locator":"149:7-151:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"1165","locator":"149:9-149:31","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1161","locator":"149:9-149:23","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1162","locator":"149:18-149:23","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1163","type":"IntervalTypeSpecifier","pointType":{"localId":"1164","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},{"localId":"1166","locator":"150:10-150:43","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equal","signature":[],"operand":[{"localId":"1167","locator":"150:10-150:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1168","locator":"150:19-150:24","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1169","type":"IntervalTypeSpecifier","pointType":{"localId":"1170","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1172","locator":"150:28-150:43","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","valueType":"{urn:hl7-org:elm-types:r1}DateTime","type":"MinValue"}]}]}},"operand":[{"localId":"1158","name":"period","operandTypeSpecifier":{"localId":"1154","locator":"148:35-148:52","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1156","type":"IntervalTypeSpecifier","pointType":{"localId":"1157","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1155","locator":"148:44-148:51","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"432","locator":"55:1-56:39","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"432","s":[{"value":["/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\n","define function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"435","s":[{"r":"435","s":[{"value":["start of "]},{"r":"440","s":[{"value":["\"Hospitalization\"","("]},{"r":"436","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"435","locator":"56:3-56:39","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"440","locator":"56:12-56:39","name":"Hospitalization","type":"FunctionRef","resultTypeSpecifier":{"localId":"528","type":"IntervalTypeSpecifier","pointType":{"localId":"529","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"436","locator":"56:30-56:38","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}},"operand":[{"localId":"434","name":"Encounter","operandTypeSpecifier":{"localId":"433","locator":"55:51-55:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"530","locator":"59:1-62:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"530","s":[{"value":["/*Returns earliest arrival time for an encounter including any prior ED visit.*/\n","define function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"533","s":[{"r":"533","s":[{"value":["start of "]},{"r":"558","s":[{"r":"557","s":[{"value":["First","("]},{"r":"552","s":[{"s":[{"r":"534","s":[{"r":"536","s":[{"value":["("]},{"r":"536","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"535","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"548","s":[{"value":["sort by "]},{"r":"547","s":[{"r":"543","s":[{"value":["start of "]},{"r":"544","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"558","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"533","locator":"60:3-62:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"558","locator":"60:12-62:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"561","type":"IntervalTypeSpecifier","pointType":{"localId":"562","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"557","locator":"60:12-62:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"First","signature":[],"source":{"localId":"552","locator":"60:18-61:35","type":"Query","resultTypeSpecifier":{"localId":"553","type":"ListTypeSpecifier","elementType":{"localId":"554","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"534","locator":"60:18-60:72","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"541","type":"ListTypeSpecifier","elementType":{"localId":"542","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"536","locator":"60:18-60:56","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"539","type":"ListTypeSpecifier","elementType":{"localId":"540","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"535","locator":"60:46-60:54","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"sort":{"localId":"548","locator":"61:5-61:35","by":[{"localId":"547","locator":"61:13-61:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"543","locator":"61:13-61:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"544","locator":"61:22-61:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"545","type":"IntervalTypeSpecifier","pointType":{"localId":"546","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"532","name":"Encounter","operandTypeSpecifier":{"localId":"531","locator":"59:49-59:70","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"660","locator":"80:1-83:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"660","s":[{"value":["/*Returns the latest departure time for encounter including any prior ED visit.*/\n","define function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"663","s":[{"r":"663","s":[{"value":["end of "]},{"r":"688","s":[{"r":"687","s":[{"value":["Last","("]},{"r":"682","s":[{"s":[{"r":"664","s":[{"r":"666","s":[{"value":["("]},{"r":"666","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"665","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n  \t\t"]},{"r":"678","s":[{"value":["sort by "]},{"r":"677","s":[{"r":"673","s":[{"value":["start of "]},{"r":"674","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n  )"]}]},{"value":["."]},{"r":"688","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"663","locator":"81:3-83:18","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"688","locator":"81:10-83:18","path":"locationPeriod","type":"Property","resultTypeSpecifier":{"localId":"691","type":"IntervalTypeSpecifier","pointType":{"localId":"692","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"687","locator":"81:10-83:3","resultTypeName":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"Last","signature":[],"source":{"localId":"682","locator":"81:15-82:35","type":"Query","resultTypeSpecifier":{"localId":"683","type":"ListTypeSpecifier","elementType":{"localId":"684","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"664","locator":"81:15-81:69","alias":"HospitalLocation","resultTypeSpecifier":{"localId":"671","type":"ListTypeSpecifier","elementType":{"localId":"672","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"666","locator":"81:15-81:53","name":"HospitalizationLocations","type":"FunctionRef","resultTypeSpecifier":{"localId":"669","type":"ListTypeSpecifier","elementType":{"localId":"670","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"665","locator":"81:43-81:51","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}}],"let":[],"relationship":[],"sort":{"localId":"678","locator":"82:5-82:35","by":[{"localId":"677","locator":"82:13-82:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"673","locator":"82:13-82:35","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"674","locator":"82:22-82:35","name":"locationPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"675","type":"IntervalTypeSpecifier","pointType":{"localId":"676","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}},"operand":[{"localId":"662","name":"Encounter","operandTypeSpecifier":{"localId":"661","locator":"80:51-80:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"693","locator":"86:1-87:33","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"693","s":[{"value":["/*Hospital Discharge Time returns the discharge time for an encounter*/\n","define function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"696","s":[{"r":"696","s":[{"value":["end of "]},{"r":"698","s":[{"r":"697","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"698","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"696","locator":"87:3-87:33","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"698","locator":"87:10-87:33","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"701","type":"IntervalTypeSpecifier","pointType":{"localId":"702","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"697","locator":"87:10-87:18","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}},"operand":[{"localId":"695","name":"Encounter","operandTypeSpecifier":{"localId":"694","locator":"86:51-86:72","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"437","locator":"65:1-73:31","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"437","s":[{"value":["/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\n","define function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"645","s":[{"r":"645","s":[{"s":[{"r":"563","s":[{"r":"564","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"565","s":[{"value":["EDVisit",": "]},{"r":"614","s":[{"value":["Last","("]},{"r":"609","s":[{"s":[{"r":"566","s":[{"r":"569","s":[{"r":"569","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"599","s":[{"value":["where "]},{"r":"599","s":[{"r":"578","s":[{"r":"577","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"578","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"599","s":[{"value":["ends "]},{"r":"591","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"583","s":[{"value":["start of "]},{"r":"585","s":[{"r":"584","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"585","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"605","s":[{"value":["sort by \n  \t\t\t"]},{"r":"604","s":[{"r":"600","s":[{"value":["end of "]},{"r":"601","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"615","s":[{"value":["return "]},{"r":"640","s":[{"value":["Interval["]},{"r":"632","s":[{"value":["Coalesce","("]},{"r":"616","s":[{"value":["start of "]},{"r":"618","s":[{"r":"617","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"618","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"623","s":[{"value":["start of "]},{"r":"625","s":[{"r":"624","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"625","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"633","s":[{"value":["end of "]},{"r":"635","s":[{"r":"634","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"635","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"650","type":"IntervalTypeSpecifier","pointType":{"localId":"651","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"645","locator":"66:3-73:31","type":"Query","resultTypeSpecifier":{"localId":"648","type":"IntervalTypeSpecifier","pointType":{"localId":"649","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"563","locator":"66:3-66:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"564","locator":"66:3-66:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"565","locator":"67:8-71:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"614","locator":"67:17-71:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"609","locator":"67:22-70:26","type":"Query","resultTypeSpecifier":{"localId":"610","type":"ListTypeSpecifier","elementType":{"localId":"611","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"566","locator":"67:22-67:82","alias":"LastED","resultTypeSpecifier":{"localId":"575","type":"ListTypeSpecifier","elementType":{"localId":"576","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"569","locator":"67:22-67:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"573","type":"ListTypeSpecifier","elementType":{"localId":"574","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"568","locator":"67:47-67:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"599","locator":"68:6-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"596","locator":"68:39-68:52","type":"In","signature":[],"operand":[{"localId":"590","locator":"68:34-68:37","type":"End","signature":[],"operand":{"localId":"578","locator":"68:12-68:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"581","type":"IntervalTypeSpecifier","pointType":{"localId":"582","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"593","locator":"68:39-68:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"594","type":"IntervalTypeSpecifier","pointType":{"localId":"595","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"592","locator":"68:67-68:95","type":"Subtract","signature":[],"operand":[{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"591","locator":"68:39-68:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"598","locator":"68:39-68:52","type":"Not","signature":[],"operand":{"localId":"597","locator":"68:39-68:52","type":"IsNull","signature":[],"operand":{"localId":"583","locator":"68:67-68:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"585","locator":"68:76-68:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"588","type":"IntervalTypeSpecifier","pointType":{"localId":"589","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"605","locator":"69:6-70:26","by":[{"localId":"604","locator":"70:6-70:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"600","locator":"70:6-70:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"601","locator":"70:13-70:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"602","type":"IntervalTypeSpecifier","pointType":{"localId":"603","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"615","locator":"72:4-73:31","resultTypeSpecifier":{"localId":"643","type":"IntervalTypeSpecifier","pointType":{"localId":"644","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"640","locator":"72:11-73:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"641","type":"IntervalTypeSpecifier","pointType":{"localId":"642","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"632","locator":"72:20-72:91","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"616","locator":"72:29-72:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"618","locator":"72:38-72:59","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"621","type":"IntervalTypeSpecifier","pointType":{"localId":"622","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"617","locator":"72:38-72:44","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"623","locator":"72:62-72:90","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"625","locator":"72:71-72:90","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"628","type":"IntervalTypeSpecifier","pointType":{"localId":"629","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]},"high":{"localId":"633","locator":"73:4-73:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"635","locator":"73:11-73:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"638","type":"IntervalTypeSpecifier","pointType":{"localId":"639","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"439","name":"Encounter","operandTypeSpecifier":{"localId":"438","locator":"65:45-65:66","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"652","locator":"76:1-77:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"652","s":[{"value":["/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\n","define function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"659","s":[{"r":"659","s":[{"value":["LengthInDays","("]},{"r":"656","s":[{"value":["\"Hospitalization\"","("]},{"r":"655","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"659","locator":"77:3-77:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","type":"FunctionRef","signature":[],"operand":[{"localId":"656","locator":"77:16-77:43","name":"Hospitalization","type":"FunctionRef","resultTypeSpecifier":{"localId":"657","type":"IntervalTypeSpecifier","pointType":{"localId":"658","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"655","locator":"77:34-77:42","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"localId":"654","name":"Encounter","operandTypeSpecifier":{"localId":"653","locator":"76:57-76:78","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"300","locator":"37:1-45:71","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"300","s":[{"value":["/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\n","define function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"388","s":[{"r":"388","s":[{"s":[{"r":"303","s":[{"r":"304","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"305","s":[{"value":["EDVisit",": "]},{"r":"354","s":[{"value":["Last","("]},{"r":"349","s":[{"s":[{"r":"306","s":[{"r":"309","s":[{"r":"309","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"339","s":[{"value":["where "]},{"r":"339","s":[{"r":"318","s":[{"r":"317","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"318","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"339","s":[{"value":["ends "]},{"r":"331","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"323","s":[{"value":["start of "]},{"r":"325","s":[{"r":"324","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"325","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"345","s":[{"value":["sort by \n  \t\t\t"]},{"r":"344","s":[{"r":"340","s":[{"value":["end of "]},{"r":"341","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"355","s":[{"value":["return "]},{"r":"356","s":[{"value":["if "]},{"r":"358","s":[{"r":"357","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"360","s":[{"r":"359","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"360","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n  \t\telse "]},{"r":"365","s":[{"value":["flatten "]},{"r":"366","s":[{"value":["{ "]},{"r":"368","s":[{"r":"367","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"368","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"374","s":[{"r":"373","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"374","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"393","type":"ListTypeSpecifier","elementType":{"localId":"394","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"388","locator":"38:3-45:71","type":"Query","resultTypeSpecifier":{"localId":"391","type":"ListTypeSpecifier","elementType":{"localId":"392","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":[{"localId":"303","locator":"38:3-38:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"304","locator":"38:3-38:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"305","locator":"39:8-43:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"354","locator":"39:17-43:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"349","locator":"39:22-42:26","type":"Query","resultTypeSpecifier":{"localId":"350","type":"ListTypeSpecifier","elementType":{"localId":"351","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"306","locator":"39:22-39:82","alias":"LastED","resultTypeSpecifier":{"localId":"315","type":"ListTypeSpecifier","elementType":{"localId":"316","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"309","locator":"39:22-39:75","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"313","type":"ListTypeSpecifier","elementType":{"localId":"314","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"308","locator":"39:47-39:74","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"339","locator":"40:6-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"336","locator":"40:39-40:52","type":"In","signature":[],"operand":[{"localId":"330","locator":"40:34-40:37","type":"End","signature":[],"operand":{"localId":"318","locator":"40:12-40:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"321","type":"IntervalTypeSpecifier","pointType":{"localId":"322","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"333","locator":"40:39-40:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"334","type":"IntervalTypeSpecifier","pointType":{"localId":"335","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"332","locator":"40:67-40:95","type":"Subtract","signature":[],"operand":[{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"331","locator":"40:39-40:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"338","locator":"40:39-40:52","type":"Not","signature":[],"operand":{"localId":"337","locator":"40:39-40:52","type":"IsNull","signature":[],"operand":{"localId":"323","locator":"40:67-40:95","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"325","locator":"40:76-40:95","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"328","type":"IntervalTypeSpecifier","pointType":{"localId":"329","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"345","locator":"41:6-42:26","by":[{"localId":"344","locator":"42:6-42:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"340","locator":"42:6-42:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"341","locator":"42:13-42:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"342","type":"IntervalTypeSpecifier","pointType":{"localId":"343","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"355","locator":"44:4-45:71","resultTypeSpecifier":{"localId":"386","type":"ListTypeSpecifier","elementType":{"localId":"387","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"expression":{"localId":"356","locator":"44:11-45:71","type":"If","resultTypeSpecifier":{"localId":"384","type":"ListTypeSpecifier","elementType":{"localId":"385","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"condition":{"localId":"358","locator":"44:14-44:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"357","locator":"44:14-44:20","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}},"then":{"localId":"360","locator":"44:35-44:57","path":"facilityLocations","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"363","type":"ListTypeSpecifier","elementType":{"localId":"364","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}},"else":{"localId":"365","locator":"45:10-45:71","type":"Flatten","resultTypeSpecifier":{"localId":"382","type":"ListTypeSpecifier","elementType":{"localId":"383","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"signature":[],"operand":{"localId":"366","locator":"45:18-45:71","type":"List","resultTypeSpecifier":{"localId":"379","type":"ListTypeSpecifier","elementType":{"localId":"380","type":"ListTypeSpecifier","elementType":{"localId":"381","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}},"element":[{"localId":"368","locator":"45:20-45:44","path":"facilityLocations","type":"Property","resultTypeSpecifier":{"localId":"371","type":"ListTypeSpecifier","elementType":{"localId":"372","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}},"source":{"localId":"367","locator":"45:20-45:26","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}},{"localId":"374","locator":"45:47-45:69","path":"facilityLocations","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"377","type":"ListTypeSpecifier","elementType":{"localId":"378","name":"{urn:healthit-gov:qdm:v5_6}FacilityLocation","type":"NamedTypeSpecifier"}}}]}}}}},"operand":[{"localId":"302","name":"Encounter","operandTypeSpecifier":{"localId":"301","locator":"37:54-37:75","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"907","locator":"113:1-127:31","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"907","s":[{"value":["/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1048","s":[{"r":"1048","s":[{"s":[{"r":"910","s":[{"r":"911","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"912","s":[{"value":["ObsVisit",": "]},{"r":"961","s":[{"value":["Last","("]},{"r":"956","s":[{"s":[{"r":"913","s":[{"r":"916","s":[{"r":"916","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"946","s":[{"value":["where "]},{"r":"946","s":[{"r":"925","s":[{"r":"924","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"925","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"946","s":[{"value":["ends "]},{"r":"938","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"930","s":[{"value":["start of "]},{"r":"932","s":[{"r":"931","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"932","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"952","s":[{"value":["sort by \n  \t\t\t"]},{"r":"951","s":[{"r":"947","s":[{"value":["end of "]},{"r":"948","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"962","s":[{"value":["VisitStart",": "]},{"r":"979","s":[{"value":["Coalesce","("]},{"r":"963","s":[{"value":["start of "]},{"r":"965","s":[{"r":"964","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"965","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"970","s":[{"value":["start of "]},{"r":"972","s":[{"r":"971","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"972","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"980","s":[{"value":["EDVisit",": "]},{"r":"1023","s":[{"value":["Last","("]},{"r":"1018","s":[{"s":[{"r":"981","s":[{"r":"984","s":[{"r":"984","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"1008","s":[{"value":["where "]},{"r":"1008","s":[{"r":"993","s":[{"r":"992","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"993","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"1008","s":[{"value":["ends "]},{"r":"1000","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"998","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"1014","s":[{"value":["sort by \n  \t\t\t"]},{"r":"1013","s":[{"r":"1009","s":[{"value":["end of "]},{"r":"1010","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"1024","s":[{"value":["return "]},{"r":"1043","s":[{"value":["Interval["]},{"r":"1035","s":[{"value":["Coalesce","("]},{"r":"1025","s":[{"value":["start of "]},{"r":"1027","s":[{"r":"1026","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"1027","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"1032","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"1036","s":[{"value":["end of "]},{"r":"1038","s":[{"r":"1037","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"1038","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1053","type":"IntervalTypeSpecifier","pointType":{"localId":"1054","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1048","locator":"114:3-127:31","type":"Query","resultTypeSpecifier":{"localId":"1051","type":"IntervalTypeSpecifier","pointType":{"localId":"1052","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"910","locator":"114:3-114:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"911","locator":"114:3-114:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"912","locator":"115:8-119:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"961","locator":"115:18-119:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"956","locator":"115:23-118:26","type":"Query","resultTypeSpecifier":{"localId":"957","type":"ListTypeSpecifier","elementType":{"localId":"958","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"913","locator":"115:23-115:78","alias":"LastObs","resultTypeSpecifier":{"localId":"922","type":"ListTypeSpecifier","elementType":{"localId":"923","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"916","locator":"115:23-115:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"920","type":"ListTypeSpecifier","elementType":{"localId":"921","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"915","locator":"115:48-115:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"946","locator":"116:6-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"943","locator":"116:40-116:53","type":"In","signature":[],"operand":[{"localId":"937","locator":"116:35-116:38","type":"End","signature":[],"operand":{"localId":"925","locator":"116:12-116:33","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"928","type":"IntervalTypeSpecifier","pointType":{"localId":"929","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"940","locator":"116:40-116:53","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"941","type":"IntervalTypeSpecifier","pointType":{"localId":"942","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"939","locator":"116:68-116:96","type":"Subtract","signature":[],"operand":[{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"938","locator":"116:40-116:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"945","locator":"116:40-116:53","type":"Not","signature":[],"operand":{"localId":"944","locator":"116:40-116:53","type":"IsNull","signature":[],"operand":{"localId":"930","locator":"116:68-116:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"932","locator":"116:77-116:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"935","type":"IntervalTypeSpecifier","pointType":{"localId":"936","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"952","locator":"117:6-118:26","by":[{"localId":"951","locator":"118:6-118:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"947","locator":"118:6-118:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"948","locator":"118:13-118:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"949","type":"IntervalTypeSpecifier","pointType":{"localId":"950","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"962","locator":"120:4-120:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"979","locator":"120:16-120:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"963","locator":"120:25-120:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"965","locator":"120:34-120:56","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"968","type":"IntervalTypeSpecifier","pointType":{"localId":"969","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"964","locator":"120:34-120:41","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"970","locator":"120:59-120:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"972","locator":"120:68-120:87","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"975","type":"IntervalTypeSpecifier","pointType":{"localId":"976","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"980","locator":"121:4-125:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"1023","locator":"121:13-125:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"1018","locator":"121:18-124:26","type":"Query","resultTypeSpecifier":{"localId":"1019","type":"ListTypeSpecifier","elementType":{"localId":"1020","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"981","locator":"121:18-121:78","alias":"LastED","resultTypeSpecifier":{"localId":"990","type":"ListTypeSpecifier","elementType":{"localId":"991","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"984","locator":"121:18-121:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"988","type":"ListTypeSpecifier","elementType":{"localId":"989","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"983","locator":"121:43-121:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"1008","locator":"122:6-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"1005","locator":"122:39-122:52","type":"In","signature":[],"operand":[{"localId":"999","locator":"122:34-122:37","type":"End","signature":[],"operand":{"localId":"993","locator":"122:12-122:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"996","type":"IntervalTypeSpecifier","pointType":{"localId":"997","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"1002","locator":"122:39-122:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1003","type":"IntervalTypeSpecifier","pointType":{"localId":"1004","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1001","locator":"122:67-122:76","type":"Subtract","signature":[],"operand":[{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"1000","locator":"122:39-122:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"1007","locator":"122:39-122:52","type":"Not","signature":[],"operand":{"localId":"1006","locator":"122:39-122:52","type":"IsNull","signature":[],"operand":{"localId":"998","locator":"122:67-122:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"1014","locator":"123:6-124:26","by":[{"localId":"1013","locator":"124:6-124:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"1009","locator":"124:6-124:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1010","locator":"124:13-124:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"1011","type":"IntervalTypeSpecifier","pointType":{"localId":"1012","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"1024","locator":"126:4-127:31","resultTypeSpecifier":{"localId":"1046","type":"IntervalTypeSpecifier","pointType":{"localId":"1047","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1043","locator":"126:11-127:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1044","type":"IntervalTypeSpecifier","pointType":{"localId":"1045","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1035","locator":"126:20-126:72","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"1025","locator":"126:29-126:59","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1027","locator":"126:38-126:59","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"1030","type":"IntervalTypeSpecifier","pointType":{"localId":"1031","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"1026","locator":"126:38-126:44","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"1032","locator":"126:62-126:71","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"1036","locator":"127:4-127:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1038","locator":"127:11-127:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"1041","type":"IntervalTypeSpecifier","pointType":{"localId":"1042","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"909","name":"Encounter","operandTypeSpecifier":{"localId":"908","locator":"113:60-113:81","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"703","locator":"90:1-110:31","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"703","s":[{"value":["/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\n","define function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"900","s":[{"r":"900","s":[{"s":[{"r":"706","s":[{"r":"707","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n  \t"]},{"s":[{"value":["let "]},{"r":"708","s":[{"value":["ObsVisit",": "]},{"r":"757","s":[{"value":["Last","("]},{"r":"752","s":[{"s":[{"r":"709","s":[{"r":"712","s":[{"r":"712","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n  \t\t\t"]},{"r":"742","s":[{"value":["where "]},{"r":"742","s":[{"r":"721","s":[{"r":"720","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"721","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"742","s":[{"value":["ends "]},{"r":"734","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"726","s":[{"value":["start of "]},{"r":"728","s":[{"r":"727","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"728","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"748","s":[{"value":["sort by \n  \t\t\t"]},{"r":"747","s":[{"r":"743","s":[{"value":["end of "]},{"r":"744","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"758","s":[{"value":["VisitStart",": "]},{"r":"775","s":[{"value":["Coalesce","("]},{"r":"759","s":[{"value":["start of "]},{"r":"761","s":[{"r":"760","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"761","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"766","s":[{"value":["start of "]},{"r":"768","s":[{"r":"767","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"768","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"776","s":[{"value":["EDVisit",": "]},{"r":"819","s":[{"value":["Last","("]},{"r":"814","s":[{"s":[{"r":"777","s":[{"r":"780","s":[{"r":"780","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n  \t\t\t"]},{"r":"804","s":[{"value":["where "]},{"r":"804","s":[{"r":"789","s":[{"r":"788","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"789","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"804","s":[{"value":["ends "]},{"r":"796","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"794","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"810","s":[{"value":["sort by \n  \t\t\t"]},{"r":"809","s":[{"r":"805","s":[{"value":["end of "]},{"r":"806","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]},{"value":[",\n  \t"]},{"r":"820","s":[{"value":["VisitStartWithED",": "]},{"r":"831","s":[{"value":["Coalesce","("]},{"r":"821","s":[{"value":["start of "]},{"r":"823","s":[{"r":"822","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"823","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"828","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n  \t"]},{"r":"832","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"875","s":[{"value":["Last","("]},{"r":"870","s":[{"s":[{"r":"833","s":[{"r":"836","s":[{"r":"836","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n  \t\t\t"]},{"r":"860","s":[{"value":["where "]},{"r":"860","s":[{"r":"845","s":[{"r":"844","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"845","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"860","s":[{"value":["ends "]},{"r":"852","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"850","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n  \t\t\t"]},{"r":"866","s":[{"value":["sort by \n  \t\t\t"]},{"r":"865","s":[{"r":"861","s":[{"value":["end of "]},{"r":"862","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n  \t)"]}]}]}]},{"value":["\n  \t"]},{"r":"876","s":[{"value":["return "]},{"r":"895","s":[{"value":["Interval["]},{"r":"887","s":[{"value":["Coalesce","("]},{"r":"877","s":[{"value":["start of "]},{"r":"879","s":[{"r":"878","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"879","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"884","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n  \t"]},{"r":"888","s":[{"value":["end of "]},{"r":"890","s":[{"r":"889","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"890","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"905","type":"IntervalTypeSpecifier","pointType":{"localId":"906","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"900","locator":"91:3-110:31","type":"Query","resultTypeSpecifier":{"localId":"903","type":"IntervalTypeSpecifier","pointType":{"localId":"904","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":[{"localId":"706","locator":"91:3-91:17","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","alias":"Visit","expression":{"localId":"707","locator":"91:3-91:11","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"708","locator":"92:8-96:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"ObsVisit","expression":{"localId":"757","locator":"92:18-96:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"752","locator":"92:23-95:26","type":"Query","resultTypeSpecifier":{"localId":"753","type":"ListTypeSpecifier","elementType":{"localId":"754","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"709","locator":"92:23-92:78","alias":"LastObs","resultTypeSpecifier":{"localId":"718","type":"ListTypeSpecifier","elementType":{"localId":"719","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"712","locator":"92:23-92:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"716","type":"ListTypeSpecifier","elementType":{"localId":"717","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"711","locator":"92:48-92:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Observation Services","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"742","locator":"93:6-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"739","locator":"93:40-93:53","type":"In","signature":[],"operand":[{"localId":"733","locator":"93:35-93:38","type":"End","signature":[],"operand":{"localId":"721","locator":"93:12-93:33","path":"relevantPeriod","scope":"LastObs","type":"Property","resultTypeSpecifier":{"localId":"724","type":"IntervalTypeSpecifier","pointType":{"localId":"725","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"736","locator":"93:40-93:53","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"737","type":"IntervalTypeSpecifier","pointType":{"localId":"738","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"735","locator":"93:68-93:96","type":"Subtract","signature":[],"operand":[{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"734","locator":"93:40-93:45","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]},{"localId":"741","locator":"93:40-93:53","type":"Not","signature":[],"operand":{"localId":"740","locator":"93:40-93:53","type":"IsNull","signature":[],"operand":{"localId":"726","locator":"93:68-93:96","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"728","locator":"93:77-93:96","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"731","type":"IntervalTypeSpecifier","pointType":{"localId":"732","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}]},"sort":{"localId":"748","locator":"94:6-95:26","by":[{"localId":"747","locator":"95:6-95:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"743","locator":"95:6-95:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"744","locator":"95:13-95:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"745","type":"IntervalTypeSpecifier","pointType":{"localId":"746","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"758","locator":"97:4-97:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStart","expression":{"localId":"775","locator":"97:16-97:88","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"759","locator":"97:25-97:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"761","locator":"97:34-97:56","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"764","type":"IntervalTypeSpecifier","pointType":{"localId":"765","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"760","locator":"97:34-97:41","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"766","locator":"97:59-97:87","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"768","locator":"97:68-97:87","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"771","type":"IntervalTypeSpecifier","pointType":{"localId":"772","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]}},{"localId":"776","locator":"98:4-102:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"EDVisit","expression":{"localId":"819","locator":"98:13-102:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"814","locator":"98:18-101:26","type":"Query","resultTypeSpecifier":{"localId":"815","type":"ListTypeSpecifier","elementType":{"localId":"816","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"777","locator":"98:18-98:78","alias":"LastED","resultTypeSpecifier":{"localId":"786","type":"ListTypeSpecifier","elementType":{"localId":"787","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"780","locator":"98:18-98:71","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"784","type":"ListTypeSpecifier","elementType":{"localId":"785","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"779","locator":"98:43-98:70","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Emergency Department Visit","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"804","locator":"99:6-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"801","locator":"99:39-99:52","type":"In","signature":[],"operand":[{"localId":"795","locator":"99:34-99:37","type":"End","signature":[],"operand":{"localId":"789","locator":"99:12-99:32","path":"relevantPeriod","scope":"LastED","type":"Property","resultTypeSpecifier":{"localId":"792","type":"IntervalTypeSpecifier","pointType":{"localId":"793","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"798","locator":"99:39-99:52","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"799","type":"IntervalTypeSpecifier","pointType":{"localId":"800","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"797","locator":"99:67-99:76","type":"Subtract","signature":[],"operand":[{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"},{"localId":"796","locator":"99:39-99:44","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}]},{"localId":"803","locator":"99:39-99:52","type":"Not","signature":[],"operand":{"localId":"802","locator":"99:39-99:52","type":"IsNull","signature":[],"operand":{"localId":"794","locator":"99:67-99:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}}}]},"sort":{"localId":"810","locator":"100:6-101:26","by":[{"localId":"809","locator":"101:6-101:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"805","locator":"101:6-101:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"806","locator":"101:13-101:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"807","type":"IntervalTypeSpecifier","pointType":{"localId":"808","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}},{"localId":"820","locator":"103:4-103:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","identifier":"VisitStartWithED","expression":{"localId":"831","locator":"103:22-103:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"821","locator":"103:31-103:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"823","locator":"103:40-103:61","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"826","type":"IntervalTypeSpecifier","pointType":{"localId":"827","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"822","locator":"103:40-103:46","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"828","locator":"103:64-103:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"832","locator":"104:4-108:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","identifier":"OutpatientSurgeryVisit","expression":{"localId":"875","locator":"104:28-108:4","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"Last","signature":[],"source":{"localId":"870","locator":"104:33-107:26","type":"Query","resultTypeSpecifier":{"localId":"871","type":"ListTypeSpecifier","elementType":{"localId":"872","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"833","locator":"104:33-104:100","alias":"LastSurgeryOP","resultTypeSpecifier":{"localId":"842","type":"ListTypeSpecifier","elementType":{"localId":"843","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"836","locator":"104:33-104:86","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"840","type":"ListTypeSpecifier","elementType":{"localId":"841","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"835","locator":"104:58-104:85","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Outpatient Surgery Service","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"860","locator":"105:6-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"857","locator":"105:46-105:59","type":"In","signature":[],"operand":[{"localId":"851","locator":"105:41-105:44","type":"End","signature":[],"operand":{"localId":"845","locator":"105:12-105:39","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property","resultTypeSpecifier":{"localId":"848","type":"IntervalTypeSpecifier","pointType":{"localId":"849","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"854","locator":"105:46-105:59","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"855","type":"IntervalTypeSpecifier","pointType":{"localId":"856","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"853","locator":"105:74-105:89","type":"Subtract","signature":[],"operand":[{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"852","locator":"105:46-105:51","resultTypeName":"{urn:hl7-org:elm-types:r1}Quantity","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}}]},{"localId":"859","locator":"105:46-105:59","type":"Not","signature":[],"operand":{"localId":"858","locator":"105:46-105:59","type":"IsNull","signature":[],"operand":{"localId":"850","locator":"105:74-105:89","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}}}]},"sort":{"localId":"866","locator":"106:6-107:26","by":[{"localId":"865","locator":"107:6-107:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","direction":"asc","type":"ByExpression","expression":{"localId":"861","locator":"107:6-107:26","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"862","locator":"107:13-107:26","name":"relevantPeriod","type":"IdentifierRef","resultTypeSpecifier":{"localId":"863","type":"IntervalTypeSpecifier","pointType":{"localId":"864","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}]}}}}],"relationship":[],"return":{"localId":"876","locator":"109:4-110:31","resultTypeSpecifier":{"localId":"898","type":"IntervalTypeSpecifier","pointType":{"localId":"899","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"895","locator":"109:11-110:31","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"896","type":"IntervalTypeSpecifier","pointType":{"localId":"897","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"887","locator":"109:20-109:93","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Coalesce","signature":[],"operand":[{"localId":"877","locator":"109:29-109:74","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"879","locator":"109:38-109:74","path":"relevantPeriod","type":"Property","resultTypeSpecifier":{"localId":"882","type":"IntervalTypeSpecifier","pointType":{"localId":"883","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"source":{"localId":"878","locator":"109:38-109:59","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"884","locator":"109:77-109:92","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"888","locator":"110:4-110:30","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"890","locator":"110:11-110:30","path":"relevantPeriod","scope":"Visit","type":"Property","resultTypeSpecifier":{"localId":"893","type":"IntervalTypeSpecifier","pointType":{"localId":"894","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}}},"operand":[{"localId":"705","name":"Encounter","operandTypeSpecifier":{"localId":"704","locator":"90:87-90:108","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"1055","locator":"130:1-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"HospitalizationWithObservationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1055","s":[{"value":["/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\n","define function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "]},{"r":"1062","s":[{"r":"1062","s":[{"value":["\"LengthInDays\"","("]},{"r":"1059","s":[{"value":["\"HospitalizationWithObservation\"","("]},{"r":"1058","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1062","locator":"131:3-131:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","type":"FunctionRef","signature":[],"operand":[{"localId":"1059","locator":"131:18-131:60","name":"HospitalizationWithObservation","type":"FunctionRef","resultTypeSpecifier":{"localId":"1060","type":"IntervalTypeSpecifier","pointType":{"localId":"1061","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1058","locator":"131:51-131:59","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"localId":"1057","name":"Encounter","operandTypeSpecifier":{"localId":"1056","locator":"130:72-130:93","resultTypeName":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"234","locator":"20:1-22:83","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"234","s":[{"value":["","define ","\"Inpatient Encounter\"",":\n  "]},{"r":"257","s":[{"s":[{"r":"235","s":[{"r":"238","s":[{"r":"238","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n    "]},{"r":"256","s":[{"value":["where "]},{"r":"256","s":[{"r":"247","s":[{"r":"246","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"247","s":[{"value":["relevantPeriod"]}]}]},{"r":"256","value":[" ","ends during day of"," "]},{"r":"252","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"260","type":"ListTypeSpecifier","elementType":{"localId":"261","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"257","locator":"21:3-22:83","type":"Query","resultTypeSpecifier":{"localId":"258","type":"ListTypeSpecifier","elementType":{"localId":"259","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"235","locator":"21:3-21:68","alias":"EncounterInpatient","resultTypeSpecifier":{"localId":"244","type":"ListTypeSpecifier","elementType":{"localId":"245","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"238","locator":"21:3-21:49","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"242","type":"ListTypeSpecifier","elementType":{"localId":"243","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"237","locator":"21:28-21:48","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"256","locator":"22:5-22:83","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"255","locator":"22:45-22:48","type":"End","signature":[],"operand":{"localId":"247","locator":"22:11-22:43","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property","resultTypeSpecifier":{"localId":"250","type":"IntervalTypeSpecifier","pointType":{"localId":"251","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"252","locator":"22:64-22:83","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"253","type":"IntervalTypeSpecifier","pointType":{"localId":"254","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}},{"localId":"1193","locator":"162:1-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Latest","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1193","s":[{"value":["/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\n","define function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1199","s":[{"r":"1199","s":[{"value":["if "]},{"r":"1203","s":[{"value":["( "]},{"r":"1203","s":[{"value":["HasEnd","("]},{"r":"1200","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":[" then \n  "]},{"r":"1204","s":[{"value":["end of "]},{"r":"1205","s":[{"value":["period"]}]}]},{"value":[" \n    else "]},{"r":"1208","s":[{"value":["start of "]},{"r":"1209","s":[{"value":["period"]}]}]}]}]}]}}],"expression":{"localId":"1199","locator":"163:3-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"If","condition":{"localId":"1203","locator":"163:6-163:22","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"HasEnd","type":"FunctionRef","signature":[],"operand":[{"localId":"1200","locator":"163:15-163:20","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1201","type":"IntervalTypeSpecifier","pointType":{"localId":"1202","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"then":{"localId":"1204","locator":"164:3-164:15","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"1205","locator":"164:10-164:15","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1206","type":"IntervalTypeSpecifier","pointType":{"localId":"1207","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},"else":{"localId":"1208","locator":"165:10-165:24","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"1209","locator":"165:19-165:24","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1210","type":"IntervalTypeSpecifier","pointType":{"localId":"1211","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1198","name":"period","operandTypeSpecifier":{"localId":"1194","locator":"162:33-162:50","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1196","type":"IntervalTypeSpecifier","pointType":{"localId":"1197","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1195","locator":"162:42-162:49","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1231","locator":"174:1-175:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"LatestOf","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1231","s":[{"value":["/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\n","define function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1246","s":[{"r":"1246","s":[{"value":["Latest","("]},{"r":"1243","s":[{"value":["NormalizeInterval","("]},{"r":"1239","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1240","s":[{"value":["period"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"1246","locator":"175:3-175:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"Latest","type":"FunctionRef","signature":[],"operand":[{"localId":"1243","locator":"175:10-175:47","name":"NormalizeInterval","type":"FunctionRef","resultTypeSpecifier":{"localId":"1244","type":"IntervalTypeSpecifier","pointType":{"localId":"1245","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"1239","locator":"175:28-175:38","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},{"localId":"1240","locator":"175:41-175:46","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1241","type":"IntervalTypeSpecifier","pointType":{"localId":"1242","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]},"operand":[{"localId":"1233","name":"pointInTime","operandTypeSpecifier":{"localId":"1232","locator":"174:40-174:47","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1238","name":"period","operandTypeSpecifier":{"localId":"1234","locator":"174:57-174:74","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1236","type":"IntervalTypeSpecifier","pointType":{"localId":"1237","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1235","locator":"174:66-174:73","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"285","locator":"33:1-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"285","s":[{"value":["/*calculates the difference in calendar days between the start and end of the given interval.*/\n","define function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  "]},{"r":"291","s":[{"r":"291","s":[{"value":["difference in days between "]},{"r":"292","s":[{"value":["start of "]},{"r":"293","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"296","s":[{"value":["end of "]},{"r":"297","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"291","locator":"34:3-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}Integer","precision":"Day","type":"DifferenceBetween","signature":[],"operand":[{"localId":"292","locator":"34:30-34:43","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"293","locator":"34:39-34:43","name":"Value","type":"OperandRef","resultTypeSpecifier":{"localId":"294","type":"IntervalTypeSpecifier","pointType":{"localId":"295","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"296","locator":"34:49-34:60","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"297","locator":"34:56-34:60","name":"Value","type":"OperandRef","resultTypeSpecifier":{"localId":"298","type":"IntervalTypeSpecifier","pointType":{"localId":"299","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}]},"operand":[{"localId":"290","name":"Value","operandTypeSpecifier":{"localId":"286","locator":"33:38-33:55","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"288","type":"IntervalTypeSpecifier","pointType":{"localId":"289","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"287","locator":"33:47-33:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"1111","locator":"142:1-145:35","name":"NormalizeInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"1111","s":[{"value":["/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\n","define function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "]},{"r":"1119","s":[{"r":"1119","s":[{"value":["if "]},{"r":"1122","s":[{"r":"1120","s":[{"value":["pointInTime"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"1125","s":[{"value":["Interval["]},{"r":"1123","s":[{"value":["pointInTime"]}]},{"value":[", "]},{"r":"1124","s":[{"value":["pointInTime"]}]},{"value":["]"]}]},{"value":["\n    else "]},{"r":"1128","s":[{"value":["if "]},{"r":"1133","s":[{"r":"1129","s":[{"value":["period"]}]},{"value":[" is not null"]}]},{"value":[" then "]},{"r":"1134","s":[{"value":["period"]}]},{"value":[" \n    else "]},{"r":"1137","s":[{"r":"1138","value":["null"," as "]},{"r":"1139","s":[{"value":["Interval\u003c"]},{"r":"1140","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}]}]}]}]}}],"resultTypeSpecifier":{"localId":"1151","type":"IntervalTypeSpecifier","pointType":{"localId":"1152","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"expression":{"localId":"1119","locator":"143:3-145:35","type":"If","resultTypeSpecifier":{"localId":"1149","type":"IntervalTypeSpecifier","pointType":{"localId":"1150","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"condition":{"localId":"1122","locator":"143:6-143:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1121","locator":"143:6-143:28","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1120","locator":"143:6-143:16","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"}}},"then":{"localId":"1125","locator":"143:35-143:68","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"1126","type":"IntervalTypeSpecifier","pointType":{"localId":"1127","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"low":{"localId":"1123","locator":"143:44-143:54","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"},"high":{"localId":"1124","locator":"143:57-143:67","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"pointInTime","type":"OperandRef"}},"else":{"localId":"1128","locator":"144:10-145:35","type":"If","resultTypeSpecifier":{"localId":"1145","type":"IntervalTypeSpecifier","pointType":{"localId":"1146","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"condition":{"localId":"1133","locator":"144:13-144:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Not","signature":[],"operand":{"localId":"1132","locator":"144:13-144:30","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"IsNull","signature":[],"operand":{"localId":"1129","locator":"144:13-144:18","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1130","type":"IntervalTypeSpecifier","pointType":{"localId":"1131","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"then":{"localId":"1134","locator":"144:37-144:42","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"1135","type":"IntervalTypeSpecifier","pointType":{"localId":"1136","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},"else":{"localId":"1137","locator":"145:10-145:35","strict":false,"type":"As","resultTypeSpecifier":{"localId":"1143","type":"IntervalTypeSpecifier","pointType":{"localId":"1144","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":{"localId":"1138","locator":"145:10-145:13","resultTypeName":"{urn:hl7-org:elm-types:r1}Any","type":"Null"},"asTypeSpecifier":{"localId":"1139","locator":"145:18-145:35","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1141","type":"IntervalTypeSpecifier","pointType":{"localId":"1142","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1140","locator":"145:27-145:34","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"operand":[{"localId":"1113","name":"pointInTime","operandTypeSpecifier":{"localId":"1112","locator":"142:49-142:56","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"localId":"1118","name":"period","operandTypeSpecifier":{"localId":"1114","locator":"142:66-142:83","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"1116","type":"IntervalTypeSpecifier","pointType":{"localId":"1117","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"1115","locator":"142:75-142:82","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"220","locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"localId":"221","type":"SingletonFrom","signature":[],"operand":{"localId":"219","locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}},{"localId":"262","locator":"29:1-30:62","name":"ToDateInterval","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","t":[{"name":"description","value":"Returns an interval of date values extracted from the input interval of date-time values"},{"name":"comment","value":"This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability."}],"s":{"r":"262","s":[{"value":["/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\n","define function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  "]},{"r":"278","s":[{"r":"278","s":[{"value":["Interval["]},{"r":"268","s":[{"value":["date from "]},{"r":"269","s":[{"value":["start of "]},{"r":"270","s":[{"value":["period"]}]}]}]},{"value":[", "]},{"r":"273","s":[{"value":["date from "]},{"r":"274","s":[{"value":["end of "]},{"r":"275","s":[{"value":["period"]}]}]}]},{"value":["]"]}]}]}]}}],"resultTypeSpecifier":{"localId":"283","type":"IntervalTypeSpecifier","pointType":{"localId":"284","name":"{urn:hl7-org:elm-types:r1}Date","type":"NamedTypeSpecifier"}},"expression":{"localId":"278","locator":"30:3-30:62","lowClosed":true,"highClosed":true,"type":"Interval","resultTypeSpecifier":{"localId":"281","type":"IntervalTypeSpecifier","pointType":{"localId":"282","name":"{urn:hl7-org:elm-types:r1}Date","type":"NamedTypeSpecifier"}},"low":{"localId":"268","locator":"30:12-30:36","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"269","locator":"30:22-30:36","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"Start","signature":[],"operand":{"localId":"270","locator":"30:31-30:36","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"271","type":"IntervalTypeSpecifier","pointType":{"localId":"272","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}},"high":{"localId":"273","locator":"30:39-30:61","resultTypeName":"{urn:hl7-org:elm-types:r1}Date","type":"DateFrom","signature":[],"operand":{"localId":"274","locator":"30:49-30:61","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","type":"End","signature":[],"operand":{"localId":"275","locator":"30:56-30:61","name":"period","type":"OperandRef","resultTypeSpecifier":{"localId":"276","type":"IntervalTypeSpecifier","pointType":{"localId":"277","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}}}},"operand":[{"localId":"267","name":"period","operandTypeSpecifier":{"localId":"263","locator":"29:41-29:58","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"265","type":"IntervalTypeSpecifier","pointType":{"localId":"266","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"264","locator":"29:50-29:57","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"227"}],"ref_id":"224"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the starting point if the interval has a starting boundary specified, otherwise, return the ending point*/\ndefine function \"Earliest\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasStart("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1219"},{"children":[{"text":")"}]}],"ref_id":"1222"},{"children":[{"text":")"}]}],"ref_id":"1222"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1224"}],"ref_id":"1223"},{"children":[{"text":" \n    else \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1228"}],"ref_id":"1227"}],"node_type":"If","ref_id":"1218"}],"node_type":"If","ref_id":"1218"}],"ref_id":"1212"}],"define_name":"Earliest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the starting point of the period if the period has a starting boundary specified, otherwise returns the ending point of the period*/\ndefine function \"EarliestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Earliest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1255"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1256"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1259"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1262"}],"node_type":"FunctionRef","ref_id":"1262"}],"ref_id":"1247"}],"define_name":"EarliestOf"},{"children":[{"children":[{"children":[{"text":"/*Returns the arrival time in the ED for the encounter.*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"400"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"401"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"401"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"399"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"408"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"409"}],"ref_id":"409"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"410"}],"ref_id":"411"}],"ref_id":"411"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"413"}],"node_type":"Start","ref_id":"412"}],"ref_id":"416"}],"ref_id":"417"}],"ref_id":"421"},{"children":[{"text":"\n  )"}]}],"ref_id":"426"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"427"}],"node_type":"Property","ref_id":"427"}],"node_type":"Start","ref_id":"398"}],"node_type":"Start","ref_id":"398"}],"ref_id":"395"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*First Inpatient Intensive Care Unit returns the first intensive care unit for the given encounter, without considering any immediately prior emergency department visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"1067"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"1068"}],"node_type":"Property","ref_id":"1068"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"1068"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1066"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1078"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"1079"}],"ref_id":"1079"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"1080"}],"node_type":"InValueSet","ref_id":"1081"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"1082"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"1083"}],"node_type":"Property","ref_id":"1083"},{"children":[{"text":" during "}],"node_type":"IncludedIn","ref_id":"1094"},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"1088"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1089"}],"node_type":"Property","ref_id":"1089"}],"node_type":"IncludedIn","ref_id":"1094"}],"ref_id":"1077"}],"ref_id":"1077"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1097"}],"node_type":"Start","ref_id":"1096"}],"ref_id":"1100"}],"ref_id":"1101"}],"ref_id":"1105"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"1110"}],"node_type":"First","ref_id":"1110"}],"ref_id":"1063"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has an ending boundary specified (i.e. the end of the interval is not null and not the maximum DateTime value)*/\ndefine function \"HasEnd\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( \n    "}]},{"children":[{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1182"}],"node_type":"End","ref_id":"1181"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"1185"},{"children":[{"text":"\n      or \n      "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1188"}],"node_type":"End","ref_id":"1187"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"maximum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1191"}],"node_type":"MaxValue","ref_id":"1192"}],"node_type":"Equal","ref_id":"1186"}],"node_type":"Or","ref_id":"1180"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"1180"}],"node_type":"Not","ref_id":"1179"}],"node_type":"Not","ref_id":"1179"}],"ref_id":"1173"}],"define_name":"HasEnd"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return true if the interval has a starting boundary specified (i.e. the start of the interval is not null and not the minimum DateTime value)*/\ndefine function \"HasStart\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"not "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1162"}],"node_type":"Start","ref_id":"1161"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"1165"},{"children":[{"text":"\n      or "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1168"}],"node_type":"Start","ref_id":"1167"},{"children":[{"text":" = "}]},{"children":[{"children":[{"text":"minimum "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1171"}],"node_type":"MinValue","ref_id":"1172"}],"node_type":"Equal","ref_id":"1166"}],"node_type":"Or","ref_id":"1160"},{"children":[{"text":"\n  )"}]}],"node_type":"Or","ref_id":"1160"}],"node_type":"Not","ref_id":"1159"}],"node_type":"Not","ref_id":"1159"}],"ref_id":"1153"}],"define_name":"HasStart"},{"children":[{"children":[{"children":[{"text":"/*Returns admission time for an encounter or for immediately prior emergency department visit.*/\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"436"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"440"}],"node_type":"Start","ref_id":"435"}],"node_type":"Start","ref_id":"435"}],"ref_id":"432"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"/*Returns earliest arrival time for an encounter including any prior ED visit.*/\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"535"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"536"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"536"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"534"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"544"}],"node_type":"Start","ref_id":"543"}],"ref_id":"547"}],"ref_id":"548"}],"ref_id":"552"},{"children":[{"text":"\n  )"}]}],"ref_id":"557"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"558"}],"node_type":"Property","ref_id":"558"}],"node_type":"Start","ref_id":"533"}],"node_type":"Start","ref_id":"533"}],"ref_id":"530"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"/*Returns the latest departure time for encounter including any prior ED visit.*/\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"665"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"666"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"666"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"664"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"674"}],"node_type":"Start","ref_id":"673"}],"ref_id":"677"}],"ref_id":"678"}],"ref_id":"682"},{"children":[{"text":"\n  )"}]}],"ref_id":"687"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"688"}],"node_type":"Property","ref_id":"688"}],"node_type":"End","ref_id":"663"}],"node_type":"End","ref_id":"663"}],"ref_id":"660"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"697"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"698"}],"node_type":"Property","ref_id":"698"}],"node_type":"End","ref_id":"696"}],"node_type":"End","ref_id":"696"}],"ref_id":"693"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"564"},{"children":[{"text":" Visit"}]}],"ref_id":"563"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"569"}],"node_type":"Retrieve","ref_id":"569"},{"children":[{"text":" LastED"}]}],"ref_id":"566"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"577"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"578"}],"node_type":"Property","ref_id":"578"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"591"},{"children":[{"text":" or less on or before"}]}],"ref_id":"599"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"584"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"585"}],"node_type":"Property","ref_id":"585"}],"node_type":"Start","ref_id":"583"}],"ref_id":"599"}],"ref_id":"599"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"601"}],"node_type":"End","ref_id":"600"}],"ref_id":"604"}],"ref_id":"605"}],"ref_id":"609"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"614"}],"ref_id":"565"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"617"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"618"}],"node_type":"Property","ref_id":"618"}],"node_type":"Start","ref_id":"616"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"624"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"625"}],"node_type":"Property","ref_id":"625"}],"node_type":"Start","ref_id":"623"},{"children":[{"text":")"}]}],"ref_id":"632"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"634"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"635"}],"node_type":"Property","ref_id":"635"}],"ref_id":"633"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"640"}],"ref_id":"615"}],"node_type":"Query","ref_id":"645"}],"node_type":"Query","ref_id":"645"}],"ref_id":"437"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"655"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"656"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"659"}],"node_type":"FunctionRef","ref_id":"659"}],"ref_id":"652"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"/*returns list of all locations within an encounter, including locations for immediately prior ED visit.*/\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"304"},{"children":[{"text":" Visit"}]}],"ref_id":"303"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"309"}],"node_type":"Retrieve","ref_id":"309"},{"children":[{"text":" LastED"}]}],"ref_id":"306"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"317"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"318"}],"node_type":"Property","ref_id":"318"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"331"},{"children":[{"text":" or less on or before"}]}],"ref_id":"339"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"324"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"325"}],"node_type":"Property","ref_id":"325"}],"node_type":"Start","ref_id":"323"}],"ref_id":"339"}],"ref_id":"339"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"341"}],"node_type":"End","ref_id":"340"}],"ref_id":"344"}],"ref_id":"345"}],"ref_id":"349"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"354"}],"ref_id":"305"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"357"},{"children":[{"text":" is null"}]}],"ref_id":"358"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"359"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"360"}],"ref_id":"360"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"367"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"368"}],"ref_id":"368"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"373"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"374"}],"ref_id":"374"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"366"}],"ref_id":"365"}],"node_type":"If","ref_id":"356"}],"ref_id":"355"}],"node_type":"Query","ref_id":"388"}],"node_type":"Query","ref_id":"388"}],"ref_id":"300"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"911"},{"children":[{"text":" Visit"}]}],"ref_id":"910"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"916"}],"node_type":"Retrieve","ref_id":"916"},{"children":[{"text":" LastObs"}]}],"ref_id":"913"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"924"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"925"}],"node_type":"Property","ref_id":"925"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"938"},{"children":[{"text":" or less on or before"}]}],"ref_id":"946"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"931"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"932"}],"node_type":"Property","ref_id":"932"}],"node_type":"Start","ref_id":"930"}],"ref_id":"946"}],"ref_id":"946"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"948"}],"node_type":"End","ref_id":"947"}],"ref_id":"951"}],"ref_id":"952"}],"ref_id":"956"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"961"}],"ref_id":"912"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"964"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"965"}],"node_type":"Property","ref_id":"965"}],"node_type":"Start","ref_id":"963"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"971"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"972"}],"node_type":"Property","ref_id":"972"}],"node_type":"Start","ref_id":"970"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"979"}],"ref_id":"962"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"984"}],"node_type":"Retrieve","ref_id":"984"},{"children":[{"text":" LastED"}]}],"ref_id":"981"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"992"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"993"}],"node_type":"Property","ref_id":"993"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"1000"},{"children":[{"text":" or less on or before"}]}],"ref_id":"1008"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"998"}],"ref_id":"1008"}],"ref_id":"1008"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"1010"}],"node_type":"End","ref_id":"1009"}],"ref_id":"1013"}],"ref_id":"1014"}],"ref_id":"1018"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"1023"}],"ref_id":"980"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"1026"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1027"}],"node_type":"Property","ref_id":"1027"}],"node_type":"Start","ref_id":"1025"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"1032"},{"children":[{"text":")"}]}],"ref_id":"1035"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"1037"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"1038"}],"node_type":"Property","ref_id":"1038"}],"ref_id":"1036"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"1043"}],"ref_id":"1024"}],"node_type":"Query","ref_id":"1048"}],"node_type":"Query","ref_id":"1048"}],"ref_id":"907"}],"define_name":"HospitalizationWithObservation"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"707"},{"children":[{"text":" Visit"}]}],"ref_id":"706"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"712"}],"node_type":"Retrieve","ref_id":"712"},{"children":[{"text":" LastObs"}]}],"ref_id":"709"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"720"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"721"}],"node_type":"Property","ref_id":"721"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"734"},{"children":[{"text":" or less on or before"}]}],"ref_id":"742"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"727"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"728"}],"node_type":"Property","ref_id":"728"}],"node_type":"Start","ref_id":"726"}],"ref_id":"742"}],"ref_id":"742"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"744"}],"node_type":"End","ref_id":"743"}],"ref_id":"747"}],"ref_id":"748"}],"ref_id":"752"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"757"}],"ref_id":"708"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"760"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"761"}],"node_type":"Property","ref_id":"761"}],"node_type":"Start","ref_id":"759"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"767"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"768"}],"node_type":"Property","ref_id":"768"}],"node_type":"Start","ref_id":"766"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"775"}],"ref_id":"758"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"780"}],"node_type":"Retrieve","ref_id":"780"},{"children":[{"text":" LastED"}]}],"ref_id":"777"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"788"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"789"}],"node_type":"Property","ref_id":"789"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"796"},{"children":[{"text":" or less on or before"}]}],"ref_id":"804"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"794"}],"ref_id":"804"}],"ref_id":"804"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"806"}],"node_type":"End","ref_id":"805"}],"ref_id":"809"}],"ref_id":"810"}],"ref_id":"814"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"819"}],"ref_id":"776"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"822"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"823"}],"node_type":"Property","ref_id":"823"}],"node_type":"Start","ref_id":"821"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"828"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"831"}],"ref_id":"820"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"836"}],"node_type":"Retrieve","ref_id":"836"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"833"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"844"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"845"}],"node_type":"Property","ref_id":"845"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"852"},{"children":[{"text":" or less on or before"}]}],"ref_id":"860"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"850"}],"ref_id":"860"}],"ref_id":"860"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"862"}],"node_type":"End","ref_id":"861"}],"ref_id":"865"}],"ref_id":"866"}],"ref_id":"870"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"875"}],"ref_id":"832"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"878"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"879"}],"node_type":"Property","ref_id":"879"}],"node_type":"Start","ref_id":"877"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"884"},{"children":[{"text":")"}]}],"ref_id":"887"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"889"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"890"}],"node_type":"Property","ref_id":"890"}],"ref_id":"888"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"895"}],"ref_id":"876"}],"node_type":"Query","ref_id":"900"}],"node_type":"Query","ref_id":"900"}],"ref_id":"703"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"/*Hospitalization with Observation Length of Stay returns the length in days from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"text":"\"HospitalizationWithObservation\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"1058"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1059"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1062"}],"node_type":"FunctionRef","ref_id":"1062"}],"ref_id":"1055"}],"define_name":"HospitalizationWithObservationLengthofStay"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"238"}],"node_type":"Retrieve","ref_id":"238"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"235"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"246"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"247"}],"node_type":"Property","ref_id":"247"},{"children":[{"text":" ends during day of "}],"ref_id":"256"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"252"}],"ref_id":"256"}],"ref_id":"256"}],"node_type":"Query","ref_id":"257"}],"ref_id":"234"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[{"children":[{"text":"/*Given an interval, return the ending point if the interval has an ending boundary specified, otherwise, return the starting point*/\ndefine function \"Latest\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"text":"HasEnd("}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1200"},{"children":[{"text":")"}]}],"ref_id":"1203"},{"children":[{"text":")"}]}],"ref_id":"1203"},{"children":[{"text":" then \n  "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1205"}],"ref_id":"1204"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1209"}],"ref_id":"1208"}],"node_type":"If","ref_id":"1199"}],"node_type":"If","ref_id":"1199"}],"ref_id":"1193"}],"define_name":"Latest"},{"children":[{"children":[{"children":[{"text":"/*Given a pointInTime or period, if the pointInTime is specified, returns the pointInTime, returns the ending point of the period if the period has an ending boundary specified, otherwise returns the starting point of the interval*/\ndefine function \"LatestOf\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Latest("}]},{"children":[{"children":[{"text":"NormalizeInterval("}]},{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1239"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1240"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1243"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"1246"}],"node_type":"FunctionRef","ref_id":"1246"}],"ref_id":"1231"}],"define_name":"LatestOf"},{"children":[{"children":[{"children":[{"text":"/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"293"}],"node_type":"Start","ref_id":"292"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"297"}],"node_type":"End","ref_id":"296"}],"node_type":"DifferenceBetween","ref_id":"291"}],"node_type":"DifferenceBetween","ref_id":"291"}],"ref_id":"285"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"/*Given a datetime and a period, returns the period (if a period is provided) or the interval beginning and ending on the datetime (if a datetime is provided)*/\ndefine function \"NormalizeInterval\"(pointInTime DateTime, period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"pointInTime"}]}],"node_type":"OperandRef","ref_id":"1120"},{"children":[{"text":" is not null"}]}],"ref_id":"1122"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"1123"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"pointInTime"}]}],"ref_id":"1124"},{"children":[{"text":"]"}]}],"ref_id":"1125"},{"children":[{"text":"\n    else "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"1129"},{"children":[{"text":" is not null"}]}],"ref_id":"1133"},{"children":[{"text":" then "}]},{"children":[{"children":[{"text":"period"}]}],"ref_id":"1134"},{"children":[{"text":" \n    else "}]},{"children":[{"children":[{"text":"null as "}],"node_type":"Null","ref_id":"1138"},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"1140"},{"children":[{"text":"\u003e"}]}],"ref_id":"1139"}],"ref_id":"1137"}],"ref_id":"1128"}],"node_type":"If","ref_id":"1119"}],"node_type":"If","ref_id":"1119"}],"ref_id":"1111"}],"define_name":"NormalizeInterval"},{"children":[{"children":[]},{"children":[]},{"children":[{"children":[{"text":"/*@description: Returns an interval of date values extracted from the input interval of date-time values\n@comment: This function returns an interval constructed using the `date from` extractor on the start\nand end values of the input date-time interval. Note that using a precision specifier as part of a\ntiming phrase is preferred to communicate intent to perform day-level comparison, as well as for\ngeneral readability.*/\ndefine function \"ToDateInterval\"(period Interval\u003cDateTime\u003e ):\n  "}]},{"children":[{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"270"}],"node_type":"Start","ref_id":"269"}],"ref_id":"268"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"date from "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"period"}]}],"node_type":"OperandRef","ref_id":"275"}],"node_type":"End","ref_id":"274"}],"ref_id":"273"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"278"}],"node_type":"Interval","ref_id":"278"}],"ref_id":"262"}],"define_name":"ToDateInterval"}],"identifier":{"id":"CQMCommonQDM","version":"9.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"CQMCommonQDM","library_version":"9.0.000","statement_dependencies":[{"_id":"689200be10d20757c0ce0658","statement_name":"NormalizeInterval"}]},{"_id":"689200b110d20757c0ce03a7","cql":"library HospiceQDM version '7.0.000'\n\nusing QDM version '5.6'\n\ninclude CQMCommonQDM version '9.0.000' called Global\n\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96' \ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1' \n\nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Hospice Care Ambulatory\": 'urn:oid:2.16.840.1.113883.3.526.3.1584' \nvalueset \"Hospice Diagnosis\": 'urn:oid:2.16.840.1.113883.3.464.1003.1165' \nvalueset \"Hospice Encounter\": 'urn:oid:2.16.840.1.113883.3.464.1003.1003' \n\ncode \"Discharge to healthcare facility for hospice care (procedure)\": '428371000124100' from \"SNOMEDCT\" display 'Discharge to healthcare facility for hospice care (procedure)'\ncode \"Discharge to home for hospice care (procedure)\": '428361000124107' from \"SNOMEDCT\" display 'Discharge to home for hospice care (procedure)'\ncode \"Hospice care [Minimum Data Set]\": '45755-6' from \"LOINC\" display 'Hospice care [Minimum Data Set]'\ncode \"Yes (qualifier value)\": '373066001' from \"SNOMEDCT\" display 'Yes (qualifier value)'\n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Has Hospice Services\":\n  exists ( [\"Encounter, Performed\": \"Encounter Inpatient\"] InpatientEncounter\n      where ( InpatientEncounter.dischargeDisposition ~ \"Discharge to home for hospice care (procedure)\"\n          or InpatientEncounter.dischargeDisposition ~ \"Discharge to healthcare facility for hospice care (procedure)\"\n      )\n        and InpatientEncounter.relevantPeriod ends during day of \"Measurement Period\"\n  )\n    or exists ( [\"Encounter, Performed\": \"Hospice Encounter\"] HospiceEncounter\n        where HospiceEncounter.relevantPeriod overlaps day of \"Measurement Period\"\n    )\n    or exists ( [\"Assessment, Performed\": \"Hospice care [Minimum Data Set]\"] HospiceAssessment\n        where HospiceAssessment.result ~ \"Yes (qualifier value)\"\n          and Global.\"NormalizeInterval\" ( HospiceAssessment.relevantDatetime, HospiceAssessment.relevantPeriod ) overlaps day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Order\": \"Hospice Care Ambulatory\"] HospiceOrder\n        where HospiceOrder.authorDatetime during day of \"Measurement Period\"\n    )\n    or exists ( [\"Intervention, Performed\": \"Hospice Care Ambulatory\"] HospicePerformed\n        where Global.\"NormalizeInterval\" ( HospicePerformed.relevantDatetime, HospicePerformed.relevantPeriod ) overlaps day of \"Measurement Period\"\n    )\n  or exists ( [\"Diagnosis\": \"Hospice Diagnosis\"] HospiceCareDiagnosis\n        where HospiceCareDiagnosis.prevalencePeriod overlaps day of \"Measurement Period\"\n    )","elm":{"library":{"localId":"0","annotation":[{"translatorVersion":"3.14.0","translatorOptions":"EnableAnnotations,EnableLocators,EnableResultTypes,EnableDetailedErrors,DisableListDemotion,DisableListPromotion","signatureLevel":"None","type":"CqlToElmInfo"},{"type":"Annotation","s":{"r":"234","s":[{"value":["","library HospiceQDM version '7.0.000'"]}]}}],"identifier":{"id":"HospiceQDM","version":"7.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localId":"1","localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"206","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_6","version":"5.6","annotation":[{"type":"Annotation","s":{"r":"206","s":[{"value":["","using "]},{"s":[{"value":["QDM"]}]},{"value":[" version '5.6'"]}]}}]}]},"includes":{"def":[{"localId":"207","locator":"5:1-5:52","localIdentifier":"Global","path":"CQMCommonQDM","version":"9.0.000","annotation":[{"type":"Annotation","s":{"r":"207","s":[{"value":["","include "]},{"s":[{"value":["CQMCommonQDM"]}]},{"value":[" version ","'9.0.000'"," called ","Global"]}]}}]}]},"parameters":{"def":[{"localId":"222","locator":"20:1-20:49","name":"Measurement Period","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"222","s":[{"value":["","parameter ","\"Measurement Period\""," "]},{"r":"223","s":[{"value":["Interval\u003c"]},{"r":"224","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]}]}}],"resultTypeSpecifier":{"localId":"227","type":"IntervalTypeSpecifier","pointType":{"localId":"228","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"parameterTypeSpecifier":{"localId":"223","locator":"20:32-20:49","type":"IntervalTypeSpecifier","resultTypeSpecifier":{"localId":"225","type":"IntervalTypeSpecifier","pointType":{"localId":"226","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"pointType":{"localId":"224","locator":"20:41-20:48","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"208","locator":"7:1-7:55","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"208","s":[{"value":["","codesystem ","\"SNOMEDCT\"",": ","'urn:oid:2.16.840.1.113883.6.96'"]}]}}]},{"localId":"209","locator":"8:1-8:51","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"209","s":[{"value":["","codesystem ","\"LOINC\"",": ","'urn:oid:2.16.840.1.113883.6.1'"]}]}}]}]},"valueSets":{"def":[{"localId":"210","locator":"10:1-10:71","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"210","s":[{"value":["","valueset ","\"Encounter Inpatient\"",": ","'urn:oid:2.16.840.1.113883.3.666.5.307'"]}]}}],"codeSystem":[]},{"localId":"211","locator":"11:1-11:76","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Care Ambulatory","id":"2.16.840.1.113883.3.526.3.1584","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"211","s":[{"value":["","valueset ","\"Hospice Care Ambulatory\"",": ","'urn:oid:2.16.840.1.113883.3.526.3.1584'"]}]}}],"codeSystem":[]},{"localId":"212","locator":"12:1-12:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Diagnosis","id":"2.16.840.1.113883.3.464.1003.1165","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["","valueset ","\"Hospice Diagnosis\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1165'"]}]}}],"codeSystem":[]},{"localId":"213","locator":"13:1-13:73","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Encounter","id":"2.16.840.1.113883.3.464.1003.1003","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"213","s":[{"value":["","valueset ","\"Hospice Encounter\"",": ","'urn:oid:2.16.840.1.113883.3.464.1003.1003'"]}]}}],"codeSystem":[]}]},"codes":{"def":[{"localId":"214","locator":"15:1-15:175","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Discharge to healthcare facility for hospice care (procedure)","id":"428371000124100","display":"Discharge to healthcare facility for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"214","s":[{"value":["","code ","\"Discharge to healthcare facility for hospice care (procedure)\"",": ","'428371000124100'"," from "]},{"r":"215","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to healthcare facility for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"215","locator":"15:94-15:103","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"SNOMEDCT"}},{"localId":"216","locator":"16:1-16:145","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Discharge to home for hospice care (procedure)","id":"428361000124107","display":"Discharge to home for hospice care (procedure)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"216","s":[{"value":["","code ","\"Discharge to home for hospice care (procedure)\"",": ","'428361000124107'"," from "]},{"r":"217","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Discharge to home for hospice care (procedure)'"]}]}}],"codeSystem":{"localId":"217","locator":"16:79-16:88","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"SNOMEDCT"}},{"localId":"218","locator":"17:1-17:104","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Hospice care [Minimum Data Set]","id":"45755-6","display":"Hospice care [Minimum Data Set]","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"218","s":[{"value":["","code ","\"Hospice care [Minimum Data Set]\"",": ","'45755-6'"," from "]},{"r":"219","s":[{"value":["\"LOINC\""]}]},{"value":[" display ","'Hospice care [Minimum Data Set]'"]}]}}],"codeSystem":{"localId":"219","locator":"17:56-17:62","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"LOINC"}},{"localId":"220","locator":"18:1-18:89","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Yes (qualifier value)","id":"373066001","display":"Yes (qualifier value)","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"220","s":[{"value":["","code ","\"Yes (qualifier value)\"",": ","'373066001'"," from "]},{"r":"221","s":[{"value":["\"SNOMEDCT\""]}]},{"value":[" display ","'Yes (qualifier value)'"]}]}}],"codeSystem":{"localId":"221","locator":"18:48-18:57","resultTypeName":"{urn:hl7-org:elm-types:r1}CodeSystem","name":"SNOMEDCT"}}]},"contexts":{"def":[{"localId":"232","locator":"22:1-22:15","name":"Patient"}]},"statements":{"def":[{"localId":"234","locator":"24:1-46:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","name":"Has Hospice Services","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"234","s":[{"value":["","define ","\"Has Hospice Services\"",":\n  "]},{"r":"235","s":[{"r":"236","s":[{"r":"237","s":[{"r":"238","s":[{"r":"239","s":[{"r":"240","s":[{"value":["exists "]},{"r":"273","s":[{"value":["( "]},{"r":"273","s":[{"s":[{"r":"241","s":[{"r":"244","s":[{"r":"244","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","InpatientEncounter"]}]}]},{"value":["\n      "]},{"r":"252","s":[{"value":["where "]},{"r":"252","s":[{"r":"253","s":[{"value":["( "]},{"r":"253","s":[{"r":"254","s":[{"r":"256","s":[{"r":"255","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"256","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"257","s":[{"value":["\"Discharge to home for hospice care (procedure)\""]}]}]},{"value":["\n          or "]},{"r":"258","s":[{"r":"260","s":[{"r":"259","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"260","s":[{"value":["dischargeDisposition"]}]}]},{"value":[" ","~"," "]},{"r":"261","s":[{"value":["\"Discharge to healthcare facility for hospice care (procedure)\""]}]}]}]},{"value":["\n      )"]}]},{"value":["\n        and "]},{"r":"272","s":[{"r":"263","s":[{"r":"262","s":[{"value":["InpatientEncounter"]}]},{"value":["."]},{"r":"263","s":[{"value":["relevantPeriod"]}]}]},{"r":"272","value":[" ","ends during day of"," "]},{"r":"268","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n  )"]}]}]},{"value":["\n    or "]},{"r":"278","s":[{"value":["exists "]},{"r":"300","s":[{"value":["( "]},{"r":"300","s":[{"s":[{"r":"279","s":[{"r":"282","s":[{"r":"282","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Hospice Encounter\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceEncounter"]}]}]},{"value":["\n        "]},{"r":"299","s":[{"value":["where "]},{"r":"299","s":[{"r":"291","s":[{"r":"290","s":[{"value":["HospiceEncounter"]}]},{"value":["."]},{"r":"291","s":[{"value":["relevantPeriod"]}]}]},{"r":"299","value":[" ","overlaps day of"," "]},{"r":"296","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"305","s":[{"value":["exists "]},{"r":"358","s":[{"value":["( "]},{"r":"358","s":[{"s":[{"r":"306","s":[{"r":"309","s":[{"r":"309","s":[{"value":["[","\"Assessment, Performed\"",": "]},{"s":[{"value":["\"Hospice care [Minimum Data Set]\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceAssessment"]}]}]},{"value":["\n        "]},{"r":"318","s":[{"value":["where "]},{"r":"318","s":[{"r":"319","s":[{"r":"321","s":[{"r":"320","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"321","s":[{"value":["result"]}]}]},{"value":[" ","~"," "]},{"r":"338","s":[{"value":["\"Yes (qualifier value)\""]}]}]},{"value":["\n          and "]},{"r":"357","s":[{"r":"349","s":[{"r":"340","s":[{"value":["Global"]}]},{"value":["."]},{"r":"349","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"342","s":[{"r":"341","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"342","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"344","s":[{"r":"343","s":[{"value":["HospiceAssessment"]}]},{"value":["."]},{"r":"344","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"357","value":[" ","overlaps day of"," "]},{"r":"354","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"363","s":[{"value":["exists "]},{"r":"382","s":[{"value":["( "]},{"r":"382","s":[{"s":[{"r":"364","s":[{"r":"367","s":[{"r":"367","s":[{"value":["[","\"Intervention, Order\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceOrder"]}]}]},{"value":["\n        "]},{"r":"381","s":[{"value":["where "]},{"r":"381","s":[{"r":"376","s":[{"r":"375","s":[{"value":["HospiceOrder"]}]},{"value":["."]},{"r":"376","s":[{"value":["authorDatetime"]}]}]},{"r":"381","value":[" ","during day of"," "]},{"r":"377","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n    or "]},{"r":"387","s":[{"value":["exists "]},{"r":"417","s":[{"value":["( "]},{"r":"417","s":[{"s":[{"r":"388","s":[{"r":"391","s":[{"r":"391","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Hospice Care Ambulatory\""]}]},{"value":["]"]}]}]},{"value":[" ","HospicePerformed"]}]}]},{"value":["\n        "]},{"r":"416","s":[{"value":["where "]},{"r":"416","s":[{"r":"408","s":[{"r":"399","s":[{"value":["Global"]}]},{"value":["."]},{"r":"408","s":[{"value":["\"NormalizeInterval\""," ( "]},{"r":"401","s":[{"r":"400","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"401","s":[{"value":["relevantDatetime"]}]}]},{"value":[", "]},{"r":"403","s":[{"r":"402","s":[{"value":["HospicePerformed"]}]},{"value":["."]},{"r":"403","s":[{"value":["relevantPeriod"]}]}]},{"value":[" )"]}]}]},{"r":"416","value":[" ","overlaps day of"," "]},{"r":"413","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]},{"value":["\n  or "]},{"r":"422","s":[{"value":["exists "]},{"r":"444","s":[{"value":["( "]},{"r":"444","s":[{"s":[{"r":"423","s":[{"r":"426","s":[{"r":"426","s":[{"value":["[","\"Diagnosis\"",": "]},{"s":[{"value":["\"Hospice Diagnosis\""]}]},{"value":["]"]}]}]},{"value":[" ","HospiceCareDiagnosis"]}]}]},{"value":["\n        "]},{"r":"443","s":[{"value":["where "]},{"r":"443","s":[{"r":"435","s":[{"r":"434","s":[{"value":["HospiceCareDiagnosis"]}]},{"value":["."]},{"r":"435","s":[{"value":["prevalencePeriod"]}]}]},{"r":"443","value":[" ","overlaps day of"," "]},{"r":"440","s":[{"value":["\"Measurement Period\""]}]}]}]}]},{"value":["\n    )"]}]}]}]}]}}],"expression":{"localId":"235","locator":"25:3-46:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"236","locator":"25:3-43:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"237","locator":"25:3-40:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"238","locator":"25:3-37:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"239","locator":"25:3-33:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"240","locator":"25:3-30:3","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"273","locator":"25:10-30:3","type":"Query","resultTypeSpecifier":{"localId":"276","type":"ListTypeSpecifier","elementType":{"localId":"277","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"241","locator":"25:12-25:77","alias":"InpatientEncounter","resultTypeSpecifier":{"localId":"250","type":"ListTypeSpecifier","elementType":{"localId":"251","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"244","locator":"25:12-25:58","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"248","type":"ListTypeSpecifier","elementType":{"localId":"249","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"243","locator":"25:37-25:57","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Encounter Inpatient","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"252","locator":"26:7-29:85","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"253","locator":"26:13-28:7","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Or","signature":[],"operand":[{"localId":"254","locator":"26:15-26:104","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equivalent","signature":[],"operand":[{"localId":"256","locator":"26:15-26:53","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"257","locator":"26:57-26:104","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Discharge to home for hospice care (procedure)","type":"CodeRef"}]},{"localId":"258","locator":"27:14-27:118","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equivalent","signature":[],"operand":[{"localId":"260","locator":"27:14-27:52","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","path":"dischargeDisposition","scope":"InpatientEncounter","type":"Property"},{"localId":"261","locator":"27:56-27:118","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Discharge to healthcare facility for hospice care (procedure)","type":"CodeRef"}]}]},{"localId":"272","locator":"29:13-29:85","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"271","locator":"29:47-29:50","type":"End","signature":[],"operand":{"localId":"263","locator":"29:13-29:45","path":"relevantPeriod","scope":"InpatientEncounter","type":"Property","resultTypeSpecifier":{"localId":"266","type":"IntervalTypeSpecifier","pointType":{"localId":"267","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}},{"localId":"268","locator":"29:66-29:85","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"269","type":"IntervalTypeSpecifier","pointType":{"localId":"270","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}},{"localId":"278","locator":"31:8-33:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"300","locator":"31:15-33:5","type":"Query","resultTypeSpecifier":{"localId":"303","type":"ListTypeSpecifier","elementType":{"localId":"304","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"279","locator":"31:17-31:78","alias":"HospiceEncounter","resultTypeSpecifier":{"localId":"288","type":"ListTypeSpecifier","elementType":{"localId":"289","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"282","locator":"31:17-31:61","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"286","type":"ListTypeSpecifier","elementType":{"localId":"287","name":"{urn:healthit-gov:qdm:v5_6}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"281","locator":"31:42-31:60","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Encounter","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"299","locator":"32:9-32:82","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"Overlaps","signature":[],"operand":[{"localId":"291","locator":"32:15-32:45","path":"relevantPeriod","scope":"HospiceEncounter","type":"Property","resultTypeSpecifier":{"localId":"294","type":"IntervalTypeSpecifier","pointType":{"localId":"295","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"296","locator":"32:63-32:82","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"297","type":"IntervalTypeSpecifier","pointType":{"localId":"298","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]},{"localId":"305","locator":"34:8-37:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"358","locator":"34:15-37:5","type":"Query","resultTypeSpecifier":{"localId":"361","type":"ListTypeSpecifier","elementType":{"localId":"362","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"306","locator":"34:17-34:94","alias":"HospiceAssessment","resultTypeSpecifier":{"localId":"316","type":"ListTypeSpecifier","elementType":{"localId":"317","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"309","locator":"34:17-34:76","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","templateId":"PositiveAssessmentPerformed","codeProperty":"code","codeComparator":"~","type":"Retrieve","resultTypeSpecifier":{"localId":"314","type":"ListTypeSpecifier","elementType":{"localId":"315","name":"{urn:healthit-gov:qdm:v5_6}PositiveAssessmentPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"311","type":"ToList","signature":[],"operand":{"localId":"308","locator":"34:43-34:75","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Hospice care [Minimum Data Set]","type":"CodeRef"}},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"318","locator":"35:9-36:150","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"And","signature":[],"operand":[{"localId":"319","locator":"35:15-35:64","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Equivalent","signature":[],"operand":[{"localId":"339","asType":"{urn:hl7-org:elm-types:r1}Code","type":"As","signature":[],"operand":{"localId":"321","locator":"35:15-35:38","path":"result","scope":"HospiceAssessment","type":"Property","resultTypeSpecifier":{"localId":"330","type":"ChoiceTypeSpecifier","choice":[{"localId":"331","name":"{urn:hl7-org:elm-types:r1}Integer","type":"NamedTypeSpecifier"},{"localId":"332","name":"{urn:hl7-org:elm-types:r1}Decimal","type":"NamedTypeSpecifier"},{"localId":"333","name":"{urn:hl7-org:elm-types:r1}Code","type":"NamedTypeSpecifier"},{"localId":"334","name":"{urn:hl7-org:elm-types:r1}Quantity","type":"NamedTypeSpecifier"},{"localId":"335","name":"{urn:hl7-org:elm-types:r1}Ratio","type":"NamedTypeSpecifier"},{"localId":"336","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"},{"localId":"337","name":"{urn:hl7-org:elm-types:r1}Time","type":"NamedTypeSpecifier"}]}}},{"localId":"338","locator":"35:42-35:64","resultTypeName":"{urn:hl7-org:elm-types:r1}Code","name":"Yes (qualifier value)","type":"CodeRef"}]},{"localId":"357","locator":"36:15-36:150","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"Overlaps","signature":[],"operand":[{"localId":"349","locator":"36:15-36:113","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"352","type":"IntervalTypeSpecifier","pointType":{"localId":"353","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"342","locator":"36:44-36:77","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"HospiceAssessment","type":"Property"},{"localId":"344","locator":"36:80-36:111","path":"relevantPeriod","scope":"HospiceAssessment","type":"Property","resultTypeSpecifier":{"localId":"347","type":"IntervalTypeSpecifier","pointType":{"localId":"348","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"354","locator":"36:131-36:150","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"355","type":"IntervalTypeSpecifier","pointType":{"localId":"356","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}]}}}]},{"localId":"363","locator":"38:8-40:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"382","locator":"38:15-40:5","type":"Query","resultTypeSpecifier":{"localId":"385","type":"ListTypeSpecifier","elementType":{"localId":"386","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}},"source":[{"localId":"364","locator":"38:17-38:79","alias":"HospiceOrder","resultTypeSpecifier":{"localId":"373","type":"ListTypeSpecifier","elementType":{"localId":"374","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}},"expression":{"localId":"367","locator":"38:17-38:66","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","templateId":"PositiveInterventionOrder","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"371","type":"ListTypeSpecifier","elementType":{"localId":"372","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionOrder","type":"NamedTypeSpecifier"}},"codes":{"localId":"366","locator":"38:41-38:65","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Care Ambulatory","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"381","locator":"39:9-39:76","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"In","signature":[],"operand":[{"localId":"376","locator":"39:15-39:41","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"authorDatetime","scope":"HospiceOrder","type":"Property"},{"localId":"377","locator":"39:57-39:76","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"378","type":"IntervalTypeSpecifier","pointType":{"localId":"379","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]},{"localId":"387","locator":"41:8-43:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"417","locator":"41:15-43:5","type":"Query","resultTypeSpecifier":{"localId":"420","type":"ListTypeSpecifier","elementType":{"localId":"421","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"source":[{"localId":"388","locator":"41:17-41:87","alias":"HospicePerformed","resultTypeSpecifier":{"localId":"397","type":"ListTypeSpecifier","elementType":{"localId":"398","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"expression":{"localId":"391","locator":"41:17-41:70","dataType":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"395","type":"ListTypeSpecifier","elementType":{"localId":"396","name":"{urn:healthit-gov:qdm:v5_6}PositiveInterventionPerformed","type":"NamedTypeSpecifier"}},"codes":{"localId":"390","locator":"41:45-41:69","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Care Ambulatory","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"416","locator":"42:9-42:148","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"Overlaps","signature":[],"operand":[{"localId":"408","locator":"42:15-42:111","name":"NormalizeInterval","libraryName":"Global","type":"FunctionRef","resultTypeSpecifier":{"localId":"411","type":"IntervalTypeSpecifier","pointType":{"localId":"412","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},"signature":[],"operand":[{"localId":"401","locator":"42:44-42:76","resultTypeName":"{urn:hl7-org:elm-types:r1}DateTime","path":"relevantDatetime","scope":"HospicePerformed","type":"Property"},{"localId":"403","locator":"42:79-42:109","path":"relevantPeriod","scope":"HospicePerformed","type":"Property","resultTypeSpecifier":{"localId":"406","type":"IntervalTypeSpecifier","pointType":{"localId":"407","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"413","locator":"42:129-42:148","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"414","type":"IntervalTypeSpecifier","pointType":{"localId":"415","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]},{"localId":"422","locator":"44:6-46:5","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","type":"Exists","signature":[],"operand":{"localId":"444","locator":"44:13-46:5","type":"Query","resultTypeSpecifier":{"localId":"447","type":"ListTypeSpecifier","elementType":{"localId":"448","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}},"source":[{"localId":"423","locator":"44:15-44:69","alias":"HospiceCareDiagnosis","resultTypeSpecifier":{"localId":"432","type":"ListTypeSpecifier","elementType":{"localId":"433","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}},"expression":{"localId":"426","locator":"44:15-44:48","dataType":"{urn:healthit-gov:qdm:v5_6}Diagnosis","codeProperty":"code","codeComparator":"in","type":"Retrieve","resultTypeSpecifier":{"localId":"430","type":"ListTypeSpecifier","elementType":{"localId":"431","name":"{urn:healthit-gov:qdm:v5_6}Diagnosis","type":"NamedTypeSpecifier"}},"codes":{"localId":"425","locator":"44:29-44:47","resultTypeName":"{urn:hl7-org:elm-types:r1}ValueSet","name":"Hospice Diagnosis","preserve":true,"type":"ValueSetRef"},"include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}],"let":[],"relationship":[],"where":{"localId":"443","locator":"45:9-45:88","resultTypeName":"{urn:hl7-org:elm-types:r1}Boolean","precision":"Day","type":"Overlaps","signature":[],"operand":[{"localId":"435","locator":"45:15-45:51","path":"prevalencePeriod","scope":"HospiceCareDiagnosis","type":"Property","resultTypeSpecifier":{"localId":"438","type":"IntervalTypeSpecifier","pointType":{"localId":"439","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}},{"localId":"440","locator":"45:69-45:88","name":"Measurement Period","type":"ParameterRef","resultTypeSpecifier":{"localId":"441","type":"IntervalTypeSpecifier","pointType":{"localId":"442","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]}}}]}},{"localId":"230","locator":"22:1-22:15","name":"Patient","context":"Patient","expression":{"localId":"231","type":"SingletonFrom","signature":[],"operand":{"localId":"229","locator":"22:1-22:15","dataType":"{urn:healthit-gov:qdm:v5_6}Patient","templateId":"Patient","type":"Retrieve","include":[],"codeFilter":[],"dateFilter":[],"otherFilter":[]}}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"Has Hospice Services\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"244"}],"node_type":"Retrieve","ref_id":"244"},{"children":[{"text":" InpatientEncounter"}]}],"ref_id":"241"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"255"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"256"}],"node_type":"Property","ref_id":"256"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to home for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"257"}],"node_type":"Equivalent","ref_id":"254"},{"children":[{"text":"\n          or "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"259"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"dischargeDisposition"}]}],"node_type":"Property","ref_id":"260"}],"node_type":"Property","ref_id":"260"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Discharge to healthcare facility for hospice care (procedure)\""}]}],"node_type":"CodeRef","ref_id":"261"}],"node_type":"Equivalent","ref_id":"258"}],"node_type":"Or","ref_id":"253"},{"children":[{"text":"\n      )"}]}],"node_type":"Or","ref_id":"253"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"InpatientEncounter"}]}],"ref_id":"262"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"263"}],"node_type":"Property","ref_id":"263"},{"children":[{"text":" ends during day of "}],"node_type":"In","ref_id":"272"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"268"}],"node_type":"In","ref_id":"272"}],"ref_id":"252"}],"ref_id":"252"}],"node_type":"Query","ref_id":"273"},{"children":[{"text":"\n  )"}]}],"node_type":"Query","ref_id":"273"}],"node_type":"Exists","ref_id":"240"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Encounter\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"282"}],"node_type":"Retrieve","ref_id":"282"},{"children":[{"text":" HospiceEncounter"}]}],"ref_id":"279"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceEncounter"}]}],"ref_id":"290"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"291"}],"node_type":"Property","ref_id":"291"},{"children":[{"text":" overlaps day of "}],"ref_id":"299"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"296"}],"ref_id":"299"}],"ref_id":"299"}],"node_type":"Query","ref_id":"300"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"300"}],"node_type":"Exists","ref_id":"278"}],"node_type":"Or","ref_id":"239"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Assessment, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice care [Minimum Data Set]\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"309"}],"node_type":"Retrieve","ref_id":"309"},{"children":[{"text":" HospiceAssessment"}]}],"ref_id":"306"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"320"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"result"}]}],"node_type":"Property","ref_id":"321"}],"node_type":"Property","ref_id":"321"},{"children":[{"text":" ~ "}]},{"children":[{"children":[{"text":"\"Yes (qualifier value)\""}]}],"node_type":"CodeRef","ref_id":"338"}],"node_type":"Equivalent","ref_id":"319"},{"children":[{"text":"\n          and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"340"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"341"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"342"}],"node_type":"Property","ref_id":"342"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospiceAssessment"}]}],"ref_id":"343"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"344"}],"node_type":"Property","ref_id":"344"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"349"}],"node_type":"FunctionRef","ref_id":"349"},{"children":[{"text":" overlaps day of "}],"node_type":"Overlaps","ref_id":"357"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"354"}],"node_type":"Overlaps","ref_id":"357"}],"ref_id":"318"}],"ref_id":"318"}],"node_type":"Query","ref_id":"358"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"358"}],"node_type":"Exists","ref_id":"305"}],"node_type":"Or","ref_id":"238"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Order\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"367"}],"node_type":"Retrieve","ref_id":"367"},{"children":[{"text":" HospiceOrder"}]}],"ref_id":"364"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceOrder"}]}],"ref_id":"375"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"authorDatetime"}]}],"node_type":"Property","ref_id":"376"}],"node_type":"Property","ref_id":"376"},{"children":[{"text":" during day of "}],"ref_id":"381"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"377"}],"ref_id":"381"}],"ref_id":"381"}],"node_type":"Query","ref_id":"382"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"382"}],"node_type":"Exists","ref_id":"363"}],"node_type":"Or","ref_id":"237"},{"children":[{"text":"\n    or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Hospice Care Ambulatory\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"391"}],"node_type":"Retrieve","ref_id":"391"},{"children":[{"text":" HospicePerformed"}]}],"ref_id":"388"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"399"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"NormalizeInterval\" ( "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"400"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantDatetime"}]}],"node_type":"Property","ref_id":"401"}],"node_type":"Property","ref_id":"401"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"HospicePerformed"}]}],"ref_id":"402"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"403"}],"node_type":"Property","ref_id":"403"},{"children":[{"text":" )"}]}],"node_type":"FunctionRef","ref_id":"408"}],"node_type":"FunctionRef","ref_id":"408"},{"children":[{"text":" overlaps day of "}],"ref_id":"416"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"413"}],"ref_id":"416"}],"ref_id":"416"}],"node_type":"Query","ref_id":"417"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"417"}],"node_type":"Exists","ref_id":"387"}],"node_type":"Or","ref_id":"236"},{"children":[{"text":"\n  or "}]},{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Diagnosis\": "}]},{"children":[{"children":[{"text":"\"Hospice Diagnosis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"426"}],"node_type":"Retrieve","ref_id":"426"},{"children":[{"text":" HospiceCareDiagnosis"}]}],"ref_id":"423"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospiceCareDiagnosis"}]}],"ref_id":"434"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"prevalencePeriod"}]}],"node_type":"Property","ref_id":"435"}],"node_type":"Property","ref_id":"435"},{"children":[{"text":" overlaps day of "}],"ref_id":"443"},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"440"}],"ref_id":"443"}],"ref_id":"443"}],"node_type":"Query","ref_id":"444"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"444"}],"node_type":"Exists","ref_id":"422"}],"node_type":"Or","ref_id":"235"}],"ref_id":"234"}],"define_name":"Has Hospice Services"}],"identifier":{"id":"HospiceQDM","version":"7.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"HospiceQDM","library_version":"7.0.000","statement_dependencies":[{"_id":"689200be10d20757c0ce0659","statement_name":"Has Hospice Services","statement_references":[{"_id":"689200be10d20757c0ce065a","hqmf_id":null,"library_name":"CQMCommonQDM","statement_name":"NormalizeInterval"}]}]}],"created_at":null,"description":"Percentage of patients aged 12 years and older who were screened for tobacco use one or more times during the measurement period AND who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period if identified as a tobacco user. Three rates are reported: a. Percentage of patients aged 12 years and older who were screened for tobacco use one or more times during the measurement period b. Percentage of patients aged 12 years and older who were identified as a tobacco user during the measurement period who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period c. Percentage of patients aged 12 years and older who were screened for tobacco use one or more times during the measurement period AND who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period if identified as a tobacco user","hqmf_id":"DA725994-3464-49E0-8658-F46BA8500B5D","hqmf_set_id":"E35791DF-5B25-41BB-B260-673337BC44A8","hqmf_version_number":"14.0.000","main_cql_library":"CMS138PreventiveTobaccoCessation","measure_attributes":[{"code":"OTH","value":"138","name":"CMS ID","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CMS ID"},"value_obj":{"type":"ED","value":"138","media_type":"text/plain"}},{"code":"OTH","value":"Not Applicable","name":"CBE Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"CBE Number"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"COPY","value":"This Physician Performance Measure (Measure) and related data specifications are owned by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties or endorsements about the quality of any product, test or protocol identified as numerator compliant or otherwise identified as meeting the requirements of the measure or specification. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure may be used for internal, noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. All other uses, including a commercial use (including but not limited to vendors using or embedding the measures and specifications into any product or service to calculate measure results for customers for any purpose), must be approved by NCQA and are subject to a license at the discretion of NCQA. The Physician Consortium for Performance Improvements (PCPI) and American Medical Associations (AMA) significant past efforts and contributions to the development and updating of the measure are acknowledged. (C) 2012-2025 National Committee for Quality Assurance. All Rights Reserved. Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications. CPT(R) codes, descriptions and other data are copyright 2025. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. Fee schedules, relative value units, conversion factors and/or related components are not assigned by the AMA, are not part of CPT, and the AMA is not recommending their use. The AMA does not directly or indirectly practice medicine or dispense medical services. The AMA assumes no liability for data contained or not contained herein. Some measure specifications contain coding from LOINC(R) (https://loinc.org). The LOINC table, LOINC codes, LOINC panels and form file, LOINC linguistic variants file, LOINC/RSNA Radiology Playbook, and LOINC/IEEE Medical Device Code Mapping Table are copyright 2004-2025 Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee, and are available at no cost under the license at https://loinc.org/kb/license/. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2025 World Health Organization. All Rights Reserved. Some measures use RxNorm, a standardized nomenclature and coding for clinical drugs and drug delivery devices, which is made publicly available courtesy of the U.S. National Library of Medicine (NLM), National Institutes of Health, Department of Health and Human Services. NLM is not responsible for the measures and does not endorse or recommend this or any other product. HL7 is the registered trademark of Health Level Seven International.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"This Physician Performance Measure (Measure) and related data specifications are owned by the National Committee for Quality Assurance (NCQA). NCQA is not responsible for any use of the Measure. NCQA makes no representations, warranties or endorsements about the quality of any product, test or protocol identified as numerator compliant or otherwise identified as meeting the requirements of the measure or specification. NCQA makes no representations, warranties, or endorsement about the quality of any organization or physician that uses or reports performance measures and NCQA has no liability to anyone who relies on such measures or specifications. NCQA holds a copyright in the Measure. The Measure may be used for internal, noncommercial purposes (e.g., use by healthcare providers in connection with their practices) without obtaining approval from NCQA. All other uses, including a commercial use (including but not limited to vendors using or embedding the measures and specifications into any product or service to calculate measure results for customers for any purpose), must be approved by NCQA and are subject to a license at the discretion of NCQA. The Physician Consortium for Performance Improvements (PCPI) and American Medical Associations (AMA) significant past efforts and contributions to the development and updating of the measure are acknowledged. (C) 2012-2025 National Committee for Quality Assurance. All Rights Reserved. Limited proprietary coding is contained in the Measure specifications for user convenience. Users of proprietary code sets should obtain all necessary licenses from the owners of the code sets. NCQA disclaims all liability for use or accuracy of any third-party codes contained in the specifications. CPT(R) codes, descriptions and other data are copyright 2025. American Medical Association. All rights reserved. CPT is a trademark of the American Medical Association. Fee schedules, relative value units, conversion factors and/or related components are not assigned by the AMA, are not part of CPT, and the AMA is not recommending their use. The AMA does not directly or indirectly practice medicine or dispense medical services. The AMA assumes no liability for data contained or not contained herein. Some measure specifications contain coding from LOINC(R) (https://loinc.org). The LOINC table, LOINC codes, LOINC panels and form file, LOINC linguistic variants file, LOINC/RSNA Radiology Playbook, and LOINC/IEEE Medical Device Code Mapping Table are copyright 2004-2025 Regenstrief Institute, Inc. and the Logical Observation Identifiers Names and Codes (LOINC) Committee, and are available at no cost under the license at https://loinc.org/kb/license/. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2024 International Health Terminology Standards Development Organisation. ICD-10 copyright 2025 World Health Organization. All Rights Reserved. Some measures use RxNorm, a standardized nomenclature and coding for clinical drugs and drug delivery devices, which is made publicly available courtesy of the U.S. National Library of Medicine (NLM), National Institutes of Health, Department of Health and Human Services. NLM is not responsible for the measures and does not endorse or recommend this or any other product. HL7 is the registered trademark of Health Level Seven International.","media_type":"text/plain"}},{"code":"DISC","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"The performance Measure is not a clinical guideline and does not establish a standard of medical care, and has not been tested for all potential applications. THE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. Due to technical limitations, registered trademarks are indicated by (R) or [R] and unregistered trademarks are indicated by (TM) or [TM].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROCESS","title":"Process"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"This measure is intended to promote adult tobacco screening and tobacco cessation interventions for those who use tobacco products. There is good evidence that tobacco screening and brief cessation intervention (including counseling and/or pharmacotherapy) is successful in helping tobacco users quit. Tobacco users who are able to stop using tobacco lower their risk for heart disease, lung disease, and stroke.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"This measure is intended to promote adult tobacco screening and tobacco cessation interventions for those who use tobacco products. There is good evidence that tobacco screening and brief cessation intervention (including counseling and/or pharmacotherapy) is successful in helping tobacco users quit. Tobacco users who are able to stop using tobacco lower their risk for heart disease, lung disease, and stroke.","media_type":"text/plain"}},{"code":"CRS","value":"The U.S. Preventive Services Task Force (USPSTF) recommends that clinicians ask all adults about tobacco use, advise them to stop using tobacco, and provide behavioral interventions and U.S. Food and Drug Administration (FDA)-approved pharmacotherapy for cessation to nonpregnant adults who use tobacco (Grade A Recommendation) (U.S. Preventive Services Task Force, 2021). The USPSTF recommends that clinicians ask all pregnant persons about tobacco use, advise them to stop using tobacco, and provide behavioral interventions for cessation to pregnant persons who use tobacco (Grade A Recommendation) (U.S. Preventive Services Task Force, 2021). The USPSTF concludes that the current evidence is insufficient to assess the balance of benefits and harms of pharmacotherapy interventions for tobacco cessation in pregnant women (Grade I Statement) (U.S. Preventive Services Task Force, 2021). The USPSTF concludes that the current evidence is insufficient to assess the balance of benefits and harms of electronic cigarettes (e-cigarettes) for tobacco cessation in adults, including pregnant persons. The USPSTF recommends that clinicians direct patients who use tobacco to other tobacco cessation interventions with proven effectiveness and established safety (Grade I Statement) (U.S. Preventive Services Task Force, 2021). The USPSTF recommends that primary care clinicians provide interventions, including education or brief counseling, to prevent initiation of tobacco use among school-aged children and adolescents (Grade B Statement) (U.S. Preventive Services Task Force, 2020). The USPSTF concludes that the current evidence is insufficient to assess the balance of benefits and harms of primary care--feasible interventions for the cessation of tobacco use among school-aged children and adolescents (Grade I Statement) (U.S. Preventive Services Task Force, 2020). All patients should be asked if they use tobacco and should have their tobacco use status documented on a regular basis. Evidence has shown that clinic screening systems, such as expanding the vital signs to include tobacco use status or the use of other reminder systems such as chart stickers or computer prompts, significantly increase rates of clinician intervention. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008). All physicians should strongly advise every patient who smokes to quit because evidence shows that physician advice to quit smoking increases abstinence rates. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008). Minimal interventions lasting less than 3 minutes increase overall tobacco abstinence rates. Every tobacco user should be offered at least a minimal intervention, whether or not he or she is referred to an intensive intervention. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008). The combination of counseling and medication is more effective for smoking cessation than either medication or counseling alone. Therefore, whenever feasible and appropriate, both counseling and medication should be provided to patients trying to quit smoking. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008).","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"The U.S. Preventive Services Task Force (USPSTF) recommends that clinicians ask all adults about tobacco use, advise them to stop using tobacco, and provide behavioral interventions and U.S. Food and Drug Administration (FDA)-approved pharmacotherapy for cessation to nonpregnant adults who use tobacco (Grade A Recommendation) (U.S. Preventive Services Task Force, 2021). The USPSTF recommends that clinicians ask all pregnant persons about tobacco use, advise them to stop using tobacco, and provide behavioral interventions for cessation to pregnant persons who use tobacco (Grade A Recommendation) (U.S. Preventive Services Task Force, 2021). The USPSTF concludes that the current evidence is insufficient to assess the balance of benefits and harms of pharmacotherapy interventions for tobacco cessation in pregnant women (Grade I Statement) (U.S. Preventive Services Task Force, 2021). The USPSTF concludes that the current evidence is insufficient to assess the balance of benefits and harms of electronic cigarettes (e-cigarettes) for tobacco cessation in adults, including pregnant persons. The USPSTF recommends that clinicians direct patients who use tobacco to other tobacco cessation interventions with proven effectiveness and established safety (Grade I Statement) (U.S. Preventive Services Task Force, 2021). The USPSTF recommends that primary care clinicians provide interventions, including education or brief counseling, to prevent initiation of tobacco use among school-aged children and adolescents (Grade B Statement) (U.S. Preventive Services Task Force, 2020). The USPSTF concludes that the current evidence is insufficient to assess the balance of benefits and harms of primary care--feasible interventions for the cessation of tobacco use among school-aged children and adolescents (Grade I Statement) (U.S. Preventive Services Task Force, 2020). All patients should be asked if they use tobacco and should have their tobacco use status documented on a regular basis. Evidence has shown that clinic screening systems, such as expanding the vital signs to include tobacco use status or the use of other reminder systems such as chart stickers or computer prompts, significantly increase rates of clinician intervention. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008). All physicians should strongly advise every patient who smokes to quit because evidence shows that physician advice to quit smoking increases abstinence rates. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008). Minimal interventions lasting less than 3 minutes increase overall tobacco abstinence rates. Every tobacco user should be offered at least a minimal intervention, whether or not he or she is referred to an intensive intervention. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008). The combination of counseling and medication is more effective for smoking cessation than either medication or counseling alone. Therefore, whenever feasible and appropriate, both counseling and medication should be provided to patients trying to quit smoking. (Strength of Evidence = A) (U.S. Department of Health and Human Services. Public Health Service, 2008).","media_type":"text/plain"}},{"code":"IDUR","value":"Higher score indicates better quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Higher score indicates better quality","media_type":"text/plain"}},{"code":"REF","value":"CITATION US Department of Health and Human Services. (2008). 6, Evidence and Recommendations. Treating Tobacco Use and Dependence: 2008 Update. Retrieved from https://www.ncbi.nlm.nih.gov/books/NBK63943/","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION US Department of Health and Human Services. (2008). 6, Evidence and Recommendations. Treating Tobacco Use and Dependence: 2008 Update. Retrieved from https://www.ncbi.nlm.nih.gov/books/NBK63943/","media_type":"text/plain"}},{"code":"REF","value":"CITATION US Preventive Services Task Force. (2021). Interventions for Tobacco Smoking Cessation in Adults, Including Pregnant Persons. US Preventive Services Task Force Recommendation Statement. JAMA, 325(3), 265-279. doi:10.1001/jama.2020.25019","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION US Preventive Services Task Force. (2021). Interventions for Tobacco Smoking Cessation in Adults, Including Pregnant Persons. US Preventive Services Task Force Recommendation Statement. JAMA, 325(3), 265-279. doi:10.1001/jama.2020.25019","media_type":"text/plain"}},{"code":"REF","value":"CITATION US Preventive Services Task Force. (2020). Primary Care Interventions for Prevention and Cessation of Tobacco Use in Children and Adolescents. US Preventive Services Task Force Recommendation Statement. JAMA, 2020;323(16):1590-1598. doi:10.1001/jama.2020.4679","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"CITATION US Preventive Services Task Force. (2020). Primary Care Interventions for Prevention and Cessation of Tobacco Use in Children and Adolescents. US Preventive Services Task Force Recommendation Statement. JAMA, 2020;323(16):1590-1598. doi:10.1001/jama.2020.4679","media_type":"text/plain"}},{"code":"DEF","value":"Tobacco Use - Use of any tobacco product The 2021 USPSTF recommendation references the US Food and Drug Administration definition of tobacco which includes \"any product made or derived from tobacco intended for human consumption (except products that meet the definition of drugs), including, but not limited to, cigarettes, cigars (including cigarillos and little cigars), dissolvables, hookah tobacco, nicotine gels, pipe tobacco, roll-your-own tobacco, smokeless tobacco products (including dip, snuff, snus, and chewing tobacco), vapes, electronic cigarettes (e-cigarettes), hookah pens, and other electronic nicotine delivery systems.\" The 2021 USPSTF recommendation describes smoking as generally referring to \"the inhaling and exhaling of smoke produced by combustible tobacco products such as cigarettes, cigars, and pipes.\" The 2021 USPSTF recommendation describes vaping as \"the inhaling and exhaling of aerosols produced by e-cigarettes.\" In addition, it states, \"vaping products (i.e., e-cigarettes) usually contain nicotine, which is the addictive ingredient in tobacco. Substances other than tobacco can also be used to smoke or vape. While the 2015 USPSTF recommendation statement used the term 'electronic nicotine delivery systems' or 'ENDS,' the USPSTF recognizes that the field has shifted to using the term 'e-cigarettes' (or 'e-cigs') and uses the term e-cigarettes in the current recommendation statement. e-Cigarettes can come in many shapes and sizes, but generally they heat a liquid that contains nicotine (the addictive drug in tobacco) to produce an aerosol (or 'vapor') that is inhaled ('vaped') by users.\" Tobacco Cessation Intervention - Includes brief counseling (3 minutes or less), and/or pharmacotherapy Note: Concepts aligned with brief counseling (e.g., minimal and intensive advice/counseling interventions conducted both in person and over the phone) are included in the value set for the numerator. Other concepts such as written self-help materials (e.g., brochures, pamphlets) and complementary/alternative therapies are not included in the value set and do not qualify for the numerator. Counseling also may be of longer duration or be performed more frequently, as evidence shows that higher-intensity interventions are associated with higher tobacco cessation rates (U.S. Preventive Services Task Force, 2021).","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Tobacco Use - Use of any tobacco product The 2021 USPSTF recommendation references the US Food and Drug Administration definition of tobacco which includes \"any product made or derived from tobacco intended for human consumption (except products that meet the definition of drugs), including, but not limited to, cigarettes, cigars (including cigarillos and little cigars), dissolvables, hookah tobacco, nicotine gels, pipe tobacco, roll-your-own tobacco, smokeless tobacco products (including dip, snuff, snus, and chewing tobacco), vapes, electronic cigarettes (e-cigarettes), hookah pens, and other electronic nicotine delivery systems.\" The 2021 USPSTF recommendation describes smoking as generally referring to \"the inhaling and exhaling of smoke produced by combustible tobacco products such as cigarettes, cigars, and pipes.\" The 2021 USPSTF recommendation describes vaping as \"the inhaling and exhaling of aerosols produced by e-cigarettes.\" In addition, it states, \"vaping products (i.e., e-cigarettes) usually contain nicotine, which is the addictive ingredient in tobacco. Substances other than tobacco can also be used to smoke or vape. While the 2015 USPSTF recommendation statement used the term 'electronic nicotine delivery systems' or 'ENDS,' the USPSTF recognizes that the field has shifted to using the term 'e-cigarettes' (or 'e-cigs') and uses the term e-cigarettes in the current recommendation statement. e-Cigarettes can come in many shapes and sizes, but generally they heat a liquid that contains nicotine (the addictive drug in tobacco) to produce an aerosol (or 'vapor') that is inhaled ('vaped') by users.\" Tobacco Cessation Intervention - Includes brief counseling (3 minutes or less), and/or pharmacotherapy Note: Concepts aligned with brief counseling (e.g., minimal and intensive advice/counseling interventions conducted both in person and over the phone) are included in the value set for the numerator. Other concepts such as written self-help materials (e.g., brochures, pamphlets) and complementary/alternative therapies are not included in the value set and do not qualify for the numerator. Counseling also may be of longer duration or be performed more frequently, as evidence shows that higher-intensity interventions are associated with higher tobacco cessation rates (U.S. Preventive Services Task Force, 2021).","media_type":"text/plain"}},{"code":"GUIDE","value":"The requirement of two or more visits is to establish that the eligible clinician has an existing relationship with the patient for certain types of encounters. To satisfy the intent of this measure, a patient must have at least one tobacco use screening during the measurement period. If a patient has multiple tobacco use screenings during the measurement period, only the most recent screening, which has a documented status of tobacco user or tobacco non-user, will be used to satisfy the measure requirements. If a patient uses any type of tobacco (i.e., smokes or uses smokeless tobacco), the expectation is that they should receive tobacco cessation intervention: either counseling and/or pharmacotherapy. As noted above in the 2021 USPSTF recommendation statement, the current evidence is insufficient to recommend electronic cigarettes (e-cigarettes) for tobacco cessation. However, as noted above in the Definition section, the 2021 USPSTF recommendation also references the US Food and Drug Administration definition of tobacco, which includes e-cigarettes, hookah pens and other electronic nicotine delivery systems. Therefore, the measure does consider the use of e-cigarettes and other electronic nicotine delivery systems to be tobacco use. If a patient's tobacco use status is unknown, the patient does not meet the screening requirement and does not meet the numerator for populations 1 or 3. Instances where tobacco use status of \"unknown\" include: 1) the patient was not screened; or 2) the patient was screened and the patient (or caregiver) was unable to provide a definitive answer. In order to promote a team-based approach to patient care, the tobacco cessation intervention can be performed by another healthcare provider; therefore, the tobacco use screening and tobacco cessation intervention do not need to be performed by the same provider or clinician. This measure contains three reporting rates which aim to identify patients who were screened for tobacco use (rate/population 1), patients who were identified as tobacco users and who received a tobacco cessation intervention (rate/population 2), and a comprehensive look at the overall performance on tobacco screening and cessation intervention (rate/population 3). By separating this measure into various reporting rates, the eligible clinician will be able to better ascertain where gaps in performance exist, and identify opportunities for improvement. The overall rate (rate/population 3) can be utilized to compare performance to published versions of this measure prior to the 2018 performance year, when the measure had a single performance rate. For accountability reporting in the CMS MIPS program, the rate for population 2 is used for performance. The denominator of population criteria 2 is a subset of the resulting numerator for population criteria 1, as population criteria 2 is limited to assessing if patients identified as tobacco users received an appropriate tobacco cessation intervention. For all patients, population criteria 1 and 3 are applicable, but population criteria 2 will only be applicable for those patients who are identified as tobacco users. Therefore, data for every patient that meets the initial population criteria will only be submitted for population 1 and 3, whereas data submitted for population 2 will be for a subset of patients who meet the initial population criteria, as the denominator has been further limited to those who were identified as tobacco users. This eCQM is a patient-based measure. This version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"The requirement of two or more visits is to establish that the eligible clinician has an existing relationship with the patient for certain types of encounters. To satisfy the intent of this measure, a patient must have at least one tobacco use screening during the measurement period. If a patient has multiple tobacco use screenings during the measurement period, only the most recent screening, which has a documented status of tobacco user or tobacco non-user, will be used to satisfy the measure requirements. If a patient uses any type of tobacco (i.e., smokes or uses smokeless tobacco), the expectation is that they should receive tobacco cessation intervention: either counseling and/or pharmacotherapy. As noted above in the 2021 USPSTF recommendation statement, the current evidence is insufficient to recommend electronic cigarettes (e-cigarettes) for tobacco cessation. However, as noted above in the Definition section, the 2021 USPSTF recommendation also references the US Food and Drug Administration definition of tobacco, which includes e-cigarettes, hookah pens and other electronic nicotine delivery systems. Therefore, the measure does consider the use of e-cigarettes and other electronic nicotine delivery systems to be tobacco use. If a patient's tobacco use status is unknown, the patient does not meet the screening requirement and does not meet the numerator for populations 1 or 3. Instances where tobacco use status of \"unknown\" include: 1) the patient was not screened; or 2) the patient was screened and the patient (or caregiver) was unable to provide a definitive answer. In order to promote a team-based approach to patient care, the tobacco cessation intervention can be performed by another healthcare provider; therefore, the tobacco use screening and tobacco cessation intervention do not need to be performed by the same provider or clinician. This measure contains three reporting rates which aim to identify patients who were screened for tobacco use (rate/population 1), patients who were identified as tobacco users and who received a tobacco cessation intervention (rate/population 2), and a comprehensive look at the overall performance on tobacco screening and cessation intervention (rate/population 3). By separating this measure into various reporting rates, the eligible clinician will be able to better ascertain where gaps in performance exist, and identify opportunities for improvement. The overall rate (rate/population 3) can be utilized to compare performance to published versions of this measure prior to the 2018 performance year, when the measure had a single performance rate. For accountability reporting in the CMS MIPS program, the rate for population 2 is used for performance. The denominator of population criteria 2 is a subset of the resulting numerator for population criteria 1, as population criteria 2 is limited to assessing if patients identified as tobacco users received an appropriate tobacco cessation intervention. For all patients, population criteria 1 and 3 are applicable, but population criteria 2 will only be applicable for those patients who are identified as tobacco users. Therefore, data for every patient that meets the initial population criteria will only be submitted for population 1 and 3, whereas data submitted for population 2 will be for a subset of patients who meet the initial population criteria, as the denominator has been further limited to those who were identified as tobacco users. This eCQM is a patient-based measure. This version of the eCQM uses QDM version 5.6. Please refer to the eCQI resource center (https://ecqi.healthit.gov/qdm) for more information on the QDM.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"All patients aged 12 years and older seen for at least two visits or at least one preventive visit during the measurement period","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"All patients aged 12 years and older seen for at least two visits or at least one preventive visit during the measurement period","media_type":"text/plain"}},{"code":"DENOM","value":"Population 1: Equals Initial Population. Population 2: Equals Initial Population who were screened for tobacco use during the measurement period and identified as a tobacco user. Population 3: Equals Initial Population.","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Population 1: Equals Initial Population. Population 2: Equals Initial Population who were screened for tobacco use during the measurement period and identified as a tobacco user. Population 3: Equals Initial Population.","media_type":"text/plain"}},{"code":"DENEX","value":"Exclude patients who are in hospice care for any part of the measurement period","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"Exclude patients who are in hospice care for any part of the measurement period","media_type":"text/plain"}},{"code":"NUMER","value":"Population 1: Patients who were screened for tobacco use at least once during the measurement period. Population 2: Patients who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period. Population 3: Patients who were screened for tobacco use at least once during the measurement period AND who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period if identified as a tobacco user.","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Population 1: Patients who were screened for tobacco use at least once during the measurement period. Population 2: Patients who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period. Population 3: Patients who were screened for tobacco use at least once during the measurement period AND who received tobacco cessation intervention during the measurement period or in the six months prior to the measurement period if identified as a tobacco user.","media_type":"text/plain"}},{"code":"NUMEX","value":"None","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"AB01AB8C-5200-4C98-94B1-785687A9469F","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"CMS138PreventiveTobaccoCessation__Initial_Population__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"C13FB76B-61C6-422F-92ED-71D8FFE685FC","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"CMS138PreventiveTobaccoCessation__Denominator_1__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"E3DA4ECF-8EE9-4578-B3EB-D269973F8EFB","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"CMS138PreventiveTobaccoCessation__Numerator_1__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"DENEX":{"conjunction?":true,"type":"DENEX","hqmf_id":"D80F9855-5B82-4EAB-97E7-48F7E5E24510","preconditions":[{"id":8,"preconditions":[{"id":7,"reference":"CMS138PreventiveTobaccoCessation__Denominator_Exclusion__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"atLeastOneTrue"}]},"IPP_1":{"conjunction?":true,"type":"IPP","hqmf_id":"C508583F-77CE-4004-AC69-13A84B2641D3","preconditions":[{"id":10,"preconditions":[{"id":9,"reference":"CMS138PreventiveTobaccoCessation__Initial_Population__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"DENOM_1":{"conjunction?":true,"type":"DENOM","hqmf_id":"5D9336BB-1759-4FB0-ACAD-C944F28ACD10","preconditions":[{"id":12,"preconditions":[{"id":11,"reference":"CMS138PreventiveTobaccoCessation__Denominator_2__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"NUMER_1":{"conjunction?":true,"type":"NUMER","hqmf_id":"21D4794A-1450-4C3D-89AE-A4791DF8FA2A","preconditions":[{"id":14,"preconditions":[{"id":13,"reference":"CMS138PreventiveTobaccoCessation__Numerator_2__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"DENEX_1":{"conjunction?":true,"type":"DENEX","hqmf_id":"D323558D-2C59-476C-A6B9-32E5BCF5D2E8","preconditions":[{"id":16,"preconditions":[{"id":15,"reference":"CMS138PreventiveTobaccoCessation__Denominator_Exclusion__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"atLeastOneTrue"}]},"IPP_2":{"conjunction?":true,"type":"IPP","hqmf_id":"D9BEF0F0-26B4-484C-AF92-252622D46734","preconditions":[{"id":18,"preconditions":[{"id":17,"reference":"CMS138PreventiveTobaccoCessation__Initial_Population__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"DENOM_2":{"conjunction?":true,"type":"DENOM","hqmf_id":"5455BCAD-B7A1-4F2E-85FF-EAE0881B7666","preconditions":[{"id":20,"preconditions":[{"id":19,"reference":"CMS138PreventiveTobaccoCessation__Denominator_3__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"NUMER_2":{"conjunction?":true,"type":"NUMER","hqmf_id":"333A53EF-9CFF-4AC2-9F71-BA7010DBA9ED","preconditions":[{"id":22,"preconditions":[{"id":21,"reference":"CMS138PreventiveTobaccoCessation__Numerator_3__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"allTrue"}]},"DENEX_2":{"conjunction?":true,"type":"DENEX","hqmf_id":"64F71C4C-5F42-479C-9EDF-968EBCCFEDE7","preconditions":[{"id":24,"preconditions":[{"id":23,"reference":"CMS138PreventiveTobaccoCessation__Denominator_Exclusion__de1caa81_3a13_4e44_9ff5_a4cc14e9f37b"}],"conjunction_code":"atLeastOneTrue"}]}},"population_sets":[{"_id":"689200b110d20757c0ce037f","population_set_id":"PopulationSet_1","populations":{"DENEX":{"_id":"689200be10d20757c0ce065b","hqmf_id":"D80F9855-5B82-4EAB-97E7-48F7E5E24510","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Denominator Exclusion"},"DENOM":{"_id":"689200be10d20757c0ce065c","hqmf_id":"C13FB76B-61C6-422F-92ED-71D8FFE685FC","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Denominator 1"},"IPP":{"_id":"689200be10d20757c0ce065d","hqmf_id":"AB01AB8C-5200-4C98-94B1-785687A9469F","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Initial Population"},"NUMER":{"_id":"689200be10d20757c0ce065e","hqmf_id":"E3DA4ECF-8EE9-4578-B3EB-D269973F8EFB","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Numerator 1"},"_id":"689200be10d20757c0ce065f","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"689200b110d20757c0ce0373","hqmf_id":"4b2b03de-1232-470e-9800-0d2e0583f3e3","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Payer"},{"_id":"689200b110d20757c0ce0374","hqmf_id":"5a49b026-4bb4-4d4f-9a70-6618ad5595af","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Sex"},{"_id":"689200b110d20757c0ce0375","hqmf_id":"51e1a0b0-68a1-4606-bab9-fb1bda3e4610","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Ethnicity"},{"_id":"689200b110d20757c0ce0376","hqmf_id":"2e10f926-446d-4821-abb2-d44f3d06438e","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Race"}],"title":"Population Criteria Section"},{"_id":"689200b110d20757c0ce0380","population_set_id":"PopulationSet_2","populations":{"DENEX":{"_id":"689200be10d20757c0ce0660","hqmf_id":"D323558D-2C59-476C-A6B9-32E5BCF5D2E8","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Denominator Exclusion"},"DENOM":{"_id":"689200be10d20757c0ce0661","hqmf_id":"5D9336BB-1759-4FB0-ACAD-C944F28ACD10","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Denominator 2"},"IPP":{"_id":"689200be10d20757c0ce0662","hqmf_id":"C508583F-77CE-4004-AC69-13A84B2641D3","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Initial Population"},"NUMER":{"_id":"689200be10d20757c0ce0663","hqmf_id":"21D4794A-1450-4C3D-89AE-A4791DF8FA2A","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Numerator 2"},"_id":"689200be10d20757c0ce0664","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"689200b110d20757c0ce0377","hqmf_id":"67c39afb-6403-4238-ba80-82c3f16789c4","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Payer"},{"_id":"689200b110d20757c0ce0378","hqmf_id":"8aff4dfc-7fd7-4f79-8725-7d62c0412bf9","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Sex"},{"_id":"689200b110d20757c0ce0379","hqmf_id":"f4bf9dfd-6ac9-4b40-9c7b-580f12a8d6a0","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Ethnicity"},{"_id":"689200b110d20757c0ce037a","hqmf_id":"02dd5226-0695-45dd-8f60-7a2d07e5995b","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Race"}],"title":"Population Criteria Section"},{"_id":"689200b110d20757c0ce0381","population_set_id":"PopulationSet_3","populations":{"DENEX":{"_id":"689200be10d20757c0ce0665","hqmf_id":"64F71C4C-5F42-479C-9EDF-968EBCCFEDE7","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Denominator Exclusion"},"DENOM":{"_id":"689200be10d20757c0ce0666","hqmf_id":"5455BCAD-B7A1-4F2E-85FF-EAE0881B7666","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Denominator 3"},"IPP":{"_id":"689200be10d20757c0ce0667","hqmf_id":"D9BEF0F0-26B4-484C-AF92-252622D46734","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Initial Population"},"NUMER":{"_id":"689200be10d20757c0ce0668","hqmf_id":"333A53EF-9CFF-4AC2-9F71-BA7010DBA9ED","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"Numerator 3"},"_id":"689200be10d20757c0ce0669","_type":"CQM::ProportionPopulationMap"},"supplemental_data_elements":[{"_id":"689200b110d20757c0ce037b","hqmf_id":"8003fa94-780e-4456-9b3e-66e30911e214","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Payer"},{"_id":"689200b110d20757c0ce037c","hqmf_id":"9ec2cf73-7a70-48ab-a137-cff7bceb3029","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Sex"},{"_id":"689200b110d20757c0ce037d","hqmf_id":"488eaa87-0734-4141-96c7-5252bf8b658f","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Ethnicity"},{"_id":"689200b110d20757c0ce037e","hqmf_id":"be7714c5-918a-4de6-925e-05ae66cd73f7","library_name":"CMS138PreventiveTobaccoCessation","statement_name":"SDE Race"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":"689200be10d20757c0ce066a","_type":"QDM::PatientCharacteristicSex","codeListId":"2.16.840.1.113762.1.4.1021.121","dataElementCodes":[],"description":"Patient Characteristic Sex: FederalAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":"689200be10d20757c0ce066a","qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.6"},{"_id":"689200be10d20757c0ce066b","_type":"QDM::PatientCharacteristicEthnicity","codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":"689200be10d20757c0ce066b","qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.6"},{"_id":"689200b110d20757c0ce03a8","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.509","dataElementCodes":[],"description":"Intervention, Performed: TobaccoUseCessationCounseling","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"689200b110d20757c0ce03a8","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689200b110d20757c0ce03a9","_type":"QDM::InterventionPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Performed: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":"689200b110d20757c0ce03a9","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null},{"_id":"689200b110d20757c0ce03aa","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1022","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03aa","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03ab","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1023","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesInitialOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03ab","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03ac","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1496","dataElementCodes":[],"description":"Encounter, Performed: PsychVisitPsychotherapy","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03ac","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03ad","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1022","dataElementCodes":[],"description":"Encounter, Performed: PhysicalTherapyEvaluation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03ad","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03ae","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1025","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesEstablishedOfficeVisit18andUp","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03ae","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03af","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1240","dataElementCodes":[],"description":"Encounter, Performed: AnnualWellnessVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03af","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200be10d20757c0ce066c","_type":"QDM::MedicationOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1190","dataElementCodes":[],"daysSupplied":null,"description":"Medication, Order: TobaccoUseCessationPharmacotherapy","dosage":null,"frequency":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.51","id":"689200be10d20757c0ce066c","negationRationale":null,"qdmCategory":"medication","qdmStatus":"order","qdmTitle":"Medication, Order","qdmVersion":"5.6","reason":null,"refills":null,"relatedTo":null,"relevantPeriod":null,"route":null,"setting":null,"supply":null},{"_id":"689200b110d20757c0ce03b0","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1016","dataElementCodes":[],"description":"Encounter, Performed: HomeHealthcareServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b0","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b1","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1011","dataElementCodes":[],"description":"Encounter, Performed: OccupationalTherapyEvaluation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b1","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b2","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1027","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesGroupCounseling","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b2","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b3","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1026","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareServicesIndividualCounseling","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b3","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b4","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1089","dataElementCodes":[],"description":"Encounter, Performed: VirtualEncounter","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b4","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b5","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1492","dataElementCodes":[],"description":"Encounter, Performed: PsychVisitDiagnosticEvaluation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b5","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b6","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1024","dataElementCodes":[],"description":"Encounter, Performed: PreventiveCareEstablishedOfficeVisit0to17","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b6","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b7","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1080","dataElementCodes":[],"description":"Encounter, Performed: TelephoneVisits","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b7","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03b8","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.1006","dataElementCodes":[],"description":"Encounter, Performed: NutritionServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b8","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03c4","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1278","components":null,"dataElementCodes":[],"description":"Assessment, Performed: TobaccoUseScreening","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689200b110d20757c0ce03c4","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689200be10d20757c0ce066d","_type":"QDM::PatientCharacteristicRace","codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":"689200be10d20757c0ce066d","qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.6"},{"_id":"689200b110d20757c0ce03b9","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1285","dataElementCodes":[],"description":"Encounter, Performed: OphthalmologicalServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03b9","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200be10d20757c0ce066e","_type":"QDM::PatientCharacteristicPayer","codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: PayerType","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":"689200be10d20757c0ce066e","qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.6","relevantPeriod":null},{"_id":"689200b110d20757c0ce03ba","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1141","dataElementCodes":[],"description":"Encounter, Performed: Psychoanalysis","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03ba","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200be10d20757c0ce066f","_type":"QDM::InterventionOrder","authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1584","dataElementCodes":[],"description":"Intervention, Order: HospiceCareAmbulatory","hqmfOid":"2.16.840.1.113883.10.20.28.4.35","id":"689200be10d20757c0ce066f","negationRationale":null,"qdmCategory":"intervention","qdmStatus":"order","qdmTitle":"Intervention, Order","qdmVersion":"5.6","reason":null},{"_id":"689200be10d20757c0ce0670","_type":"QDM::MedicationActive","codeListId":"2.16.840.1.113883.3.526.3.1190","dataElementCodes":[],"description":"Medication, Active: TobaccoUseCessationPharmacotherapy","dosage":null,"frequency":null,"hqmfOid":"2.16.840.1.113883.10.20.28.4.44","id":"689200be10d20757c0ce0670","qdmCategory":"medication","qdmStatus":"active","qdmTitle":"Medication, Active","qdmVersion":"5.6","relevantDatetime":null,"relevantPeriod":null,"route":null},{"_id":"689200b110d20757c0ce03c0","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.1165","dataElementCodes":[],"description":"Diagnosis: HospiceDiagnosis","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"689200b110d20757c0ce03c0","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"689200b110d20757c0ce03bb","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.666.5.307","dataElementCodes":[],"description":"Encounter, Performed: EncounterInpatient","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03bb","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03bc","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.1003","dataElementCodes":[],"description":"Encounter, Performed: HospiceEncounter","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03bc","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03bd","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.526.3.1530","dataElementCodes":[],"description":"Encounter, Performed: SpeechandHearingEvaluation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03bd","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03be","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1001","dataElementCodes":[],"description":"Encounter, Performed: OfficeVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03be","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03bf","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-f767452f144ecefb782a3fe90142d8edd82e2a7a22876485fe123b113fffc364","dataElementCodes":[],"description":"Encounter, Performed: Health behavior intervention, individual, face-to-face; initial 30 minutes","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03bf","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03c1","_type":"QDM::Diagnosis","anatomicalLocationSite":null,"authorDatetime":null,"codeListId":"drc-f11519ac5feab8e8b03845bf6c0f355f23e75cf018b74b2c83238b9d8e21abab","dataElementCodes":[],"description":"Diagnosis: Tobacco abuse counseling","hqmfOid":"2.16.840.1.113883.10.20.28.4.110","id":"689200b110d20757c0ce03c1","prevalencePeriod":null,"qdmCategory":"condition","qdmTitle":"Diagnosis","qdmVersion":"5.6","qrdaOid":"2.16.840.1.113883.10.20.24.3.135","severity":null},{"_id":"689200b110d20757c0ce03c2","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-71bb5dc570918294796d5b302c6d30b59a6fb0f1325a8017321ccabcb374be4c","dataElementCodes":[],"description":"Encounter, Performed: Unlisted preventive medicine service","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03c2","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03c3","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-be1de7c3996a7d7b6881521072df8e765609af2a1fa11c0fc6863f8840be4e65","dataElementCodes":[],"description":"Encounter, Performed: Health behavior assessment, or re-assessment (ie, health-focused clinical interview, behavioral observations, clinical decision making)","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03c3","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null},{"_id":"689200b110d20757c0ce03c5","_type":"QDM::AssessmentPerformed","authorDatetime":null,"codeListId":"drc-fba6a4e5f5a529f9af0e0ac4cc9930b15eed11995ff69f544d676472e0b4ea9f","components":null,"dataElementCodes":[],"description":"Assessment, Performed: Hospice care [Minimum Data Set]","hqmfOid":"2.16.840.1.113883.10.20.28.4.117","id":"689200b110d20757c0ce03c5","interpretation":null,"method":null,"negationRationale":null,"qdmCategory":"assessment","qdmStatus":"performed","qdmTitle":"Assessment, Performed","qdmVersion":"5.6","reason":null,"relatedTo":null,"relevantDatetime":null,"relevantPeriod":null,"result":null},{"_id":"689200b110d20757c0ce03c6","_type":"QDM::EncounterPerformed","admissionSource":null,"authorDatetime":null,"clazz":null,"codeListId":"drc-d3d977269efc076642c344a2a896e0ca5e98a831df6a949b02013f5d1b1a6ae7","dataElementCodes":[],"description":"Encounter, Performed: Postoperative follow-up visit, normally included in the surgical package, to indicate that an evaluation and management service was performed during a postoperative period for a reason(s) related to the original procedure","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":"689200b110d20757c0ce03c6","lengthOfStay":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.6","relatedTo":null,"relevantPeriod":null}],"title":"Preventive Care and Screening: Tobacco Use: Screening and Cessation Intervention","updated_at":null,"value_set_ids":["689200b110d20757c0ce03c7","689200b110d20757c0ce03c8","689200b110d20757c0ce03c9","689200b110d20757c0ce03ca","689200b110d20757c0ce03cb","689200b110d20757c0ce03cc","689200b110d20757c0ce03cd","689200b110d20757c0ce03ce","689200b110d20757c0ce03cf","689200be10d20757c0ce0620","689200be10d20757c0ce0621","689200be10d20757c0ce0622","689200be10d20757c0ce0623","689200be10d20757c0ce0624","689200be10d20757c0ce0625","689200be10d20757c0ce0626","689200be10d20757c0ce0627","689200be10d20757c0ce0628","689200be10d20757c0ce0629","689200be10d20757c0ce062a","689200be10d20757c0ce062b","689200be10d20757c0ce062c","689200be10d20757c0ce062d","689200be10d20757c0ce062e","689200be10d20757c0ce062f","689200be10d20757c0ce0630","689200be10d20757c0ce0631","689200be10d20757c0ce0632","689200be10d20757c0ce0633","689200be10d20757c0ce0634","689200be10d20757c0ce0635","689200be10d20757c0ce0636","689200be10d20757c0ce0637","689200be10d20757c0ce0638","689200be10d20757c0ce0639","689200be10d20757c0ce063a","689200be10d20757c0ce063b","689200be10d20757c0ce063c","689200be10d20757c0ce063d","689200be10d20757c0ce063e","689200be10d20757c0ce063f","689200be10d20757c0ce0640","689200be10d20757c0ce0641","689200be10d20757c0ce0642","689200be10d20757c0ce0643"]}